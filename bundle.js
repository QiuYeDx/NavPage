/*! For license information please see bundle.js.LICENSE.txt */
!function(){var e,t,n,r,i={426:function(e,t){"use strict";t.DF={prefix:"far",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32V49.9C119.5 61.4 64 124.2 64 200v33.4c0 45.4-15.5 89.5-43.8 124.9L5.3 377c-5.8 7.2-6.9 17.1-2.9 25.4S14.8 416 24 416H424c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C399.5 322.9 384 278.8 384 233.4V200c0-75.8-55.5-138.6-128-150.1V32c0-17.7-14.3-32-32-32zm0 96h8c57.4 0 104 46.6 104 104v33.4c0 47.9 13.9 94.6 39.7 134.6H72.3C98.1 328 112 281.3 112 233.4V200c0-57.4 46.6-104 104-104h8zm64 352H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z"]},t.qm=t.DF},1746:function(e,t){"use strict";t.DF={prefix:"far",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},t.di=t.DF},1775:function(e,t){"use strict";t.DF={prefix:"far",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z"]},t.fV=t.DF},7780:function(e,t){"use strict";t.DF={prefix:"far",iconName:"circle-dot",icon:[512,512,[128280,"dot-circle"],"f192","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256-96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},t.W3=t.DF},3469:function(e,t){"use strict";t.DF={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},t.SZ=t.DF},8822:function(e,t){"use strict";t.DF={prefix:"far",iconName:"copy",icon:[512,512,[],"f0c5","M448 384H256c-35.3 0-64-28.7-64-64V64c0-35.3 28.7-64 64-64H396.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V320c0 35.3-28.7 64-64 64zM64 128h96v48H64c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16H256c8.8 0 16-7.2 16-16V416h48v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V192c0-35.3 28.7-64 64-64z"]},t.kZ=t.DF},5382:function(e,t){"use strict";t.DF={prefix:"far",iconName:"face-frown",icon:[512,512,[9785,"frown"],"f119","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM174.6 384.1c-4.5 12.5-18.2 18.9-30.7 14.4s-18.9-18.2-14.4-30.7C146.9 319.4 198.9 288 256 288s109.1 31.4 126.6 79.9c4.5 12.5-2 26.2-14.4 30.7s-26.2-2-30.7-14.4C328.2 358.5 297.2 336 256 336s-72.2 22.5-81.4 48.1zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},t.qf=t.DF},959:function(e,t){"use strict";t.DF={prefix:"far",iconName:"face-smile",icon:[512,512,[128578,"smile"],"f118","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm177.6 62.1C192.8 334.5 218.8 352 256 352s63.2-17.5 78.4-33.9c9-9.7 24.2-10.4 33.9-1.4s10.4 24.2 1.4 33.9c-22 23.8-60 49.4-113.6 49.4s-91.7-25.5-113.6-49.4c-9-9.7-8.4-24.9 1.4-33.9s24.9-8.4 33.9 1.4zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},t.pk=t.DF},4495:function(e,t){"use strict";t.DF={prefix:"far",iconName:"flag",icon:[448,512,[127988,61725],"f024","M48 24C48 10.7 37.3 0 24 0S0 10.7 0 24V64 350.5 400v88c0 13.3 10.7 24 24 24s24-10.7 24-24V388l80.3-20.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L48 52V24zm0 77.5l96.6-24.2c27-6.7 55.5-3.6 80.4 8.8c54.9 27.4 118.7 29.7 175 6.8V334.7l-24.4 9.1c-33.7 12.6-71.2 10.7-103.4-5.4c-48.2-24.1-103.3-30.1-155.6-17.1L48 338.5v-237z"]},t.Rr=t.DF},3726:function(e,t){"use strict";t.DF={prefix:"far",iconName:"hand-spock",icon:[576,512,[128406],"f259","M221.7 25.3L215.6 2.1l6.2 23.2zm48.9 28.4l23.2-6.2v0l-23.2 6.2zM193.3 74.3l-23.2 6.2 0 0 23.2-6.2zm46.5 175.3l-22.1 9.3c4.9 11.6 17.9 17.5 29.9 13.4s18.7-16.7 15.4-28.9l-23.2 6.2zm-51-121.1l-22.1 9.3v0l22.1-9.3zm-52.4-21.3l9.3 22.1h0l-9.3-22.1zm-21.3 52.4L93 168.8h0l22.1-9.3zm5.4 144.9l14.7-18.9h0l-14.7 18.9zm-56.1 7l18.9 14.7 0 0L64.4 311.4zm7 56.1L56.7 386.5h0l14.7-18.9zm92 71.6l-14.7 18.9 14.7-18.9zm300.1-48.5l23.3 5.8-23.3-5.8zm55.2-220.9l23.3 5.8-23.3-5.8zm-29.1-48.5l5.8-23.3-5.8 23.3zm-48.5 29.1l23.3 5.8v0l-23.3-5.8zM415 255l23.3 5.8 0 0L415 255zm-2.6-.5l23.6 4.2 0 0-23.6-4.2zM439.4 103l23.6 4.2v0L439.4 103zM407 56.6l-4.2 23.6L407 56.6zM360.6 89L337 84.8 360.6 89zM331.5 252.6l-23.6-4.2 0 0 23.6 4.2zm-8 .3l23.2-6.2 0 0-23.2 6.2zM336 488l.5-24-.5 24zm-157-138L193.8 331l-14.7 18.9zM227.9 48.5c8.5-2.3 17.3 2.8 19.6 11.4l46.4-12.3c-9.1-34.2-44.1-54.5-78.3-45.4l12.3 46.4zM216.5 68.1c-2.3-8.5 2.8-17.3 11.4-19.6L215.6 2.1c-34.2 9.1-54.5 44.1-45.4 78.3l46.4-12.3zM263 243.4L216.5 68.1 170.1 80.4l46.5 175.3L263 243.4zM166.7 137.8l51 121.1L262 240.2 211 119.2l-44.2 18.6zm-21-8.5c8.1-3.4 17.5 .4 21 8.5L211 119.2C197.3 86.6 159.7 71.3 127.2 85l18.6 44.2zm-8.5 21c-3.4-8.1 .4-17.5 8.5-21L127.2 85C94.6 98.7 79.3 136.3 93 168.8l44.2-18.6zm76.2 181l-76.2-181L93 168.8l76.2 181 44.2-18.6zm-107.6-7.8l58.5 45.5L193.8 331l-58.5-45.5-29.5 37.9zm-22.5 2.8c5.4-7 15.5-8.2 22.5-2.8l29.5-37.9c-27.9-21.7-68.1-16.7-89.8 11.2l37.9 29.5zm2.8 22.5c-7-5.4-8.2-15.5-2.8-22.5L45.5 296.7c-21.7 27.9-16.7 68.1 11.2 89.8l29.5-37.9zm92 71.6l-92-71.6L56.7 386.5l92 71.6 29.5-37.9zM305.9 464c-46.3 0-91.2-15.4-127.7-43.8l-29.5 37.9C193.6 493 248.9 512 305.9 512V464zm30.1 0H305.9v48H336V464zm2.8 0c-.8 0-1.5 0-2.3 0l-1 48c1.1 0 2.2 0 3.3 0V464zm101.5-79.2C428.7 431.3 386.8 464 338.8 464v48c70 0 131.1-47.7 148-115.6l-46.6-11.6zm55.2-220.9L440.3 384.8l46.6 11.6 55.2-220.9-46.6-11.6zm-11.6-19.4c8.6 2.1 13.8 10.8 11.6 19.4l46.6 11.6c8.6-34.3-12.3-69-46.6-77.6l-11.6 46.6zm-19.4 11.6c2.1-8.6 10.8-13.8 19.4-11.6l11.6-46.6c-34.3-8.6-69 12.3-77.6 46.6l46.6 11.6zM438.3 260.8l26.2-104.7-46.6-11.6L391.7 249.2l46.6 11.6zM413.7 280c11.6 0 21.7-7.9 24.6-19.2l-46.6-11.6c2.5-10.1 11.6-17.2 22-17.2v48zm-24.9-29.7c-2.8 15.5 9.2 29.7 24.9 29.7V232c14.1 0 24.8 12.8 22.3 26.7l-47.3-8.4zM415.8 98.8L388.8 250.3l47.3 8.4L463 107.2l-47.3-8.4zm-13-18.6c8.7 1.5 14.5 9.9 13 18.6l47.3 8.4c6.2-34.8-17-68-51.8-74.2l-8.4 47.3zm-18.6 13c1.5-8.7 9.9-14.5 18.6-13L411.2 33c-34.8-6.2-68 17-74.2 51.8l47.3 8.4zM355.2 256.8L384.2 93.2 337 84.8 307.9 248.4l47.3 8.4zM327.5 280c13.6 0 25.3-9.8 27.7-23.2l-47.3-8.4c1.7-9.5 9.9-16.4 19.6-16.4v48zm-27.2-20.9c3.3 12.3 14.4 20.9 27.2 20.9V232c9 0 16.9 6.1 19.2 14.8l-46.4 12.3zM247.5 59.9l52.8 199.2 46.4-12.3L293.9 47.6 247.5 59.9zM360 488c0 13.5-11.1 24.3-24.5 24l1-48c-13.5-.3-24.5 10.5-24.5 24h48zm-24 24c13.3 0 24-10.8 24-24H312c0-13.2 10.7-24 24-24v48zM169.2 349.8c-6.4-15.2 11.6-29 24.6-18.8l-29.5 37.9c26 20.2 61.9-7.3 49.1-37.7l-44.2 18.6z"]},t.EF=t.DF},5061:function(e,t){"use strict";t.DF={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"]},t.m6=t.DF},8512:function(e,t){"use strict";t.DF={prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M287.9 0c9.2 0 17.6 5.2 21.6 13.5l68.6 141.3 153.2 22.6c9 1.3 16.5 7.6 19.3 16.3s.5 18.1-5.9 24.5L433.6 328.4l26.2 155.6c1.5 9-2.2 18.1-9.6 23.5s-17.3 6-25.3 1.7l-137-73.2L151 509.1c-8.1 4.3-17.9 3.7-25.3-1.7s-11.2-14.5-9.7-23.5l26.2-155.6L31.1 218.2c-6.5-6.4-8.7-15.9-5.9-24.5s10.3-14.9 19.3-16.3l153.2-22.6L266.3 13.5C270.4 5.2 278.7 0 287.9 0zm0 79L235.4 187.2c-3.5 7.1-10.2 12.1-18.1 13.3L99 217.9 184.9 303c5.5 5.5 8.1 13.3 6.8 21L171.4 443.7l105.2-56.2c7.1-3.8 15.6-3.8 22.6 0l105.2 56.2L384.2 324.1c-1.3-7.7 1.2-15.5 6.8-21l85.9-85.1L358.6 200.5c-7.8-1.2-14.6-6.1-18.1-13.3L287.9 79z"]},t.T=t.DF},7080:function(e,t){"use strict";t.DF={prefix:"far",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M323.8 34.8c-38.2-10.9-78.1 11.2-89 49.4l-5.7 20c-3.7 13-10.4 25-19.5 35l-51.3 56.4c-8.9 9.8-8.2 25 1.6 33.9s25 8.2 33.9-1.6l51.3-56.4c14.1-15.5 24.4-34 30.1-54.1l5.7-20c3.6-12.7 16.9-20.1 29.7-16.5s20.1 16.9 16.5 29.7l-5.7 20c-5.7 19.9-14.7 38.7-26.6 55.5c-5.2 7.3-5.8 16.9-1.7 24.9s12.3 13 21.3 13L448 224c8.8 0 16 7.2 16 16c0 6.8-4.3 12.7-10.4 15c-7.4 2.8-13 9-14.9 16.7s.1 15.8 5.3 21.7c2.5 2.8 4 6.5 4 10.6c0 7.8-5.6 14.3-13 15.7c-8.2 1.6-15.1 7.3-18 15.1s-1.6 16.7 3.6 23.3c2.1 2.7 3.4 6.1 3.4 9.9c0 6.7-4.2 12.6-10.2 14.9c-11.5 4.5-17.7 16.9-14.4 28.8c.4 1.3 .6 2.8 .6 4.3c0 8.8-7.2 16-16 16H286.5c-12.6 0-25-3.7-35.5-10.7l-61.7-41.1c-11-7.4-25.9-4.4-33.3 6.7s-4.4 25.9 6.7 33.3l61.7 41.1c18.4 12.3 40 18.8 62.1 18.8H384c34.7 0 62.9-27.6 64-62c14.6-11.7 24-29.7 24-50c0-4.5-.5-8.8-1.3-13c15.4-11.7 25.3-30.2 25.3-51c0-6.5-1-12.8-2.8-18.7C504.8 273.7 512 257.7 512 240c0-35.3-28.6-64-64-64l-92.3 0c4.7-10.4 8.7-21.2 11.8-32.2l5.7-20c10.9-38.2-11.2-78.1-49.4-89zM32 192c-17.7 0-32 14.3-32 32V448c0 17.7 14.3 32 32 32H96c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32H32z"]},t.u8=t.DF},3183:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},t.yO=t.DF},5346:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},t.ac=t.DF},906:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},t.eF=t.DF},5117:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},t.gP=t.DF},7992:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32V51.2C119 66 64 130.6 64 208v18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416H416c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8V208c0-77.4-55-142-128-156.8V32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},t.qm=t.DF},496:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"blog",icon:[512,512,[],"f781","M192 32c0 17.7 14.3 32 32 32c123.7 0 224 100.3 224 224c0 17.7 14.3 32 32 32s32-14.3 32-32C512 128.9 383.1 0 224 0c-17.7 0-32 14.3-32 32zm0 96c0 17.7 14.3 32 32 32c70.7 0 128 57.3 128 128c0 17.7 14.3 32 32 32s32-14.3 32-32c0-106-86-192-192-192c-17.7 0-32 14.3-32 32zM96 144c0-26.5-21.5-48-48-48S0 117.5 0 144V368c0 79.5 64.5 144 144 144s144-64.5 144-144s-64.5-144-144-144H128v96h16c26.5 0 48 21.5 48 48s-21.5 48-48 48s-48-21.5-48-48V144z"]},t.M_=t.DF},4233:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"camera",icon:[512,512,[62258,"camera-alt"],"f030","M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},t._j=t.DF},8055:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},t.LE=t.DF},1145:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},t.pt=t.DF},2228:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},t.mT=t.DF},7319:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},t.di=t.DF},6686:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},t.fV=t.DF},1303:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"circle-dot",icon:[512,512,[128280,"dot-circle"],"f192","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-352a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},t.W3=t.DF},495:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},t.xH=t.DF},7749:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"circle-half-stroke",icon:[512,512,[9680,"adjust"],"f042","M448 256c0-106-86-192-192-192V448c106 0 192-86 192-192zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},t.Dh=t.DF},6646:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},t.DB=t.DF},213:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},t.EQ=t.DF},3793:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"cloud",icon:[640,512,[9729],"f0c2","M0 336c0 79.5 64.5 144 144 144H512c70.7 0 128-57.3 128-128c0-61.9-44-113.6-102.4-125.4c4.1-10.7 6.4-22.4 6.4-34.6c0-53-43-96-96-96c-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32C167.6 32 96 103.6 96 192c0 2.7 .1 5.4 .2 8.1C40.2 219.8 0 273.2 0 336z"]},t.uM=t.DF},5213:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},t.dT=t.DF},1995:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"code-compare",icon:[512,512,[],"e13a","M320 488c0 9.5-5.6 18.1-14.2 21.9s-18.8 2.3-25.8-4.1l-80-72c-5.1-4.6-7.9-11-7.9-17.8s2.9-13.3 7.9-17.8l80-72c7-6.3 17.2-7.9 25.8-4.1s14.2 12.4 14.2 21.9v40h16c35.3 0 64-28.7 64-64V153.3C371.7 141 352 112.8 352 80c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V320c0 70.7-57.3 128-128 128H320v40zM456 80a24 24 0 1 0 -48 0 24 24 0 1 0 48 0zM192 24c0-9.5 5.6-18.1 14.2-21.9s18.8-2.3 25.8 4.1l80 72c5.1 4.6 7.9 11 7.9 17.8s-2.9 13.3-7.9 17.8l-80 72c-7 6.3-17.2 7.9-25.8 4.1s-14.2-12.4-14.2-21.9V128H176c-35.3 0-64 28.7-64 64V358.7c28.3 12.3 48 40.5 48 73.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V192c0-70.7 57.3-128 128-128h16V24zM56 432a24 24 0 1 0 48 0 24 24 0 1 0 -48 0z"]},t.hQ=t.DF},2909:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M272 0H396.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128H192v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"]},t.kZ=t.DF},396:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"cubes",icon:[576,512,[],"f1b3","M290.8 48.6l78.4 29.7L288 109.5 206.8 78.3l78.4-29.7c1.8-.7 3.8-.7 5.7 0zM136 92.5V204.7c-1.3 .4-2.6 .8-3.9 1.3l-96 36.4C14.4 250.6 0 271.5 0 294.7V413.9c0 22.2 13.1 42.3 33.5 51.3l96 42.2c14.4 6.3 30.7 6.3 45.1 0L288 457.5l113.5 49.9c14.4 6.3 30.7 6.3 45.1 0l96-42.2c20.3-8.9 33.5-29.1 33.5-51.3V294.7c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-1.3-.5-2.6-.9-3.9-1.3V92.5c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-12.8-4.8-26.9-4.8-39.7 0l-96 36.4C150.4 48.4 136 69.3 136 92.5zM392 210.6l-82.4 31.2V152.6L392 121v89.6zM154.8 250.9l78.4 29.7L152 311.7 70.8 280.6l78.4-29.7c1.8-.7 3.8-.7 5.7 0zm18.8 204.4V354.8L256 323.2v95.9l-82.4 36.2zM421.2 250.9c1.8-.7 3.8-.7 5.7 0l78.4 29.7L424 311.7l-81.2-31.1 78.4-29.7zM523.2 421.2l-77.6 34.1V354.8L528 323.2v90.7c0 3.2-1.9 6-4.8 7.3z"]},t.Nk=t.DF},3728:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"]},t.t5=t.DF},6513:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"delete-left",icon:[576,512,[9003,"backspace"],"f55a","M576 128c0-35.3-28.7-64-64-64H205.3c-17 0-33.3 6.7-45.3 18.7L9.4 233.4c-6 6-9.4 14.1-9.4 22.6s3.4 16.6 9.4 22.6L160 429.3c12 12 28.3 18.7 45.3 18.7H512c35.3 0 64-28.7 64-64V128zM271 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},t.bL=t.DF},767:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},t.q7=t.DF},6284:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"]},t.S6=t.DF},1511:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},t.FU=t.DF},4814:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"exclamation",icon:[64,512,[10069,10071,61738],"21","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64V320c0 17.7 14.3 32 32 32s32-14.3 32-32V64zM32 480a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},t.WV=t.DF},446:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},t.Md=t.DF},6427:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},t.Aq=t.DF},4797:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"face-smile",icon:[512,512,[128578,"smile"],"f118","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM164.1 325.5C182 346.2 212.6 368 256 368s74-21.8 91.9-42.5c5.8-6.7 15.9-7.4 22.6-1.6s7.4 15.9 1.6 22.6C349.8 372.1 311.1 400 256 400s-93.8-27.9-116.1-53.5c-5.8-6.7-5.1-16.8 1.6-22.6s16.8-5.1 22.6 1.6zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},t.pk=t.DF},6091:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"feather-pointed",icon:[512,512,["feather-alt"],"f56b","M278.5 215.6L23 471c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l74.8-74.8c7.4 4.6 15.3 8.2 23.8 10.5C200.3 452.8 270 454.5 338 409.4c12.2-8.1 5.8-25.4-8.8-25.4l-16.1 0c-5.1 0-9.2-4.1-9.2-9.2c0-4.1 2.7-7.6 6.5-8.8l97.7-29.3c3.4-1 6.4-3.1 8.4-6.1c4.4-6.4 8.6-12.9 12.6-19.6c6.2-10.3-1.5-23-13.5-23l-38.6 0c-5.1 0-9.2-4.1-9.2-9.2c0-4.1 2.7-7.6 6.5-8.8l80.9-24.3c4.6-1.4 8.4-4.8 10.2-9.3C494.5 163 507.8 86.1 511.9 36.8c.8-9.9-3-19.6-10-26.6s-16.7-10.8-26.6-10C391.5 7 228.5 40.5 137.4 131.6C57.3 211.7 56.7 302.3 71.3 356.4c2.1 7.9 12 9.6 17.8 3.8L253.6 195.8c6.2-6.2 16.4-6.2 22.6 0c5.4 5.4 6.1 13.6 2.2 19.8z"]},t.FQ=t.DF},2148:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"file-export",icon:[576,512,["arrow-right-from-file"],"f56e","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V288H216c-13.3 0-24 10.7-24 24s10.7 24 24 24H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zM384 336V288H494.1l-39-39c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l80 80c9.4 9.4 9.4 24.6 0 33.9l-80 80c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l39-39H384zm0-208H256V0L384 128z"]},t.c=t.DF},6529:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"film",icon:[512,512,[127902],"f008","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM48 368v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H416zM48 240v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16H416zM48 112v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zM416 96c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16H416zM160 128v64c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V128c0-17.7-14.3-32-32-32H192c-17.7 0-32 14.3-32 32zm32 160c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V320c0-17.7-14.3-32-32-32H192z"]},t.Cj=t.DF},821:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"fire",icon:[448,512,[128293],"f06d","M159.3 5.4c7.8-7.3 19.9-7.2 27.7 .1c27.6 25.9 53.5 53.8 77.7 84c11-14.4 23.5-30.1 37-42.9c7.9-7.4 20.1-7.4 28 .1c34.6 33 63.9 76.6 84.5 118c20.3 40.8 33.8 82.5 33.8 111.9C448 404.2 348.2 512 224 512C98.4 512 0 404.1 0 276.5c0-38.4 17.8-85.3 45.4-131.7C73.3 97.7 112.7 48.6 159.3 5.4zM225.7 416c25.3 0 47.7-7 68.8-21c42.1-29.4 53.4-88.2 28.1-134.4c-4.5-9-16-9.6-22.5-2l-25.2 29.3c-6.6 7.6-18.5 7.4-24.7-.5c-16.5-21-46-58.5-62.8-79.8c-6.3-8-18.3-8.1-24.7-.1c-33.8 42.5-50.8 69.3-50.8 99.4C112 375.4 162.6 416 225.7 416z"]},t.Rp=t.DF},6065:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"flag",icon:[448,512,[127988,61725],"f024","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32V64 368 480c0 17.7 14.3 32 32 32s32-14.3 32-32V352l64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L64 48V32z"]},t.Rr=t.DF},1540:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"gauge",icon:[512,512,["dashboard","gauge-med","tachometer-alt-average"],"f624","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm320 96c0-26.9-16.5-49.9-40-59.3V88c0-13.3-10.7-24-24-24s-24 10.7-24 24V292.7c-23.5 9.5-40 32.5-40 59.3c0 35.3 28.7 64 64 64s64-28.7 64-64zM144 176a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm-16 80a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm288 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM400 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},t.Iz=t.DF},2731:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},t.gr=t.DF},6224:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"graduation-cap",icon:[640,512,[127891,"mortar-board"],"f19d","M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9v28.1c0 28.4-10.8 57.7-22.3 80.8c-6.5 13-13.9 25.8-22.5 37.6C0 442.7-.9 448.3 .9 453.4s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7 .3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7C90.3 344.3 86 329.8 80 316.5V291.9c0-30.2 10.2-58.7 27.9-81.5c12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5 .8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1L624.2 182.6c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1C336.1 33.4 328.1 32 320 32zM128 408c0 35.3 86 72 192 72s192-36.7 192-72L496.7 262.6 354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6L143.3 262.6 128 408z"]},t.Xf=t.DF},5845:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"hand-spock",icon:[576,512,[128406],"f259","M246.9 23.7C242.3 6.6 224.8-3.5 207.7 1.1s-27.2 22.1-22.6 39.2L238 237.8c2.5 9.2-4.5 18.2-14 18.2c-6.4 0-12-4.2-13.9-10.3L166.6 102.7c-5.1-16.9-23-26.4-39.9-21.3s-26.4 23-21.3 39.9l62.8 206.4c2.4 7.9-7.2 13.8-13.2 8.1L99.6 283c-16-15.2-41.3-14.6-56.6 1.4s-14.6 41.3 1.4 56.6L156.8 448c43.1 41.1 100.4 64 160 64h10.9 8.2c.1 0 .1-.1 .1-.1s.1-.1 .1-.1c58.3-3.5 108.6-43.2 125.3-99.7l81.2-275c5-16.9-4.7-34.7-21.6-39.8s-34.7 4.7-39.8 21.6L443.5 247.1c-1.6 5.3-6.4 8.9-12 8.9c-7.9 0-13.8-7.3-12.2-15.1l36-170.3c3.7-17.3-7.4-34.3-24.7-37.9s-34.3 7.4-37.9 24.7L355.1 235.1c-2.6 12.2-13.3 20.9-25.8 20.9c-11.9 0-22.4-8-25.4-19.5l-57-212.8z"]},t.EF=t.DF},2512:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},t.m6=t.DF},9036:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},t.wp=t.DF},8076:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},t.Vm=t.DF},8099:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"info",icon:[192,512,[],"f129","M48 80a48 48 0 1 1 96 0A48 48 0 1 1 48 80zM0 224c0-17.7 14.3-32 32-32H96c17.7 0 32 14.3 32 32V448h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H64V256H32c-17.7 0-32-14.3-32-32z"]},t.YH=t.DF},8371:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"keyboard",icon:[576,512,[9e3],"f11c","M64 64C28.7 64 0 92.7 0 128V384c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H64zm16 64h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16zM64 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V240zm16 80h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V336c0-8.8 7.2-16 16-16zm80-176c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V144zm16 80h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V240c0-8.8 7.2-16 16-16zM160 336c0-8.8 7.2-16 16-16H400c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V336zM272 128h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H272c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16zM256 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H272c-8.8 0-16-7.2-16-16V240zM368 128h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H368c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16zM352 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H368c-8.8 0-16-7.2-16-16V240zM464 128h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H464c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16zM448 240c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H464c-8.8 0-16-7.2-16-16V240zm16 80h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16H464c-8.8 0-16-7.2-16-16V336c0-8.8 7.2-16 16-16z"]},t.UF=t.DF},2817:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"layer-group",icon:[576,512,[],"f5fd","M264.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 149.8C37.4 145.8 32 137.3 32 128s5.4-17.9 13.9-21.8L264.5 5.2zM476.9 209.6l53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 277.8C37.4 273.8 32 265.3 32 256s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0l152-70.2zm-152 198.2l152-70.2 53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 405.8C37.4 401.8 32 393.3 32 384s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0z"]},t.Kr=t.DF},5386:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},t.nN=t.DF},2679:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M64 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm48-208a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"]},t.gf=t.DF},7982:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},t.Y$=t.DF},2740:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"mars",icon:[448,512,[9794],"f222","M289.8 46.8c3.7-9 12.5-14.8 22.2-14.8H424c13.3 0 24 10.7 24 24V168c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-33.4-33.4L321 204.2c19.5 28.4 31 62.7 31 99.8c0 97.2-78.8 176-176 176S0 401.2 0 304s78.8-176 176-176c37 0 71.4 11.4 99.8 31l52.6-52.6L295 73c-6.9-6.9-8.9-17.2-5.2-26.2zM400 80l0 0h0v0zM176 416a112 112 0 1 0 0-224 112 112 0 1 0 0 224z"]},t.Ac=t.DF},4018:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"moon",icon:[384,512,[127769,9214],"f186","M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"]},t.DB=t.DF},102:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"palette",icon:[512,512,[127912],"f53f","M512 256c0 .9 0 1.8 0 2.7c-.4 36.5-33.6 61.3-70.1 61.3H344c-26.5 0-48 21.5-48 48c0 3.4 .4 6.7 1 9.9c2.1 10.2 6.5 20 10.8 29.9c6.1 13.8 12.1 27.5 12.1 42c0 31.8-21.6 60.7-53.4 62c-3.5 .1-7 .2-10.6 .2C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-96a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM288 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 96a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"]},t.q2=t.DF},7310:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"]},t.XC=t.DF},753:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},t.zc=t.DF},5859:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"qrcode",icon:[448,512,[],"f029","M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80zM64 96v64h64V96H64zM0 336c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V336zm64 16v64h64V352H64zM304 32h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H304c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48zm80 64H320v64h64V96zM256 304c0-8.8 7.2-16 16-16h64c8.8 0 16 7.2 16 16s7.2 16 16 16h32c8.8 0 16-7.2 16-16s7.2-16 16-16s16 7.2 16 16v96c0 8.8-7.2 16-16 16H368c-8.8 0-16-7.2-16-16s-7.2-16-16-16s-16 7.2-16 16v64c0 8.8-7.2 16-16 16H272c-8.8 0-16-7.2-16-16V304zM368 480a16 16 0 1 1 0-32 16 16 0 1 1 0 32zm64 0a16 16 0 1 1 0-32 16 16 0 1 1 0 32z"]},t.rt=t.DF},5502:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"quote-left",icon:[448,512,[8220,"quote-left-alt"],"f10d","M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V320 288 216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H320c-35.3 0-64-28.7-64-64V320 288 216z"]},t.y1=t.DF},195:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"quote-right",icon:[448,512,[8221,"quote-right-alt"],"f10e","M448 296c0 66.3-53.7 120-120 120h-8c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H320c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72zm-256 0c0 66.3-53.7 120-120 120H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H64c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72z"]},t.El=t.DF},4272:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"screwdriver-wrench",icon:[512,512,["tools"],"f7d9","M78.6 5C69.1-2.4 55.6-1.5 47 7L7 47c-8.5 8.5-9.4 22-2.1 31.6l80 104c4.5 5.9 11.6 9.4 19 9.4h54.1l109 109c-14.7 29-10 65.4 14.3 89.6l112 112c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-112-112c-24.2-24.2-60.6-29-89.6-14.3l-109-109V104c0-7.5-3.5-14.5-9.4-19L78.6 5zM19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L233.7 374.3c-7.8-20.9-9-43.6-3.6-65.1l-61.7-61.7L19.9 396.1zM512 144c0-10.5-1.1-20.7-3.2-30.5c-2.4-11.2-16.1-14.1-24.2-6l-63.9 63.9c-3 3-7.1 4.7-11.3 4.7H352c-8.8 0-16-7.2-16-16V102.6c0-4.2 1.7-8.3 4.7-11.3l63.9-63.9c8.1-8.1 5.2-21.8-6-24.2C388.7 1.1 378.5 0 368 0C288.5 0 224 64.5 224 144l0 .8 85.3 85.3c36-9.1 75.8 .5 104 28.7L429 274.5c49-23 83-72.8 83-130.5zM56 432a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},t.eD=t.DF},9986:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"server",icon:[512,512,[],"f233","M64 32C28.7 32 0 60.7 0 96v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm48 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V352c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},t.xf=t.DF},2332:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},t.LM=t.DF},3461:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},t.T=t.DF},1382:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"street-view",icon:[512,512,[],"f21d","M320 64A64 64 0 1 0 192 64a64 64 0 1 0 128 0zm-96 96c-35.3 0-64 28.7-64 64v48c0 17.7 14.3 32 32 32h1.8l11.1 99.5c1.8 16.2 15.5 28.5 31.8 28.5h38.7c16.3 0 30-12.3 31.8-28.5L318.2 304H320c17.7 0 32-14.3 32-32V224c0-35.3-28.7-64-64-64H224zM132.3 394.2c13-2.4 21.7-14.9 19.3-27.9s-14.9-21.7-27.9-19.3c-32.4 5.9-60.9 14.2-82 24.8c-10.5 5.3-20.3 11.7-27.8 19.6C6.4 399.5 0 410.5 0 424c0 21.4 15.5 36.1 29.1 45c14.7 9.6 34.3 17.3 56.4 23.4C130.2 504.7 190.4 512 256 512s125.8-7.3 170.4-19.6c22.1-6.1 41.8-13.8 56.4-23.4c13.7-8.9 29.1-23.6 29.1-45c0-13.5-6.4-24.5-14-32.6c-7.5-7.9-17.3-14.3-27.8-19.6c-21-10.6-49.5-18.9-82-24.8c-13-2.4-25.5 6.3-27.9 19.3s6.3 25.5 19.3 27.9c30.2 5.5 53.7 12.8 69 20.5c3.2 1.6 5.8 3.1 7.9 4.5c3.6 2.4 3.6 7.2 0 9.6c-8.8 5.7-23.1 11.8-43 17.3C374.3 457 318.5 464 256 464s-118.3-7-157.7-17.9c-19.9-5.5-34.2-11.6-43-17.3c-3.6-2.4-3.6-7.2 0-9.6c2.1-1.4 4.8-2.9 7.9-4.5c15.3-7.7 38.8-14.9 69-20.5z"]},t.L5=t.DF},2291:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"sun",icon:[512,512,[9728],"f185","M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},t.en=t.DF},9895:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"]},t.u8=t.DF},7879:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},t.IL=t.DF},7709:function(e,t){"use strict";t.DF={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},t.g8=t.DF},6485:function(e){e.exports=function(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).catch((function(e){throw void 0!==e?e:new DOMException("The request is not allowed","NotAllowedError")}));var t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);var n=window.getSelection(),r=window.document.createRange();n.removeAllRanges(),r.selectNode(t),n.addRange(r);var i=!1;try{i=window.document.execCommand("copy")}catch(e){console.log("error",e)}return n.removeAllRanges(),window.document.body.removeChild(t),i?Promise.resolve():Promise.reject(new DOMException("The request is not allowed","NotAllowedError"))}},9087:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,".App {\n  text-align: center;\n}\n\n.App-logo {\n  height: 40vmin;\n  pointer-events: none;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  .App-logo {\n    animation: App-logo-spin infinite 20s linear;\n  }\n}\n\n.App-header {\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n}\n\n.App-link {\n  color: #61dafb;\n}\n\n@keyframes App-logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n",""]),t.Z=o},1424:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),a=n(3645),o=n.n(a)()(i());o.push([e.id,"body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n\na:focus,\ninput:focus,\np:focus,\ndiv:focus{\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n",""]),t.Z=o},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&o[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},8081:function(e){"use strict";e.exports=function(e){return e[1]}},3162:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,n,o){var s=a.URL||a.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):r(l.href)?t(e,n,o):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,a),n);else if(r(e))t(e,n,a);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){i(o)}))}}:function(e,n,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var h=a.URL||a.webkitURL,d=h.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});a.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,[]):r)||(e.exports=i)},8679:function(e,t,n){"use strict";var r=n(1296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=u(n);h&&(o=o.concat(h(n)));for(var s=l(t),m=l(n),g=0;g<o.length;++g){var v=o[g];if(!(a[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=d(n,v);try{c(t,v,y)}catch(e){}}}}return t}},6103:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function _(e){return x(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return _(e)||x(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===s||e===o||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===w||e.$$typeof===b||e.$$typeof===v)},t.typeOf=x},1296:function(e,t,n){"use strict";e.exports=n(6103)},2703:function(e,t,n){"use strict";var r=n(414);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1162:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy");Symbol.for("react.offscreen");function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case h:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case u:case p:case f:case s:return e;default:return t}}case r:return t}}}Symbol.for("react.module.reference"),t.isFragment=function(e){return m(e)===i},t.isMemo=function(e){return m(e)===f}},1805:function(e,t,n){"use strict";e.exports=n(1162)},4448:function(e,t,n){"use strict";var r=n(7294),i=n(3840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var N,z=Object.assign;function B(e){if(void 0===N)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function j(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 1:return U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case C:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return V(e(t))}catch(e){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Ee=null;function Ce(e){if(e=gi(e)){if("function"!=typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=yi(t),_e(e.stateNode,e.type,t))}}function Ae(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Me(e,t){return e(t)}function Pe(){}var De=!1;function ke(e,t,n){if(De)return e(t,n);De=!0;try{return Me(e,t,n)}finally{De=!1,(null!==Se||null!==Ee)&&(Pe(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Ie=!1}function Le(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ne=!1,ze=null,Be=!1,Fe=null,Ue={onError:function(e){Ne=!0,ze=e}};function je(e,t,n,r,i,a,o,s,l){Ne=!1,ze=null,Le.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ge(e){if(Ve(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Ze=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null,ot=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!=(a&=o)&&(r=ht(a))}else 0!=(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0==(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var xt,_t,St,Et,Ct,At=!1,Tt=[],Mt=null,Pt=null,Dt=null,kt=new Map,Ot=new Map,It=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Nt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=gi(t))&&_t(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=mi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=gi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Ut(){At=!1,null!==Mt&&Bt(Mt)&&(Mt=null),null!==Pt&&Bt(Pt)&&(Pt=null),null!==Dt&&Bt(Dt)&&(Dt=null),kt.forEach(Ft),Ot.forEach(Ft)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return jt(t,e)}if(0<Tt.length){jt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&jt(Mt,e),null!==Pt&&jt(Pt,e),null!==Dt&&jt(Dt,e),kt.forEach(t),Ot.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)zt(n),null===n.blockedOn&&It.shift()}var Ht=b.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var i=wt,a=Ht.transition;Ht.transition=null;try{wt=1,Xt(e,t,n,r)}finally{wt=i,Ht.transition=a}}function qt(e,t,n,r){var i=wt,a=Ht.transition;Ht.transition=null;try{wt=4,Xt(e,t,n,r)}finally{wt=i,Ht.transition=a}}function Xt(e,t,n,r){if(Gt){var i=Qt(e,t,n,r);if(null===i)jr(e,t,r,Yt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=Nt(Mt,e,t,n,r,i),!0;case"dragenter":return Pt=Nt(Pt,e,t,n,r,i),!0;case"mouseover":return Dt=Nt(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return kt.set(a,Nt(kt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Nt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=gi(i);if(null!==a&&xt(a),null===(a=Qt(e,t,n,r))&&jr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else jr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=mi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),hn=z({},cn,{view:0,detail:0}),dn=an(hn),fn=z({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(z({},fn,{dataTransfer:0})),gn=an(z({},hn,{relatedTarget:0})),vn=an(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=an(z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=an(z({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var Cn=an(z({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=an(z({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(z({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Mn=an(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=an(z({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Dn=[9,13,27,32],kn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var In=u&&"TextEvent"in window&&!On,Rn=u&&(!kn||On&&8<On&&11>=On),Ln=String.fromCharCode(32),Nn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1,Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Vn(e,t,n,r){Ae(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Wn(e){Lr(e,0)}function qn(e){if(X(vi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Qn;if(u){var Kn="oninput"in document;if(!Kn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Kn="function"==typeof Zn.oninput}Qn=Kn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function Jn(){Hn&&(Hn.detachEvent("onpropertychange",$n),Gn=Hn=null)}function $n(e){if("value"===e.propertyName&&qn(Gn)){var t=[];Vn(t,Gn,e,xe(e)),ke(Wn,t)}}function er(e,t,n){"focusin"===e?(Jn(),Gn=n,(Hn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Jn()}function tr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Gn)}function nr(e,t){if("click"===e)return qn(t)}function rr(e,t){if("input"===e||"change"===e)return qn(t)}var ir="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ar(e,t){if(ir(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ir(e[i],t[i]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function lr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?lr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=cr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lr(n.ownerDocument.documentElement,n)){if(null!==r&&ur(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=u&&"documentMode"in document&&11>=document.documentMode,fr=null,pr=null,mr=null,gr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;gr||null==fr||fr!==Y(r)||(r="selectionStart"in(r=fr)&&ur(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ar(mr,r)||(mr=r,0<(r=Hr(pr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},br={},xr={};function _r(e){if(br[e])return br[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return br[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=_r("animationend"),Er=_r("animationiteration"),Cr=_r("animationstart"),Ar=_r("transitionend"),Tr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Tr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Mr.length;Dr++){var kr=Mr[Dr];Pr(kr.toLowerCase(),"on"+(kr[0].toUpperCase()+kr.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Er,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(je.apply(this,arguments),Ne){if(!Ne)throw Error(a(198));var u=ze;Ne=!1,ze=null,Be||(Be=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Rr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Rr(i,s,c),a=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Nr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ir.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Kt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var a=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=mi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}ke((function(){var r=a,i=xe(n),o=[];e:{var s=Tr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Sr:case Er:case Cr:l=vn;break;case Ar:l=Mn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!=(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=Oe(p,d))&&u.push(Vr(p,m,f))),h)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[hi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:vi(l),f=null==c?s:vi(c),(s=new u(m,p+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,mi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Wr(o,s,l,u,!1),null!==c&&null!==h&&Wr(o,h,c,u,!0)}if("select"===(l=(s=r?vi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Xn;else if(jn(s))if(Yn)g=rr;else{g=tr;var v=er}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=nr);switch(g&&(g=g(e,r))?Vn(o,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?vi(r):window,e){case"focusin":(jn(v)||"true"===v.contentEditable)&&(fr=v,pr=r,mr=null);break;case"focusout":mr=pr=fr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":gr=!1,vr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":vr(o,n,i)}var y;if(kn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Fn?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Rn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Fn&&(y=en()):(Jt="value"in(Zt=i)?Zt.value:Zt.textContent,Fn=!0)),0<(v=Hr(r,w)).length&&(w=new wn(w,e,null,n,i),o.push({event:w,listeners:v}),(y||null!==(y=Bn(n)))&&(w.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!kn&&zn(e,t)?(e=en(),$t=Jt=Zt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y)}Lr(o,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Vr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Vr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Oe(n,a))&&o.unshift(Vr(n,l,s)):i||null!=(l=Oe(n,a))&&o.push(Vr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"==typeof e?e:""+e).replace(qr,"\n").replace(Xr,"")}function Qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Kr(){}var Zr=null,Jr=null;function $r(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"==typeof setTimeout?setTimeout:void 0,ti="function"==typeof clearTimeout?clearTimeout:void 0,ni="function"==typeof Promise?Promise:void 0,ri="function"==typeof queueMicrotask?queueMicrotask:void 0!==ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function si(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),ci="__reactFiber$"+li,ui="__reactProps$"+li,hi="__reactContainer$"+li,di="__reactEvents$"+li,fi="__reactListeners$"+li,pi="__reactHandles$"+li;function mi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=si(e);null!==e;){if(n=e[ci])return n;e=si(e)}return t}n=(e=n).parentNode}return null}function gi(e){return!(e=e[ci]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function yi(e){return e[ui]||null}var wi=[],bi=-1;function xi(e){return{current:e}}function _i(e){0>bi||(e.current=wi[bi],wi[bi]=null,bi--)}function Si(e,t){bi++,wi[bi]=e.current,e.current=t}var Ei={},Ci=xi(Ei),Ai=xi(!1),Ti=Ei;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!=e.childContextTypes}function Di(){_i(Ai),_i(Ci)}function ki(e,t,n){if(Ci.current!==Ei)throw Error(a(168));Si(Ci,t),Si(Ai,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return z({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ti=Ci.current,Si(Ci,e),Si(Ai,Ai.current),!0}function Ri(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,_i(Ai),_i(Ci),Si(Ci,e)):_i(Ai),Si(Ai,n)}var Li=null,Ni=!1,zi=!1;function Bi(e){null===Li?Li=[e]:Li.push(e)}function Fi(){if(!zi&&null!==Li){zi=!0;var e=0,t=wt;try{var n=Li;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Ni=!1}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Xe($e,Fi),t}finally{wt=t,zi=!1}}return null}var Ui=[],ji=0,Vi=null,Hi=0,Gi=[],Wi=0,qi=null,Xi=1,Yi="";function Qi(e,t){Ui[ji++]=Hi,Ui[ji++]=Vi,Vi=e,Hi=t}function Ki(e,t,n){Gi[Wi++]=Xi,Gi[Wi++]=Yi,Gi[Wi++]=qi,qi=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function Zi(e){null!==e.return&&(Qi(e,1),Ki(e,1,0))}function Ji(e){for(;e===Vi;)Vi=Ui[--ji],Ui[ji]=null,Hi=Ui[--ji],Ui[ji]=null;for(;e===qi;)qi=Gi[--Wi],Gi[Wi]=null,Yi=Gi[--Wi],Gi[Wi]=null,Xi=Gi[--Wi],Gi[Wi]=null}var $i=null,ea=null,ta=!1,na=null;function ra(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,$i=e,ea=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,$i=e,ea=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qi?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,$i=e,ea=null,!0);default:return!1}}function aa(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function oa(e){if(ta){var t=ea;if(t){var n=t;if(!ia(e,t)){if(aa(e))throw Error(a(418));t=oi(n.nextSibling);var r=$i;t&&ia(e,t)?ra(r,n):(e.flags=-4097&e.flags|2,ta=!1,$i=e)}}else{if(aa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ta=!1,$i=e}}}function sa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;$i=e}function la(e){if(e!==$i)return!1;if(!ta)return sa(e),ta=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!$r(e.type,e.memoizedProps)),t&&(t=ea)){if(aa(e))throw ca(),Error(a(418));for(;t;)ra(e,t),t=oi(t.nextSibling)}if(sa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ea=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ea=null}}else ea=$i?oi(e.stateNode.nextSibling):null;return!0}function ca(){for(var e=ea;e;)e=oi(e.nextSibling)}function ua(){ea=$i=null,ta=!1}function ha(e){null===na?na=[e]:na.push(e)}var da=b.ReactCurrentBatchConfig;function fa(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var pa=xi(null),ma=null,ga=null,va=null;function ya(){va=ga=ma=null}function wa(e){var t=pa.current;_i(pa),e._currentValue=t}function ba(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){ma=e,va=ga=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(vs=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(va!==e)if(e={context:e,memoizedValue:t,next:null},null===ga){if(null===ma)throw Error(a(308));ga=e,ma.dependencies={lanes:0,firstContext:e}}else ga=ga.next=e;return t}var Sa=null;function Ea(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ea(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ta=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ka(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ea(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ra(e,t,n,r){var i=e.updateQueue;Ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(o=0,u=c=l=null,s=a;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=z({},h,d);break e;case 2:Ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=h}}function La(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var Na=(new r.Component).refs;function za(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Jl(),i=$l(e),a=Da(r,i);a.payload=t,null!=n&&(a.callback=n),null!==(t=ka(e,a,i))&&(ec(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Jl(),i=$l(e),a=Da(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=ka(e,a,i))&&(ec(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Jl(),r=$l(e),i=Da(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=ka(e,i,r))&&(ec(t,e,r,n),Oa(t,e,r))}};function Fa(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!(t.prototype&&t.prototype.isPureReactComponent&&ar(n,r)&&ar(i,a))}function Ua(e,t,n){var r=!1,i=Ei,a=t.contextType;return"object"==typeof a&&null!==a?a=_a(a):(i=Pi(t)?Ti:Ci.current,a=(r=null!=(r=t.contextTypes))?Mi(e,i):Ei),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ja(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Na,Ma(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=_a(a):(a=Pi(t)?Ti:Ci.current,i.context=Mi(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ra(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Na&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=kc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===O&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case _:return(t=Nc(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ic(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,s[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===s.length)return n(i,h),ta&&Qi(i,m),c;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],l))&&(a=o(h,a,m),null===u?c=h:u.sibling=h,u=h);return ta&&Qi(i,m),c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),ta&&Qi(i,m),c}function g(i,s,l,c){var u=L(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),s=o(w,s,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),ta&&Qi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return ta&&Qi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),ta&&Qi(i,g),u}return function e(r,a,o,l){if("object"==typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===O&&Wa(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=Ha(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((a=Ic(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Oc(o.type,o.key,o.props,null,r.mode,l)).ref=Ha(r,a,o),l.return=r,r=l)}return s(r);case _:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Nc(o,r.mode,l)).return=r,r=a}return s(r);case O:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(L(o))return g(r,a,o,l);Ga(r,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Xa=qa(!0),Ya=qa(!1),Qa={},Ka=xi(Qa),Za=xi(Qa),Ja=xi(Qa);function $a(e){if(e===Qa)throw Error(a(174));return e}function eo(e,t){switch(Si(Ja,t),Si(Za,e),Si(Ka,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ka),Si(Ka,t)}function to(){_i(Ka),_i(Za),_i(Ja)}function no(e){$a(Ja.current);var t=$a(Ka.current),n=le(t,e.type);t!==n&&(Si(Za,e),Si(Ka,n))}function ro(e){Za.current===e&&(_i(Ka),_i(Za))}var io=xi(0);function ao(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oo=[];function so(){for(var e=0;e<oo.length;e++)oo[e]._workInProgressVersionPrimary=null;oo.length=0}var lo=b.ReactCurrentDispatcher,co=b.ReactCurrentBatchConfig,uo=0,ho=null,fo=null,po=null,mo=!1,go=!1,vo=0,yo=0;function wo(){throw Error(a(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(uo=o,ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lo.current=null===e||null===e.memoizedState?is:as,e=n(r,i),go){o=0;do{if(go=!1,vo=0,25<=o)throw Error(a(301));o+=1,po=fo=null,t.updateQueue=null,lo.current=os,e=n(r,i)}while(go)}if(lo.current=rs,t=null!==fo&&null!==fo.next,uo=0,po=fo=ho=null,mo=!1,t)throw Error(a(300));return e}function _o(){var e=0!==vo;return vo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===po?ho.memoizedState=po=e:po=po.next=e,po}function Eo(){if(null===fo){var e=ho.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===po?ho.memoizedState:po.next;if(null!==t)po=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===po?ho.memoizedState=po=e:po=po.next=e}return po}function Co(e,t){return"function"==typeof t?t(e):t}function Ao(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var h=u.lane;if((uo&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=r):c=c.next=d,ho.lanes|=h,Rl|=h}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,ir(r,t.memoizedState)||(vs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,ho.lanes|=o,Rl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ir(o,t.memoizedState)||(vs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mo(){}function Po(e,t){var n=ho,r=Eo(),i=t(),o=!ir(r.memoizedState,i);if(o&&(r.memoizedState=i,vs=!0),r=r.queue,jo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==po&&1&po.memoizedState.tag){if(n.flags|=2048,No(9,ko.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(a(349));0!=(30&uo)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&Ro(e)}function Oo(e,t,n){return n((function(){Io(t)&&Ro(e)}))}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(e){return!0}}function Ro(e){var t=Aa(e,1);null!==t&&ec(t,e,1,-1)}function Lo(e){var t=So();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=$o.bind(null,ho,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return Eo().memoizedState}function Bo(e,t,n,r){var i=So();ho.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&bo(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}ho.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Uo(e,t){return Bo(8390656,8,e,t)}function jo(e,t){return Fo(2048,8,e,t)}function Vo(e,t){return Fo(4,2,e,t)}function Ho(e,t){return Fo(4,4,e,t)}function Go(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!=n?n.concat([e]):null,Fo(4,4,Go.bind(null,t,e),n)}function qo(){}function Xo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0==(21&uo)?(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n):(ir(n,t)||(n=mt(),ho.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ko(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=co.transition;co.transition={};try{e(!1),t()}finally{wt=n,co.transition=r}}function Zo(){return Eo().memoizedState}function Jo(e,t,n){var r=$l(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},es(e)?ts(t,n):null!==(n=Ca(e,t,n,r))&&(ec(n,e,r,Jl()),ns(n,t,r))}function $o(e,t,n){var r=$l(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(es(e))ts(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ir(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ea(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Ca(e,t,i,r))&&(ec(n,e,r,i=Jl()),ns(n,t,r))}}function es(e){var t=e.alternate;return e===ho||null!==t&&t===ho}function ts(e,t){go=mo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ns(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var rs={readContext:_a,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},is={readContext:_a,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jo.bind(null,ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Lo,useDebugValue:qo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Lo(!1),t=e[0];return e=Ko.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ho,i=So();if(ta){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tl)throw Error(a(349));0!=(30&uo)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,No(9,ko.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Tl.identifierPrefix;if(ta){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=vo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},as={readContext:_a,useCallback:Xo,useContext:_a,useEffect:jo,useImperativeHandle:Wo,useInsertionEffect:Vo,useLayoutEffect:Ho,useMemo:Yo,useReducer:Ao,useRef:zo,useState:function(){return Ao(Co)},useDebugValue:qo,useDeferredValue:function(e){return Qo(Eo(),fo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Eo().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Po,useId:Zo,unstable_isNewReconciler:!1},os={readContext:_a,useCallback:Xo,useContext:_a,useEffect:jo,useImperativeHandle:Wo,useInsertionEffect:Vo,useLayoutEffect:Ho,useMemo:Yo,useReducer:To,useRef:zo,useState:function(){return To(Co)},useDebugValue:qo,useDeferredValue:function(e){var t=Eo();return null===fo?t.memoizedState=e:Qo(t,fo.memoizedState,e)},useTransition:function(){return[To(Co)[0],Eo().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Po,useId:Zo,unstable_isNewReconciler:!1};function ss(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ls(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function cs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var us="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Hl=r),cs(0,t)},n}function ds(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){cs(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){cs(0,t),"function"!=typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new us;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ps(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,ka(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var gs=b.ReactCurrentOwner,vs=!1;function ys(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return xa(t,i),r=xo(e,t,n,r,a,i),n=_o(),null===e||vs?(ta&&n&&Zi(t),t.flags|=1,ys(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function bs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xs(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(o,r)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,(e=kc(a,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ar(a,r)&&e.ref===t.ref){if(vs=!1,t.pendingProps=r=a,0==(e.lanes&i))return t.lanes=e.lanes,Vs(e,t,i);0!=(131072&e.flags)&&(vs=!0)}}return Es(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(kl,Dl),Dl|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(kl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(kl,Dl),Dl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(kl,Dl),Dl|=r;return ys(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var a=Pi(n)?Ti:Ci.current;return a=Mi(t,a),xa(t,i),n=xo(e,t,n,r,a,i),r=_o(),null===e||vs?(ta&&r&&Zi(t),t.flags|=1,ys(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function Cs(e,t,n,r,i){if(Pi(n)){var a=!0;Ii(t)}else a=!1;if(xa(t,i),null===t.stateNode)js(e,t),Ua(t,n,r),Va(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;c="object"==typeof c&&null!==c?_a(c):Mi(t,c=Pi(n)?Ti:Ci.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ja(t,o,r,c),Ta=!1;var d=t.memoizedState;o.state=d,Ra(t,r,o,i),l=t.memoizedState,s!==r||d!==l||Ai.current||Ta?("function"==typeof u&&(za(t,n,u,r),l=t.memoizedState),(s=Ta||Fa(t,n,s,r,d,l,c))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:fa(t.type,s),o.props=c,h=t.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?_a(l):Mi(t,l=Pi(n)?Ti:Ci.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==h||d!==l)&&ja(t,o,r,l),Ta=!1,d=t.memoizedState,o.state=d,Ra(t,r,o,i);var p=t.memoizedState;s!==h||d!==p||Ai.current||Ta?("function"==typeof f&&(za(t,n,f,r),p=t.memoizedState),(c=Ta||Fa(t,n,c,r,d,p,l)||!1)?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Ss(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&Ri(t,n,!1),Vs(e,t,a);r=t.stateNode,gs.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ys(e,t,s,a),t.memoizedState=r.state,i&&Ri(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),eo(e,t.containerInfo)}function Ms(e,t,n,r,i){return ua(),ha(i),t.flags|=256,ys(e,t,n,r),t.child}var Ps,Ds,ks,Os,Is={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,o=io.current,s=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(io,1&o),null===e)return oa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,i,0,null),e=Ic(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Is,e):Ns(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=ls(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(o=Ic(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!=(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Is,o);if(0==(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=ls(o=Error(a(419)),r,void 0))}if(l=0!=(s&e.childLanes),vs||l){if(null!==(r=Tl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),ec(r,e,i,-1))}return fc(),zs(e,t,s,r=ls(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ea=oi(i.nextSibling),$i=t,ta=!0,na=null,null!==e&&(Gi[Wi++]=Xi,Gi[Wi++]=Yi,Gi[Wi++]=qi,Xi=e.id,Yi=e.overflow,qi=t),(t=Ns(t,r.children)).flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0==(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=kc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=kc(r,s):(s=Ic(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Is,i}return e=(s=e.child).sibling,i=kc(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ns(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&ha(r),Xa(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ba(e.return,t,n)}function Fs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ys(e,t,r.children,n),0!=(2&(r=io.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(io,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ao(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ao(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fs(t,!0,n,null,a);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=kc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=kc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ta)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var r=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Pi(t.type)&&Di(),Gs(t),null;case 3:return r=t.stateNode,to(),_i(Ai),_i(Ci),so(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(la(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==na&&(ic(na),na=null))),Ds(e,t),Gs(t),null;case 5:ro(t);var i=$a(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)ks(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=$a(Ka.current),la(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[ui]=o,e=0!=(1&t.mode),n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Nr(Or[i],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":K(r,o),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Nr("invalid",r);break;case"textarea":ie(r,o),Nr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Nr("scroll",r)}switch(n){case"input":q(r),$(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Kr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ci]=t,e[ui]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),i=r;break;case"iframe":case"object":case"embed":Nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Nr(Or[i],e);i=r;break;case"source":Nr("error",e),i=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),i=r;break;case"details":Nr("toggle",e),i=r;break;case"input":K(e,r),i=Q(e,r),Nr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Nr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"==typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"==typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Nr("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Kr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Ja.current),$a(Ka.current),la(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=$i))switch(e.tag){case 3:Qr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!=(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return Gs(t),null;case 13:if(_i(io),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ta&&null!==ea&&0!=(1&t.mode)&&0==(128&t.flags))ca(),ua(),t.flags|=98560,o=!1;else if(o=la(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[ci]=t}else ua(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==na&&(ic(na),na=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&io.current)?0===Ol&&(Ol=3):fc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return to(),Ds(e,t),null===e&&Fr(t.stateNode.containerInfo),Gs(t),null;case 10:return wa(t.type._context),Gs(t),null;case 19:if(_i(io),null===(o=t.memoizedState))return Gs(t),null;if(r=0!=(128&t.flags),null===(l=o.rendering))if(r)Hs(o,!1);else{if(0!==Ol||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ao(e))){for(t.flags|=128,Hs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(io,1&io.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Ul&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ao(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ta)return Gs(t),null}else 2*Ze()-o.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=io.current,Si(io,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return cc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Dl)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qs(e,t){switch(Ji(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return to(),_i(Ai),_i(Ci),so(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ro(t),null;case 13:if(_i(io),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ua()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(io),null;case 4:return to(),null;case 10:return wa(t.type._context),null;case 22:case 23:return cc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},ks=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Ka.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Kr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Nr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,Qs="function"==typeof WeakSet?WeakSet:Set,Ks=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){_c(e,t,n)}else n.current=null}function Js(e,t,n){try{n()}catch(n){_c(e,t,n)}}var $s=!1;function el(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Js(t,n,a)}i=i.next}while(i!==r)}}function tl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[ci],delete t[ui],delete t[di],delete t[fi],delete t[pi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Kr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}var ll=null,cl=!1;function ul(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=ll,i=cl;ll=null,ul(e,t,n),cl=i,null!==(ll=r)&&(cl?(e=ll,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ll.removeChild(n.stateNode));break;case 18:null!==ll&&(cl?(e=ll,n=n.stateNode,8===e.nodeType?ai(e.parentNode,n):1===e.nodeType&&ai(e,n),Vt(e)):ai(ll,n.stateNode));break;case 4:r=ll,i=cl,ll=n.stateNode.containerInfo,cl=!0,ul(e,t,n),ll=r,cl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!=(2&a)||0!=(4&a))&&Js(n,t,o),i=i.next}while(i!==r)}ul(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){_c(n,t,e)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,ul(e,t,n),Ys=r):ul(e,t,n);break;default:ul(e,t,n)}}function dl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ll=l.stateNode,cl=!1;break e;case 3:case 4:ll=l.stateNode.containerInfo,cl=!0;break e}l=l.return}if(null===ll)throw Error(a(160));hl(o,s,i),ll=null,cl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(e){_c(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),ml(e),4&r){try{el(3,e,e.return),tl(3,e)}catch(t){_c(e,e.return,t)}try{el(5,e,e.return)}catch(t){_c(e,e.return,t)}}break;case 1:fl(t,e),ml(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(fl(t,e),ml(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(t){_c(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Z(i,o),we(l,s);var u=we(l,o);for(s=0;s<c.length;s+=2){var h=c[s],d=c[s+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[ui]=o}catch(t){_c(e,e.return,t)}}break;case 6:if(fl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(t){_c(e,e.return,t)}}break;case 3:if(fl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(t){_c(e,e.return,t)}break;case 4:default:fl(t,e),ml(e);break;case 13:fl(t,e),ml(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Fl=Ze())),4&r&&dl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||h,fl(t,e),Ys=u):fl(t,e),ml(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!=(1&e.mode))for(Ks=e,h=e.child;null!==h;){for(d=Ks=h;null!==Ks;){switch(p=(f=Ks).child,f.tag){case 0:case 11:case 14:case 15:el(4,f,f.return);break;case 1:Zs(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){_c(r,n,e)}}break;case 5:Zs(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Ks=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,s=null!=(c=d.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(t){_c(e,e.return,t)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(t){_c(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fl(t,e),ml(e),4&r&&dl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),sl(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ol(e,al(e),o);break;default:throw Error(a(161))}}catch(t){_c(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){Ks=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!=(1&e.mode);null!==Ks;){var i=Ks,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Xs;var c=Ys;if(Xs=o,(Ys=l)&&!c)for(Ks=i;null!==Ks;)l=(o=Ks).child,22===o.tag&&null!==o.memoizedState?bl(i):null!==l?(l.return=o,Ks=l):bl(i);for(;null!==a;)Ks=a,vl(a,t,n),a=a.sibling;Ks=i,Xs=s,Ys=c}yl(e)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ks=a):yl(e)}}function yl(e){for(;null!==Ks;){var t=Ks;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||tl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:fa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&La(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}La(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&nl(t)}catch(e){_c(t,t.return,e)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function wl(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function bl(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tl(4,t)}catch(e){_c(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){_c(t,i,e)}}var a=t.return;try{nl(t)}catch(e){_c(t,a,e)}break;case 5:var o=t.return;try{nl(t)}catch(e){_c(t,o,e)}}}catch(e){_c(t,t.return,e)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var xl,_l=Math.ceil,Sl=b.ReactCurrentDispatcher,El=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Al=0,Tl=null,Ml=null,Pl=0,Dl=0,kl=xi(0),Ol=0,Il=null,Rl=0,Ll=0,Nl=0,zl=null,Bl=null,Fl=0,Ul=1/0,jl=null,Vl=!1,Hl=null,Gl=null,Wl=!1,ql=null,Xl=0,Yl=0,Ql=null,Kl=-1,Zl=0;function Jl(){return 0!=(6&Al)?Ze():-1!==Kl?Kl:Kl=Ze()}function $l(e){return 0==(1&e.mode)?1:0!=(2&Al)&&0!==Pl?Pl&-Pl:null!==da.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function ec(e,t,n,r){if(50<Yl)throw Yl=0,Ql=null,Error(a(185));vt(e,n,r),0!=(2&Al)&&e===Tl||(e===Tl&&(0==(2&Al)&&(Ll|=n),4===Ol&&ac(e,Pl)),tc(e,r),1===n&&0===Al&&0==(1&t.mode)&&(Ul=Ze()+500,Ni&&Fi()))}function tc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!=(s&n)&&0==(s&r)||(i[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Tl?Pl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ni=!0,Bi(e)}(oc.bind(null,e)):Bi(oc.bind(null,e)),ri((function(){0==(6&Al)&&Fi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nc(e,t){if(Kl=-1,Zl=0,0!=(6&Al))throw Error(a(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=dt(e,e===Tl?Pl:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=pc(e,r);else{t=r;var i=Al;Al|=2;var o=dc();for(Tl===e&&Pl===t||(jl=null,Ul=Ze()+500,uc(e,t));;)try{gc();break}catch(t){hc(e,t)}ya(),Sl.current=o,Al=i,null!==Ml?t=0:(Tl=null,Pl=0,t=Ol)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=rc(e,i)),1===t)throw n=Il,uc(e,0),ac(e,r),tc(e,Ze()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ir(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=pc(e,r))&&0!==(o=pt(e))&&(r=o,t=rc(e,o)),1===t))throw n=Il,uc(e,0),ac(e,r),tc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bl,jl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Fl+500-Ze())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Jl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(wc.bind(null,e,Bl,jl),t);break}wc(e,Bl,jl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ei(wc.bind(null,e,Bl,jl),r);break}wc(e,Bl,jl);break;default:throw Error(a(329))}}}return tc(e,Ze()),e.callbackNode===n?nc.bind(null,e):null}function rc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=pc(e,t))&&(t=Bl,Bl=n,null!==t&&ic(t)),e}function ic(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ac(e,t){for(t&=~Nl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!=(6&Al))throw Error(a(327));bc();var t=dt(e,0);if(0==(1&t))return tc(e,Ze()),null;var n=pc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=rc(e,r))}if(1===n)throw n=Il,uc(e,0),ac(e,t),tc(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,jl),tc(e,Ze()),null}function sc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Ul=Ze()+500,Ni&&Fi())}}function lc(e){null!==ql&&0===ql.tag&&0==(6&Al)&&bc();var t=Al;Al|=1;var n=Cl.transition,r=wt;try{if(Cl.transition=null,wt=1,e)return e()}finally{wt=r,Cl.transition=n,0==(6&(Al=t))&&Fi()}}function cc(){Dl=kl.current,_i(kl)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(Ji(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Di();break;case 3:to(),_i(Ai),_i(Ci),so();break;case 5:ro(r);break;case 4:to();break;case 13:case 19:_i(io);break;case 10:wa(r.type._context);break;case 22:case 23:cc()}n=n.return}if(Tl=e,Ml=e=kc(e.current,null),Pl=Dl=t,Ol=0,Il=null,Nl=Ll=Rl=0,Bl=zl=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function hc(e,t){for(;;){var n=Ml;try{if(ya(),lo.current=rs,mo){for(var r=ho.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}mo=!1}if(uo=0,po=fo=ho=null,go=!1,vo=0,El.current=null,null===n||null===n.return){Ol=1,Il=t,Ml=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,h=l,d=h.tag;if(0==(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ps(s);if(null!==p){p.flags&=-257,ms(p,s,l,0,t),1&p.mode&&fs(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0==(1&t)){fs(o,u,t),fc();break e}c=Error(a(426))}else if(ta&&1&l.mode){var v=ps(s);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),ms(v,s,l,0,t),ha(ss(c,l));break e}}o=c=ss(c,l),4!==Ol&&(Ol=2),null===zl?zl=[o]:zl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ia(o,hs(0,c,t));break e;case 1:l=c;var y=o.type,w=o.stateNode;if(0==(128&o.flags)&&("function"==typeof y.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ia(o,ds(o,l,t));break e}}o=o.return}while(null!==o)}yc(n)}catch(e){t=e,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function dc(){var e=Sl.current;return Sl.current=rs,null===e?rs:e}function fc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Tl||0==(268435455&Rl)&&0==(268435455&Ll)||ac(Tl,Pl)}function pc(e,t){var n=Al;Al|=2;var r=dc();for(Tl===e&&Pl===t||(jl=null,uc(e,t));;)try{mc();break}catch(t){hc(e,t)}if(ya(),Al=n,Sl.current=r,null!==Ml)throw Error(a(261));return Tl=null,Pl=0,Ol}function mc(){for(;null!==Ml;)vc(Ml)}function gc(){for(;null!==Ml&&!Qe();)vc(Ml)}function vc(e){var t=xl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?yc(e):Ml=t,El.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ws(n,t,Dl)))return void(Ml=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Ol=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=wt,i=Cl.transition;try{Cl.transition=null,wt=1,function(e,t,n,r){do{bc()}while(null!==ql);if(0!=(6&Al))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Tl&&(Ml=Tl=null,Pl=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Wl||(Wl=!0,Tc(tt,(function(){return bc(),null}))),o=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var s=wt;wt=1;var l=Al;Al|=4,El.current=null,function(e,t){if(Zr=Gt,ur(e=cr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Gt=!1,Ks=t;null!==Ks;)if(e=(t=Ks).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:fa(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(e){_c(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}m=$s,$s=!1}(e,n),pl(n,e),hr(Jr),Gt=!!Zr,Jr=Zr=null,e.current=n,gl(n,e,i),Ke(),Al=l,wt=s,Cl.transition=o}else e.current=n;if(Wl&&(Wl=!1,ql=e,Xl=i),0===(o=e.pendingLanes)&&(Gl=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),tc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Hl,Hl=null,e;0!=(1&Xl)&&0!==e.tag&&bc(),0!=(1&(o=e.pendingLanes))?e===Ql?Yl++:(Yl=0,Ql=e):Yl=0,Fi()}(e,t,n,r)}finally{Cl.transition=i,wt=r}return null}function bc(){if(null!==ql){var e=bt(Xl),t=Cl.transition,n=wt;try{if(Cl.transition=null,wt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Xl=0,0!=(6&Al))throw Error(a(331));var i=Al;for(Al|=4,Ks=e.current;null!==Ks;){var o=Ks,s=o.child;if(0!=(16&Ks.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ks=u;null!==Ks;){var h=Ks;switch(h.tag){case 0:case 11:case 15:el(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ks=d;else for(;null!==Ks;){var f=(h=Ks).sibling,p=h.return;if(rl(h),h===u){Ks=null;break}if(null!==f){f.return=p,Ks=f;break}Ks=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ks=o}}if(0!=(2064&o.subtreeFlags)&&null!==s)s.return=o,Ks=s;else e:for(;null!==Ks;){if(0!=(2048&(o=Ks).flags))switch(o.tag){case 0:case 11:case 15:el(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ks=y;break e}Ks=o.return}}var w=e.current;for(Ks=w;null!==Ks;){var b=(s=Ks).child;if(0!=(2064&s.subtreeFlags)&&null!==b)b.return=s,Ks=b;else e:for(s=w;null!==Ks;){if(0!=(2048&(l=Ks).flags))try{switch(l.tag){case 0:case 11:case 15:tl(9,l)}}catch(e){_c(l,l.return,e)}if(l===s){Ks=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ks=x;break e}Ks=l.return}}if(Al=i,Fi(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{wt=n,Cl.transition=t}}return!1}function xc(e,t,n){e=ka(e,t=hs(0,t=ss(n,t),1),1),t=Jl(),null!==e&&(vt(e,1,t),tc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=ka(t,e=ds(t,e=ss(n,e),1),1),e=Jl(),null!==t&&(vt(t,1,e),tc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Jl(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Pl&n)===n&&(4===Ol||3===Ol&&(130023424&Pl)===Pl&&500>Ze()-Fl?uc(e,0):Nl|=n),tc(e,t)}function Ec(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ut,0==(130023424&(ut<<=1))&&(ut=4194304)));var n=Jl();null!==(e=Aa(e,t))&&(vt(e,t,n),tc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Tc(e,t){return Xe(e,t)}function Mc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Mc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function kc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Dc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Ic(n.children,i,o,t);case E:s=8,i|=8;break;case C:return(e=Pc(12,n,t,2|i)).elementType=C,e.lanes=o,e;case P:return(e=Pc(13,n,t,i)).elementType=P,e.lanes=o,e;case D:return(e=Pc(19,n,t,i)).elementType=D,e.lanes=o,e;case I:return Rc(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case T:s=9;break e;case M:s=11;break e;case k:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ic(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Nc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Fc(e){if(!e)return Ei;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Oi(e,n,t)}return t}function Uc(e,t,n,r,i,a,o,s,l){return(e=Bc(n,r,!0,e,0,a,0,s,l)).context=Fc(null),n=e.current,(a=Da(r=Jl(),i=$l(n))).callback=null!=t?t:null,ka(n,a,i),e.current.lanes=i,vt(e,i,r),tc(e,r),e}function jc(e,t,n,r){var i=t.current,a=Jl(),o=$l(i);return n=Fc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ka(i,t,o))&&(ec(e,i,o,a),Oa(e,i,o)),o}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)vs=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),ua();break;case 5:no(t);break;case 1:Pi(t.type)&&Ii(t);break;case 4:eo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(pa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(io,1&io.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Ls(e,t,n):(Si(io,1&io.current),null!==(e=Vs(e,t,n))?e.sibling:null);Si(io,1&io.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(io,io.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Vs(e,t,n)}(e,t,n);vs=0!=(131072&e.flags)}else vs=!1,ta&&0!=(1048576&t.flags)&&Ki(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;js(e,t),e=t.pendingProps;var i=Mi(t,Ci.current);xa(t,n),i=xo(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Ii(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ma(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Va(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ta&&o&&Zi(t),ys(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(js(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Dc(e)?1:0;if(null!=e){if((e=e.$$typeof)===M)return 11;if(e===k)return 14}return 2}(r),e=fa(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=bs(null,t,r,fa(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:fa(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:fa(r,i),n);case 3:e:{if(Ts(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Ra(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ms(e,t,r,n,i=ss(Error(a(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=ss(Error(a(424)),t));break e}for(ea=oi(t.stateNode.containerInfo.firstChild),$i=t,ta=!0,na=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ua(),r===i){t=Vs(e,t,n);break e}ys(e,t,r,n)}t=t.child}return t;case 5:return no(t),null===e&&oa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,$r(r,i)?s=null:null!==o&&$r(r,o)&&(t.flags|=32),Ss(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&oa(t),null;case 13:return Ls(e,t,n);case 4:return eo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ys(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:fa(r,i),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(pa,r._currentValue),r._currentValue=s,null!==o)if(ir(o.value,s)){if(o.children===i.children&&!Ai.current){t=Vs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),ba(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ba(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ys(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xa(t,n),r=r(i=_a(i)),t.flags|=1,ys(e,t,r,n),t.child;case 14:return i=fa(r=t.type,t.pendingProps),bs(e,t,r,i=fa(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fa(r,i),js(e,t),t.tag=1,Pi(r)?(e=!0,Ii(t)):e=!1,xa(t,n),Ua(t,r,i),Va(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return _s(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"==typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=Vc(o);s.call(e)}}jc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var a=r;r=function(){var e=Vc(o);a.call(e)}}var o=Uc(t,r,e,0,null,!1,0,"",Kc);return e._reactRootContainer=o,e[hi]=o.current,Fr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Vc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Kc);return e._reactRootContainer=l,e[hi]=l.current,Fr(8===e.nodeType?e.parentNode:e),lc((function(){jc(t,l,n,r)})),l}(n,t,e,i,r);return Vc(o)}Xc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));jc(e,t,null,null)},Xc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){jc(null,e,null,null)})),t[hi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&zt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),tc(t,Ze()),0==(6&Al)&&(Ul=Ze()+500,Fi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=Jl();ec(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);null!==t&&ec(t,e,134217728,Jl()),Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=$l(e),n=Aa(e,t);null!==n&&ec(n,e,t,Jl()),Gc(e,t)}},Et=function(){return wt},Ct=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(a(90));X(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Me=sc,Pe=lc;var Jc={usingClientEntryPoint:!1,Events:[gi,vi,yi,Ae,Te,sc]},$c={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eu={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{it=tu.inject(eu),at=tu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,Fr(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Wc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,o,s),e[hi]=t.current,Fr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},745:function(e,t,n){"use strict";var r=n(3935);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},3935:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9921:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,l=60110,c=60112,u=60113,h=60120,d=60115,f=60116,p=60121,m=60122,g=60117,v=60129,y=60131;if("function"==typeof Symbol&&Symbol.for){var w=Symbol.for;n=w("react.element"),r=w("react.portal"),i=w("react.fragment"),a=w("react.strict_mode"),o=w("react.profiler"),s=w("react.provider"),l=w("react.context"),c=w("react.forward_ref"),u=w("react.suspense"),h=w("react.suspense_list"),d=w("react.memo"),f=w("react.lazy"),p=w("react.block"),m=w("react.server.block"),g=w("react.fundamental"),v=w("react.debug_trace_mode"),y=w("react.legacy_hidden")}t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===o||e===v||e===a||e===u||e===h||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===d||e.$$typeof===s||e.$$typeof===l||e.$$typeof===c||e.$$typeof===g||e.$$typeof===p||e[0]===m)},t.typeOf=function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case u:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case d:case s:return e;default:return t}}case r:return t}}}},9864:function(e,t,n){"use strict";e.exports=n(9921)},2408:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+M(l,0):a,x(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",x(e))for(var c=0;c<e.length;c++){var u=a+M(s=e[c],c);l+=P(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=P(s=s.value,t,i,u=a+M(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function D(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function k(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},I={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:I,ReactCurrentOwner:S};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},7294:function(e,t,n){"use strict";e.exports=n(2408)},53:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,I(_);else{var t=r(u);null!==t&&R(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(A),A=-1),p=!0;var a=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!P());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?d.callback=s:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&R(x,h.startTime-n),l=!1}return l}finally{d=null,f=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,A=-1,T=5,M=-1;function P(){return!(t.unstable_now()-M<T)}function D(){if(null!==C){var e=t.unstable_now();M=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"==typeof w)S=function(){w(D)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,O=k.port2;k.port1.onmessage=D,S=function(){O.postMessage(null)}}else S=function(){v(D,0)};function I(e){C=e,E||(E=!0,S())}function R(e,n){A=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,I(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(A),A=-1):g=!0,R(x,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,I(_))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},3840:function(e,t,n){"use strict";e.exports=n(53)},6774:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!s(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}},3379:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},o=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=a[c]||0,h="".concat(c," ").concat(u);a[c]=u+1;var d=n(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=i(f,r);r.byIndex=s,t.splice(s,0,{identifier:h,updater:p,references:1})}o.push(h)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=n(a[o]);t[s].references--}for(var l=r(e,i),c=0;c<a.length;c++){var u=n(a[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=l}}},569:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},6248:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useClipboard=void 0;var i=r(n(6485)),a=n(7294),o=n(6778);function s(e){return e&&("TEXTAREA"===e.nodeName||"INPUT"===e.nodeName)}t.useClipboard=function(e){void 0===e&&(e={});var t=o.useTimedToggle(!1),n=t[0],r=t[1],l=a.useRef(null),c=a.useRef(e);return c.current=e,{copied:n,copy:a.useCallback((function(e){var t=c.current,n=l.current;function a(){t.onSuccess&&t.onSuccess(),t.copiedTimeout&&r(t.copiedTimeout),t.selectOnCopy&&s(n)&&n.select()}function o(){t.onError&&t.onError(),!1!==t.selectOnError&&s(n)&&n.select()}function u(e){i.default(e).then(a).catch(o)}"string"==typeof e?u(e):n&&u(n.value)}),[]),isSupported:function(){return!!navigator.clipboard||"function"==typeof document.execCommand&&"function"==typeof document.queryCommandSupported&&document.queryCommandSupported("copy")},target:l}}},6778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTimedToggle=void 0;var r=n(7294);t.useTimedToggle=function(e){var t=r.useState(!1),n=t[0],i=t[1],a=r.useRef(),o=r.useRef(e);return r.useEffect((function(){return function(){return clearTimeout(a.current)}}),[]),[n,function(e){clearTimeout(a.current),i(!o.current),a.current=window.setTimeout((function(){return i(o.current)}),e)}]}},3967:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,exports:{}};return i[e].call(n.exports,n,n.exports,o),n.exports}o.m=i,o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},o.d(i,a),i},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))},o.u=function(e){return e+".bundle.js"},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},r="my-app:",o.l=function(e,t,i,a){if(n[e])n[e].push(t);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==r+i){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",r+i),s.src=e),n[e]=[t];var d=function(t,r){s.onerror=s.onload=null,clearTimeout(f);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/",function(){var e={179:0};o.f.j=function(t,n){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var a=o.p+o.u(t),s=new Error;o.l(a,(function(n){if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,a=n[0],s=n[1],l=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);l&&l(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkmy_app=self.webpackChunkmy_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),o.nc=void 0,function(){"use strict";var e=o(7294),t=o.t(e,2),n=o(745),r=o(3379),i=o.n(r),a=o(7795),s=o.n(a),l=o(569),c=o.n(l),u=o(3565),h=o.n(u),d=o(9216),f=o.n(d),p=o(4589),m=o.n(p),g=o(1424),v={};v.styleTagTransform=m(),v.setAttributes=h(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),i()(g.Z,v),g.Z&&g.Z.locals&&g.Z.locals;var y,w=o(9087),b={};function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}b.styleTagTransform=m(),b.setAttributes=h(),b.insert=c().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=f(),i()(w.Z,b),w.Z&&w.Z.locals&&w.Z.locals,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(y||(y={}));const _="popstate";function S(e,t){if(!1===e||null==e)throw new Error(t)}function E(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function C(e,t){return{usr:e.state,key:e.key,idx:t}}function A(e,t,n,r){return void 0===n&&(n=null),x({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function T(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function M(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var P;function D(e,t,n){void 0===n&&(n="/");let r=G(("string"==typeof t?M(t):t).pathname||"/",n);if(null==r)return null;let i=k(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let e=0;null==a&&e<i.length;++e)a=j(i[e],H(r));return a}function k(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(S(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=Y([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(S(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),k(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:U(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of O(e.path))i(e,t,n);else i(e,t)})),t}function O(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=O(r.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),i&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(P||(P={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const I=/^:\w+$/,R=3,L=2,N=1,z=10,B=-2,F=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=B),t&&(r+=L),n.filter((e=>!F(e))).reduce(((e,t)=>e+(I.test(t)?R:""===t?N:z)),r)}function j(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let e=0;e<n.length;++e){let o=n[e],s=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=V({path:o.relativePath,caseSensitive:o.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=o.route;a.push({params:r,pathname:Y([i,c.pathname]),pathnameBase:Q(Y([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=Y([i,c.pathnameBase]))}return a}function V(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),E("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return E(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{}),pathname:a,pathnameBase:o,pattern:e}}function H(e){try{return decodeURI(e)}catch(t){return E(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function G(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function q(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function X(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=M(e):(i=x({},e),S(!i.pathname||!i.pathname.includes("?"),W("?","pathname","search",i)),S(!i.pathname||!i.pathname.includes("#"),W("#","pathname","hash",i)),S(!i.search||!i.search.includes("#"),W("#","search","hash",i)));let a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?M(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:K(r),hash:Z(i)}}(i,a),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Y=e=>e.join("/").replace(/\/\/+/g,"/"),Q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class J extends Error{}const ee=["post","put","patch","delete"],te=(new Set(ee),["get",...ee]);new Set(te),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,Symbol("deferred");"function"==typeof Object.is&&Object.is;const{useState:ne,useEffect:re,useLayoutEffect:ie,useDebugValue:ae}=t;"undefined"==typeof window||void 0===window.document||window.document.createElement,(e=>{e.useSyncExternalStore})(t);const oe=e.createContext(null),se=e.createContext(null),le=e.createContext(null),ce=e.createContext(null),ue=e.createContext({outlet:null,matches:[]}),he=e.createContext(null);function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function fe(){return null!=e.useContext(ce)}function pe(){return fe()||S(!1),e.useContext(ce).location}function me(){fe()||S(!1);let{basename:t,navigator:n}=e.useContext(le),{matches:r}=e.useContext(ue),{pathname:i}=pe(),a=JSON.stringify(q(r).map((e=>e.pathnameBase))),o=e.useRef(!1);e.useEffect((()=>{o.current=!0}));let s=e.useCallback((function(e,r){if(void 0===r&&(r={}),!o.current)return;if("number"==typeof e)return void n.go(e);let s=X(e,JSON.parse(a),i,"path"===r.relative);"/"!==t&&(s.pathname="/"===s.pathname?t:Y([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state,r)}),[t,n,a,i]);return s}function ge(){let{matches:t}=e.useContext(ue),n=t[t.length-1];return n?n.params:{}}function ve(t,n){let{relative:r}=void 0===n?{}:n,{matches:i}=e.useContext(ue),{pathname:a}=pe(),o=JSON.stringify(q(i).map((e=>e.pathnameBase)));return e.useMemo((()=>X(t,JSON.parse(o),a,"path"===r)),[t,o,a,r])}function ye(){let t=function(){var t;let n=e.useContext(he),r=function(t){let n=e.useContext(se);return n||S(!1),n}(_e.UseRouteError),i=function(t){let n=function(t){let n=e.useContext(ue);return n||S(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||S(!1),r.route.id}(_e.UseRouteError);return n||(null==(t=r.errors)?void 0:t[i])}(),n=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,null)}class we extends e.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?e.createElement(ue.Provider,{value:this.props.routeContext},e.createElement(he.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function be(t){let{routeContext:n,match:r,children:i}=t,a=e.useContext(oe);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(ue.Provider,{value:n},i)}var xe,_e,Se;function Ee(e){S(!1)}function Ce(t){let{basename:n="/",children:r=null,location:i,navigationType:a=y.Pop,navigator:o,static:s=!1}=t;fe()&&S(!1);let l=n.replace(/^\/*/,"/"),c=e.useMemo((()=>({basename:l,navigator:o,static:s})),[l,o,s]);"string"==typeof i&&(i=M(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=e.useMemo((()=>{let e=G(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:a}}),[l,u,h,d,f,p,a]);return null==m?null:e.createElement(le.Provider,{value:c},e.createElement(ce.Provider,{children:r,value:m}))}function Ae(t){let{children:n,location:r}=t,i=e.useContext(oe);return function(t,n){fe()||S(!1);let{navigator:r}=e.useContext(le),i=e.useContext(se),{matches:a}=e.useContext(ue),o=a[a.length-1],s=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let c,u=pe();if(n){var h;let e="string"==typeof n?M(n):n;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||S(!1),c=e}else c=u;let d=c.pathname||"/",f=D(t,{pathname:"/"===l?d:d.slice(l.length)||"/"}),p=function(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}let i=t,a=null==r?void 0:r.errors;if(null!=a){let e=i.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||S(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((t,o,s)=>{let l=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;r&&(c=o.route.ErrorBoundary?e.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:e.createElement(ye,null));let u=n.concat(i.slice(0,s+1)),h=()=>{let n=t;return l?n=c:o.route.Component?n=e.createElement(o.route.Component,null):o.route.element&&(n=o.route.element),e.createElement(be,{match:o,routeContext:{outlet:t,matches:u},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===s)?e.createElement(we,{location:r.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u}}):h()}),null)}(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Y([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Y([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i||void 0);return n&&p?e.createElement(ce.Provider,{value:{location:de({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:y.Pop}},p):p}(i&&!n?i.router.routes:Me(n),r)}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(xe||(xe={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(_e||(_e={})),function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Se||(Se={})),new Promise((()=>{}));class Te extends e.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,r=null,i=Se.pending;if(n instanceof Promise)if(this.state.error){Se.error;let e=this.state.error;Promise.reject().catch((()=>{})),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>e})}else n._tracked?void 0!==r._error?Se.error:void 0!==r._data?Se.success:Se.pending:(Se.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else Se.success,Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});if(i===Se.error&&r._error instanceof AbortedDeferredError)throw neverSettledPromise;if(i===Se.error&&!t)throw r._error;if(i===Se.error)return React.createElement(AwaitContext.Provider,{value:r,children:t});if(i===Se.success)return React.createElement(AwaitContext.Provider,{value:r,children:e});throw r}}function Me(t,n){void 0===n&&(n=[]);let r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let a=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,Me(t.props.children,a));t.type!==Ee&&S(!1),t.props.index&&t.props.children&&S(!1);let o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=Me(t.props.children,a)),r.push(o)})),r}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function De(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Oe=["aria-current","caseSensitive","className","end","style","to","children"];function Ie(t){let{basename:n,children:r,window:i}=t,a=e.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=y.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function h(){s=y.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:T(e);return S(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(x({},o.state,{idx:c}),""));let f={get action(){return s},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_,h),l=e,()=>{i.removeEventListener(_,h),l=null}},createHref(e){return t(i,e)},createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=y.Push;let r=A(f.location,e,t);n&&n(r,e),c=u()+1;let h=C(r,c),d=f.createHref(r);try{o.pushState(h,"",d)}catch(e){i.location.assign(d)}a&&l&&l({action:s,location:f.location,delta:1})},replace:function(e,t){s=y.Replace;let r=A(f.location,e,t);n&&n(r,e),c=u();let i=C(r,c),h=f.createHref(r);o.replaceState(i,"",h),a&&l&&l({action:s,location:f.location,delta:0})},go(e){return o.go(e)}};return f}((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=M(e.location.hash.substr(1));return A("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:T(t))}),(function(e,t){E("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:i,v5Compat:!0}));let o=a.current,[s,l]=e.useState({action:o.action,location:o.location});return e.useLayoutEffect((()=>o.listen(l)),[o]),e.createElement(Ce,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}const Re="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=e.forwardRef((function(t,n){let r,{onClick:i,relative:a,reloadDocument:o,replace:s,state:l,target:c,to:u,preventScrollReset:h}=t,d=De(t,ke),{basename:f}=e.useContext(le),p=!1;if("string"==typeof u&&Le.test(u)&&(r=u,Re)){let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=G(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:p=!0}let m=function(t,n){let{relative:r}=void 0===n?{}:n;fe()||S(!1);let{basename:i,navigator:a}=e.useContext(le),{hash:o,pathname:s,search:l}=ve(t,{relative:r}),c=s;return"/"!==i&&(c="/"===s?i:Y([i,s])),a.createHref({pathname:c,search:l,hash:o})}(u,{relative:a}),g=function(t,n){let{target:r,replace:i,state:a,preventScrollReset:o,relative:s}=void 0===n?{}:n,l=me(),c=pe(),u=ve(t,{relative:s});return e.useCallback((e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,r)){e.preventDefault();let n=void 0!==i?i:T(c)===T(u);l(t,{replace:n,state:a,preventScrollReset:o,relative:s})}}),[c,l,u,i,a,r,t,o,s])}(u,{replace:s,state:l,target:c,preventScrollReset:h,relative:a});return e.createElement("a",Pe({},d,{href:r||m,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||g(e)},ref:n,target:c}))})),ze=e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,children:c}=t,u=De(t,Oe),h=ve(l,{relative:u.relative}),d=pe(),f=e.useContext(se),{navigator:p}=e.useContext(le),m=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,g=d.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(g=g.toLowerCase(),v=v?v.toLowerCase():null,m=m.toLowerCase());let y,w=g===m||!o&&g.startsWith(m)&&"/"===g.charAt(m.length),b=null!=v&&(v===m||!o&&v.startsWith(m)&&"/"===v.charAt(m.length)),x=w?r:void 0;y="function"==typeof a?a({isActive:w,isPending:b}):[a,w?"active":null,b?"pending":null].filter(Boolean).join(" ");let _="function"==typeof s?s({isActive:w,isPending:b}):s;return e.createElement(Ne,Pe({},u,{"aria-current":x,className:y,ref:n,style:_,to:l}),"function"==typeof c?c({isActive:w,isPending:b}):c)}));var Be,Fe;function Ue(t,n){let{capture:r}=n||{};e.useEffect((()=>{let e=null!=r?{capture:r}:void 0;return window.addEventListener("beforeunload",t,e),()=>{window.removeEventListener("beforeunload",t,e)}}),[t,r])}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Be||(Be={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Fe||(Fe={}));var je=o(9864),Ve=o(6774),He=o.n(Ve),Ge=function(e){function t(e,r,l,c,d){for(var f,p,m,g,b,_=0,S=0,E=0,C=0,A=0,O=0,R=m=f=0,N=0,z=0,B=0,F=0,U=l.length,j=U-1,V="",H="",G="",W="";N<U;){if(p=l.charCodeAt(N),N===j&&0!==S+C+E+_&&(0!==S&&(p=47===S?10:47),C=E=_=0,U++,j++),0===S+C+E+_){if(N===j&&(0<z&&(V=V.replace(h,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(N)}p=59}switch(p){case 123:for(f=(V=V.trim()).charCodeAt(0),m=1,F=++N;N<U;){switch(p=l.charCodeAt(N)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(N+1)){case 42:case 47:e:{for(R=N+1;R<j;++R)switch(l.charCodeAt(R)){case 47:if(42===p&&42===l.charCodeAt(R-1)&&N+2!==R){N=R+1;break e}break;case 10:if(47===p){N=R+1;break e}}N=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;N++<j&&l.charCodeAt(N)!==p;);}if(0===m)break;N++}if(m=l.substring(F,N),0===f&&(f=(V=V.replace(u,"").trim()).charCodeAt(0)),64===f){switch(0<z&&(V=V.replace(h,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:z=r;break;default:z=k}if(F=(m=t(r,z,m,p,d+1)).length,0<I&&(b=s(3,m,z=n(k,V,B),r,M,T,F,p,d,c),V=z.join(""),void 0!==b&&0===(F=(m=b.trim()).length)&&(p=0,m="")),0<F)switch(p){case 115:V=V.replace(x,o);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(v,"$1 $2"))+"{"+m+"}",m=1===D||2===D&&a("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===c&&(H+=m,m="")}else m=""}else m=t(r,n(r,V,B),m,c,d+1);G+=m,m=B=z=R=f=0,V="",p=l.charCodeAt(++N);break;case 125:case 59:if(1<(F=(V=(0<z?V.replace(h,""):V).trim()).length))switch(0===R&&(f=V.charCodeAt(0),45===f||96<f&&123>f)&&(F=(V=V.replace(" ",":")).length),0<I&&void 0!==(b=s(1,V,r,e,M,T,H.length,c,d,c))&&0===(F=(V=b.trim()).length)&&(V="\0\0"),f=V.charCodeAt(0),p=V.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){W+=V+l.charAt(N);break}default:58!==V.charCodeAt(F-1)&&(H+=i(V,f,p,V.charCodeAt(2)))}B=z=R=f=0,V="",p=l.charCodeAt(++N)}}switch(p){case 13:case 10:47===S?S=0:0===1+f&&107!==c&&0<V.length&&(z=1,V+="\0"),0<I*L&&s(0,V,r,e,M,T,H.length,c,d,c),T=1,M++;break;case 59:case 125:if(0===S+C+E+_){T++;break}default:switch(T++,g=l.charAt(N),p){case 9:case 32:if(0===C+_+S)switch(A){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===C+S+_&&(z=B=1,g="\f"+g);break;case 108:if(0===C+S+_+P&&0<R)switch(N-R){case 2:112===A&&58===l.charCodeAt(N-3)&&(P=A);case 8:111===O&&(P=O)}break;case 58:0===C+S+_&&(R=N);break;case 44:0===S+E+C+_&&(z=1,g+="\r");break;case 34:case 39:0===S&&(C=C===p?0:0===C?p:C);break;case 91:0===C+S+E&&_++;break;case 93:0===C+S+E&&_--;break;case 41:0===C+S+_&&E--;break;case 40:0===C+S+_&&(0===f&&(2*A+3*O==533||(f=1)),E++);break;case 64:0===S+E+C+_+R+m&&(m=1);break;case 42:case 47:if(!(0<C+_+E))switch(S){case 0:switch(2*p+3*l.charCodeAt(N+1)){case 235:S=47;break;case 220:F=N,S=42}break;case 42:47===p&&42===A&&F+2!==N&&(33===l.charCodeAt(F+2)&&(H+=l.substring(F,N+1)),g="",S=0)}}0===S&&(V+=g)}O=A,A=p,N++}if(0<(F=H.length)){if(z=r,0<I&&void 0!==(b=s(2,H,z,e,M,T,F,c,d,c))&&0===(H=b).length)return W+H+G;if(H=z.join(",")+"{"+H+"}",0!=D*P){switch(2!==D||a(H,2)||(P=0),P){case 111:H=H.replace(w,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}P=0}}return W+H+G}function n(e,t,n){var i=t.trim().split(m);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[l++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var l=o.substring(e,o.length-1).trim();return l=o.substring(0,e).trim()+l+";",1===D||2===D&&a(l,1)?"-webkit-"+l+l:l}if(0===D||2===D&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(A,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(l=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+l+o;case 1005:return f.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(l=o.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=o.replace(b,"tb");break;case 232:l=o.replace(b,"tb-rl");break;case 220:l=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+l+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(l=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:o=o.replace(l,"-webkit-"+l)+";"+o;break;case 207:case 102:o=o.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(l,"-webkit-"+l)+";"+o.replace(l,"-ms-"+l+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return l=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+l+"-ms-flex-"+l+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(S,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(S,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(l,"-webkit-"+l)+o.replace(l,"-moz-"+l.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,l,u){for(var h,d=0,f=t;d<I;++d)switch(h=O[d].call(c,e,f,n,r,i,a,o,s,l,u)){case void 0:case!1:case!0:case null:break;default:f=h}if(f!==t)return f}function l(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!=typeof e?D=1:(D=2,R=e):D=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<I){var i=s(-1,n,r,r,M,T,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var a=t(k,r,n,0,0);return 0<I&&void 0!==(i=s(-2,a,r,r,M,T,a.length,0,0,0))&&(a=i),P=0,T=M=1,a}var u=/^\0+/g,h=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,w=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,S=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,T=1,M=1,P=0,D=1,k=[],O=[],I=0,R=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:I=O.length=0;break;default:if("function"==typeof t)O[I++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=l,void 0!==e&&l(e),c},We={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qe=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Xe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ye=qe((function(e){return Xe.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Qe=o(8679),Ke=o.n(Qe);function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Je=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},$e=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,je.typeOf)(e)},et=Object.freeze([]),tt=Object.freeze({});function nt(e){return"function"==typeof e}function rt(e){return e.displayName||e.name||"Component"}function it(e){return e&&"string"==typeof e.styledComponentId}var at="undefined"!=typeof process&&void 0!==process.env&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",ot="undefined"!=typeof window&&"HTMLElement"in window,st=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env&&(void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY)),lt={};function ct(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var ut=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&ct(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),ht=new Map,dt=new Map,ft=1,pt=function(e){if(ht.has(e))return ht.get(e);for(;dt.has(ft);)ft++;var t=ft++;return ht.set(e,t),dt.set(t,e),t},mt=function(e){return dt.get(e)},gt=function(e,t){t>=ft&&(ft=t+1),ht.set(e,t),dt.set(t,e)},vt="style["+at+'][data-styled-version="5.3.9"]',yt=new RegExp("^"+at+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),wt=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},bt=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(yt);if(s){var l=0|parseInt(s[1],10),c=s[2];0!==l&&(gt(c,l),wt(e,c,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},xt=function(){return o.nc},_t=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(at))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(at,"active"),r.setAttribute("data-styled-version","5.3.9");var o=xt();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},St=function(){function e(e){var t=this.element=_t(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}ct(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Et=function(){function e(e){var t=this.element=_t(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Ct=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),At=ot,Tt={isServer:!ot,useCSSOMInjection:!st},Mt=function(){function e(e,t,n){void 0===e&&(e=tt),void 0===t&&(t={}),this.options=Ze({},Tt,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ot&&At&&(At=!1,function(e){for(var t=document.querySelectorAll(vt),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(at)&&(bt(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return pt(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ze({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Ct(i):r?new St(i):new Et(i),new ut(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(pt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(pt(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(pt(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=mt(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var l=at+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+l+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),Pt=/(a)(d)/gi,Dt=function(e){return String.fromCharCode(e+(e>25?39:97))};function kt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Dt(t%52)+n;return(Dt(t%52)+n).replace(Pt,"$1-$2")}var Ot=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},It=function(e){return Ot(5381,e)};function Rt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(nt(n)&&!it(n))return!1}return!0}var Lt=It("5.3.9"),Nt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Rt(e),this.componentId=t,this.baseHash=Ot(Lt,t),this.baseStyle=n,Mt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=en(this.rules,e,t,n).join(""),o=kt(Ot(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var l=this.rules.length,c=Ot(this.baseHash,n.hash),u="",h=0;h<l;h++){var d=this.rules[h];if("string"==typeof d)u+=d;else if(d){var f=en(d,e,t,n),p=Array.isArray(f)?f.join(""):f;c=Ot(c,p+h),u+=p}}if(u){var m=kt(c>>>0);if(!t.hasNameForId(r,m)){var g=n(u,"."+m,void 0,r);t.insertRules(r,m,g)}i.push(m)}}return i.join(" ")},e}(),zt=/^\s*\/\/.*$/gm,Bt=[":","[",".","#"];function Ft(e){var t,n,r,i,a=void 0===e?tt:e,o=a.options,s=void 0===o?tt:o,l=a.plugins,c=void 0===l?et:l,u=new Ge(s),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,l,c,u,h){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),f=function(e,r,a){return 0===r&&-1!==Bt.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var l=e.replace(zt,""),c=a&&o?o+" "+a+" { "+l+" }":l;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),u(o||!a?"":a,c)}return u.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,f))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||ct(15),Ot(e,t.name)}),5381).toString():"",p}var Ut=e.createContext(),jt=(Ut.Consumer,e.createContext()),Vt=(jt.Consumer,new Mt),Ht=Ft();function Gt(){return(0,e.useContext)(Ut)||Vt}function Wt(){return(0,e.useContext)(jt)||Ht}function qt(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],a=Gt(),o=(0,e.useMemo)((function(){var e=a;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),s=(0,e.useMemo)((function(){return Ft({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return(0,e.useEffect)((function(){He()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(Ut.Provider,{value:o},e.createElement(jt.Provider,{value:s},t.children))}var Xt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Ht);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return ct(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Ht),this.name+e.hash},e}(),Yt=/([A-Z])/,Qt=/([A-Z])/g,Kt=/^ms-/,Zt=function(e){return"-"+e.toLowerCase()};function Jt(e){return Yt.test(e)?e.replace(Qt,Zt).replace(Kt,"-ms-"):e}var $t=function(e){return null==e||!1===e||""===e};function en(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=en(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return $t(e)?"":it(e)?"."+e.styledComponentId:nt(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:en(e(t),t,n,r):e instanceof Xt?n?(e.inject(n,r),e.getName(r)):e:$e(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!$t(t[o])&&(Array.isArray(t[o])&&t[o].isCss||nt(t[o])?a.push(Jt(o)+":",t[o],";"):$e(t[o])?a.push.apply(a,e(t[o],o)):a.push(Jt(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in We?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var l}var tn=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nt(e)||$e(e)?tn(en(Je(et,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:tn(en(Je(e,n)))}new Set;var rn=function(e,t,n){return void 0===n&&(n=tt),e.theme!==n.theme&&e.theme||t||n.theme},an=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,on=/(^-|-$)/g;function sn(e){return e.replace(an,"-").replace(on,"")}var ln=function(e){return kt(It(e)>>>0)};function cn(e){return"string"==typeof e&&!0}var un=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},hn=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function dn(e,t,n){var r=e[n];un(t)&&un(r)?fn(r,t):e[n]=t}function fn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(un(o))for(var s in o)hn(s)&&dn(e,o[s],s)}return e}var pn=e.createContext();pn.Consumer;var mn={};function gn(t,n,r){var i=it(t),a=!cn(t),o=n.attrs,s=void 0===o?et:o,l=n.componentId,c=void 0===l?function(e,t){var n="string"!=typeof e?"sc":sn(e);mn[n]=(mn[n]||0)+1;var r=n+"-"+ln("5.3.9"+n+mn[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):l,u=n.displayName,h=void 0===u?function(e){return cn(e)?"styled."+e:"Styled("+rt(e)+")"}(t):u,d=n.displayName&&n.componentId?sn(n.displayName)+"-"+n.componentId:n.componentId||c,f=i&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&t.shouldForwardProp&&(p=n.shouldForwardProp?function(e,r,i){return t.shouldForwardProp(e,r,i)&&n.shouldForwardProp(e,r,i)}:t.shouldForwardProp);var m,g=new Nt(r,d,i?t.componentStyle:void 0),v=g.isStatic&&0===s.length,y=function(t,n){return function(t,n,r,i){var a=t.attrs,o=t.componentStyle,s=t.defaultProps,l=t.foldedComponentIds,c=t.shouldForwardProp,u=t.styledComponentId,h=t.target,d=function(e,t,n){void 0===e&&(e=tt);var r=Ze({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in nt(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(rn(n,(0,e.useContext)(pn),s)||tt,n,a),f=d[0],p=d[1],m=function(e,t,n,r){var i=Gt(),a=Wt();return t?e.generateAndInjectStyles(tt,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,f),g=r,v=p.$as||n.$as||p.as||n.as||h,y=cn(v),w=p!==n?Ze({},n,{},p):n,b={};for(var x in w)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?b.as=w[x]:(c?c(x,Ye,v):!y||Ye(x))&&(b[x]=w[x]));return n.style&&p.style!==n.style&&(b.style=Ze({},n.style,{},p.style)),b.className=Array.prototype.concat(l,u,m!==u?m:null,n.className,p.className).filter(Boolean).join(" "),b.ref=g,(0,e.createElement)(v,b)}(m,t,n,v)};return y.displayName=h,(m=e.forwardRef(y)).attrs=f,m.componentStyle=g,m.displayName=h,m.shouldForwardProp=p,m.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):et,m.styledComponentId=d,m.target=i?t.target:t,m.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(cn(e)?e:sn(rt(e)));return gn(e,Ze({},i,{attrs:f,componentId:a}),r)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?fn({},t.defaultProps,e):e}}),Object.defineProperty(m,"toString",{value:function(){return"."+m.styledComponentId}}),a&&Ke()(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var vn=function(e){return function e(t,n,r){if(void 0===r&&(r=tt),!(0,je.isValidElementType)(n))return ct(1,String(n));var i=function(){return t(n,r,nn.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Ze({},r,{},i))},i.attrs=function(i){return e(t,n,Ze({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(gn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){vn[e]=vn(e)}));var yn=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Rt(e),Mt.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(en(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Mt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function wn(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=nn.apply(void 0,[t].concat(r)),o="sc-global-"+ln(JSON.stringify(a)),s=new yn(a,o);function l(t){var n=Gt(),r=Wt(),i=(0,e.useContext)(pn),a=(0,e.useRef)(n.allocateGSInstance(o)).current;return n.server&&c(a,t,n,i,r),(0,e.useLayoutEffect)((function(){if(!n.server)return c(a,t,n,i,r),function(){return s.removeStyles(a,n)}}),[a,t,n,i,r]),null}function c(e,t,n,r,i){if(s.isStatic)s.renderStyles(e,lt,n,i);else{var a=Ze({},t,{theme:rn(t,r,l.defaultProps)});s.renderStyles(e,a,n,i)}}return e.memo(l)}!function(){var t=function(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var n=xt();return"<style "+[n&&'nonce="'+n+'"',at+'="true"','data-styled-version="5.3.9"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?ct(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return ct(2);var r=((n={})[at]="",n["data-styled-version"]="5.3.9",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=xt();return i&&(r.nonce=i),[e.createElement("style",Ze({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new Mt({isServer:!0}),this.sealed=!1}.prototype;t.collectStyles=function(t){return this.sealed?ct(2):e.createElement(qt,{sheet:this.instance},t)},t.interleaveWithNodeStream=function(e){return ct(3)}}();var bn=vn,xn=o(4272),_n=o(7982),Sn=o(1145),En=o(821),Cn=o(7709),An=o(2817),Tn=o(3793),Mn=o(3728),Pn=o(5213),Dn=o(3469),kn=768,On=1280,In=bn.div.withConfig({displayName:"MainWrapper__PaddingWrapper",componentId:"sc-1cmqi9n-0"})(["padding:0 16px;"]),Rn=bn.div.withConfig({displayName:"MainWrapper__WrapperMiddle",componentId:"sc-1cmqi9n-1"})(["color:black;display:flex;flex-direction:row;flex-grow:1;justify-content:center;",""],(function(e){return e.hasBorder&&{"--tw-border-opacity":"1",borderColor:"rgb(168 85 247 / var(--tw-border-opacity))"}})),Ln=bn.div.withConfig({displayName:"MainWrapper__WrapperMain",componentId:"sc-1cmqi9n-2"})(["padding:0;color:black;display:flex;flex-direction:column;flex-grow:6;z-index:1;"," ",";",";transition:all 0.5s ease;@media(max-width:","px){flex-grow:12;}@media(max-width:","px){flex-grow:18;}"],{maxWidth:"1280px","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"},(function(e){return e.hasBorder&&{"--tw-border-opacity":"1",borderColor:"rgb(168 85 247 / var(--tw-border-opacity))"}}),{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",justifyContent:"center",textAlign:"center"},On,kn),Nn=bn.div.withConfig({displayName:"MainWrapper__WrapperLeft",componentId:"sc-1cmqi9n-3"})(["flex-grow:0.5;min-width:10px;color:black;",";@media(min-width:","px){flex-grow:2;}",";"],(function(e){return e.hasBorder&&{"--tw-border-opacity":"1",borderColor:"rgb(168 85 247 / var(--tw-border-opacity))"}}),On,{display:"none","@media (min-width: 768px)":{display:"block"}}),zn=bn.div.withConfig({displayName:"MainWrapper__WrapperRight",componentId:"sc-1cmqi9n-4"})(["flex-grow:0.5;min-width:10px;color:black;",";@media(min-width:","px){flex-grow:2;}",";"],(function(e){return e.hasBorder&&{"--tw-border-opacity":"1",borderColor:"rgb(168 85 247 / var(--tw-border-opacity))"}}),On,{display:"none","@media (min-width: 768px)":{display:"block"}}),Bn=bn.div.withConfig({displayName:"Wrapper",componentId:"sc-17sldw1-0"})(["color:black;display:flex;flex-direction:column;flex-grow:1;z-index:1;overflow:hidden;",""],(function(e){return e.hasBorder&&{borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(168 85 247 / var(--tw-border-opacity))"}})),Fn=o(3183),Un=o(9036),jn=bn.div.withConfig({displayName:"Styledtwin__WrapperTopStyled",componentId:"sc-1bmjrac-0"})(["box-sizing:content-box;color:black;height:80px;width:100%;",";@media(max-width:","px){min-height:20px;}overflow-y:hidden;overflow-x:auto;padding-bottom:30px;margin-bottom:-30px;padding-left:0;transition:padding-left 0.5s ease;@media(max-width:","px){padding-left:15px;transition:padding-left 0.5s ease;}display:flex;align-items:center;"],(function(e){return e.hasBorder&&{borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(59 130 246 / var(--tw-border-opacity))"}}),kn,320),Vn=bn.div.attrs((function(e){return{className:"gsap_nav_expand"}})).withConfig({displayName:"Styledtwin__NavWrapper",componentId:"sc-1bmjrac-1"})(["margin:10px auto 0 auto;height:50px;display:flex;align-items:center;justify-content:center;flex-wrap:nowrap;position:relative;",";transition:box-shadow 0.3s ease;"],{borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))","--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",":active":{"--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},"@media (min-width: 768px)":{":hover":{"--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":active":{"--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}}),Hn=bn.div.withConfig({displayName:"Styledtwin__NavHome",componentId:"sc-1bmjrac-2"})(["height:50px;line-height:50px;width:50px;text-align:center;flex-shrink:0;flex-grow:0;position:relative;z-index:100;",";transition:scale 0.3s ease;&:active{scale:1.1;}@media(min-width:","px){&:hover{scale:1.1;}&:active{scale:1;}}"],{borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(147 197 253 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},"@media (min-width: 768px)":{cursor:"pointer",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(147 197 253 / var(--tw-bg-opacity))","--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}},kn),Gn=bn.div.attrs((function(e){return{className:"gsap_navItem_expand"}})).withConfig({displayName:"Styledtwin__NavItem",componentId:"sc-1bmjrac-3"})(["min-width:50px;height:50px;line-height:50px;position:relative;z-index:",";text-align:center;flex-shrink:0;flex-grow:0;",";overflow:visible;padding-right:10px;padding-left:10px;&:last-child{padding-right:15px;}transition:color 0.3s ease;"],(function(e){return e.z_index||"99"}),{userSelect:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderRadius:"9999px",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',"--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",":active":{"--tw-text-opacity":"1",color:"rgb(191 219 254 / var(--tw-text-opacity))"},"@media (min-width: 768px)":{cursor:"pointer",":hover":{"--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"},":active":{"--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))"}}}),Wn=bn.div.attrs((function(e){return{className:"gsap_navItem_expand"}})).withConfig({displayName:"Styledtwin__GapIcon",componentId:"sc-1bmjrac-4"})(["position:relative;",";"],{userSelect:"none","--tw-text-opacity":"1",color:"rgb(191 219 254 / var(--tw-text-opacity))"}),qn=bn.div.withConfig({displayName:"Styledtwin__FadeInRight",componentId:"sc-1bmjrac-5"})([""]);function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){Zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||er(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e){return function(e){if(Array.isArray(e))return tr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||er(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){if(e){if("string"==typeof e)return tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tr(e,t):void 0}}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nr=function(){},rr={},ir={},ar=null,or={mark:nr,measure:nr};try{"undefined"!=typeof window&&(rr=window),"undefined"!=typeof document&&(ir=document),"undefined"!=typeof MutationObserver&&(ar=MutationObserver),"undefined"!=typeof performance&&(or=performance)}catch(Sv){}var sr,lr,cr,ur,hr,dr=(rr.navigator||{}).userAgent,fr=void 0===dr?"":dr,pr=rr,mr=ir,gr=ar,vr=or,yr=(pr.document,!!mr.documentElement&&!!mr.head&&"function"==typeof mr.addEventListener&&"function"==typeof mr.createElement),wr=~fr.indexOf("MSIE")||~fr.indexOf("Trident/"),br="___FONT_AWESOME___",xr="fa",_r="svg-inline--fa",Sr="data-fa-i2svg",Er="data-fa-pseudo-element",Cr="data-fa-pseudo-element-pending",Ar="data-prefix",Tr="data-icon",Mr="fontawesome-i2svg",Pr="async",Dr=["HTML","HEAD","STYLE","SCRIPT"],kr=function(){try{return!0}catch(e){return!1}}(),Or="classic",Ir="sharp",Rr=[Or,Ir];function Lr(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[Or]}})}var Nr=Lr((Zn(sr={},Or,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Zn(sr,Ir,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),sr)),zr=Lr((Zn(lr={},Or,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Zn(lr,Ir,{solid:"fass",regular:"fasr",light:"fasl"}),lr)),Br=Lr((Zn(cr={},Or,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Zn(cr,Ir,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),cr)),Fr=Lr((Zn(ur={},Or,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Zn(ur,Ir,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),ur)),Ur=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,jr="fa-layers-text",Vr=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Hr=Lr((Zn(hr={},Or,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Zn(hr,Ir,{900:"fass",400:"fasr",300:"fasl"}),hr)),Gr=[1,2,3,4,5,6,7,8,9,10],Wr=Gr.concat([11,12,13,14,15,16,17,18,19,20]),qr=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Xr={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Yr=new Set;Object.keys(zr[Or]).map(Yr.add.bind(Yr)),Object.keys(zr[Ir]).map(Yr.add.bind(Yr));var Qr=[].concat(Rr,$n(Yr),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Xr.GROUP,Xr.SWAP_OPACITY,Xr.PRIMARY,Xr.SECONDARY]).concat(Gr.map((function(e){return"".concat(e,"x")}))).concat(Wr.map((function(e){return"w-".concat(e)}))),Kr=pr.FontAwesomeConfig||{};mr&&"function"==typeof mr.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Jn(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=mr.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));null!=i&&(Kr[r]=i)}));var Zr={styleDefault:"solid",familyDefault:"classic",cssPrefix:xr,replacementClass:_r,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Kr.familyPrefix&&(Kr.cssPrefix=Kr.familyPrefix);var Jr=Yn(Yn({},Zr),Kr);Jr.autoReplaceSvg||(Jr.observeMutations=!1);var $r={};Object.keys(Zr).forEach((function(e){Object.defineProperty($r,e,{enumerable:!0,set:function(t){Jr[e]=t,ei.forEach((function(e){return e($r)}))},get:function(){return Jr[e]}})})),Object.defineProperty($r,"familyPrefix",{enumerable:!0,set:function(e){Jr.cssPrefix=e,ei.forEach((function(e){return e($r)}))},get:function(){return Jr.cssPrefix}}),pr.FontAwesomeConfig=$r;var ei=[],ti=16,ni={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},ri="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ii(){for(var e=12,t="";e-- >0;)t+=ri[62*Math.random()|0];return t}function ai(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function oi(e){return e.classList?ai(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function si(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function li(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function ci(e){return e.size!==ni.size||e.x!==ni.x||e.y!==ni.y||e.rotate!==ni.rotate||e.flipX||e.flipY}var ui=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function hi(){var e=xr,t=_r,n=$r.cssPrefix,r=$r.replacementClass,i=ui;if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var di=!1;function fi(){$r.autoAddCss&&!di&&(function(e){if(e&&yr){var t=mr.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=mr.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}mr.head.insertBefore(t,r)}}(hi()),di=!0)}var pi={mixout:function(){return{dom:{css:hi,insertCss:fi}}},hooks:function(){return{beforeDOMElementCreation:function(){fi()},beforeI2svg:function(){fi()}}}},mi=pr||{};mi[br]||(mi[br]={}),mi[br].styles||(mi[br].styles={}),mi[br].hooks||(mi[br].hooks={}),mi[br].shims||(mi[br].shims=[]);var gi=mi[br],vi=[],yi=!1;function wi(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"==typeof e?si(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(si(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(wi).join(""),"</").concat(t,">")}function bi(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}yr&&((yi=(mr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(mr.readyState))||mr.addEventListener("DOMContentLoaded",(function e(){mr.removeEventListener("DOMContentLoaded",e),yi=1,vi.map((function(e){return e()}))})));var xi=function(e,t,n,r){var i,a,o,s=Object.keys(e),l=s.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<l;i++)o=c(o,e[a=s[i]],a,e);return o};function _i(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Si(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Ei(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=Si(t);"function"!=typeof gi.hooks.addPack||r?gi.styles[e]=Yn(Yn({},gi.styles[e]||{}),i):gi.hooks.addPack(e,Si(t)),"fas"===e&&Ei("fa",t)}var Ci,Ai,Ti,Mi=gi.styles,Pi=gi.shims,Di=(Zn(Ci={},Or,Object.values(Br[Or])),Zn(Ci,Ir,Object.values(Br[Ir])),Ci),ki=null,Oi={},Ii={},Ri={},Li={},Ni={},zi=(Zn(Ai={},Or,Object.keys(Nr[Or])),Zn(Ai,Ir,Object.keys(Nr[Ir])),Ai);var Bi=function(){var e=function(e){return xi(Mi,(function(t,n,r){return t[r]=xi(n,e,{}),t}),{})};Oi=e((function(e,t,n){return t[3]&&(e[t[3]]=n),t[2]&&t[2].filter((function(e){return"number"==typeof e})).forEach((function(t){e[t.toString(16)]=n})),e})),Ii=e((function(e,t,n){return e[n]=n,t[2]&&t[2].filter((function(e){return"string"==typeof e})).forEach((function(t){e[t]=n})),e})),Ni=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Mi||$r.autoFetchSvg,n=xi(Pi,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"==typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"==typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Ri=n.names,Li=n.unicodes,ki=Gi($r.styleDefault,{family:$r.familyDefault})};function Fi(e,t){return(Oi[e]||{})[t]}function Ui(e,t){return(Ni[e]||{})[t]}function ji(e){return Ri[e]||{prefix:null,iconName:null}}function Vi(){return ki}ei.push((function(e){ki=Gi(e.styleDefault,{family:$r.familyDefault})})),Bi();var Hi=function(){return{prefix:null,iconName:null,rest:[]}};function Gi(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?Or:t,r=Nr[n][e],i=zr[n][e]||zr[n][r],a=e in gi.styles?e:null;return i||a||null}var Wi=(Zn(Ti={},Or,Object.keys(Br[Or])),Zn(Ti,Ir,Object.keys(Br[Ir])),Ti);function qi(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(Zn(t={},Or,"".concat($r.cssPrefix,"-").concat(Or)),Zn(t,Ir,"".concat($r.cssPrefix,"-").concat(Ir)),t),a=null,o=Or;(e.includes(i[Or])||e.some((function(e){return Wi[Or].includes(e)})))&&(o=Or),(e.includes(i[Ir])||e.some((function(e){return Wi[Ir].includes(e)})))&&(o=Ir);var s=e.reduce((function(e,t){var n=function(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~Qr.indexOf(n))?null:a}($r.cssPrefix,t);if(Mi[t]?(t=Di[o].includes(t)?Fr[o][t]:t,a=t,e.prefix=t):zi[o].indexOf(t)>-1?(a=t,e.prefix=Gi(t,{family:o})):n?e.iconName=n:t!==$r.replacementClass&&t!==i[Or]&&t!==i[Ir]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var s="fa"===a?ji(e.iconName):{},l=Ui(e.prefix,e.iconName);s.prefix&&(a=null),e.iconName=s.iconName||l||e.iconName,e.prefix=s.prefix||e.prefix,"far"!==e.prefix||Mi.far||!Mi.fas||$r.autoFetchSvg||(e.prefix="fas")}return e}),Hi());return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),s.prefix||o!==Ir||!Mi.fass&&!$r.autoFetchSvg||(s.prefix="fass",s.iconName=Ui(s.prefix,s.iconName)||s.iconName),"fa"!==s.prefix&&"fa"!==a||(s.prefix=Vi()||"fas"),s}var Xi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=Yn(Yn({},e.definitions[t]||{}),i[t]),Ei(t,i[t]);var n=Br[Or][t];n&&Ei(n,i[t]),Bi()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"==typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&Kn(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Yi=[],Qi={},Ki={},Zi=Object.keys(Ki);function Ji(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Qi[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function $i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Qi[e]||[]).forEach((function(e){e.apply(null,n)}))}function ea(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Ki[e]?Ki[e].apply(null,t):void 0}function ta(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Vi();if(t)return t=Ui(n,t)||t,bi(na.definitions,n,t)||bi(gi.styles,n,t)}var na=new Xi,ra={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yr?($i("beforeI2svg",e),ea("pseudoElements2svg",e),ea("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===$r.autoReplaceSvg&&($r.autoReplaceSvg=!0),$r.observeMutations=!0,function(e){yr&&(yi?setTimeout(e,0):vi.push(e))}((function(){aa({autoReplaceSvgRoot:t}),$i("watch",e)}))}},ia={noAuto:function(){$r.autoReplaceSvg=!1,$r.observeMutations=!1,$i("noAuto")},config:$r,dom:ra,parse:{icon:function(e){if(null===e)return null;if("object"===Qn(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ui(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Gi(e[0]);return{prefix:n,iconName:Ui(n,t)||t}}if("string"==typeof e&&(e.indexOf("".concat($r.cssPrefix,"-"))>-1||e.match(Ur))){var r=qi(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Vi(),iconName:Ui(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var i=Vi();return{prefix:i,iconName:Ui(i,e)||e}}}},library:na,findIconDefinition:ta,toHtml:wi},aa=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?mr:e;(Object.keys(gi.styles).length>0||$r.autoFetchSvg)&&yr&&$r.autoReplaceSvg&&ia.dom.i2svg({node:t})};function oa(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return wi(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(yr){var t=mr.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function sa(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,l=e.title,c=e.maskId,u=e.titleId,h=e.extra,d=e.watchable,f=void 0!==d&&d,p=r.found?r:n,m=p.width,g=p.height,v="fak"===i,y=[$r.replacementClass,a?"".concat($r.cssPrefix,"-").concat(a):""].filter((function(e){return-1===h.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(h.classes).join(" "),w={children:[],attributes:Yn(Yn({},h.attributes),{},{"data-prefix":i,"data-icon":a,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},b=v&&!~h.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};f&&(w.attributes[Sr]=""),l&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||ii())},children:[l]}),delete w.attributes.title);var x=Yn(Yn({},w),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:s,styles:Yn(Yn({},b),h.styles)}),_=r.found&&n.found?ea("generateAbstractMask",x)||{children:[],attributes:{}}:ea("generateAbstractIcon",x)||{children:[],attributes:{}},S=_.children,E=_.attributes;return x.children=S,x.attributes=E,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat($r.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Yn(Yn({},i),{},{id:o}),children:r}]}]}(x):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(ci(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=li(Yn(Yn({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(x)}function la(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,l=void 0!==s&&s,c=Yn(Yn(Yn({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});l&&(c[Sr]="");var u=Yn({},o.styles);ci(i)&&(u.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,s=void 0!==o&&o,l="";return l+=s&&wr?"translate(".concat(t.x/ti-r/2,"em, ").concat(t.y/ti-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/ti,"em), calc(-50% + ").concat(t.y/ti,"em)) "):"translate(".concat(t.x/ti,"em, ").concat(t.y/ti,"em) "),(l+="scale(".concat(t.size/ti*(t.flipX?-1:1),", ").concat(t.size/ti*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var h=li(u);h.length>0&&(c.style=h);var d=[];return d.push({tag:"span",attributes:c,children:[t]}),a&&d.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),d}var ca=gi.styles;function ua(e){var t=e[0],n=e[1],r=Jn(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat($r.cssPrefix,"-").concat(Xr.GROUP)},children:[{tag:"path",attributes:{class:"".concat($r.cssPrefix,"-").concat(Xr.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat($r.cssPrefix,"-").concat(Xr.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var ha={found:!1,width:512,height:512};function da(e,t){var n=t;return"fa"===t&&null!==$r.styleDefault&&(t=Vi()),new Promise((function(r,i){if(ea("missingIconAbstract"),"fa"===n){var a=ji(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&ca[t]&&ca[t][e])return r(ua(ca[t][e]));!function(e,t){kr||$r.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(Yn(Yn({},ha),{},{icon:$r.showMissingIcons&&e&&ea("missingIconAbstract")||{}}))}))}var fa=function(){},pa=$r.measurePerformance&&vr&&vr.mark&&vr.measure?vr:{mark:fa,measure:fa},ma='FA "6.4.0"',ga=function(e){pa.mark("".concat(ma," ").concat(e," ends")),pa.measure("".concat(ma," ").concat(e),"".concat(ma," ").concat(e," begins"),"".concat(ma," ").concat(e," ends"))},va={begin:function(e){return pa.mark("".concat(ma," ").concat(e," begins")),function(){return ga(e)}},end:ga},ya=function(){};function wa(e){return"string"==typeof(e.getAttribute?e.getAttribute(Sr):null)}function ba(e){return mr.createElementNS("http://www.w3.org/2000/svg",e)}function xa(e){return mr.createElement(e)}function _a(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?ba:xa:t;if("string"==typeof e)return mr.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(_a(e,{ceFn:n}))})),r}var Sa={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(_a(e),t)})),null===t.getAttribute(Sr)&&$r.keepOriginalSource){var n=mr.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~oi(t).indexOf($r.replacementClass))return Sa.replace(e);var r=new RegExp("".concat($r.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===$r.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return wi(e)})).join("\n");t.setAttribute(Sr,""),t.innerHTML=a}};function Ea(e){e()}function Ca(e,t){var n="function"==typeof t?t:ya;if(0===e.length)n();else{var r=Ea;$r.mutateApproach===Pr&&(r=pr.requestAnimationFrame||Ea),r((function(){var t=!0===$r.autoReplaceSvg?Sa.replace:Sa[$r.autoReplaceSvg]||Sa.replace,r=va.begin("mutate");e.map(t),r(),n()}))}}var Aa=!1;function Ta(){Aa=!0}function Ma(){Aa=!1}var Pa=null;function Da(e){if(gr&&$r.observeMutations){var t=e.treeCallback,n=void 0===t?ya:t,r=e.nodeCallback,i=void 0===r?ya:r,a=e.pseudoElementsCallback,o=void 0===a?ya:a,s=e.observeMutationsRoot,l=void 0===s?mr:s;Pa=new gr((function(e){if(!Aa){var t=Vi();ai(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!wa(e.addedNodes[0])&&($r.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&$r.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&wa(e.target)&&~qr.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Ar):null,n=e.getAttribute?e.getAttribute(Tr):null;return t&&n}(e.target)){var r=qi(oi(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(Ar,a||t),s&&e.target.setAttribute(Tr,s)}else(function(e){return e&&e.classList&&e.classList.contains&&e.classList.contains($r.replacementClass)})(e.target)&&i(e.target)}))}})),yr&&Pa.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function ka(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=function(e){var t,n,r=e.getAttribute("data-prefix"),i=e.getAttribute("data-icon"),a=void 0!==e.innerText?e.innerText.trim():"",o=qi(oi(e));return o.prefix||(o.prefix=Vi()),r&&i&&(o.prefix=r,o.iconName=i),o.iconName&&o.prefix||(o.prefix&&a.length>0&&(o.iconName=(t=o.prefix,n=e.innerText,(Ii[t]||{})[n]||Fi(o.prefix,_i(e.innerText)))),!o.iconName&&$r.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=e.firstChild.data)),o}(e),r=n.iconName,i=n.prefix,a=n.rest,o=function(e){var t=ai(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return $r.autoA11y&&(n?t["aria-labelledby"]="".concat($r.replacementClass,"-title-").concat(r||ii()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=Ji("parseNodeAttributes",{},e),l=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return Yn({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:ni,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:l,attributes:o}},s)}var Oa=gi.styles;function Ia(e){var t="nest"===$r.autoReplaceSvg?ka(e,{styleParser:!1}):ka(e);return~t.extra.classes.indexOf(jr)?ea("generateLayersText",e,t):ea("generateSvgReplacementMutation",e,t)}var Ra=new Set;function La(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!yr)return Promise.resolve();var n=mr.documentElement.classList,r=function(e){return n.add("".concat(Mr,"-").concat(e))},i=function(e){return n.remove("".concat(Mr,"-").concat(e))},a=$r.autoFetchSvg?Ra:Rr.map((function(e){return"fa-".concat(e)})).concat(Object.keys(Oa));a.includes("fa")||a.push("fa");var o=[".".concat(jr,":not([").concat(Sr,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(Sr,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=ai(e.querySelectorAll(o))}catch(e){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var l=va.begin("onTree"),c=s.reduce((function(e,t){try{var n=Ia(t);n&&e.push(n)}catch(e){kr||"MissingIcon"===e.name&&console.error(e)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){Ca(n,(function(){r("active"),r("complete"),i("pending"),"function"==typeof t&&t(),l(),e()}))})).catch((function(e){l(),n(e)}))}))}function Na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ia(e).then((function(e){e&&Ca([e],t)}))}function za(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:ta(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:ta(i||{})),e(r,Yn(Yn({},n),{},{mask:i}))}}Rr.map((function(e){Ra.add("fa-".concat(e))})),Object.keys(Nr[Or]).map(Ra.add.bind(Ra)),Object.keys(Nr[Ir]).map(Ra.add.bind(Ra)),Ra=$n(Ra);var Ba=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?ni:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,l=t.maskId,c=void 0===l?null:l,u=t.title,h=void 0===u?null:u,d=t.titleId,f=void 0===d?null:d,p=t.classes,m=void 0===p?[]:p,g=t.attributes,v=void 0===g?{}:g,y=t.styles,w=void 0===y?{}:y;if(e){var b=e.prefix,x=e.iconName,_=e.icon;return oa(Yn({type:"icon"},e),(function(){return $i("beforeDOMElementCreation",{iconDefinition:e,params:t}),$r.autoA11y&&(h?v["aria-labelledby"]="".concat($r.replacementClass,"-title-").concat(f||ii()):(v["aria-hidden"]="true",v.focusable="false")),sa({icons:{main:ua(_),mask:s?ua(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:x,transform:Yn(Yn({},ni),r),symbol:a,title:h,maskId:c,titleId:f,extra:{attributes:v,styles:w,classes:m}})}))}},Fa={mixout:function(){return{icon:za(Ba)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=La,e.nodeCallback=Na,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?mr:t,r=e.callback;return La(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,s=t.symbol,l=t.mask,c=t.maskId,u=t.extra;return new Promise((function(t,h){Promise.all([da(n,a),l.iconName?da(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(l){var h=Jn(l,2),d=h[0],f=h[1];t([e,sa({icons:{main:d,mask:f},prefix:a,iconName:n,transform:o,symbol:s,maskId:c,title:r,titleId:i,extra:u,watchable:!0})])})).catch(h)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=li(e.styles);return o.length>0&&(r.style=o),ci(a)&&(t=ea("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Ua={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return oa({type:"layer"},(function(){$i("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat($r.cssPrefix,"-layers")].concat($n(r)).join(" ")},children:n}]}))}}}},ja={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,l=t.styles,c=void 0===l?{}:l;return oa({type:"counter",content:e},(function(){return $i("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=Yn(Yn(Yn({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=li(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat($r.cssPrefix,"-layers-counter")].concat($n(a))}})}))}}}},Va={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?ni:n,i=t.title,a=void 0===i?null:i,o=t.classes,s=void 0===o?[]:o,l=t.attributes,c=void 0===l?{}:l,u=t.styles,h=void 0===u?{}:u;return oa({type:"text",content:e},(function(){return $i("beforeDOMElementCreation",{content:e,params:t}),la({content:e,transform:Yn(Yn({},ni),r),title:a,extra:{attributes:c,styles:h,classes:["".concat($r.cssPrefix,"-layers-text")].concat($n(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(wr){var s=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();a=l.width/s,o=l.height/s}return $r.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,la({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},Ha=new RegExp('"',"ug"),Ga=[1105920,1112319];function Wa(e,t){var n="".concat(Cr).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a,o,s,l=ai(e.children).filter((function(e){return e.getAttribute(Er)===t}))[0],c=pr.getComputedStyle(e,t),u=c.getPropertyValue("font-family").match(Vr),h=c.getPropertyValue("font-weight"),d=c.getPropertyValue("content");if(l&&!u)return e.removeChild(l),r();if(u&&"none"!==d&&""!==d){var f=c.getPropertyValue("content"),p=~["Sharp"].indexOf(u[2])?Ir:Or,m=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?zr[p][u[2].toLowerCase()]:Hr[p][h],g=function(e){var t,n,r,i,a=e.replace(Ha,""),o=(r=(t=a).length,(i=t.charCodeAt(0))>=55296&&i<=56319&&r>1&&(n=t.charCodeAt(1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i),s=o>=Ga[0]&&o<=Ga[1],l=2===a.length&&a[0]===a[1];return{value:_i(l?a[0]:a),isSecondary:s||l}}(f),v=g.value,y=g.isSecondary,w=u[0].startsWith("FontAwesome"),b=Fi(m,v),x=b;if(w){var _=(o=Li[a=v],s=Fi("fas",a),o||(s?{prefix:"fas",iconName:s}:null)||{prefix:null,iconName:null});_.iconName&&_.prefix&&(b=_.iconName,m=_.prefix)}if(!b||y||l&&l.getAttribute(Ar)===m&&l.getAttribute(Tr)===x)r();else{e.setAttribute(n,x),l&&e.removeChild(l);var S={iconName:null,title:null,titleId:null,prefix:null,transform:ni,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},E=S.extra;E.attributes[Er]=t,da(b,m).then((function(i){var a=sa(Yn(Yn({},S),{},{icons:{main:i,mask:Hi()},prefix:m,iconName:x,extra:E,watchable:!0})),o=mr.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return wi(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function qa(e){return Promise.all([Wa(e,"::before"),Wa(e,"::after")])}function Xa(e){return!(e.parentNode===document.head||~Dr.indexOf(e.tagName.toUpperCase())||e.getAttribute(Er)||e.parentNode&&"svg"===e.parentNode.tagName)}function Ya(e){if(yr)return new Promise((function(t,n){var r=ai(e.querySelectorAll("*")).filter(Xa).map(qa),i=va.begin("searchPseudoElements");Ta(),Promise.all(r).then((function(){i(),Ma(),t()})).catch((function(){i(),Ma(),n()}))}))}var Qa={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Ya,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?mr:t;$r.searchPseudoElements&&Ya(n)}}},Ka=!1,Za=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Ja={mixout:function(){return{parse:{transform:function(e){return Za(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Za(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:Yn({},c.outer),children:[{tag:"g",attributes:Yn({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Yn(Yn({},t.icon.attributes),c.path)}]}]}}}},$a={x:0,y:0,width:"100%",height:"100%"};function eo(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var to,no={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?qi(n.split(" ").map((function(e){return e.trim()}))):Hi();return r.prefix||(r.prefix=Vi()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,l=i.width,c=i.icon,u=a.width,h=a.icon,d=function(e){var t=e.transform,n=e.iconWidth,r={transform:"translate(".concat(e.containerWidth/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}({transform:s,containerWidth:u,iconWidth:l}),f={tag:"rect",attributes:Yn(Yn({},$a),{},{fill:"white"})},p=c.children?{children:c.children.map(eo)}:{},m={tag:"g",attributes:Yn({},d.inner),children:[eo(Yn({tag:c.tag,attributes:Yn(Yn({},c.attributes),d.path)},p))]},g={tag:"g",attributes:Yn({},d.outer),children:[m]},v="mask-".concat(o||ii()),y="clip-".concat(o||ii()),w={tag:"mask",attributes:Yn(Yn({},$a),{},{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,g]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=h,"g"===t.tag?t.children:[t])},w]};return n.push(b,{tag:"rect",attributes:Yn({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(v,")")},$a)}),{children:n,attributes:r}}}},ro={provides:function(e){var t=!1;pr.matchMedia&&(t=pr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Yn(Yn({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=Yn(Yn({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Yn(Yn({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:Yn(Yn({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Yn(Yn({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:Yn(Yn({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Yn(Yn({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Yn(Yn({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Yn(Yn({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},io=[pi,Fa,Ua,ja,Va,Qa,{mixout:function(){return{dom:{unwatch:function(){Ta(),Ka=!0}}}},hooks:function(){return{bootstrap:function(){Da(Ji("mutationObserverCallbacks",{}))},noAuto:function(){Pa&&Pa.disconnect()},watch:function(e){var t=e.observeMutationsRoot;Ka?Ma():Da(Ji("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Ja,no,ro,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}];to={mixoutsTo:ia}.mixoutsTo,Yi=io,Qi={},Object.keys(Ki).forEach((function(e){-1===Zi.indexOf(e)&&delete Ki[e]})),Yi.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"==typeof t[e]&&(to[e]=t[e]),"object"===Qn(t[e])&&Object.keys(t[e]).forEach((function(n){to[e]||(to[e]={}),to[e][n]=t[e][n]}))})),e.hooks){var n=e.hooks();Object.keys(n).forEach((function(e){Qi[e]||(Qi[e]=[]),Qi[e].push(n[e])}))}e.provides&&e.provides(Ki)}));var ao=ia.parse,oo=ia.icon,so=o(5697),lo=o.n(so);function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?co(Object(n),!0).forEach((function(t){fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ho(e){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(e)}function fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function po(e){return function(e){if(Array.isArray(e))return mo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function go(e){return t=e,(t-=0)==t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var vo=["style"],yo=!1;try{yo=!0}catch(Sv){}function wo(e){return e&&"object"===ho(e)&&e.prefix&&e.iconName&&e.icon?e:ao.icon?ao.icon(e):null===e?null:e&&"object"===ho(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function bo(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?fo({},e,t):{}}var xo=e.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,s=e.titleId,l=e.maskId,c=wo(n),u=bo("classes",[].concat(po(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,s=e.flash,l=e.spin,c=e.spinPulse,u=e.spinReverse,h=e.pulse,d=e.fixedWidth,f=e.inverse,p=e.border,m=e.listItem,g=e.flip,v=e.size,y=e.rotation,w=e.pull,b=(fo(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":u,"fa-spin-pulse":c,"fa-pulse":h,"fa-fw":d,"fa-inverse":f,"fa-border":p,"fa-li":m,"fa-flip":!0===g,"fa-flip-horizontal":"horizontal"===g||"both"===g,"fa-flip-vertical":"vertical"===g||"both"===g},"fa-".concat(v),null!=v),fo(t,"fa-rotate-".concat(y),null!=y&&0!==y),fo(t,"fa-pull-".concat(w),null!=w),fo(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(e)),po(a.split(" ")))),h=bo("transform","string"==typeof e.transform?ao.transform(e.transform):e.transform),d=bo("mask",wo(r)),f=oo(c,uo(uo(uo(uo({},u),h),d),{},{symbol:i,title:o,titleId:s,maskId:l}));if(!f)return function(){var e;!yo&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=f.abstract,m={ref:t};return Object.keys(e).forEach((function(t){xo.defaultProps.hasOwnProperty(t)||(m[t]=e[t])})),_o(p[0],m)}));xo.displayName="FontAwesomeIcon",xo.propTypes={beat:lo().bool,border:lo().bool,beatFade:lo().bool,bounce:lo().bool,className:lo().string,fade:lo().bool,flash:lo().bool,mask:lo().oneOfType([lo().object,lo().array,lo().string]),maskId:lo().string,fixedWidth:lo().bool,inverse:lo().bool,flip:lo().oneOf([!0,!1,"horizontal","vertical","both"]),icon:lo().oneOfType([lo().object,lo().array,lo().string]),listItem:lo().bool,pull:lo().oneOf(["right","left"]),pulse:lo().bool,rotation:lo().oneOf([0,90,180,270]),shake:lo().bool,size:lo().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:lo().bool,spinPulse:lo().bool,spinReverse:lo().bool,symbol:lo().oneOfType([lo().bool,lo().string]),title:lo().string,titleId:lo().string,transform:lo().oneOfType([lo().string,lo().object]),swapOpacity:lo().bool},xo.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var _o=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=go(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[go(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,vo);return a.attrs.style=uo(uo({},a.attrs.style),s),t.apply(void 0,[n.tag,uo(uo({},a.attrs),l)].concat(po(i)))}.bind(null,e.createElement),So=function(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t},Eo=function(){var e=0;return window?e=window.scrollY:document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),e},Co=function(){return document.body.clientHeight&&document.documentElement.clientHeight?document.body.clientHeight<document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight:document.body.clientHeight>document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight},Ao=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};function To(e,t,n,r){return new Promise((function(i,a){fetch(e).then((function(e){var o=e.headers.get("Content-Length"),s=0,l=e.body.getReader(),c=[];!function e(){l.read().then((function(a){var l=a.done,u=a.value;if(l){var h=new Blob(c);return n&&n(r),void i(h)}c.push(u),s+=u.length,t&&t((s/o*100).toFixed(2),r),e()})).catch((function(e){a(e)}))}()})).catch((function(e){a(e)}))}))}function Mo(){var e=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)}function Po(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)}))}function Do(e){var t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0"),s=String(t.getSeconds()).padStart(2,"0");return"".concat(n,"-").concat(r,"-").concat(i," ").concat(a,":").concat(o,":").concat(s)}function ko(e){return e.filter((function(t,n){return 0===n||t!==e[n-1]}))}function Oo(e){var t={"%":"%25","?":"%3F","#":"%23","&":"%26","=":"%3D"};return e.replace(/[%?#&=]/g,(function(e){return t[e]}))}function Io(e){var t={"%25":"%","%3F":"?","%23":"#","%26":"&","%3D":"="};return e.replace(/%25|%3F|%23|%26|%3D/g,(function(e){return t[e]}))}var Ro=function(e,t,n){var r=e.match(/^([\d.]+)(.*)$/);if(r){var i=parseFloat(r[1]),a=r[2],o=t(i,n);return"".concat(o).concat(a)}return null};function Lo(){var e=window.navigator.userAgent.toLowerCase();return/iphone/.test(e)&&!/ipad/.test(e)}function No(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Bo,Fo,Uo,jo,Vo,Ho,Go,Wo,qo,Xo,Yo,Qo,Ko,Zo,Jo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},$o={duration:.5,overwrite:!1,delay:0},es=1e8,ts=1e-8,ns=2*Math.PI,rs=ns/4,is=0,as=Math.sqrt,os=Math.cos,ss=Math.sin,ls=function(e){return"string"==typeof e},cs=function(e){return"function"==typeof e},us=function(e){return"number"==typeof e},hs=function(e){return void 0===e},ds=function(e){return"object"==typeof e},fs=function(e){return!1!==e},ps=function(){return"undefined"!=typeof window},ms=function(e){return cs(e)||ls(e)},gs="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},vs=Array.isArray,ys=/(?:-?\.?\d|\.)+/gi,ws=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,bs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,xs=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_s=/[+-]=-?[.\d]+/,Ss=/[^,'"\[\]\s]+/gi,Es=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Cs={},As={},Ts=function(e){return(As=nl(e,Cs))&&nu},Ms=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Ps=function(e,t){return!t&&console.warn(e)},Ds=function(e,t){return e&&(Cs[e]=t)&&As&&(As[e]=t)||Cs},ks=function(){return 0},Os={suppressEvents:!0,isStart:!0,kill:!1},Is={suppressEvents:!0,kill:!1},Rs={suppressEvents:!0},Ls={},Ns=[],zs={},Bs={},Fs={},Us=30,js=[],Vs="",Hs=function(e){var t,n,r=e[0];if(ds(r)||cs(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=js.length;n--&&!js[n].targetTest(r););t=js[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new gc(e[n],t)))||e.splice(n,1);return e},Gs=function(e){return e._gsap||Hs(Il(e))[0]._gsap},Ws=function(e,t,n){return(n=e[t])&&cs(n)?e[t]():hs(n)&&e.getAttribute&&e.getAttribute(t)||n},qs=function(e,t){return(e=e.split(",")).forEach(t)||e},Xs=function(e){return Math.round(1e5*e)/1e5||0},Ys=function(e){return Math.round(1e7*e)/1e7||0},Qs=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},Ks=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Zs=function(){var e,t,n=Ns.length,r=Ns.slice(0);for(zs={},Ns.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Js=function(e,t,n,r){Ns.length&&!Fo&&Zs(),e.render(t,n,r||Fo&&t<0&&(e._initted||e._startAt)),Ns.length&&!Fo&&Zs()},$s=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Ss).length<2?t:ls(e)?e.trim():e},el=function(e){return e},tl=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},nl=function(e,t){for(var n in t)e[n]=t[n];return e},rl=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=ds(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},il=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},al=function(e){var t,n=e.parent||jo,r=e.keyframes?(t=vs(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):tl;if(fs(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},ol=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},sl=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},ll=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},cl=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},ul=function(e,t,n,r){return e._startAt&&(Fo?e._startAt.revert(Is):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},hl=function e(t){return!t||t._ts&&e(t.parent)},dl=function(e){return e._repeat?fl(e._tTime,e=e.duration()+e._rDelay)*e:0},fl=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},pl=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},ml=function(e){return e._end=Ys(e._start+(e._tDur/Math.abs(e._ts||e._rts||ts)||0))},gl=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Ys(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),ml(e),n._dirty||cl(n,e)),e},vl=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=pl(e.rawTime(),t),(!t._dur||Pl(0,t.totalDuration(),n)-t._tTime>ts)&&t.render(n,!0)),cl(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},yl=function(e,t,n,r){return t.parent&&ll(t),t._start=Ys((us(n)?n:n||e!==jo?Al(e,n,t):e._time)+t._delay),t._end=Ys(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),ol(e,t,"_first","_last",e._sort?"_start":0),_l(t)||(e._recent=t),r||vl(e,t),e._ts<0&&gl(e,e._tTime),e},wl=function(e,t){return(Cs.ScrollTrigger||Ms("scrollTrigger",t))&&Cs.ScrollTrigger.create(t,e)},bl=function(e,t,n,r,i){return Ec(e,t,i),e._initted?!n&&e._pt&&!Fo&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&qo!==rc.frame?(Ns.push(e),e._lazy=[i,r],1):void 0:1},xl=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},_l=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Sl=function(e,t,n,r){var i=e._repeat,a=Ys(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=i?i<0?1e10:Ys(a*(i+1)+e._rDelay*i):a,o>0&&!r&&gl(e,e._tTime=e._tDur*o),e.parent&&ml(e),n||cl(e.parent,e),e},El=function(e){return e instanceof yc?cl(e):Sl(e,e._dur)},Cl={_start:0,endTime:ks,totalDuration:ks},Al=function e(t,n,r){var i,a,o,s=t.labels,l=t._recent||Cl,c=t.duration()>=es?l.endTime(!1):t._dur;return ls(n)&&(isNaN(n)||n in s)?(a=n.charAt(0),o="%"===n.substr(-1),i=n.indexOf("="),"<"===a||">"===a?(i>=0&&(n=n.replace(/=/,"")),("<"===a?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(o?(i<0?l:r).totalDuration()/100:1)):i<0?(n in s||(s[n]=c),s[n]):(a=parseFloat(n.charAt(i-1)+n.substr(i+1)),o&&r&&(a=a/100*(vs(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+a:c+a)):null==n?c:+n},Tl=function(e,t,n){var r,i,a=us(t[1]),o=(a?2:1)+(e<2?0:1),s=t[o];if(a&&(s.duration=t[1]),s.parent=n,e){for(r=s,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=fs(i.vars.inherit)&&i.parent;s.immediateRender=fs(r.immediateRender),e<2?s.runBackwards=1:s.startAt=t[o-1]}return new Pc(t[0],s,t[o+1])},Ml=function(e,t){return e||0===e?t(e):t},Pl=function(e,t,n){return n<e?e:n>t?t:n},Dl=function(e,t){return ls(e)&&(t=Es.exec(e))?t[1]:""},kl=[].slice,Ol=function(e,t){return e&&ds(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ds(e[0]))&&!e.nodeType&&e!==Vo},Il=function(e,t,n){return Uo&&!t&&Uo.selector?Uo.selector(e):!ls(e)||n||!Ho&&ic()?vs(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return ls(e)&&!t||Ol(e,1)?(r=n).push.apply(r,Il(e)):n.push(e)}))||n}(e,n):Ol(e)?kl.call(e,0):e?[e]:[]:kl.call((t||Go).querySelectorAll(e),0)},Rl=function(e){return e=Il(e)[0]||Ps("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Il(t,n.querySelectorAll?n:n===e?Ps("Invalid scope")||Go.createElement("div"):e)}},Ll=function(e){return e.sort((function(){return.5-Math.random()}))},Nl=function(e){if(cs(e))return e;var t=ds(e)?e:{each:e},n=hc(t.ease),r=t.from||0,i=parseFloat(t.base)||0,a={},o=r>0&&r<1,s=isNaN(r)||o,l=t.axis,c=r,u=r;return ls(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!o&&s&&(c=r[0],u=r[1]),function(e,o,h){var d,f,p,m,g,v,y,w,b,x=(h||t).length,_=a[x];if(!_){if(!(b="auto"===t.grid?0:(t.grid||[1,es])[1])){for(y=-es;y<(y=h[b++].getBoundingClientRect().left)&&b<x;);b--}for(_=a[x]=[],d=s?Math.min(b,x)*c-.5:r%b,f=b===es?0:s?x*u/b-.5:r/b|0,y=0,w=es,v=0;v<x;v++)p=v%b-d,m=f-(v/b|0),_[v]=g=l?Math.abs("y"===l?m:p):as(p*p+m*m),g>y&&(y=g),g<w&&(w=g);"random"===r&&Ll(_),_.max=y-w,_.min=w,_.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(b>x?x-1:l?"y"===l?x/b:b:Math.max(b,x/b))||0)*("edges"===r?-1:1),_.b=x<0?i-x:i,_.u=Dl(t.amount||t.each)||0,n=n&&x<0?cc(n):n}return x=(_[e]-_.min)/_.max||0,Ys(_.b+(n?n(x):x)*_.v)+_.u}},zl=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Ys(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(us(n)?0:Dl(n))}},Bl=function(e,t){var n,r,i=vs(e);return!i&&ds(e)&&(n=i=e.radius||es,e.values?(e=Il(e.values),(r=!us(e[0]))&&(n*=n)):e=zl(e.increment)),Ml(t,i?cs(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,a,o=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),l=es,c=0,u=e.length;u--;)(i=r?(i=e[u].x-o)*i+(a=e[u].y-s)*a:Math.abs(e[u]-o))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||us(t)?c:c+Dl(t)}:zl(e))},Fl=function(e,t,n,r){return Ml(vs(e)?!t:!0===n?!!(n=0):!r,(function(){return vs(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},Ul=function(e,t,n){return Ml(n,(function(n){return e[~~t(n)]}))},jl=function(e){for(var t,n,r,i,a=0,o="";~(t=e.indexOf("random(",a));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?Ss:ys),o+=e.substr(a,t-a)+Fl(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),a=r+1;return o+e.substr(a,e.length-a)},Vl=function(e,t,n,r,i){var a=t-e,o=r-n;return Ml(i,(function(t){return n+((t-e)/a*o||0)}))},Hl=function(e,t,n){var r,i,a,o=e.labels,s=es;for(r in o)(i=o[r]-t)<0==!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a},Gl=function(e,t,n){var r,i,a,o=e.vars,s=o[t],l=Uo,c=e._ctx;if(s)return r=o[t+"Params"],i=o.callbackScope||e,n&&Ns.length&&Zs(),c&&(Uo=c),a=r?s.apply(i,r):s.call(i),Uo=l,a},Wl=function(e){return ll(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Fo),e.progress()<1&&Gl(e,"onInterrupt"),e},ql=[],Xl=function(e){if(ps()&&e){var t=(e=!e.name&&e.default||e).name,n=cs(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:ks,render:Bc,add:_c,kill:Uc,modifier:Fc,rawVars:0},a={targetTest:0,get:0,getSetter:Rc,aliases:{},register:0};if(ic(),e!==r){if(Bs[t])return;tl(r,tl(il(e,i),a)),nl(r.prototype,nl(i,il(e,a))),Bs[r.prop=t]=r,e.targetTest&&(js.push(r),Ls[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Ds(t,r),e.register&&e.register(nu,r,Hc)}else e&&ql.push(e)},Yl=255,Ql={aqua:[0,Yl,Yl],lime:[0,Yl,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Yl],navy:[0,0,128],white:[Yl,Yl,Yl],olive:[128,128,0],yellow:[Yl,Yl,0],orange:[Yl,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Yl,0,0],pink:[Yl,192,203],cyan:[0,Yl,Yl],transparent:[Yl,Yl,Yl,0]},Kl=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*Yl+.5|0},Zl=function(e,t,n){var r,i,a,o,s,l,c,u,h,d,f=e?us(e)?[e>>16,e>>8&Yl,e&Yl]:0:Ql.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Ql[e])f=Ql[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),a=e.charAt(3),e="#"+r+r+i+i+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(f=parseInt(e.substr(1,6),16))>>16,f>>8&Yl,f&Yl,parseInt(e.substr(7),16)/255];f=[(e=parseInt(e.substr(1),16))>>16,e>>8&Yl,e&Yl]}else if("hsl"===e.substr(0,3))if(f=d=e.match(ys),t){if(~e.indexOf("="))return f=e.match(ws),n&&f.length<4&&(f[3]=1),f}else o=+f[0]%360/360,s=+f[1]/100,r=2*(l=+f[2]/100)-(i=l<=.5?l*(s+1):l+s-l*s),f.length>3&&(f[3]*=1),f[0]=Kl(o+1/3,r,i),f[1]=Kl(o,r,i),f[2]=Kl(o-1/3,r,i);else f=e.match(ys)||Ql.transparent;f=f.map(Number)}return t&&!d&&(r=f[0]/Yl,i=f[1]/Yl,a=f[2]/Yl,l=((c=Math.max(r,i,a))+(u=Math.min(r,i,a)))/2,c===u?o=s=0:(h=c-u,s=l>.5?h/(2-c-u):h/(c+u),o=c===r?(i-a)/h+(i<a?6:0):c===i?(a-r)/h+2:(r-i)/h+4,o*=60),f[0]=~~(o+.5),f[1]=~~(100*s+.5),f[2]=~~(100*l+.5)),n&&f.length<4&&(f[3]=1),f},Jl=function(e){var t=[],n=[],r=-1;return e.split(ec).forEach((function(e){var i=e.match(bs)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},$l=function(e,t,n){var r,i,a,o,s="",l=(e+s).match(ec),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map((function(e){return(e=Zl(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=Jl(e),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(ec,"1").split(bs)).length-1;u<o;u++)s+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(a.length?a:l.length?l:n).shift());if(!i)for(o=(i=e.split(ec)).length-1;u<o;u++)s+=i[u]+l[u];return s+i[o]},ec=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Ql)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),tc=/hsl[a]?\(/,nc=function(e){var t,n=e.join(" ");if(ec.lastIndex=0,ec.test(n))return t=tc.test(n),e[1]=$l(e[1],t),e[0]=$l(e[0],t,Jl(e[1])),!0},rc=function(){var e,t,n,r,i,a,o=Date.now,s=500,l=33,c=o(),u=c,h=1e3/240,d=h,f=[],p=function n(p){var m,g,v,y,w=o()-u,b=!0===p;if(w>s&&(c+=w-l),((m=(v=(u+=w)-c)-d)>0||b)&&(y=++r.frame,i=v-1e3*r.time,r.time=v/=1e3,d+=m+(m>=h?4:h-m),g=1),b||(e=t(n)),g)for(a=0;a<f.length;a++)f[a](v,i,y,p)};return r={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){Wo&&(!Ho&&ps()&&(Vo=Ho=window,Go=Vo.document||{},Cs.gsap=nu,(Vo.gsapVersions||(Vo.gsapVersions=[])).push(nu.version),Ts(As||Vo.GreenSockGlobals||!Vo.gsap&&Vo||{}),n=Vo.requestAnimationFrame,ql.forEach(Xl)),e&&r.sleep(),t=n||function(e){return setTimeout(e,d-1e3*r.time+1|0)},Yo=1,p(2))},sleep:function(){(n?Vo.cancelAnimationFrame:clearTimeout)(e),Yo=0,t=ks},lagSmoothing:function(e,t){s=e||1/0,l=Math.min(t||33,s)},fps:function(e){h=1e3/(e||240),d=1e3*r.time+h},add:function(e,t,n){var i=t?function(t,n,a,o){e(t,n,a,o),r.remove(i)}:e;return r.remove(e),f[n?"unshift":"push"](i),ic(),i},remove:function(e,t){~(t=f.indexOf(e))&&f.splice(t,1)&&a>=t&&a--},_listeners:f},r}(),ic=function(){return!Yo&&rc.wake()},ac={},oc=/^[\d.\-M][\d.\-,\s]/,sc=/["']/g,lc=function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,l=a.length;s<l;s++)n=a[s],t=s!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(sc,"").trim():+r,o=n.substr(t+1).trim();return i},cc=function(e){return function(t){return 1-e(1-t)}},uc=function e(t,n){for(var r,i=t._first;i;)i instanceof yc?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},hc=function(e,t){return e&&(cs(e)?e:ac[e]||function(e){var t=(e+"").split("("),n=ac[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[lc(t[1])]:function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)}(e).split(",").map($s)):ac._CE&&oc.test(e)?ac._CE("",e):n}(e))||t},dc=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return qs(e,(function(e){for(var t in ac[e]=Cs[e]=a,ac[i=e.toLowerCase()]=n,a)ac[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=ac[e+"."+t]=a[t]})),a},fc=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},pc=function e(t,n,r){var i=n>=1?n:1,a=(r||(t?.3:.45))/(n<1?n:1),o=a/ns*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*ss((e-o)*a)+1},l="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:fc(s);return a=ns/a,l.config=function(n,r){return e(t,n,r)},l},mc=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:fc(r);return i.config=function(n){return e(t,n)},i};qs("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;dc(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),ac.Linear.easeNone=ac.none=ac.Linear.easeIn,dc("Elastic",pc("in"),pc("out"),pc()),Qo=7.5625,Ko=2.75,Zo=function(e){return e<.36363636363636365?Qo*e*e:e<.7272727272727273?Qo*Math.pow(e-1.5/Ko,2)+.75:e<.9090909090909092?Qo*(e-=2.25/Ko)*e+.9375:Qo*Math.pow(e-2.625/Ko,2)+.984375},dc("Bounce",(function(e){return 1-Zo(1-e)}),Zo),dc("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),dc("Circ",(function(e){return-(as(1-e*e)-1)})),dc("Sine",(function(e){return 1===e?1:1-os(e*rs)})),dc("Back",mc("in"),mc("out"),mc()),ac.SteppedEase=ac.steps=Cs.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*Pl(0,.99999999,e)|0)+i)*n}}},$o.ease=ac["quad.out"],qs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return Vs+=e+","+e+"Params,"}));var gc=function(e,t){this.id=is++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Ws,this.set=t?t.getSetter:Rc},vc=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Sl(this,+e.duration,1,1),this.data=e.data,Uo&&(this._ctx=Uo,Uo.data.push(this)),Yo||rc.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Sl(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(ic(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(gl(this,e),!n._dp||n.parent||vl(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&yl(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===ts||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Js(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+dl(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+dl(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?fl(this._tTime,n)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?pl(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(Pl(-Math.abs(this._delay),this._tDur,t),!0),ml(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ic(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==ts&&(this._tTime-=ts)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&yl(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(fs(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?pl(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=Rs);var t=Fo;return Fo=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),Fo=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(t._ts||1),t=t._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,El(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,El(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Al(this,e),fs(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,fs(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-ts))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=cs(e)?e:el,i=function(){var e=t.then;t.then=null,cs(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){Wl(this)},e}();tl(vc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var yc=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=fs(t.sortChildren),jo&&yl(t.parent||jo,No(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&wl(No(r),t.scrollTrigger),r}zo(t,e);var n=t.prototype;return n.to=function(e,t,n){return Tl(0,arguments,this),this},n.from=function(e,t,n){return Tl(1,arguments,this),this},n.fromTo=function(e,t,n,r){return Tl(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,al(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Pc(e,t,Al(this,n),1),this},n.call=function(e,t,n){return yl(this,Pc.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,a,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new Pc(e,n,Al(this,i)),this},n.staggerFrom=function(e,t,n,r,i,a,o){return n.runBackwards=1,al(n).immediateRender=fs(n.immediateRender),this.staggerTo(e,t,n,r,i,a,o)},n.staggerFromTo=function(e,t,n,r,i,a,o,s){return r.startAt=n,al(r).immediateRender=fs(r.immediateRender),this.staggerTo(e,t,r,i,a,o,s)},n.render=function(e,t,n){var r,i,a,o,s,l,c,u,h,d,f,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:Ys(e),w=this._zTime<0!=e<0&&(this._initted||!v);if(this!==jo&&y>g&&e>=0&&(y=g),y!==this._tTime||n||w){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),r=y,h=this._start,l=!(u=this._ts),w&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(f=this._yoyo,s=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*s+e,t,n);if(r=Ys(y%s),y===g?(o=this._repeat,r=v):((o=~~(y/s))&&o===y/s&&(r=v,o--),r>v&&(r=v)),d=fl(this._tTime,s),!m&&this._tTime&&d!==o&&this._tTime-d*s-this._dur<=0&&(d=o),f&&1&o&&(r=v-r,p=1),o!==d&&!this._lock){var b=f&&1&d,x=b===(f&&1&o);if(o<d&&(b=!b),m=b?0:y%v?v:y,this._lock=1,this.render(m||(p?0:Ys(o*s)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&Gl(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,x&&(this._lock=2,m=b?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;uc(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Ys(m),Ys(r)),c&&(y-=r-(r=c._start))),this._tTime=y,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&r&&!t&&!o&&(Gl(this,"onStart"),this._tTime!==y))return this;if(r>=m&&e>=0)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){c=0,a&&(y+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var _=e<0?e:r;i;){if(a=i._prev,(i._act||_<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(_-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(_-i._start)*i._ts,t,n||Fo&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!l){c=0,a&&(y+=this._zTime=_?-1e-8:ts);break}}i=a}}if(c&&!t&&(this.pause(),c.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=h,ml(this),this.render(e,t,n);this._onUpdate&&!t&&Gl(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(h!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&ll(this,1),t||e<0&&!m||!y&&!m&&g||(Gl(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(us(t)||(t=Al(this,t,e)),!(e instanceof vc)){if(vs(e))return e.forEach((function(e){return n.add(e,t)})),this;if(ls(e))return this.addLabel(e,t);if(!cs(e))return this;e=Pc.delayedCall(0,e)}return this!==e?yl(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-es);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof Pc?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return ls(e)?this.removeLabel(e):cs(e)?this.killTweensOf(e):(sl(this,e),e===this._recent&&(this._recent=this._last),cl(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ys(rc.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=Al(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=Pc.delayedCall(0,t||ks,n);return r.data="isPause",this._hasPause=1,yl(this,r,Al(this,e))},n.removePause=function(e){var t=this._first;for(e=Al(this,e);t;)t._start===e&&"isPause"===t.data&&ll(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)wc!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=Il(e),a=this._first,o=us(t);a;)a instanceof Pc?Ks(a._targets,i)&&(o?(!wc||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=Al(r,e),a=t,o=a.startAt,s=a.onStart,l=a.onStartParams,c=a.immediateRender,u=Pc.to(r,tl({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale())||ts,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(o&&"time"in o?o.time:r._time))/r.timeScale());u._dur!==e&&Sl(u,e,0,1).render(u._time,!0,!0),n=1}s&&s.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,tl({startAt:{time:Al(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),Hl(this,Al(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),Hl(this,Al(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+ts)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return cl(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),cl(this)},n.totalDuration=function(e){var t,n,r,i=0,a=this,o=a._last,s=es;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(r=a.parent;o;)t=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>s&&a._sort&&o._ts&&!a._lock?(a._lock=1,yl(a,o,n-o._delay,1)._lock=0):s=n,n<0&&o._ts&&(i-=n,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),s=0),o._end>i&&o._ts&&(i=o._end),o=t;Sl(a,a===jo&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},t.updateRoot=function(e){if(jo._ts&&(Js(jo,pl(e,jo)),qo=rc.frame),rc.frame>=Us){Us+=Jo.autoSleep||120;var t=jo._first;if((!t||!t._ts)&&Jo.autoSleep&&rc._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||rc.sleep()}}},t}(vc);tl(yc.prototype,{_lock:0,_hasPause:0,_forcing:0});var wc,bc,xc=function(e,t,n,r,i,a,o){var s,l,c,u,h,d,f,p,m=new Hc(this._pt,e,t,0,1,zc,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(f=~(r+="").indexOf("random("))&&(r=jl(r)),a&&(a(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(xs)||[];s=xs.exec(r);)u=s[0],h=r.substring(g,s.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(d=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:d,c:"="===u.charAt(1)?Qs(d,u)-d:parseFloat(u)-d,m:c&&c<4?Math.round:0},g=xs.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=o,(_s.test(r)||f)&&(m.e=0),this._pt=m,m},_c=function(e,t,n,r,i,a,o,s,l,c){cs(r)&&(r=r(i||0,e,a));var u,h=e[t],d="get"!==n?n:cs(h)?l?e[t.indexOf("set")||!cs(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,f=cs(h)?l?Oc:kc:Dc;if(ls(r)&&(~r.indexOf("random(")&&(r=jl(r)),"="===r.charAt(1)&&((u=Qs(d,r)+(Dl(d)||0))||0===u)&&(r=u)),!c||d!==r||bc)return isNaN(d*r)||""===r?(!h&&!(t in e)&&Ms(t,r),xc.call(this,e,t,d,r,f,s||Jo.stringFilter,l)):(u=new Hc(this._pt,e,t,+d||0,r-(d||0),"boolean"==typeof h?Nc:Lc,0,f),l&&(u.fp=l),o&&u.modifier(o,this,e),this._pt=u)},Sc=function(e,t,n,r,i,a){var o,s,l,c;if(Bs[e]&&!1!==(o=new Bs[e]).init(i,o.rawVars?t[e]:function(e,t,n,r,i){if(cs(e)&&(e=Ac(e,i,t,n,r)),!ds(e)||e.style&&e.nodeType||vs(e)||gs(e))return ls(e)?Ac(e,i,t,n,r):e;var a,o={};for(a in e)o[a]=Ac(e[a],i,t,n,r);return o}(t[e],r,i,a,n),n,r,a)&&(n._pt=s=new Hc(n._pt,i,e,0,1,o.render,o,0,o.priority),n!==Xo))for(l=n._ptLookup[n._targets.indexOf(i)],c=o._props.length;c--;)l[o._props[c]]=s;return o},Ec=function e(t,n,r){var i,a,o,s,l,c,u,h,d,f,p,m,g,v=t.vars,y=v.ease,w=v.startAt,b=v.immediateRender,x=v.lazy,_=v.onUpdate,S=v.onUpdateParams,E=v.callbackScope,C=v.runBackwards,A=v.yoyoEase,T=v.keyframes,M=v.autoRevert,P=t._dur,D=t._startAt,k=t._targets,O=t.parent,I=O&&"nested"===O.data?O.vars.targets:k,R="auto"===t._overwrite&&!Bo,L=t.timeline;if(L&&(!T||!y)&&(y="none"),t._ease=hc(y,$o.ease),t._yEase=A?cc(hc(!0===A?y:A,$o.ease)):0,A&&t._yoyo&&!t._repeat&&(A=t._yEase,t._yEase=t._ease,t._ease=A),t._from=!L&&!!v.runBackwards,!L||T&&!v.stagger){if(m=(h=k[0]?Gs(k[0]).harness:0)&&v[h.prop],i=il(v,Ls),D&&(D._zTime<0&&D.progress(1),n<0&&C&&b&&!M?D.render(-1,!0):D.revert(C&&P?Is:Os),D._lazy=0),w){if(ll(t._startAt=Pc.set(k,tl({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:!D&&fs(x),startAt:null,delay:0,onUpdate:_,onUpdateParams:S,callbackScope:E,stagger:0},w))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Fo||!b&&!M)&&t._startAt.revert(Is),b&&P&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(C&&P&&!D)if(n&&(b=!1),o=tl({overwrite:!1,data:"isFromStart",lazy:b&&!D&&fs(x),immediateRender:b,stagger:0,parent:O},i),m&&(o[h.prop]=m),ll(t._startAt=Pc.set(k,o)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Fo?t._startAt.revert(Is):t._startAt.render(-1,!0)),t._zTime=n,b){if(!n)return}else e(t._startAt,ts,ts);for(t._pt=t._ptCache=0,x=P&&fs(x)||x&&!P,a=0;a<k.length;a++){if(u=(l=k[a])._gsap||Hs(k)[a]._gsap,t._ptLookup[a]=f={},zs[u.id]&&Ns.length&&Zs(),p=I===k?a:I.indexOf(l),h&&!1!==(d=new h).init(l,m||i,t,p,I)&&(t._pt=s=new Hc(t._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){f[e]=s})),d.priority&&(c=1)),!h||m)for(o in i)Bs[o]&&(d=Sc(o,i,t,p,l,I))?d.priority&&(c=1):f[o]=s=_c.call(t,l,o,"get",i[o],p,I,0,v.stringFilter);t._op&&t._op[a]&&t.kill(l,t._op[a]),R&&t._pt&&(wc=t,jo.killTweensOf(l,f,t.globalTime(n)),g=!t.parent,wc=0),t._pt&&x&&(zs[u.id]=1)}c&&Vc(t),t._onInit&&t._onInit(t)}t._onUpdate=_,t._initted=(!t._op||t._pt)&&!g,T&&n<=0&&L.render(es,!0,!0)},Cc=function(e,t,n,r){var i,a,o=t.ease||r||"power1.inOut";if(vs(t))a=n[e]||(n[e]=[]),t.forEach((function(e,n){return a.push({t:n/(t.length-1)*100,v:e,e:o})}));else for(i in t)a=n[i]||(n[i]=[]),"ease"===i||a.push({t:parseFloat(e),v:t[i],e:o})},Ac=function(e,t,n,r,i){return cs(e)?e.call(t,n,r,i):ls(e)&&~e.indexOf("random(")?jl(e):e},Tc=Vs+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Mc={};qs(Tc+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return Mc[e]=1}));var Pc=function(e){function t(t,n,r,i){var a;"number"==typeof n&&(r.duration=n,n=r,r=null);var o,s,l,c,u,h,d,f,p=(a=e.call(this,i?n:al(n))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,w=p.overwrite,b=p.keyframes,x=p.defaults,_=p.scrollTrigger,S=p.yoyoEase,E=n.parent||jo,C=(vs(t)||gs(t)?us(t[0]):"length"in n)?[t]:Il(t);if(a._targets=C.length?Hs(C):Ps("GSAP target "+t+" not found. https://greensock.com",!Jo.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=w,b||y||ms(m)||ms(g)){if(n=a.vars,(o=a.timeline=new yc({data:"nested",defaults:x||{},targets:E&&"nested"===E.data?E.vars.targets:C})).kill(),o.parent=o._dp=No(a),o._start=0,y||ms(m)||ms(g)){if(c=C.length,d=y&&Nl(y),ds(y))for(u in y)~Tc.indexOf(u)&&(f||(f={}),f[u]=y[u]);for(s=0;s<c;s++)(l=il(n,Mc)).stagger=0,S&&(l.yoyoEase=S),f&&nl(l,f),h=C[s],l.duration=+Ac(m,No(a),s,h,C),l.delay=(+Ac(g,No(a),s,h,C)||0)-a._delay,!y&&1===c&&l.delay&&(a._delay=g=l.delay,a._start+=g,l.delay=0),o.to(h,l,d?d(s,h,C):0),o._ease=ac.none;o.duration()?m=g=0:a.timeline=0}else if(b){al(tl(o.vars.defaults,{ease:"none"})),o._ease=hc(b.ease||n.ease||"none");var A,T,M,P=0;if(vs(b))b.forEach((function(e){return o.to(C,e,">")})),o.duration();else{for(u in l={},b)"ease"===u||"easeEach"===u||Cc(u,b[u],l,b.easeEach);for(u in l)for(A=l[u].sort((function(e,t){return e.t-t.t})),P=0,s=0;s<A.length;s++)(M={ease:(T=A[s]).e,duration:(T.t-(s?A[s-1].t:0))/100*m})[u]=T.v,o.to(C,M,P),P+=M.duration;o.duration()<m&&o.to({},{duration:m-o.duration()})}}m||a.duration(m=o.duration())}else a.timeline=0;return!0!==w||Bo||(wc=No(a),jo.killTweensOf(C),wc=0),yl(E,No(a),r),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(v||!m&&!b&&a._start===Ys(E._time)&&fs(v)&&hl(No(a))&&"nested"!==E.data)&&(a._tTime=-1e-8,a.render(Math.max(0,-g)||0)),_&&wl(No(a),_),a}zo(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,a,o,s,l,c,u,h,d=this._time,f=this._tDur,p=this._dur,m=e<0,g=e>f-ts&&!m?f:e<ts?0:e;if(p){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=g,u=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*o+e,t,n);if(r=Ys(g%o),g===f?(a=this._repeat,r=p):((a=~~(g/o))&&a===g/o&&(r=p,a--),r>p&&(r=p)),(l=this._yoyo&&1&a)&&(h=this._yEase,r=p-r),s=fl(this._tTime,o),r===d&&!n&&this._initted)return this._tTime=g,this;a!==s&&(u&&this._yEase&&uc(u,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=n=1,this.render(Ys(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(bl(this,m?e:r,n,t,g))return this._tTime=0,this;if(d!==this._time)return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/p),this._from&&(this.ratio=c=1-c),r&&!d&&!t&&!a&&(Gl(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:!r&&l?-1e-8:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&ul(this,e,0,n),Gl(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&Gl(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&ul(this,e,0,!0),(e||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&ll(this,1),t||m&&!d||!(g||d||l)||(Gl(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,a,o,s=e.ratio,l=t<0||!t&&(!e._start&&xl(e)&&(e._initted||!_l(e))||(e._ts<0||e._dp._ts<0)&&!_l(e))?0:1,c=e._rDelay,u=0;if(c&&e._repeat&&(u=Pl(0,e._tDur,t),a=fl(u,c),e._yoyo&&1&a&&(l=1-l),a!==fl(e._tTime,c)&&(s=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==s||Fo||r||e._zTime===ts||!t&&e._zTime){if(!e._initted&&bl(e,t,r,n,u))return;for(o=e._zTime,e._zTime=t||(n?ts:0),n||(n=t&&!o),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=u,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&ul(e,t,0,!0),e._onUpdate&&!n&&Gl(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&Gl(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&ll(e,1),n||Fo||(Gl(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r){Yo||rc.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Ec(this,i),function(e,t,n,r,i,a,o){var s,l,c,u,h=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!h)for(h=e._ptCache[t]=[],c=e._ptLookup,u=e._targets.length;u--;){if((s=c[u][t])&&s.d&&s.d._pt)for(s=s.d._pt;s&&s.p!==t&&s.fp!==t;)s=s._next;if(!s)return bc=1,e.vars[t]="+=0",Ec(e,o),bc=0,1;h.push(s)}for(u=h.length;u--;)(s=(l=h[u])._pt||l).s=!r&&0!==r||i?s.s+(r||0)+a*s.c:r,s.c=n-s.s,l.e&&(l.e=Xs(n)+Dl(l.e)),l.b&&(l.b=s.s+Dl(l.b))}(this,e,t,n,r,this._ease(i/this._dur),i)?this.resetTo(e,t,n,r):(gl(this,0),this.parent||ol(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?Wl(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,wc&&!0!==wc.vars.overwrite)._first||Wl(this),this.parent&&n!==this.timeline.totalDuration()&&Sl(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,a,o,s,l,c,u=this._targets,h=e?Il(e):u,d=this._ptLookup,f=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,h))return"all"===t&&(this._pt=0),Wl(this);for(r=this._op=this._op||[],"all"!==t&&(ls(t)&&(s={},qs(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var n,r,i,a,o=e[0]?Gs(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(r in n=nl({},t),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~h.indexOf(u[c]))for(s in i=d[c],"all"===t?(r[c]=t,o=i,a={}):(a=r[c]=r[c]||{},o=t),o)(l=i&&i[s])&&("kill"in l.d&&!0!==l.d.kill(s)||sl(this,l,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&f&&Wl(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return Tl(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return Tl(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return jo.killTweensOf(e,t,n)},t}(vc);tl(Pc.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),qs("staggerTo,staggerFrom,staggerFromTo",(function(e){Pc[e]=function(){var t=new yc,n=kl.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var Dc=function(e,t,n){return e[t]=n},kc=function(e,t,n){return e[t](n)},Oc=function(e,t,n,r){return e[t](r.fp,n)},Ic=function(e,t,n){return e.setAttribute(t,n)},Rc=function(e,t){return cs(e[t])?kc:hs(e[t])&&e.setAttribute?Ic:Dc},Lc=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},Nc=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},zc=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Bc=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Fc=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},Uc=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?sl(this,r,"_pt"):r.dep||(t=1),r=n;return!t},jc=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},Vc=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},Hc=function(){function e(e,t,n,r,i,a,o,s,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||Lc,this.d=o||this,this.set=s||Dc,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=jc,this.m=e,this.mt=n,this.tween=t},e}();qs(Vs+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return Ls[e]=1})),Cs.TweenMax=Cs.TweenLite=Pc,Cs.TimelineLite=Cs.TimelineMax=yc,jo=new yc({sortChildren:!1,defaults:$o,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Jo.stringFilter=nc;var Gc=[],Wc={},qc=[],Xc=0,Yc=0,Qc=function(e){return(Wc[e]||qc).map((function(e){return e()}))},Kc=function(){var e=Date.now(),t=[];e-Xc>2&&(Qc("matchMediaInit"),Gc.forEach((function(e){var n,r,i,a,o=e.queries,s=e.conditions;for(r in o)(n=Vo.matchMedia(o[r]).matches)&&(i=1),n!==s[r]&&(s[r]=n,a=1);a&&(e.revert(),i&&t.push(e))})),Qc("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e)})),Xc=e,Qc("matchMedia"))},Zc=function(){function e(e,t){this.selector=t&&Rl(t),this.data=[],this._r=[],this.isReverted=!1,this.id=Yc++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){cs(e)&&(n=t,t=e,e=cs);var r=this,i=function(){var e,i=Uo,a=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=Rl(n)),Uo=r,e=t.apply(r,arguments),cs(e)&&r._r.push(e),Uo=i,r.selector=a,r.isReverted=!1,e};return r.last=i,e===cs?i(r):e?r[e]=i:i},t.ignore=function(e){var t=Uo;Uo=null,e(this),Uo=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof Pc&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e){var r=this.getTweens();this.data.forEach((function(e){"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})))})),r.map((function(e){return{g:e.globalTime(0),t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),this.data.forEach((function(t){return!(t instanceof Pc)&&t.revert&&t.revert(e)})),this._r.forEach((function(t){return t(e,n)})),this.isReverted=!0}else this.data.forEach((function(e){return e.kill&&e.kill()}));if(this.clear(),t)for(var i=Gc.length;i--;)Gc[i].id===this.id&&Gc.splice(i,1)},t.revert=function(e){this.kill(e||{})},e}(),Jc=function(){function e(e){this.contexts=[],this.scope=e}var t=e.prototype;return t.add=function(e,t,n){ds(e)||(e={matches:e});var r,i,a,o=new Zc(0,n||this.scope),s=o.conditions={};for(i in Uo&&!o.selector&&(o.selector=Uo.selector),this.contexts.push(o),t=o.add("onMatch",t),o.queries=e,e)"all"===i?a=1:(r=Vo.matchMedia(e[i]))&&(Gc.indexOf(o)<0&&Gc.push(o),(s[i]=r.matches)&&(a=1),r.addListener?r.addListener(Kc):r.addEventListener("change",Kc));return a&&t(o),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),$c={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return Xl(e)}))},timeline:function(e){return new yc(e)},getTweensOf:function(e,t){return jo.getTweensOf(e,t)},getProperty:function(e,t,n,r){ls(e)&&(e=Il(e)[0]);var i=Gs(e||{}).get,a=n?el:$s;return"native"===n&&(n=""),e?t?a((Bs[t]&&Bs[t].get||i)(e,t,n,r)):function(t,n,r){return a((Bs[t]&&Bs[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=Il(e)).length>1){var r=e.map((function(e){return nu.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=Bs[t],o=Gs(e),s=o.harness&&(o.harness.aliases||{})[t]||t,l=a?function(t){var r=new a;Xo._pt=0,r.init(e,n?t+n:t,Xo,0,[e]),r.render(1,r),Xo._pt&&Bc(1,Xo)}:o.set(e,s);return a?l:function(t){return l(e,s,n?t+n:t,o,1)}},quickTo:function(e,t,n){var r,i=nu.to(e,nl(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),a=function(e,n,r){return i.resetTo(t,e,n,r)};return a.tween=i,a},isTweening:function(e){return jo.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=hc(e.ease,$o.ease)),rl($o,e||{})},config:function(e){return rl(Jo,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!Bs[e]&&!Cs[e]&&Ps(t+" effect requires "+e+" plugin.")})),Fs[t]=function(e,t,r){return n(Il(e),tl(t||{},i),r)},a&&(yc.prototype[t]=function(e,n,r){return this.add(Fs[t](e,ds(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){ac[e]=hc(t)},parseEase:function(e,t){return arguments.length?hc(e,t):ac},getById:function(e){return jo.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new yc(e);for(i.smoothChildTiming=fs(e.smoothChildTiming),jo.remove(i),i._dp=0,i._time=i._tTime=jo._time,n=jo._first;n;)r=n._next,!t&&!n._dur&&n instanceof Pc&&n.vars.onComplete===n._targets[0]||yl(i,n,n._start-n._delay),n=r;return yl(jo,i,0),i},context:function(e,t){return e?new Zc(e,t):Uo},matchMedia:function(e){return new Jc(e)},matchMediaRefresh:function(){return Gc.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||Kc()},addEventListener:function(e,t){var n=Wc[e]||(Wc[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Wc[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return vs(t)?Ul(t,e(0,t.length),n):Ml(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return vs(t)?Ul(t,e(0,t.length-1),n):Ml(r,(function(e){return t+((e=(a+(e-t)%a)%a||0)>i?a-e:e)}))},distribute:Nl,random:Fl,snap:Bl,normalize:function(e,t,n){return Vl(e,t,0,1,n)},getUnit:Dl,clamp:function(e,t,n){return Ml(n,(function(n){return Pl(e,t,n)}))},splitColor:Zl,toArray:Il,selector:Rl,mapRange:Vl,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||Dl(n))}},interpolate:function e(t,n,r,i){var a=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!a){var o,s,l,c,u,h=ls(t),d={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(vs(t)&&!vs(n)){for(l=[],c=t.length,u=c-2,s=1;s<c;s++)l.push(e(t[s-1],t[s]));c--,a=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=nl(vs(t)?[]:{},t));if(!l){for(o in n)_c.call(d,t,o,"get",n[o]);a=function(e){return Bc(e,d)||(h?t.p:t)}}}return Ml(r,a)},shuffle:Ll},install:Ts,effects:Fs,ticker:rc,updateRoot:yc.updateRoot,plugins:Bs,globalTimeline:jo,core:{PropTween:Hc,globals:Ds,Tween:Pc,Timeline:yc,Animation:vc,getCache:Gs,_removeLinkedListItem:sl,reverting:function(){return Fo},context:function(e){return e&&Uo&&(Uo.data.push(e),e._ctx=Uo),Uo},suppressOverwrites:function(e){return Bo=e}}};qs("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return $c[e]=Pc[e]})),rc.add(yc.updateRoot),Xo=$c.to({},{duration:0});var eu=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},tu=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(ls(n)&&(r={},qs(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=eu(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}},nu=$c.registerPlugin({name:"attr",init:function(e,t,n,r,i){var a,o,s;for(a in this.tween=n,t)s=e.getAttribute(a)||"",(o=this.add(e,"setAttribute",(s||0)+"",t[a],r,i,0,0,a)).op=a,o.b=s,this._props.push(a)},render:function(e,t){for(var n=t._pt;n;)Fo?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},tu("roundProps",zl),tu("modifiers"),tu("snap",Bl))||$c;Pc.version=yc.version=nu.version="3.12.2",Wo=1,ps()&&ic(),ac.Power0,ac.Power1,ac.Power2,ac.Power3,ac.Power4,ac.Linear,ac.Quad,ac.Cubic,ac.Quart,ac.Quint,ac.Strong,ac.Elastic,ac.Back,ac.SteppedEase,ac.Bounce,ac.Sine,ac.Expo,ac.Circ;var ru,iu,au,ou,su,lu,cu,uu,hu={},du=180/Math.PI,fu=Math.PI/180,pu=Math.atan2,mu=/([A-Z])/g,gu=/(left|right|width|margin|padding|x)/i,vu=/[\s,\(]\S/,yu={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},wu=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},bu=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},xu=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},_u=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},Su=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Eu=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Cu=function(e,t,n){return e.style[t]=n},Au=function(e,t,n){return e.style.setProperty(t,n)},Tu=function(e,t,n){return e._gsap[t]=n},Mu=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},Pu=function(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},Du=function(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)},ku="transform",Ou=ku+"Origin",Iu=function e(t,n){var r=this,i=this.target,a=i.style;if(t in hu&&a){if(this.tfm=this.tfm||{},"transform"===t)return yu.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=yu[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=Zu(i,e)})):this.tfm[t]=i._gsap.x?i._gsap[t]:Zu(i,t),this.props.indexOf(ku)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Ou,n,"")),t=ku}(a||n)&&this.props.push(t,n,a[t])},Ru=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Lu=function(){var e,t,n=this.props,r=this.target,i=r.style,a=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(mu,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)a[t]=this.tfm[t];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=cu())&&e.isStart||i[ku]||(Ru(i),a.uncache=1)}},Nu=function(e,t){var n={target:e,props:[],revert:Lu,save:Iu};return e._gsap||nu.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},zu=function(e,t){var n=iu.createElementNS?iu.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):iu.createElement(e);return n.style?n:iu.createElement(e)},Bu=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(mu,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,Uu(n)||n,1)||""},Fu="O,Moz,ms,Ms,Webkit".split(","),Uu=function(e,t,n){var r=(t||su).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(Fu[i]+e in r););return i<0?null:(3===i?"ms":i>=0?Fu[i]:"")+e},ju=function(){"undefined"!=typeof window&&window.document&&(ru=window,iu=ru.document,au=iu.documentElement,su=zu("div")||{style:{}},zu("div"),ku=Uu(ku),Ou=ku+"Origin",su.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",uu=!!Uu("perspective"),cu=nu.core.reverting,ou=1)},Vu=function e(t){var n,r=zu("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(au.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),au.removeChild(r),this.style.cssText=o,n},Hu=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},Gu=function(e){var t;try{t=e.getBBox()}catch(n){t=Vu.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Vu||(t=Vu.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+Hu(e,["x","cx","x1"])||0,y:+Hu(e,["y","cy","y1"])||0,width:0,height:0}},Wu=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Gu(e))},qu=function(e,t){if(t){var n=e.style;t in hu&&t!==Ou&&(t=ku),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(mu,"-$1").toLowerCase())):n.removeAttribute(t)}},Xu=function(e,t,n,r,i,a){var o=new Hc(e._pt,t,n,0,1,a?Eu:Su);return e._pt=o,o.b=r,o.e=i,e._props.push(n),o},Yu={deg:1,rad:1,turn:1},Qu={grid:1,flex:1},Ku=function e(t,n,r,i){var a,o,s,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=su.style,d=gu.test(n),f="svg"===t.tagName.toLowerCase(),p=(f?"client":"offset")+(d?"Width":"Height"),m=100,g="px"===i,v="%"===i;return i===u||!c||Yu[i]||Yu[u]?c:("px"!==u&&!g&&(c=e(t,n,r,"px")),l=t.getCTM&&Wu(t),!v&&"%"!==u||!hu[n]&&!~n.indexOf("adius")?(h[d?"width":"height"]=m+(g?u:i),o=~n.indexOf("adius")||"em"===i&&t.appendChild&&!f?t:t.parentNode,l&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==iu&&o.appendChild||(o=iu.body),(s=o._gsap)&&v&&s.width&&d&&s.time===rc.time&&!s.uncache?Xs(c/s.width*m):((v||"%"===u)&&!Qu[Bu(o,"display")]&&(h.position=Bu(t,"position")),o===t&&(h.position="static"),o.appendChild(su),a=su[p],o.removeChild(su),h.position="absolute",d&&v&&((s=Gs(o)).time=rc.time,s.width=o[p]),Xs(g?a*c/m:a&&c?m/a*c:0))):(a=l?t.getBBox()[d?"width":"height"]:t[p],Xs(v?c/a*m:c/100*a)))},Zu=function(e,t,n,r){var i;return ou||ju(),t in yu&&"transform"!==t&&~(t=yu[t]).indexOf(",")&&(t=t.split(",")[0]),hu[t]&&"transform"!==t?(i=ch(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:uh(Bu(e,Ou))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=nh[t]&&nh[t](e,t,n)||Bu(e,t)||Ws(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?Ku(e,t,i,n)+n:i},Ju=function(e,t,n,r){if(!n||"none"===n){var i=Uu(t,e,1),a=i&&Bu(e,i,1);a&&a!==n?(t=i,n=a):"borderColor"===t&&(n=Bu(e,"borderTopColor"))}var o,s,l,c,u,h,d,f,p,m,g,v=new Hc(this._pt,e.style,t,0,1,zc),y=0,w=0;if(v.b=n,v.e=r,n+="","auto"==(r+="")&&(e.style[t]=r,r=Bu(e,t)||r,e.style[t]=n),nc(o=[n,r]),r=o[1],l=(n=o[0]).match(bs)||[],(r.match(bs)||[]).length){for(;s=bs.exec(r);)d=s[0],p=r.substring(y,s.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),d!==(h=l[w++]||"")&&(c=parseFloat(h)||0,g=h.substr((c+"").length),"="===d.charAt(1)&&(d=Qs(c,d)+g),f=parseFloat(d),m=d.substr((f+"").length),y=bs.lastIndex-m.length,m||(m=m||Jo.units[t]||g,y===r.length&&(r+=m,v.e+=m)),g!==m&&(c=Ku(e,t,h,m)||0),v._pt={_next:v._pt,p:p||1===w?p:",",s:c,c:f-c,m:u&&u<4||"zIndex"===t?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===t&&"none"===r?Eu:Su;return _s.test(r)&&(v.e=0),this._pt=v,v},$u={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},eh=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=$u[n]||n,t[1]=$u[r]||r,t.join(" ")},th=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,o=a.style,s=t.u,l=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],hu[n]&&(r=1,n="transformOrigin"===n?Ou:ku),qu(a,n);r&&(qu(a,ku),l&&(l.svg&&a.removeAttribute("transform"),ch(a,1),l.uncache=1,Ru(o)))}},nh={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new Hc(e._pt,t,n,0,0,th);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},rh=[1,0,0,1,0,0],ih={},ah=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},oh=function(e){var t=Bu(e,ku);return ah(t)?rh:t.substr(7).match(ws).map(Xs)},sh=function(e,t){var n,r,i,a,o=e._gsap||Gs(e),s=e.style,l=oh(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?rh:l:(l!==rh||e.offsetParent||e===au||o.svg||(i=s.display,s.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextElementSibling,au.appendChild(e)),l=oh(e),i?s.display=i:qu(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):au.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},lh=function(e,t,n,r,i,a){var o,s,l,c=e._gsap,u=i||sh(e,!0),h=c.xOrigin||0,d=c.yOrigin||0,f=c.xOffset||0,p=c.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],w=u[4],b=u[5],x=t.split(" "),_=parseFloat(x[0])||0,S=parseFloat(x[1])||0;n?u!==rh&&(s=m*y-g*v)&&(l=_*(-g/s)+S*(m/s)-(m*b-g*w)/s,_=_*(y/s)+S*(-v/s)+(v*b-y*w)/s,S=l):(_=(o=Gu(e)).x+(~x[0].indexOf("%")?_/100*o.width:_),S=o.y+(~(x[1]||x[0]).indexOf("%")?S/100*o.height:S)),r||!1!==r&&c.smooth?(w=_-h,b=S-d,c.xOffset=f+(w*m+b*v)-w,c.yOffset=p+(w*g+b*y)-b):c.xOffset=c.yOffset=0,c.xOrigin=_,c.yOrigin=S,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[Ou]="0px 0px",a&&(Xu(a,c,"xOrigin",h,_),Xu(a,c,"yOrigin",d,S),Xu(a,c,"xOffset",f,c.xOffset),Xu(a,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",_+" "+S)},ch=function(e,t){var n=e._gsap||new gc(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,o,s,l,c,u,h,d,f,p,m,g,v,y,w,b,x,_,S,E,C,A,T,M,P,D,k,O,I,R,L=e.style,N=n.scaleX<0,z="px",B="deg",F=getComputedStyle(e),U=Bu(e,Ou)||"0";return r=i=a=l=c=u=h=d=f=0,o=s=1,n.svg=!(!e.getCTM||!Wu(e)),F.translate&&("none"===F.translate&&"none"===F.scale&&"none"===F.rotate||(L[ku]=("none"!==F.translate?"translate3d("+(F.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==F.rotate?"rotate("+F.rotate+") ":"")+("none"!==F.scale?"scale("+F.scale.split(" ").join(",")+") ":"")+("none"!==F[ku]?F[ku]:"")),L.scale=L.rotate=L.translate="none"),g=sh(e,n.svg),n.svg&&(n.uncache?(T=e.getBBox(),U=n.xOrigin-T.x+"px "+(n.yOrigin-T.y)+"px",A=""):A=!t&&e.getAttribute("data-svg-origin"),lh(e,A||U,!!A||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,m=n.yOrigin||0,g!==rh&&(b=g[0],x=g[1],_=g[2],S=g[3],r=E=g[4],i=C=g[5],6===g.length?(o=Math.sqrt(b*b+x*x),s=Math.sqrt(S*S+_*_),l=b||x?pu(x,b)*du:0,(h=_||S?pu(_,S)*du+l:0)&&(s*=Math.abs(Math.cos(h*fu))),n.svg&&(r-=p-(p*b+m*_),i-=m-(p*x+m*S))):(R=g[6],O=g[7],P=g[8],D=g[9],k=g[10],I=g[11],r=g[12],i=g[13],a=g[14],c=(v=pu(R,k))*du,v&&(A=E*(y=Math.cos(-v))+P*(w=Math.sin(-v)),T=C*y+D*w,M=R*y+k*w,P=E*-w+P*y,D=C*-w+D*y,k=R*-w+k*y,I=O*-w+I*y,E=A,C=T,R=M),u=(v=pu(-_,k))*du,v&&(y=Math.cos(-v),I=S*(w=Math.sin(-v))+I*y,b=A=b*y-P*w,x=T=x*y-D*w,_=M=_*y-k*w),l=(v=pu(x,b))*du,v&&(A=b*(y=Math.cos(v))+x*(w=Math.sin(v)),T=E*y+C*w,x=x*y-b*w,C=C*y-E*w,b=A,E=T),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),o=Xs(Math.sqrt(b*b+x*x+_*_)),s=Xs(Math.sqrt(C*C+R*R)),v=pu(E,C),h=Math.abs(v)>2e-4?v*du:0,f=I?1/(I<0?-I:I):0),n.svg&&(A=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!ah(Bu(e,ku)),A&&e.setAttribute("transform",A))),Math.abs(h)>90&&Math.abs(h)<270&&(N?(o*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+z,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+z,n.z=a+z,n.scaleX=Xs(o),n.scaleY=Xs(s),n.rotation=Xs(l)+B,n.rotationX=Xs(c)+B,n.rotationY=Xs(u)+B,n.skewX=h+B,n.skewY=d+B,n.transformPerspective=f+z,(n.zOrigin=parseFloat(U.split(" ")[2])||0)&&(L[Ou]=uh(U)),n.xOffset=n.yOffset=0,n.force3D=Jo.force3D,n.renderTransform=n.svg?vh:uu?gh:dh,n.uncache=0,n},uh=function(e){return(e=e.split(" "))[0]+" "+e[1]},hh=function(e,t,n){var r=Dl(t);return Xs(parseFloat(t)+parseFloat(Ku(e,"x",n+"px",r)))+r},dh=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,gh(e,t)},fh="0deg",ph="0px",mh=") ",gh=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,f=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,w="",b="auto"===g&&e&&1!==e||!0===g;if(y&&(u!==fh||c!==fh)){var x,_=parseFloat(c)*fu,S=Math.sin(_),E=Math.cos(_);_=parseFloat(u)*fu,x=Math.cos(_),a=hh(v,a,S*x*-y),o=hh(v,o,-Math.sin(_)*-y),s=hh(v,s,E*x*-y+y)}m!==ph&&(w+="perspective("+m+mh),(r||i)&&(w+="translate("+r+"%, "+i+"%) "),(b||a!==ph||o!==ph||s!==ph)&&(w+=s!==ph||b?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+mh),l!==fh&&(w+="rotate("+l+mh),c!==fh&&(w+="rotateY("+c+mh),u!==fh&&(w+="rotateX("+u+mh),h===fh&&d===fh||(w+="skew("+h+", "+d+mh),1===f&&1===p||(w+="scale("+f+", "+p+mh),v.style[ku]=w||"translate(0, 0)"},vh=function(e,t){var n,r,i,a,o,s=t||this,l=s.xPercent,c=s.yPercent,u=s.x,h=s.y,d=s.rotation,f=s.skewX,p=s.skewY,m=s.scaleX,g=s.scaleY,v=s.target,y=s.xOrigin,w=s.yOrigin,b=s.xOffset,x=s.yOffset,_=s.forceCSS,S=parseFloat(u),E=parseFloat(h);d=parseFloat(d),f=parseFloat(f),(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=fu,f*=fu,n=Math.cos(d)*m,r=Math.sin(d)*m,i=Math.sin(d-f)*-g,a=Math.cos(d-f)*g,f&&(p*=fu,o=Math.tan(f-p),i*=o=Math.sqrt(1+o*o),a*=o,p&&(o=Math.tan(p),n*=o=Math.sqrt(1+o*o),r*=o)),n=Xs(n),r=Xs(r),i=Xs(i),a=Xs(a)):(n=m,a=g,r=i=0),(S&&!~(u+"").indexOf("px")||E&&!~(h+"").indexOf("px"))&&(S=Ku(v,"x",u,"px"),E=Ku(v,"y",h,"px")),(y||w||b||x)&&(S=Xs(S+y-(y*n+w*i)+b),E=Xs(E+w-(y*r+w*a)+x)),(l||c)&&(o=v.getBBox(),S=Xs(S+l/100*o.width),E=Xs(E+c/100*o.height)),o="matrix("+n+","+r+","+i+","+a+","+S+","+E+")",v.setAttribute("transform",o),_&&(v.style[ku]=o)},yh=function(e,t,n,r,i){var a,o,s=360,l=ls(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?du:1)-r,u=r+c+"deg";return l&&("short"===(a=i.split("_")[1])&&(c%=s)!=c%180&&(c+=c<0?s:-360),"cw"===a&&c<0?c=(c+36e9)%s-~~(c/s)*s:"ccw"===a&&c>0&&(c=(c-36e9)%s-~~(c/s)*s)),e._pt=o=new Hc(e._pt,t,n,r,c,bu),o.e=u,o.u="deg",e._props.push(n),o},wh=function(e,t){for(var n in t)e[n]=t[n];return e},bh=function(e,t,n){var r,i,a,o,s,l,c,u=wh({},n._gsap),h=n.style;for(i in u.svg?(a=n.getAttribute("transform"),n.setAttribute("transform",""),h[ku]=t,r=ch(n,1),qu(n,ku),n.setAttribute("transform",a)):(a=getComputedStyle(n)[ku],h[ku]=t,r=ch(n,1),h[ku]=a),hu)(a=u[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=Dl(a)!==(c=Dl(o))?Ku(n,i,a,c):parseFloat(a),l=parseFloat(o),e._pt=new Hc(e._pt,r,i,s,l-s,wu),e._pt.u=c||0,e._props.push(i));wh(r,u)};qs("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",a="Left",o=(t<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map((function(n){return t<2?e+n:"border"+n+e}));nh[t>1?"border"+e:e]=function(e,t,n,r,i){var a,s;if(arguments.length<4)return a=o.map((function(t){return Zu(e,t,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(r+"").split(" "),s={},o.forEach((function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]})),e.init(t,s,i)}}));var xh,_h,Sh={name:"css",register:ju,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,o,s,l,c,u,h,d,f,p,m,g,v,y,w,b,x=this._props,_=e.style,S=n.vars.startAt;for(h in ou||ju(),this.styles=this.styles||Nu(e),b=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(o=t[h],!Bs[h]||!Sc(h,t,n,r,e,i)))if(c=typeof o,u=nh[h],"function"===c&&(c=typeof(o=o.call(n,r,e,i))),"string"===c&&~o.indexOf("random(")&&(o=jl(o)),u)u(this,e,h,o,n)&&(w=1);else if("--"===h.substr(0,2))a=(getComputedStyle(e).getPropertyValue(h)+"").trim(),o+="",ec.lastIndex=0,ec.test(a)||(d=Dl(a),f=Dl(o)),f?d!==f&&(a=Ku(e,h,a,f)+f):d&&(o+=d),this.add(_,"setProperty",a,o,r,i,0,0,h),x.push(h),b.push(h,0,_[h]);else if("undefined"!==c){if(S&&h in S?(a="function"==typeof S[h]?S[h].call(n,r,e,i):S[h],ls(a)&&~a.indexOf("random(")&&(a=jl(a)),Dl(a+"")||(a+=Jo.units[h]||Dl(Zu(e,h))||""),"="===(a+"").charAt(1)&&(a=Zu(e,h))):a=Zu(e,h),l=parseFloat(a),(p="string"===c&&"="===o.charAt(1)&&o.substr(0,2))&&(o=o.substr(2)),s=parseFloat(o),h in yu&&("autoAlpha"===h&&(1===l&&"hidden"===Zu(e,"visibility")&&s&&(l=0),b.push("visibility",0,_.visibility),Xu(this,_,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==h&&"transform"!==h&&~(h=yu[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in hu)if(this.styles.save(h),g||((v=e._gsap).renderTransform&&!t.parseTransform||ch(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new Hc(this._pt,_,ku,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new Hc(this._pt,v,"scaleY",v.scaleY,(p?Qs(v.scaleY,p+s):s)-v.scaleY||0,wu),this._pt.u=0,x.push("scaleY",h),h+="X";else{if("transformOrigin"===h){b.push(Ou,0,_[Ou]),o=eh(o),v.svg?lh(e,o,0,y,0,this):((f=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&Xu(this,v,"zOrigin",v.zOrigin,f),Xu(this,_,h,uh(a),uh(o)));continue}if("svgOrigin"===h){lh(e,o,1,y,0,this);continue}if(h in ih){yh(this,v,h,l,p?Qs(l,p+o):o);continue}if("smoothOrigin"===h){Xu(this,v,"smooth",v.smooth,o);continue}if("force3D"===h){v[h]=o;continue}if("transform"===h){bh(this,o,e);continue}}else h in _||(h=Uu(h)||h);if(m||(s||0===s)&&(l||0===l)&&!vu.test(o)&&h in _)s||(s=0),(d=(a+"").substr((l+"").length))!==(f=Dl(o)||(h in Jo.units?Jo.units[h]:d))&&(l=Ku(e,h,a,f)),this._pt=new Hc(this._pt,m?v:_,h,l,(p?Qs(l,p+s):s)-l,m||"px"!==f&&"zIndex"!==h||!1===t.autoRound?wu:_u),this._pt.u=f||0,d!==f&&"%"!==f&&(this._pt.b=a,this._pt.r=xu);else if(h in _)Ju.call(this,e,h,a,p?p+o:o);else if(h in e)this.add(e,h,a||e[h],p?p+o:o,r,i);else if("parseTransform"!==h){Ms(h,o);continue}m||(h in _?b.push(h,0,_[h]):b.push(h,1,a||e[h])),x.push(h)}w&&Vc(this)},render:function(e,t){if(t.tween._time||!cu())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Zu,aliases:yu,getSetter:function(e,t,n){var r=yu[t];return r&&r.indexOf(",")<0&&(t=r),t in hu&&t!==Ou&&(e._gsap.x||Zu(e,"x"))?n&&lu===n?"scale"===t?Mu:Tu:(lu=n||{})&&("scale"===t?Pu:Du):e.style&&!hs(e.style[t])?Cu:~t.indexOf("-")?Au:Rc(e,t)},core:{_removeProperty:qu,_getMatrix:sh}};nu.utils.checkPrefix=Uu,nu.core.getStyleSaver=Nu,_h=qs("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(xh="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){hu[e]=1})),qs(xh,(function(e){Jo.units[e]="deg",ih[e]=1})),yu[_h[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+xh,qs("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");yu[t[1]]=_h[t[0]]})),qs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){Jo.units[e]="px"})),nu.registerPlugin(Sh);var Eh=nu.registerPlugin(Sh)||nu;function Ch(){var t=me(),n=pe(),r=(0,e.useRef)(null),i=(0,e.useRef)(null),a={"":{to:"/",name:"主页"},tools:{to:"/tools",name:"工具"},resources:{to:"/resources",name:"资源"},about:{to:"/about",name:"关于"},bilibili:{to:"/tools/bilibili",name:"bilibili视频解析"},tiktok:{to:"/tools/tiktok",name:"tiktok视频解析"},QRPage:{to:"/tools/QRPage",name:"二维码生成器"},Selenium:{to:"/tools/Selenium",name:"Selenium"},dashboard:{to:"/tools/dashboard",name:"Dashboard"},CompDisplay:{to:"/resources/CompDisplay",name:"组件展示"}};function o(e){i.current=Eh.timeline({repeat:0}),i.current.add(Eh.fromTo(".gsap_nav_expand",{width:0},{width:e,duration:1.5,ease:"circ.out"}),0),i.current.add(Eh.fromTo(".gsap_navItem_expand",{opacity:0,duration:0,x:-80},{x:0,opacity:1,duration:1.2,ease:"power3.out",stagger:.1}),.2)}return(0,e.useEffect)((function(){var e=Eh.set(".gsap_nav_expand",{width:"auto"}),t=r.current;e.kill(),i.current?(i.current.kill(),o(t.clientWidth)):o(t.clientWidth)}),[n.pathname]),e.createElement(jn,null,e.createElement(Vn,{ref:r},e.createElement(Hn,{onClick:function(){return t("/")}},e.createElement(xo,{icon:Un.wp,size:"lg"})),e.createElement(Ah,null,ko(n.pathname.split("/")).map((function(r,i){return a[r]?e.createElement(e.Fragment,{key:i},e.createElement(Gn,{z_index:99-i,onClick:function(){n.pathname===a[r].to?window.scrollTo({top:0,behavior:"smooth"}):(t(a[r].to),window.scroll(0,0))}},e.createElement(qn,null,a[r].name||"")),i===ko(n.pathname.split("/")).length-1?"":e.createElement(Wn,null,e.createElement(xo,{icon:Fn.yO}))):""})))))}Eh.core.Tween;var Ah=bn("div").withConfig({displayName:"WrapperTop___StyledDiv",componentId:"sc-132z9bf-0"})({display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",justifyContent:"center",overflow:"hidden"}),Th=o(2512),Mh=o(2332),Ph=bn.div.withConfig({displayName:"TextStyles__H1",componentId:"sc-1miiisj-0"})([""," "," color:",";"],{verticalAlign:"baseline",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"3rem",lineHeight:"1",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(17 24 39 / var(--tw-text-opacity))"},(function(e){return e.hasShadow&&"text-shadow: 1px 1px 4px rgba(0, 0, 0, 15%);"}),(function(e){return e.color||""})),Dh=bn.div.withConfig({displayName:"TextStyles__H2",componentId:"sc-1miiisj-1"})(["font-size:48px;line-height:50px;@media(max-width:","px){font-size:40px;line-height:50px;}"," "," color:",";"],kn,{"@keyframes fade_in_up":{"0%":{opacity:"0",transform:"translateY(15px)"},"100%":{opacity:"1",transform:"translateY(0)"}},animation:"fade_in_up .4s ease-out forwards",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontWeight:"700","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"},(function(e){return e.hasShadow&&"text-shadow: 1px 1px 4px rgba(0, 0, 0, 15%);"}),(function(e){return e.color||""})),kh=bn.div.withConfig({displayName:"TextStyles__H3",componentId:"sc-1miiisj-2"})([""," "," color:",";"],{fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.125rem",lineHeight:"1.75rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"},(function(e){return e.hasShadow&&"text-shadow: 1px 1px 4px rgba(0, 0, 0, 15%);"}),(function(e){return e.color||""})),Oh=bn.div.withConfig({displayName:"TextStyles__H4",componentId:"sc-1miiisj-3"})([""," "," color:",";"],{fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"},(function(e){return e.hasShadow&&"text-shadow: 1px 1px 4px rgba(0, 0, 0, 15%);"}),(function(e){return e.color||""})),Ih=bn.div.withConfig({displayName:"TextStyles__P",componentId:"sc-1miiisj-4"})([""," "," "," color:",";"],{verticalAlign:"baseline",fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:"1rem",lineHeight:"1.5rem","--tw-text-opacity":"1",color:"rgb(17 24 39 / var(--tw-text-opacity))"},(function(e){return e.hasBorder&&{borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(168 85 247 / var(--tw-border-opacity))"}}),(function(e){return e.hasShadow&&"text-shadow: 1px 1px 2px rgba(0, 0, 0, 15%);"}),(function(e){return e.color||""})),Rh=bn.div.withConfig({displayName:"TextStyles__InLineTitle",componentId:"sc-1miiisj-5"})(["flex:1;font-size:",";line-height:",";@media(max-width:","px){font-size:",";line-height:",";}"," "," color:",";"],(function(e){return e.fontSize?e.fontSize+"px":"34px"}),(function(e){return e.lineHeight?e.lineHeight+"px":"36px"}),kn,(function(e){return e.fontSize?e.fontSize-6+"px":"28px"}),(function(e){return e.lineHeight?e.lineHeight+"px":"36px"}),{"@keyframes fade_in_up":{"0%":{opacity:"0",transform:"translateY(15px)"},"100%":{opacity:"1",transform:"translateY(0)"}},animation:"fade_in_up .4s ease-out forwards",userSelect:"none",wordBreak:"keep-all",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontWeight:"700","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))",transitionDuration:"100ms"},(function(e){return e.hasShadow&&"text-shadow: 1px 1px 4px rgba(0, 0, 0, 15%);"}),(function(e){return e.color||""})),Lh=bn.div.withConfig({displayName:"Styledtwin__Gap",componentId:"sc-yweu84-0"})(["height:1px;flex-grow:1;width:90%;",""],{marginBottom:"0.5rem",marginTop:"0.5rem",userSelect:"none",borderRadius:"9999px",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(239 246 255 / var(--tw-border-opacity))"});function Nh(e,t){return Nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nh(e,t)}function zh(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Nh(e,t)}function Bh(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Fh=o(3935),Uh=e.createContext(null),jh=function(e){return e.scrollTop},Vh="unmounted",Hh="exited",Gh="entering",Wh="entered",qh="exiting",Xh=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var i,a=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=Hh,r.appearStatus=Gh):i=Wh:i=e.unmountOnExit||e.mountOnEnter?Vh:Hh,r.state={status:i},r.nextCallback=null,r}zh(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Vh?{status:Hh}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Gh&&n!==Wh&&(t=Gh):n!==Gh&&n!==Wh||(t=qh)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Gh){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Fh.findDOMNode(this);n&&jh(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hh&&this.setState({status:Vh})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Fh.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;e||n?(this.props.onEnter(a,o),this.safeSetState({status:Gh},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:Wh},(function(){t.props.onEntered(a,o)}))}))}))):this.safeSetState({status:Wh},(function(){t.props.onEntered(a)}))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Fh.findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:qh},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Hh},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Hh},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Fh.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===Vh)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Bh(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Uh.Provider,{value:null},"function"==typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},n}(e.Component);function Yh(){}Xh.contextType=Uh,Xh.propTypes={},Xh.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yh,onEntering:Yh,onEntered:Yh,onExit:Yh,onExiting:Yh,onExited:Yh},Xh.UNMOUNTED=Vh,Xh.EXITED=Hh,Xh.ENTERING=Gh,Xh.ENTERED=Wh,Xh.EXITING=qh;var Qh,Kh,Zh=Xh,Jh="out-in",$h="in-out",ed=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},td=((Qh={})[Jh]=function(t){var n=t.current,r=t.changeState;return e.cloneElement(n,{in:!1,onExited:ed(n,"onExited",(function(){r(Gh,null)}))})},Qh[$h]=function(t){var n=t.current,r=t.changeState,i=t.children;return[n,e.cloneElement(i,{in:!0,onEntered:ed(i,"onEntered",(function(){r(Gh)}))})]},Qh),nd=((Kh={})[Jh]=function(t){var n=t.children,r=t.changeState;return e.cloneElement(n,{in:!0,onEntered:ed(n,"onEntered",(function(){r(Wh,e.cloneElement(n,{in:!0}))}))})},Kh[$h]=function(t){var n=t.current,r=t.children,i=t.changeState;return[e.cloneElement(n,{in:!1,onExited:ed(n,"onExited",(function(){i(Wh,e.cloneElement(r,{in:!0}))}))}),e.cloneElement(r,{in:!0})]},Kh),rd=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={status:Wh,current:null},e.appeared=!1,e.changeState=function(t,n){void 0===n&&(n=e.state.current),e.setState({status:t,current:n})},e}zh(n,t);var r=n.prototype;return r.componentDidMount=function(){this.appeared=!0},n.getDerivedStateFromProps=function(t,n){return null==t.children?{current:null}:n.status===Gh&&t.mode===$h?{status:Gh}:!n.current||((r=n.current)===(i=t.children)||e.isValidElement(r)&&e.isValidElement(i)&&null!=r.key&&r.key===i.key)?{current:e.cloneElement(t.children,{in:!0})}:{status:qh};var r,i},r.render=function(){var t,n=this.props,r=n.children,i=n.mode,a=this.state,o=a.status,s=a.current,l={children:r,current:s,changeState:this.changeState,status:o};switch(o){case Gh:t=nd[i](l);break;case qh:t=td[i](l);break;case Wh:t=s}return e.createElement(Uh.Provider,{value:{isMounting:!this.appeared}},t)},n}(e.Component);rd.propTypes={},rd.defaultProps={mode:Jh};var id=rd;function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ad.apply(this,arguments)}function od(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var sd=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=od(n.className,r):n.setAttribute("class",od(n.className&&n.className.baseVal||"",r)));var n,r}))},ld=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,n){var r=e.resolveArguments(t,n),i=r[0],a=r[1];e.removeClasses(i,"exit"),e.addClass(i,a?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.resolveArguments(t,n),i=r[0],a=r[1]?"appear":"enter";e.addClass(i,a,"active"),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.resolveArguments(t,n),i=r[0],a=r[1]?"appear":"enter";e.removeClasses(i,a),e.addClass(i,a,"done"),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"appear"),e.removeClasses(n,"enter"),e.addClass(n,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.resolveArguments(t)[0];e.addClass(n,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.resolveArguments(t)[0];e.removeClasses(n,"exit"),e.addClass(n,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.resolveArguments=function(t,n){return e.props.nodeRef?[e.props.nodeRef.current,t]:[t,n]},e.getClassNames=function(t){var n=e.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+t:n[t];return{baseClassName:i,activeClassName:r?i+"-active":n[t+"Active"],doneClassName:r?i+"-done":n[t+"Done"]}},e}zh(n,t);var r=n.prototype;return r.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&jh(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},r.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,a=n.done;this.appliedClasses[t]={},r&&sd(e,r),i&&sd(e,i),a&&sd(e,a)},r.render=function(){var t=this.props,n=(t.classNames,Bh(t,["classNames"]));return e.createElement(Zh,ad({},n,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(e.Component);ld.defaultProps={classNames:""},ld.propTypes={};var cd=ld,ud=bn.div.withConfig({displayName:"FadeStyles__FadeContentWrapper",componentId:"sc-1tb4ivu-0"})(["display:flex;justify-content:center;align-items:center;",";"],(function(e){var t=e.fadeStyle,n=void 0===t?"opacity":t,r=e.duration,i=e.timingFunction,a=e.offset,o=void 0===a?"15px":a,s=e.className;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0.3s",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ease",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"15px",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"fade";switch(e){case"opacity":return"\n            &.".concat(i,".enter {\n                opacity: 0;\n            }\n\n            &.").concat(i,".enter-active {\n                opacity: 1;\n                transition: opacity ").concat(t," ").concat(n,";\n            }\n\n            &.").concat(i,".exit {\n                opacity: 1;\n            }\n\n            &.").concat(i,".exit-active {\n                opacity: 0;\n                transition: opacity ").concat(t," ").concat(n,";\n            }");case"down":return"\n            &.".concat(i,".enter {\n                transform: translateY(-").concat(r,");\n                opacity: 0;\n            }\n\n            &.").concat(i,".enter-active {\n                transform: translateY(0);\n                opacity: 1;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }\n\n            &.").concat(i,".exit {\n                transform: translateY(0);\n                opacity: 1;\n            }\n\n            &.").concat(i,".exit-active {\n                transform: translateY(").concat(r,");\n                opacity: 0;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }");case"up":return"\n            &.".concat(i,".enter {\n                transform: translateY(").concat(r,");\n                opacity: 0;\n            }\n\n            &.").concat(i,".enter-active {\n                transform: translateY(0);\n                opacity: 1;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }\n\n            &.").concat(i,".exit {\n                transform: translateY(0);\n                opacity: 1;\n            }\n\n            &.").concat(i,".exit-active {\n                transform: translateY(-").concat(r,");\n                opacity: 0;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }");case"scale":return"\n            &.".concat(i,".enter {\n                transform: scale(0);\n                opacity: 0;\n            }\n        \n            &.").concat(i,".enter-active {\n                transform: scale(1);\n                opacity: 1;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }\n        \n            &.").concat(i,".exit {\n                transform: scale(1);\n                opacity: 1;\n            }\n        \n            &.").concat(i,".exit-active {\n                transform: scale(0);\n                opacity: 0;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }");case"slideFromBottom":return"\n            &.".concat(i,".enter {\n                transform: translateY(").concat(r,");\n                opacity: 0;\n            }\n        \n            &.").concat(i,".enter-active {\n                transform: translateY(0);\n                opacity: 1;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }\n        \n            &.").concat(i,".exit {\n                transform: translateY(0);\n                opacity: 1;\n            }\n        \n            &.").concat(i,".exit-active {\n                transform: translateY(").concat(r,");\n                opacity: 0;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }");case"slideFromLeft":return"\n            &.".concat(i,".enter {\n                transform: translateX(").concat(r,");\n                opacity: 0;\n            }\n        \n            &.").concat(i,".enter-active {\n                transform: translateX(0);\n                opacity: 1;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }\n        \n            &.").concat(i,".exit {\n                transform: translateX(0);\n                opacity: 1;\n            }\n        \n            &.").concat(i,".exit-active {\n                transform: translateX(").concat(r,");\n                opacity: 0;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }");case"slideFromRight":return"\n            &.".concat(i,".enter {\n                transform: translateX(-").concat(r,");\n                opacity: 0;\n            }\n        \n            &.").concat(i,".enter-active {\n                transform: translateX(0);\n                opacity: 1;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }\n        \n            &.").concat(i,".exit {\n                transform: translateX(0);\n                opacity: 1;\n            }\n        \n            &.").concat(i,".exit-active {\n                transform: translateX(-").concat(r,");\n                opacity: 0;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }");case"right":return"\n            &.".concat(i,".enter {\n                transform: translateX(-").concat(r,");\n                opacity: 0;\n            }\n        \n            &.").concat(i,".enter-active {\n                transform: translateX(0);\n                opacity: 1;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }\n        \n            &.").concat(i,".exit {\n                transform: translateX(0);\n                opacity: 1;\n            }\n        \n            &.").concat(i,".exit-active {\n                transform: translateX(").concat(r,");\n                opacity: 0;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }");case"left":return"\n            &.".concat(i,".enter {\n                transform: translateX(").concat(r,");\n                opacity: 0;\n            }\n        \n            &.").concat(i,".enter-active {\n                transform: translateX(0);\n                opacity: 1;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }\n        \n            &.").concat(i,".exit {\n                transform: translateX(0);\n                opacity: 1;\n            }\n        \n            &.").concat(i,".exit-active {\n                transform: translateX(-").concat(r,");\n                opacity: 0;\n                transition: opacity ").concat(t," ").concat(n,", transform ").concat(t," ").concat(n,";\n            }");default:return""}}(n,r,i,o,void 0===s?"fade":s)})),hd=function(t){var n=t.isOn,r=t.onContent,i=void 0===r?null:r,a=t.offContent,o=void 0===a?null:a,s=t.fadeStyle,l=void 0===s?"opacity":s,c=t.mode,u=void 0===c?"out-in":c,h=t.className,d=void 0===h?"fade":h,f=t.duration,p=void 0===f?"0.3s":f,m=t.offset,g=void 0===m?"15px":m,v=(0,e.useRef)(null);return e.createElement(id,{mode:u},e.createElement(cd,{key:n?"on":"off",nodeRef:v,className:d,addEndListener:function(e){return v.current.addEventListener("transitionend",e,!1)}},e.createElement(ud,{ref:v,fadeStyle:l,className:d,duration:p,offset:g},n?i:o)))};function dd(e,t){return function(){return e.apply(t,arguments)}}const{toString:fd}=Object.prototype,{getPrototypeOf:pd}=Object,md=(gd=Object.create(null),e=>{const t=fd.call(e);return gd[t]||(gd[t]=t.slice(8,-1).toLowerCase())});var gd;const vd=e=>(e=e.toLowerCase(),t=>md(t)===e),yd=e=>t=>typeof t===e,{isArray:wd}=Array,bd=yd("undefined"),xd=vd("ArrayBuffer"),_d=yd("string"),Sd=yd("function"),Ed=yd("number"),Cd=e=>null!==e&&"object"==typeof e,Ad=e=>{if("object"!==md(e))return!1;const t=pd(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Td=vd("Date"),Md=vd("File"),Pd=vd("Blob"),Dd=vd("FileList"),kd=vd("URLSearchParams");function Od(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),wd(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(r=0;r<a;r++)o=i[r],t.call(null,e[o],o,e)}}function Id(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Rd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Ld=e=>!bd(e)&&e!==Rd,Nd=(zd="undefined"!=typeof Uint8Array&&pd(Uint8Array),e=>zd&&e instanceof zd);var zd;const Bd=vd("HTMLFormElement"),Fd=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ud=vd("RegExp"),jd=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Od(n,((n,i)=>{!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},Vd="abcdefghijklmnopqrstuvwxyz",Hd="0123456789",Gd={DIGIT:Hd,ALPHA:Vd,ALPHA_DIGIT:Vd+Vd.toUpperCase()+Hd},Wd=vd("AsyncFunction");var qd={isArray:wd,isArrayBuffer:xd,isBuffer:function(e){return null!==e&&!bd(e)&&null!==e.constructor&&!bd(e.constructor)&&Sd(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Sd(e.append)&&("formdata"===(t=md(e))||"object"===t&&Sd(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&xd(e.buffer),t},isString:_d,isNumber:Ed,isBoolean:e=>!0===e||!1===e,isObject:Cd,isPlainObject:Ad,isUndefined:bd,isDate:Td,isFile:Md,isBlob:Pd,isRegExp:Ud,isFunction:Sd,isStream:e=>Cd(e)&&Sd(e.pipe),isURLSearchParams:kd,isTypedArray:Nd,isFileList:Dd,forEach:Od,merge:function e(){const{caseless:t}=Ld(this)&&this||{},n={},r=(r,i)=>{const a=t&&Id(n,i)||i;Ad(n[a])&&Ad(r)?n[a]=e(n[a],r):Ad(r)?n[a]=e({},r):wd(r)?n[a]=r.slice():n[a]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Od(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(Od(t,((t,r)=>{n&&Sd(t)?e[r]=dd(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,o;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&pd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:md,kindOfTest:vd,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(wd(e))return e;let t=e.length;if(!Ed(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Bd,hasOwnProperty:Fd,hasOwnProp:Fd,reduceDescriptors:jd,freezeMethods:e=>{jd(e,((t,n)=>{if(Sd(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Sd(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return wd(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Id,global:Rd,isContextDefined:Ld,ALPHABET:Gd,generateString:(e=16,t=Gd.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Sd(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Cd(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=wd(e)?[]:{};return Od(e,((e,t)=>{const a=n(e,r+1);!bd(a)&&(i[t]=a)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Wd,isThenable:e=>e&&(Cd(e)||Sd(e))&&Sd(e.then)&&Sd(e.catch)};function Xd(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}qd.inherits(Xd,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qd.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Yd=Xd.prototype,Qd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Qd[e]={value:e}})),Object.defineProperties(Xd,Qd),Object.defineProperty(Yd,"isAxiosError",{value:!0}),Xd.from=(e,t,n,r,i,a)=>{const o=Object.create(Yd);return qd.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Xd.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Kd=Xd;function Zd(e){return qd.isPlainObject(e)||qd.isArray(e)}function Jd(e){return qd.endsWith(e,"[]")?e.slice(0,-2):e}function $d(e,t,n){return e?e.concat(t).map((function(e,t){return e=Jd(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ef=qd.toFlatObject(qd,{},null,(function(e){return/^is[A-Z]/.test(e)}));var tf=function(e,t,n){if(!qd.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=qd.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!qd.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&qd.isSpecCompliantForm(t);if(!qd.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(qd.isDate(e))return e.toISOString();if(!s&&qd.isBlob(e))throw new Kd("Blob is not supported. Use a Buffer instead.");return qd.isArrayBuffer(e)||qd.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"==typeof e)if(qd.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(qd.isArray(e)&&function(e){return qd.isArray(e)&&!e.some(Zd)}(e)||(qd.isFileList(e)||qd.endsWith(n,"[]"))&&(s=qd.toArray(e)))return n=Jd(n),s.forEach((function(e,r){!qd.isUndefined(e)&&null!==e&&t.append(!0===o?$d([n],r,a):null===o?n:n+"[]",l(e))})),!1;return!!Zd(e)||(t.append($d(i,n,a),l(e)),!1)}const u=[],h=Object.assign(ef,{defaultVisitor:c,convertValue:l,isVisitable:Zd});if(!qd.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!qd.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),qd.forEach(n,(function(n,a){!0===(!(qd.isUndefined(n)||null===n)&&i.call(t,n,qd.isString(a)?a.trim():a,r,h))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t};function nf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function rf(e,t){this._pairs=[],e&&tf(e,this,t)}const af=rf.prototype;af.append=function(e,t){this._pairs.push([e,t])},af.toString=function(e){const t=e?function(t){return e.call(this,t,nf)}:nf;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var of=rf;function sf(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lf(e,t,n){if(!t)return e;const r=n&&n.encode||sf,i=n&&n.serialize;let a;if(a=i?i(t,n):qd.isURLSearchParams(t)?t.toString():new of(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}var cf=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){qd.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},uf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hf={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:of,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},df=function(e){function t(e,n,r,i){let a=e[i++];const o=Number.isFinite(+a),s=i>=e.length;return a=!a&&qd.isArray(r)?r.length:a,s?(qd.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&qd.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&qd.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o)}if(qd.isFormData(e)&&qd.isFunction(e.entries)){const n={};return qd.forEachEntry(e,((e,r)=>{t(function(e){return qd.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ff={"Content-Type":void 0},pf={transitional:uf,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=qd.isObject(e);if(i&&qd.isHTMLForm(e)&&(e=new FormData(e)),qd.isFormData(e))return r&&r?JSON.stringify(df(e)):e;if(qd.isArrayBuffer(e)||qd.isBuffer(e)||qd.isStream(e)||qd.isFile(e)||qd.isBlob(e))return e;if(qd.isArrayBufferView(e))return e.buffer;if(qd.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return tf(e,new hf.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return hf.isNode&&qd.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=qd.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return tf(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(qd.isString(e))try{return(0,JSON.parse)(e),qd.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||pf.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&qd.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw Kd.from(e,Kd.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hf.classes.FormData,Blob:hf.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};qd.forEach(["delete","get","head"],(function(e){pf.headers[e]={}})),qd.forEach(["post","put","patch"],(function(e){pf.headers[e]=qd.merge(ff)}));var mf=pf;const gf=qd.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vf=Symbol("internals");function yf(e){return e&&String(e).trim().toLowerCase()}function wf(e){return!1===e||null==e?e:qd.isArray(e)?e.map(wf):String(e)}function bf(e,t,n,r,i){return qd.isFunction(r)?r.call(this,t,n):(i&&(t=n),qd.isString(t)?qd.isString(r)?-1!==t.indexOf(r):qd.isRegExp(r)?r.test(t):void 0:void 0)}class xf{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=yf(t);if(!i)throw new Error("header name must be a non-empty string");const a=qd.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=wf(e))}const a=(e,t)=>qd.forEach(e,((e,n)=>i(e,n,t)));return qd.isPlainObject(e)||e instanceof this.constructor?a(e,t):qd.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&gf[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=yf(e)){const n=qd.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(qd.isFunction(t))return t.call(this,e,n);if(qd.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=yf(e)){const n=qd.findKey(this,e);return!(!n||void 0===this[n]||t&&!bf(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=yf(e)){const i=qd.findKey(n,e);!i||t&&!bf(0,n[i],i,t)||(delete n[i],r=!0)}}return qd.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!bf(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return qd.forEach(this,((r,i)=>{const a=qd.findKey(n,i);if(a)return t[a]=wf(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=wf(r),n[o]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return qd.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&qd.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[vf]=this[vf]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=yf(e);t[r]||(function(e,t){const n=qd.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return qd.isArray(e)?e.forEach(r):r(e),this}}xf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),qd.freezeMethods(xf.prototype),qd.freezeMethods(xf);var _f=xf;function Sf(e,t){const n=this||mf,r=t||n,i=_f.from(r.headers);let a=r.data;return qd.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function Ef(e){return!(!e||!e.__CANCEL__)}function Cf(e,t,n){Kd.call(this,null==e?"canceled":e,Kd.ERR_CANCELED,t,n),this.name="CanceledError"}qd.inherits(Cf,Kd,{__CANCEL__:!0});var Af=Cf,Tf=hf.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){const o=[];o.push(e+"="+encodeURIComponent(t)),qd.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),qd.isString(r)&&o.push("path="+r),qd.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Mf(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Pf=hf.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=qd.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Df(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[o];i||(i=l),n[a]=s,r[a]=l;let u=o,h=0;for(;u!==a;)h+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}}(50,250);return i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,l=r(s);n=a;const c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var kf="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=_f.from(e.headers).normalize(),a=e.responseType;let o;function s(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}qd.isFormData(r)&&(hf.isStandardBrowserEnv||hf.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const c=Mf(e.baseURL,e.url);function u(){if(!l)return;const r=_f.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Kd("Request failed with status code "+n.status,[Kd.ERR_BAD_REQUEST,Kd.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),lf(c,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new Kd("Request aborted",Kd.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new Kd("Network Error",Kd.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||uf;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Kd(t,r.clarifyTimeoutError?Kd.ETIMEDOUT:Kd.ECONNABORTED,e,l)),l=null},hf.isStandardBrowserEnv){const t=(e.withCredentials||Pf(c))&&e.xsrfCookieName&&Tf.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in l&&qd.forEach(i.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),qd.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",Df(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Df(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{l&&(n(!t||t.type?new Af(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(c);h&&-1===hf.protocols.indexOf(h)?n(new Kd("Unsupported protocol "+h+":",Kd.ERR_BAD_REQUEST,e)):l.send(r||null)}))};const Of={http:null,xhr:kf};qd.forEach(Of,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));function If(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Af(null,e)}function Rf(e){return If(e),e.headers=_f.from(e.headers),e.data=Sf.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),(e=>{e=qd.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t&&(n=e[i],!(r=qd.isString(n)?Of[n.toLowerCase()]:n));i++);if(!r){if(!1===r)throw new Kd(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(qd.hasOwnProp(Of,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!qd.isFunction(r))throw new TypeError("adapter is not a function");return r})(e.adapter||mf.adapter)(e).then((function(t){return If(e),t.data=Sf.call(e,e.transformResponse,t),t.headers=_f.from(t.headers),t}),(function(t){return Ef(t)||(If(e),t&&t.response&&(t.response.data=Sf.call(e,e.transformResponse,t.response),t.response.headers=_f.from(t.response.headers))),Promise.reject(t)}))}const Lf=e=>e instanceof _f?e.toJSON():e;function Nf(e,t){t=t||{};const n={};function r(e,t,n){return qd.isPlainObject(e)&&qd.isPlainObject(t)?qd.merge.call({caseless:n},e,t):qd.isPlainObject(t)?qd.merge({},t):qd.isArray(t)?t.slice():t}function i(e,t,n){return qd.isUndefined(t)?qd.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!qd.isUndefined(t))return r(void 0,t)}function o(e,t){return qd.isUndefined(t)?qd.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t)=>i(Lf(e),Lf(t),!0)};return qd.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=l[r]||i,o=a(e[r],t[r],r);qd.isUndefined(o)&&a!==s||(n[r]=o)})),n}const zf={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{zf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Bf={};zf.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new Kd(r(i," has been removed"+(t?" in "+t:"")),Kd.ERR_DEPRECATED);return t&&!Bf[i]&&(Bf[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Ff={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Kd("options must be an object",Kd.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new Kd("option "+a+" must be "+n,Kd.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Kd("Unknown option "+a,Kd.ERR_BAD_OPTION)}},validators:zf};const Uf=Ff.validators;class jf{constructor(e){this.defaults=e,this.interceptors={request:new cf,response:new cf}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Nf(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;let a;void 0!==n&&Ff.assertOptions(n,{silentJSONParsing:Uf.transitional(Uf.boolean),forcedJSONParsing:Uf.transitional(Uf.boolean),clarifyTimeoutError:Uf.transitional(Uf.boolean)},!1),null!=r&&(qd.isFunction(r)?t.paramsSerializer={serialize:r}:Ff.assertOptions(r,{encode:Uf.function,serialize:Uf.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),a=i&&qd.merge(i.common,i[t.method]),a&&qd.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=_f.concat(a,i);const o=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!s){const e=[Rf.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=o.length;let d=t;for(h=0;h<u;){const e=o[h++],t=o[h++];try{d=e(d)}catch(e){t.call(this,e);break}}try{c=Rf.call(this,d)}catch(e){return Promise.reject(e)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return lf(Mf((e=Nf(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}qd.forEach(["delete","get","head","options"],(function(e){jf.prototype[e]=function(t,n){return this.request(Nf(n||{},{method:e,url:t,data:(n||{}).data}))}})),qd.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Nf(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}jf.prototype[e]=t(),jf.prototype[e+"Form"]=t(!0)}));var Vf=jf;class Hf{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Af(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Hf((function(t){e=t})),cancel:e}}}var Gf=Hf;const Wf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wf).forEach((([e,t])=>{Wf[t]=e}));var qf=Wf;const Xf=function e(t){const n=new Vf(t),r=dd(Vf.prototype.request,n);return qd.extend(r,Vf.prototype,n,{allOwnKeys:!0}),qd.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Nf(t,n))},r}(mf);Xf.Axios=Vf,Xf.CanceledError=Af,Xf.CancelToken=Gf,Xf.isCancel=Ef,Xf.VERSION="1.4.0",Xf.toFormData=tf,Xf.AxiosError=Kd,Xf.Cancel=Xf.CanceledError,Xf.all=function(e){return Promise.all(e)},Xf.spread=function(e){return function(t){return e.apply(null,t)}},Xf.isAxiosError=function(e){return qd.isObject(e)&&!0===e.isAxiosError},Xf.mergeConfig=Nf,Xf.AxiosHeaders=_f,Xf.formToJSON=e=>df(qd.isHTMLForm(e)?new FormData(e):e),Xf.HttpStatusCode=qf,Xf.default=Xf;var Yf=Xf;function Qf(e){return Qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(e)}function Kf(){Kf=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==Qf(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Zf(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Jf(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Zf(a,r,i,o,s,"next",e)}function s(e){Zf(a,r,i,o,s,"throw",e)}o(void 0)}))}}var $f,ep={app_id:"jyninllnnkfkllpv",app_secret:"bWF3clZ2RENRMmx3aG95dVVaU1NKQT09"},tp=function(e,t){var n,r,i,a="https://api.qiuyedx.com",o="nav.qiuyedx.com",s="785d273b7996ce1b6793eed63e03c25e23733ccb5cd59ac4d281dee27d974a81",l={counts:a+"/api/counts",url_counts:a+"/api/url/counts",logs:a+"/api/logs"};return{domain:o,API_BASE_URL:a,url:l,api_key:s,awaitCountAPI:(i=Jf(Kf().mark((function e(t,n){var r;return Kf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=null,"put"!==t.toLowerCase()){e.next=8;break}return e.next=5,Yf.put(l.counts,{name:n,api_key:s});case 5:r=e.sent,e.next=12;break;case 8:if("get"!==t.toLowerCase()){e.next=12;break}return e.next=11,Yf.get(l.counts,{params:{name:n,api_key:s}});case 11:r=e.sent;case 12:return e.abrupt("return",r);case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),function(e,t){return i.apply(this,arguments)}),awaitUrlCountAPI:(r=Jf(Kf().mark((function e(t){var n,r,i=arguments;return Kf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:null,e.prev=1,r=null,"put"!==t.toLowerCase()){e.next=9;break}return e.next=6,Yf.put(l.url_counts,{domain:o,url:n,api_key:s});case 6:r=e.sent,e.next=13;break;case 9:if("get"!==t.toLowerCase()){e.next=13;break}return e.next=12,Yf.get(l.url_counts,{params:{domain:o,url:n,api_key:s}});case 12:r=e.sent;case 13:return e.abrupt("return",r);case 16:throw e.prev=16,e.t0=e.catch(1),e.t0;case 19:case"end":return e.stop()}}),e,null,[[1,16]])}))),function(e){return r.apply(this,arguments)}),awaitLogsAPI:(n=Jf(Kf().mark((function e(t){var n,r,i,a=arguments;return Kf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:10,r=a.length>2&&void 0!==a[2]?a[2]:1,e.prev=2,i=null,"put"!==t.toLowerCase()){e.next=8;break}i=null,e.next=12;break;case 8:if("get"!==t.toLowerCase()){e.next=12;break}return e.next=11,Yf.get(l.logs,{params:{n_per_page:n,p_index:r,api_key:s}});case 11:i=e.sent;case 12:return e.abrupt("return",i);case 15:throw e.prev=15,e.t0=e.catch(2),e.t0;case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e){return n.apply(this,arguments)})}}();function np(e){return np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(e)}function rp(){rp=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==np(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function ip(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ap(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return op(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?op(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function op(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sp,lp,cp=bn.div($f||(sp=["\n  ","\n  ","\n  text-align: center;\n"],lp||(lp=sp.slice(0)),$f=Object.freeze(Object.defineProperties(sp,{raw:{value:Object.freeze(lp)}}))),{paddingBottom:"1rem",paddingTop:"2rem",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"'},(function(e){return e.hasBorder&&{"--tw-border-opacity":"1",borderColor:"rgb(168 85 247 / var(--tw-border-opacity))"}}));function up(){var t=ap((0,e.useState)(!1),2),n=t[0],r=t[1],i=ap((0,e.useState)(null),2),a=i[0],o=i[1],s=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ip(a,r,i,o,s,"next",e)}function s(e){ip(a,r,i,o,s,"throw",e)}o(void 0)}))}}(rp().mark((function e(){var t;return rp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tp.awaitUrlCountAPI("GET");case 3:return t=e.sent,o(t.data),e.abrupt("return","Succeed to updateVisitData");case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Failed to updateVisitData");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){s().then((function(e){return console.log(e)})).catch((function(e){return console.warn(e)}));var e=setInterval((function(){r((function(e){return!e}))}),4e3);return function(){return clearInterval(e)}}),[]),e.createElement(cp,null,e.createElement(hd,{fadeStyle:"up",isOn:n,onContent:e.createElement(Ih,{color:"rgba(0,0,0,0.5)"},"本站已累计访问 ",e.createElement(hp,null,a?a[0].sum_count:e.createElement(xo,{icon:Mh.LM,spin:!0}))," 次"),offContent:e.createElement(Ih,{color:"rgba(0,0,0,0.5)"},"Made with ",e.createElement(xo,{icon:Th.m6,color:"red"})," by ",e.createElement(dp,{href:"https://qiuyedx.com/me"},"QiuYeDx"))}))}var hp=bn("span").withConfig({displayName:"WrapperBottom___StyledSpan",componentId:"sc-td53gb-0"})({fontWeight:"700","--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"}),dp=bn("a").withConfig({displayName:"WrapperBottom___StyledA",componentId:"sc-td53gb-1"})({fontWeight:"700","--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"}),fp={prefix:"fab",iconName:"qq",icon:[448,512,[],"f1d6","M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"]},pp={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},mp={prefix:"fab",iconName:"apple",icon:[384,512,[],"f179","M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"]},gp={prefix:"fab",iconName:"wordpress",icon:[512,512,[],"f19a","M61.7 169.4l101.5 278C92.2 413 43.3 340.2 43.3 256c0-30.9 6.6-60.1 18.4-86.6zm337.9 75.9c0-26.3-9.4-44.5-17.5-58.7-10.8-17.5-20.9-32.4-20.9-49.9 0-19.6 14.8-37.8 35.7-37.8.9 0 1.8.1 2.8.2-37.9-34.7-88.3-55.9-143.7-55.9-74.3 0-139.7 38.1-177.8 95.9 5 .2 9.7.3 13.7.3 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l77.5 230.4L249.8 247l-33.1-90.8c-11.5-.7-22.3-2-22.3-2-11.5-.7-10.1-18.2 1.3-17.5 0 0 35.1 2.7 56 2.7 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l76.9 228.7 21.2-70.9c9-29.4 16-50.5 16-68.7zm-139.9 29.3l-63.8 185.5c19.1 5.6 39.2 8.7 60.1 8.7 24.8 0 48.5-4.3 70.6-12.1-.6-.9-1.1-1.9-1.5-2.9l-65.4-179.2zm183-120.7c.9 6.8 1.4 14 1.4 21.9 0 21.6-4 45.8-16.2 76.2l-65 187.9C426.2 403 468.7 334.5 468.7 256c0-37-9.4-71.8-26-102.1zM504 256c0 136.8-111.3 248-248 248C119.2 504 8 392.7 8 256 8 119.2 119.2 8 256 8c136.7 0 248 111.2 248 248zm-11.4 0c0-130.5-106.2-236.6-236.6-236.6C125.5 19.4 19.4 125.5 19.4 256S125.6 492.6 256 492.6c130.5 0 236.6-106.1 236.6-236.6z"]},vp={prefix:"fab",iconName:"bilibili",icon:[512,512,[],"e3d9","M488.6 104.1C505.3 122.2 513 143.8 511.9 169.8V372.2C511.5 398.6 502.7 420.3 485.4 437.3C468.2 454.3 446.3 463.2 419.9 464H92.02C65.57 463.2 43.81 454.2 26.74 436.8C9.682 419.4 .7667 396.5 0 368.2V169.8C.7667 143.8 9.682 122.2 26.74 104.1C43.81 87.75 65.57 78.77 92.02 78H121.4L96.05 52.19C90.3 46.46 87.42 39.19 87.42 30.4C87.42 21.6 90.3 14.34 96.05 8.603C101.8 2.868 109.1 0 117.9 0C126.7 0 134 2.868 139.8 8.603L213.1 78H301.1L375.6 8.603C381.7 2.868 389.2 0 398 0C406.8 0 414.1 2.868 419.9 8.603C425.6 14.34 428.5 21.6 428.5 30.4C428.5 39.19 425.6 46.46 419.9 52.19L394.6 78L423.9 78C450.3 78.77 471.9 87.75 488.6 104.1H488.6zM449.8 173.8C449.4 164.2 446.1 156.4 439.1 150.3C433.9 144.2 425.1 140.9 416.4 140.5H96.05C86.46 140.9 78.6 144.2 72.47 150.3C66.33 156.4 63.07 164.2 62.69 173.8V368.2C62.69 377.4 65.95 385.2 72.47 391.7C78.99 398.2 86.85 401.5 96.05 401.5H416.4C425.6 401.5 433.4 398.2 439.7 391.7C446 385.2 449.4 377.4 449.8 368.2L449.8 173.8zM185.5 216.5C191.8 222.8 195.2 230.6 195.6 239.7V273C195.2 282.2 191.9 289.9 185.8 296.2C179.6 302.5 171.8 305.7 162.2 305.7C152.6 305.7 144.7 302.5 138.6 296.2C132.5 289.9 129.2 282.2 128.8 273V239.7C129.2 230.6 132.6 222.8 138.9 216.5C145.2 210.2 152.1 206.9 162.2 206.5C171.4 206.9 179.2 210.2 185.5 216.5H185.5zM377 216.5C383.3 222.8 386.7 230.6 387.1 239.7V273C386.7 282.2 383.4 289.9 377.3 296.2C371.2 302.5 363.3 305.7 353.7 305.7C344.1 305.7 336.3 302.5 330.1 296.2C323.1 289.9 320.7 282.2 320.4 273V239.7C320.7 230.6 324.1 222.8 330.4 216.5C336.7 210.2 344.5 206.9 353.7 206.5C362.9 206.9 370.7 210.2 377 216.5H377z"]},yp={prefix:"fab",iconName:"tiktok",icon:[448,512,[],"e07b","M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"]},wp={prefix:"fab",iconName:"docker",icon:[640,512,[],"f395","M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"]},bp={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},xp={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]},_p={prefix:"fab",iconName:"npm",icon:[576,512,[],"f3d4","M288 288h-32v-64h32v64zm288-128v192H288v32H160v-32H0V160h576zm-416 32H32v128h64v-96h32v96h32V192zm160 0H192v160h64v-32h64V192zm224 0H352v128h64v-96h32v96h32v-96h32v96h32V192z"]},Sp=o(6248),Ep=bn.div.attrs((function(e){return{className:"gsap_main_fadein"}})).withConfig({displayName:"Styledtwin__CardWrapper",componentId:"sc-prx9hd-0"})(["",";min-height:",";width:",";display:flex;flex-direction:column;align-items:center;text-align:center;z-index:1;transition:box-shadow 0.3s,background-color 0.3s;",";"],{borderRadius:"1.5rem","--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",":active":{"--tw-shadow":"0 25px 50px -12px rgb(0 0 0 / 0.25)","--tw-shadow-colored":"0 25px 50px -12px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},"@media (min-width: 768px)":{":hover":{"--tw-shadow":"0 25px 50px -12px rgb(0 0 0 / 0.25)","--tw-shadow-colored":"0 25px 50px -12px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}},(function(e){return e.h||"200px"}),(function(e){return e.w||""}),(function(e){return e._tw})),Cp=bn.div.withConfig({displayName:"Styledtwin__Wrapper",componentId:"sc-dq4hrn-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;flex-grow:1;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;z-index:100;background-size:cover;"]),Ap=bn(Ep).withConfig({displayName:"Styledtwin__ErrorWrapper",componentId:"sc-dq4hrn-1"})([""," display:flex;flex-direction:column;text-align:center;@media(max-width:460px){","}"],{borderRadius:"1.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(248 113 113 / var(--tw-bg-opacity))",padding:"2.5rem","--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},{borderRadius:"1.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(248 113 113 / var(--tw-bg-opacity))",padding:"1rem",letterSpacing:"-0.05em","--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}),Tp=bn.input.attrs((function(e){return{autoComplete:"off"}})).withConfig({displayName:"Styledtwin__TextInputLine",componentId:"sc-l98ig4-0"})(["height:40px;text-align:center;flex-grow:1;min-width:298px;box-sizing:border-box;@media(max-width:","px){border-width:1px;border-color:rgb(156 163 175);&:focus{border-width:2px;border-color:rgb(59 130 246);}",";}",";",";"],kn,(function(e){return e.invalid?"border-width: 2px; border-color: rgb(248 113 113);":""}),{borderRadius:"9999px",paddingLeft:"1.5rem",paddingRight:"1.5rem",caretColor:"#3b82f6","::placeholder":{"--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},":focus":{outline:"2px solid transparent",outlineOffset:"2px"},":focus::placeholder":{"--tw-text-opacity":"1",color:"rgb(252 165 165 / var(--tw-text-opacity))"},"@media (min-width: 768px)":{"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(156 163 175 / var(--tw-ring-opacity))",":hover":{"--tw-ring-opacity":"1","--tw-ring-color":"rgb(59 130 246 / var(--tw-ring-opacity))"},":focus":{"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(59 130 246 / var(--tw-ring-opacity))"}}},(function(e){return e.invalid?{"::placeholder":{"--tw-text-opacity":"1",color:"rgb(248 113 113 / var(--tw-text-opacity))"},"@media (min-width: 768px)":{"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(248 113 113 / var(--tw-ring-opacity))"}}:""})),Mp=bn.input.attrs((function(e){return{autoComplete:"off"}})).withConfig({displayName:"Styledtwin__SearchInputLine",componentId:"sc-l98ig4-1"})(["text-align:center;flex-grow:1;width:100%;box-sizing:border-box;",";",";"],{height:"3rem",borderRadius:"9999px",paddingLeft:"3rem",paddingRight:"3rem",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',"--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))",caretColor:"#3b82f6","::placeholder":{letterSpacing:"0.1em","--tw-text-opacity":"1",color:"rgb(209 213 219 / var(--tw-text-opacity))",transitionProperty:"color, background-color, border-color, text-decoration-color, fill, stroke",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"},":focus":{outline:"2px solid transparent",outlineOffset:"2px"},":focus::placeholder":{"--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"},"@media (min-width: 768px)":{fontSize:"1.125rem",lineHeight:"1.75rem"}},(function(e){return e.invalid?{"::placeholder":{"--tw-text-opacity":"1",color:"rgb(248 113 113 / var(--tw-text-opacity))"},"@media (min-width: 768px)":{"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(248 113 113 / var(--tw-ring-opacity))"}}:""})),Pp=bn.label.attrs((function(e){return{for:e.for}})).withConfig({displayName:"Styledtwin__InputDesc",componentId:"sc-l98ig4-2"})(["display:inline-block;position:absolute;background-color:rgba(255,255,255,0);",";"],{pointerEvents:"none",left:"50%",top:"50%","--tw-translate-x":"-50%",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-translate-y":"-50%",cursor:"text",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"0.5rem",paddingRight:"0.5rem",fontSize:"1rem",lineHeight:"1.5rem","--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))",".peer:placeholder-shown ~ &":{"--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"},".peer:focus ~ &":{"--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"}}),Dp=bn.label.attrs((function(e){return{for:e.for}})).withConfig({displayName:"Styledtwin__InputIcon",componentId:"sc-l98ig4-3"})(["position:absolute;transition:all 0.25s ease;height:32px;width:32px;& *{margin-left:0 !important;}",";"],{right:"0.375rem",top:"50%","--tw-translate-y":"-50%",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",padding:"0.125rem",verticalAlign:"middle",fontSize:"1.25rem",lineHeight:"1.75rem","--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))",":active":{"--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"},".peer:placeholder-shown ~ &":{display:"none",cursor:"text","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"},"@media (min-width: 768px)":{cursor:"pointer",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(239 246 255 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(219 234 254 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))"}}}),kp=bn.label.attrs((function(e){return{for:e.for}})).withConfig({displayName:"Styledtwin__InputIcon2",componentId:"sc-l98ig4-4"})(["position:absolute;transition:all 0.25s ease;",";"],{pointerEvents:"none",right:"0.5rem",top:"50%",display:"none","--tw-translate-y":"-50%",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",userSelect:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",paddingLeft:"0.25rem",paddingRight:"0.5rem",fontSize:"1.25rem",lineHeight:"1.75rem","--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))",":active":{"--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))"},".peer:placeholder-shown ~ &":{display:"block",cursor:"text"},"@media (min-width: 768px)":{cursor:"pointer",":hover":{"--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))"}}}),Op=bn.div.withConfig({displayName:"Styledtwin__TextInputLineWrapper",componentId:"sc-l98ig4-5"})(["position:relative;margin-top:10px;justify-content:center;flex-shrink:1;flex-grow:2;display:flex;height:40px;",";",";"],{cursor:"default","@media (min-width: 768px)":{cursor:"pointer"}},(function(e){return e._tw||""}));function Ip(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lp=bn.div.withConfig({displayName:"PopupMenu__Wrapper",componentId:"sc-1n6ani0-0"})(["",";"],(function(e){return e._tw||""})),Np=bn(Lp).withConfig({displayName:"PopupMenu___StyledWrapper",componentId:"sc-1n6ani0-1"})({position:"relative"}),zp=bn.div.withConfig({displayName:"PopupMenu__AnimateWrapper",componentId:"sc-1n6ani0-2"})(["position:absolute;top:0;left:0;width:100%;",";",";",";"],(function(e){return e.animate}),(function(e){return e.isHidden?"display: none":""}),{zIndex:"50"}),Bp=function(t){var n=t.button,r=t.menu,i=t.closeClassName,a=t.animate,o=t.switchBaned,s=void 0!==o&&o,l=t._tw,c=Ip((0,e.useState)(!1),2),u=c[0],h=c[1],d=Ip((0,e.useState)(!1),2),f=d[0],p=d[1],m=(0,e.useRef)(null),g={"t_Y-in.3":{"@keyframes popup_t_Y_50":{"0%":{transformOrigin:"center 50px",opacity:"0",transform:"scaleY(0)"},"100%":{transformOrigin:"center 50px",opacity:"1",transform:"scaleY(1)"}},animation:"popup_t_Y_50 .3s ease forwards"},"t-in.3":{"@keyframes popup_t":{"0%":{transformOrigin:"top",opacity:"0",transform:"scale(0.2)"},"100%":{transformOrigin:"top",opacity:"1",transform:"scale(1)"}},animation:"popup_t .3s ease forwards"},"tr-in.3":{"@keyframes popup_tr":{"0%":{transformOrigin:"top right",opacity:"0",transform:"scale(0.2)"},"100%":{transformOrigin:"top right",opacity:"1",transform:"scale(1)"}},animation:"popup_tr .3s ease forwards"},"b-in.3":{"@keyframes popup_b":{"0%":{transformOrigin:"bottom",opacity:"0",transform:"scale(0.2)"},"100%":{transformOrigin:"bottom",opacity:"1",transform:"scale(1)"}},animation:"popup_b .3s ease forwards"},"t_Y-out.3":{"@keyframes popout_t_Y_50":{"0%":{transformOrigin:"center 50px",opacity:"1",transform:"scaleY(1)"},"100%":{transformOrigin:"center 50px",opacity:"0",transform:"scaleY(0)"}},animation:"popout_t_Y_50 .3s ease forwards"},"t-out.3":{"@keyframes popout_t":{"100%":{transformOrigin:"top",opacity:"0",transform:"scale(0.2)"},"0%":{transformOrigin:"top",opacity:"1",transform:"scale(1)"}},animation:"popout_t .3s ease forwards"},"tr-out.3":{"@keyframes popout_tr":{"100%":{transformOrigin:"top right",opacity:"0",transform:"scale(0.2)"},"0%":{transformOrigin:"top right",opacity:"1",transform:"scale(1)"}},animation:"popout_tr .3s ease forwards"},"b-out.3":{"@keyframes popout_b":{"100%":{transformOrigin:"bottom",opacity:"0",transform:"scale(0.2)"},"0%":{transformOrigin:"bottom",opacity:"1",transform:"scale(1)"}},animation:"popout_b .3s ease forwards"}};return(0,e.useEffect)((function(){var e=function(e){(m.current&&!m.current.contains(e.target)||m.current&&m.current.contains(e.target)&&"string"==typeof e.target.className&&e.target.className.split(" ").includes(i||"closeClassName"))&&p(!0)};return document.addEventListener("click",e,!0),function(){document.removeEventListener("click",e,!0)}}),[]),e.createElement(Np,{ref:m,_tw:l},e.createElement(Lp,{onClick:function(){h(!0),p(!s&&u)}},n),e.createElement(zp,{onAnimationEnd:function(){f&&h(!1)},isHidden:!u,animate:a&&f?g[a.split(".").join("-out.")]:g[a.split(".").join("-in.")]},r))},Fp=bn.ul.withConfig({displayName:"Styledtwin__HoverListWrapper",componentId:"sc-1w6bve9-0"})(["",";margin:auto;width:",";max-height:",";position:absolute;top:",";bottom:",";right:",";left:",";flex-direction:column;align-items:stretch;justify-content:space-around;text-align:center;z-index:710;transition:all .3s ease;",";",";",";& li{box-sizing:border-box;display:flex;align-items:center;justify-content:center;padding:6px 0 6px 0;font-size:18px;min-height:36px;text-align:center;line-height:initial;",";}& li.valid{box-sizing:border-box;",";}& li:not(:last-child){}&::-webkit-scrollbar{display:none;}",";"],{"@keyframes fade_in_up":{"0%":{opacity:"0",transform:"translateY(15px)"},"100%":{opacity:"1",transform:"translateY(0)"}},animation:"fade_in_up .4s ease-out forwards",overflowY:"auto",overflowX:"hidden",overscrollBehavior:"auto",borderRadius:"1rem",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(241 245 249 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))","--tw-shadow":"0 25px 50px -12px rgb(0 0 0 / 0.25)","--tw-shadow-colored":"0 25px 50px -12px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",":active":{"--tw-shadow":"0 25px 50px -12px rgb(0 0 0 / 0.25)","--tw-shadow-colored":"0 25px 50px -12px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},"@media (min-width: 768px)":{":hover":{"--tw-shadow":"0 25px 50px -12px rgb(0 0 0 / 0.25)","--tw-shadow-colored":"0 25px 50px -12px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}},(function(e){return e.w||"120px"}),(function(e){return e.h||"264px"}),(function(e){return e._t||"initial"}),(function(e){return e._b||"initial"}),(function(e){return e._r||"initial"}),(function(e){return e._l||"initial"}),(function(e){return e._tw}),(function(e){return e.animate}),(function(e){return e.isHidden?"display: none":""}),{margin:"0.375rem",cursor:"pointer",userSelect:"none",borderRadius:"0.5rem","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))",transitionDuration:"100ms",":active":{"--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))"},"@media (min-width: 768px)":{":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(249 250 251 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))"},":active":{"--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}}},{"--tw-bg-opacity":"1",backgroundColor:"rgb(239 246 255 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))","@media (min-width: 768px)":{":hover":{"--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"}}},(function(e){return e._tw}));function Up(t){return e.createElement(Fp,{animate:t.animate,isHidden:t.isHidden,w:t.w,h:t.h,_t:t._t,_b:t._b,_l:t._l,_r:t._r,_tw:t._tw,validText:t.validText,onClick:t.onClick,onAnimationEnd:t.onAnimationEnd},t.list?t.list.map((function(n,r){return e.createElement("li",{className:t.validText==n?t.closeClassName+" valid"||0:t.closeClassName||"closeClassName",key:r+1,id:"pageLi_"+(r+1)},n)})):"")}var jp=o(495),Vp=(bn.img.withConfig({displayName:"Styledtwin__PictureDisplay",componentId:"sc-1mi1phl-0"})(["height:",";width:",";object-fit:cover;object-position:center;",""],(function(e){return e.height?e.height+"px":"150px"}),(function(e){return e.width?e.width+"px":"150px"}),{"@keyframes fade_in":{"0%":{opacity:"0"},"100%":{opacity:"1"}},animation:"fade_in .8s ease forwards"}),bn.div.withConfig({displayName:"Styledtwin__PictureWrapper",componentId:"sc-1mi1phl-1"})(["",";",";margin:0;padding:0;display:flex;flex-direction:column;justify-content:center;align-items:center;transition:height 0.25s ease,width 0.25s ease;",";& img{",";",";",";",";}& div.etc{margin:auto;padding:0;height:50%;width:100%;",";",";}& div svg{height:100%;margin:auto;padding:0;}"],(function(e){return e.height?"height: "+e.height:""}),(function(e){return e.width?"width: "+e.width:""}),(function(e){return e._tw||""}),(function(e){return e.height?"height: "+e.height:""}),(function(e){return e.width?"width: "+e.width:""}),{backgroundSize:"contain"},(function(e){return e.img_tw||""}),{"--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"},(function(e){return e.ph_tw||""}))),Hp=function(t){var n=t.in,r=t.children,i=void 0===r?null:r,a=t.fadeStyle,o=void 0===a?"opacity":a,s=t.className,l=void 0===s?"fade":s,c=t.duration,u=void 0===c?"0.3s":c,h=t.offset,d=void 0===h?"15px":h,f=t.exit,p=void 0===f||f,m=(0,e.useRef)(null);return e.createElement(cd,{in:n,nodeRef:m,className:l,timeout:1e3*parseFloat(u),exit:p,unmountOnExit:!0},e.createElement(ud,{ref:m,fadeStyle:o,className:l,duration:u,offset:d},i))};function Gp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qp=function(t){var n=t.url,r=void 0===n?"images/image-blue-300.svg":n,i=t.w,a=void 0===i?"150px":i,o=t.h,s=void 0===o?"150px":o,l=t.loadingFlag,c=void 0!==l&&l,u=t.errorFlag,h=void 0!==u&&u,d=t.placeholder,f=void 0===d?e.createElement(xo,{icon:Mh.LM,spin:!0}):d,p=t.alt,m=void 0===p?e.createElement(xo,{icon:jp.xH,shake:!0}):p,g=t._tw,v=void 0===g?{}:g,y=t.ph_tw,w=void 0===y?{}:y,b=t.img_tw,x=void 0===b?{}:b,_=t.fadeStyle,S=void 0===_?"opacity":_,E=t.duration,C=void 0===E?"0s":E,A=t.offset,T=void 0===A?"15px":A,M=t.className,P=void 0===M?"fadePicture":M,D=t.exit,k=void 0===D||D,O=Gp((0,e.useState)(!0),2),I=O[0],R=O[1],L=Gp((0,e.useState)(!1),2),N=L[0],z=L[1],B=new Image;return(0,e.useEffect)((function(){"string"==typeof r?(R(!0),B.src=r,B.onload=function(){R(!1),z(!1)},B.onerror=function(){console.log("failed to load image"),R(!1),z(!0)}):(R(!1),z(!1))}),[r]),e.createElement(Vp,{height:s,width:a,_tw:v,img_tw:x,ph_tw:w},N||h?e.createElement("div",{className:"etc"},m):I||c?e.createElement(Xp,{className:"etc"},f):"",e.createElement(Hp,{in:!(N||h||I||c),fadeStyle:S,duration:C,offset:T,className:P,exit:k},"string"==typeof r?e.createElement("img",{src:r,alt:""}):e.createElement("div",null,r)))},Xp=bn("div").withConfig({displayName:"Pictrue___StyledDiv",componentId:"sc-14kzqli-0"})({display:"flex",alignItems:"center",justifyContent:"center"}),Yp=o(4233),Qp=(bn.div.withConfig({displayName:"Styledtwin__BaseButton",componentId:"sc-a63f0f-0"})([""," "," height:",";width:",";",""],{borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))"},(function(e){return e.hasBorder?{borderWidth:"4px","--tw-border-opacity":"1",borderColor:"rgb(244 114 182 / var(--tw-border-opacity))"}:""}),(function(e){return e.h||"40px"}),(function(e){return e.w||"120px"}),(function(e){return e._tw})),bn.button.withConfig({displayName:"Styledtwin__MButton",componentId:"sc-a63f0f-1"})(["",";"," height:",";line-height:",";width:",";",";"],{cursor:"default",userSelect:"none",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700",letterSpacing:"0.05em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(191 219 254 / var(--tw-ring-opacity))",transitionDuration:"100ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(37 99 235 / var(--tw-bg-opacity))","--tw-ring-opacity":"1","--tw-ring-color":"rgb(96 165 250 / var(--tw-ring-opacity))"},":disabled":{cursor:"not-allowed","--tw-bg-opacity":"1",backgroundColor:"rgb(156 163 175 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{cursor:"pointer",":hover":{"--tw-scale-x":"1.05","--tw-scale-y":"1.05",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"},":active":{"--tw-scale-x":"1","--tw-scale-y":"1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},":disabled:hover":{"--tw-scale-x":"1","--tw-scale-y":"1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"}}},(function(e){return e._tw}),(function(e){return e.h||"32px"}),(function(e){return e.h||"32px"}),(function(e){return e.w||"86px"}),(function(e){return e._tw_user}))),Kp=bn.button.withConfig({displayName:"Styledtwin__MButtonLight",componentId:"sc-a63f0f-2"})(["",";"," height:",";line-height:",";width:",";",";"],{cursor:"default",userSelect:"none",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(239 246 255 / var(--tw-bg-opacity))",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700",letterSpacing:"0.05em","--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(191 219 254 / var(--tw-ring-opacity))",transitionDuration:"100ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(219 234 254 / var(--tw-bg-opacity))"},":disabled":{cursor:"not-allowed","--tw-bg-opacity":"1",backgroundColor:"rgb(156 163 175 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{cursor:"pointer",":hover":{"--tw-scale-x":"1.05","--tw-scale-y":"1.05",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"},":active":{"--tw-scale-x":"1","--tw-scale-y":"1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"},":disabled:hover":{"--tw-scale-x":"1","--tw-scale-y":"1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"}}},(function(e){return e._tw}),(function(e){return e.h||"32px"}),(function(e){return e.h||"32px"}),(function(e){return e.w||"86px"}),(function(e){return e._tw_user})),Zp=bn.div.withConfig({displayName:"Styledtwin__BackButton",componentId:"sc-a63f0f-3"})(["margin:0 0 0 0;height:50px;width:50px;flex-shrink:0;line-height:50px;transition:all 0.2s ease;font-size:20px;",";",";@media (min-width:","px){&::",'{content:"','";}}'],{"@keyframes fade_in_up":{"0%":{opacity:"0",transform:"translateY(15px)"},"100%":{opacity:"1",transform:"translateY(0)"}},animation:"fade_in_up .4s ease-out forwards",userSelect:"none",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontWeight:"600","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))","--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",":active":{"--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},"@media (min-width: 768px)":{width:"12rem",cursor:"pointer",":hover":{"--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))","--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":active":{"--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}},(function(e){return e.scaleIn?{"@keyframes scale_fade_in":{"0%":{scale:"0",opacity:"0"},"100%":{scale:"1px",opacity:"1"}},animation:"scale_fade_in .4s ease forwards"}:""}),kn,(function(e){return e.content_direction||"after"}),(function(e){return e.content||"返 回"})),Jp=bn.div.withConfig({displayName:"Styledtwin__PageButton",componentId:"sc-a63f0f-4"})(["margin:0 0 0 0;height:50px;width:50px;flex-shrink:0;line-height:50px;transition:all 0.2s ease;font-size:20px;z-index:10;position:relative;",";",";",";"],{display:"flex","@keyframes fade_in_up":{"0%":{opacity:"0",transform:"translateY(15px)"},"100%":{opacity:"1",transform:"translateY(0)"}},animation:"fade_in_up .4s ease-out forwards",userSelect:"none",alignItems:"center",justifyContent:"center",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontWeight:"600","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))","--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",":active":{"--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},"@media (min-width: 768px)":{cursor:"pointer",":hover":{"--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))","--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":active":{"--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}},(function(e){return e.scaleIn?{"@keyframes scale_fade_in":{"0%":{scale:"0",opacity:"0"},"100%":{scale:"1px",opacity:"1"}},animation:"scale_fade_in .4s ease forwards"}:""}),(function(e){return e.active?{"--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(191 219 254 / var(--tw-ring-opacity))",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(59 130 246 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))","--tw-ring-opacity":"1","--tw-ring-color":"rgb(96 165 250 / var(--tw-ring-opacity))"},"@media (min-width: 768px)":{":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(147 197 253 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}}}:""})),$p=bn(Jp).withConfig({displayName:"Styledtwin__UniButton",componentId:"sc-a63f0f-5"})(["animation:none;",";",";"],(function(e){return e.hasShadow?{"--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",":active":{"--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},"@media (min-width: 768px)":{":hover":{"--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":active":{"--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}}:{"--tw-shadow":"0 0 #0000","--tw-shadow-colored":"0 0 #0000",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",":hover":{"--tw-shadow":"0 0 #0000","--tw-shadow-colored":"0 0 #0000",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}}),(function(e){return e._tw||""})),em=bn.button.withConfig({displayName:"Styledtwin__SwitchWrapper",componentId:"sc-a63f0f-6"})(["width:",";height:",";padding:0 ",";background-color:",";transition:background-color "," ",";",";&:disabled{cursor:not-allowed;opacity:0.6;}&::before{content:'';flex-grow:",";transition:all "," ",";}"],(function(e){var t=e.size;return t?t.wrapperWidth:"3rem"}),(function(e){var t=e.size;return t?t.wrapperHeight:"1.5rem"}),(function(e){var t=e.size;return t?t.px:"0.15rem"}),(function(e){return e.bgColor||"rgb(215, 218, 226)"}),(function(e){return e.duration||"0.15s"}),(function(e){return e.timingFunction||"ease"}),{position:"relative",display:"flex",flexShrink:"0",userSelect:"none",alignItems:"center",borderRadius:"9999px","@media (min-width: 768px)":{cursor:"pointer"}},(function(e){return e.isOn?"1":"0"}),(function(e){return e.duration||"0.15s"}),(function(e){return e.timingFunction||"ease"})),tm=bn.div.withConfig({displayName:"Styledtwin__SwitchCircle",componentId:"sc-a63f0f-7"})(["z-index:300;width:",";height:",";justify-content:",";color:",";transition:color "," ",";& .svg-inline--fa{width:85%;height:85%;}& *{max-width:",";}",";"],(function(e){var t=e.size;return t?t.circleSize:"1.2rem"}),(function(e){var t=e.size;return t?t.circleSize:"1.2rem"}),(function(e){return e.isOn?"end":"start"}),(function(e){return e.color||"rgb(215, 218, 226)"}),(function(e){return e.duration||"0.15s"}),(function(e){return e.timingFunction||"ease"}),(function(e){var t=e.size;return t?Ro(t.circleSize,(function(e,t){return e-t}),2*parseFloat(t.px)):Ro("1.2rem",(function(e,t){return e-t}),.2)}),{display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}),nm=bn.div.withConfig({displayName:"Styledtwin__LeftBackgroundIcon",componentId:"sc-a63f0f-8"})(["z-index:200;width:",";height:",";opacity:0.8;color:white;left:",";& .svg-inline--fa{width:85%;height:85%;}",";& > * *{max-width:",";}"],(function(e){var t=e.size;return t?t.circleSize:"1.2rem"}),(function(e){var t=e.size;return t?t.circleSize:"1.2rem"}),(function(e){return e.lx||"2px"}),{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},(function(e){var t=e.size;return t?Ro(t.circleSize,(function(e,t){return e-t}),2*parseFloat(t.px)):Ro("1.2rem",(function(e,t){return e-t}),.2)})),rm=bn.div.withConfig({displayName:"Styledtwin__RightBackgroundIcon",componentId:"sc-a63f0f-9"})(["z-index:200;width:",";height:",";opacity:0.8;color:white;right:",";& .svg-inline--fa{width:85%;height:85%;}",";& > * *{max-width:",";}"],(function(e){var t=e.size;return t?t.circleSize:"1.2rem"}),(function(e){var t=e.size;return t?t.circleSize:"1.2rem"}),(function(e){return e.rx||"2px"}),{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},(function(e){var t=e.size;return t?Ro(t.circleSize,(function(e,t){return e-t}),2*parseFloat(t.px)):Ro("1.2rem",(function(e,t){return e-t}),.2)})),im=bn.div.withConfig({displayName:"Styledtwin__ScrollWrapper",componentId:"sc-16hc82p-0"})(["-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),am=function(t){var n,r=(0,e.useRef)(t);r.current=t,n=function(){return function(){return r.current()}},(0,e.useEffect)(n,[])},om="undefined"!=typeof window,sm=function(t,n){void 0===t&&(t=1/0),void 0===n&&(n=1/0);var r=function(t){var n=(0,e.useRef)(0),r=(0,e.useState)(t),i=r[0],a=r[1],o=(0,e.useCallback)((function(e){cancelAnimationFrame(n.current),n.current=requestAnimationFrame((function(){a(e)}))}),[]);return am((function(){cancelAnimationFrame(n.current)})),[i,o]}({width:om?window.innerWidth:t,height:om?window.innerHeight:n}),i=r[0],a=r[1];return(0,e.useEffect)((function(){if(om){var e=function(){a({width:window.innerWidth,height:window.innerHeight})};return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(window,"resize",e),function(){!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(window,"resize",e)}}}),[]),i};function lm(e){return lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(e)}function cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cm(Object(n),!0).forEach((function(t){hm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==lm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==lm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===lm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pm=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=sm().width,i=dm((0,e.useState)({clientWidth:0,scrollWidth:0}),2),a=i[0],o=i[1],s=dm((0,e.useState)({scrollPercentage:0,scrollLeft:0}),2),l=s[0],c=s[1],u=(0,e.useCallback)((function(){if(t.current){var e=t.current,n=e.clientWidth,r=e.scrollWidth;o({clientWidth:n,scrollWidth:r})}}),[t]),h=(0,e.useCallback)((function(){if(t.current){var e=t.current,n=e.scrollLeft,r=e.clientWidth,i=e.scrollWidth;c({scrollPercentage:n/(i-r)*100,scrollLeft:n})}}),[t]);(0,e.useLayoutEffect)((function(){n&&u();var e=function(){h(),n||u()};return t.current.addEventListener("scroll",e),function(t){t&&t.current&&t.current.removeEventListener("scroll",e)}}),[n,h,u]),(0,e.useEffect)((function(){u(),h()}),[r]);var d=(0,e.useCallback)((function(){u(),h()}),[u,h]);return um(um(um({},a),l),{},{fetchCurrentScrollDetails:d})};function mm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vm=bn.div.withConfig({displayName:"DiscreteProgress__DiscreteProgressPoint",componentId:"sc-14902zy-0"})(["transition:background-color 0.3s ease;"]),ym=bn(vm).withConfig({displayName:"DiscreteProgress___StyledDiscreteProgressPoint",componentId:"sc-14902zy-1"})({height:"0.75rem",width:"0.75rem",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(219 234 254 / var(--tw-bg-opacity))",opacity:"0",'&[aria-checked="true"]':{"--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{cursor:"pointer"}}),wm=function(t){t.clientWidth,t.scrollWidth;var n=t.scrollLeft,r=t.numberOfSteps,i=void 0===r?5:r,a=t.distancePerStep,o=void 0===a?100:a,s=t.gsapClass,l=void 0===s?null:s,c=t.scrollRef,u=Math.min(i,Math.floor((n+170)/o)+1),h=Ao(0,999),d=mm((0,e.useState)(.8),2),f=d[0],p=d[1],m=(0,e.useRef)(!1),g=mm((0,e.useState)("gsap_discrete_progress_".concat(h)),1)[0],v=(0,e.useRef)(null);return(0,e.useEffect)((function(){setTimeout((function(){v.current?(v.current.kill(),v.current=Eh.timeline({repeat:0}),v.current.set(".".concat(l||g),{y:20,opacity:0,duration:0}),v.current.to(".".concat(l||g),{y:0,opacity:1,duration:1.2,ease:"power3.out",stagger:.12,delay:f,callback:function(){m.current=!0}})):(v.current=Eh.timeline({repeat:0}),v.current.set(".".concat(l||g),{y:20,opacity:0,duration:0}),v.current.to(".".concat(l||g),{y:0,opacity:1,duration:1.2,ease:"power3.out",stagger:.12,delay:f,callback:function(){m.current=!0}}))}),100)}),[i]),(0,e.useLayoutEffect)((function(){m.current&&p(0)}),[i]),e.createElement(bm,{style:i&&i>1?{}:{display:"none"}},Array.from({length:i}).map((function(t,n){return e.createElement(ym,{className:l||g,style:{transform:n===u-1?"scale(1.1, 1.1)":"scale(0.9, 0.9)"},"aria-checked":n<u,key:n,onClick:function(){var e=n*o;c&&c.current&&c.current.scrollTo({left:e,behavior:"smooth"})}})})))},bm=bn("div").withConfig({displayName:"DiscreteProgress___StyledDiv",componentId:"sc-14902zy-2"})({display:"flex","> :not([hidden]) ~ :not([hidden])":{"--tw-space-x-reverse":"0",marginRight:"calc(0.5rem * var(--tw-space-x-reverse))",marginLeft:"calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))"},opacity:"0.7",transitionDuration:"300ms",":active":{opacity:"1"},"@media (min-width: 768px)":{":hover":{opacity:"1"}}});function xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _m(t){var n,r,i=(n=(0,e.useState)(window.matchMedia(t).matches),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xm(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],o=i[1];return(0,e.useEffect)((function(){var e=window.matchMedia(t),n=function(){o(e.matches)};return e.addListener(n),function(){e.removeListener(n)}}),[t]),a}function Sm(t){var n=t.title,r=void 0===n?"最新资源":n,i=t.desc,a=void 0===i?"向左滑动 查看更多":i,o=t.gsapClass,s=void 0===o?"XListItem":o,l=t.offset,c=void 0===l?120:l,u=t.icon,h=void 0===u?e.createElement(xo,{icon:An.Kr}):u,d=t.btnText,f=void 0===d?"打开":d,p=t.dataSource,m=void 0===p?[{icon:e.createElement(xo,{icon:Yp._j}),itemTitle:"标题",itemDesc:"描述",btnText:"查看",btnClick:"https://qiuyedx.com"}]:p,g=t.itemsPerColumn,v=void 0===g?3:g,y=_m("(max-width: ".concat(kn,"px)")),w=(0,e.useRef)(null),b=pm(w,!0),x=b.clientWidth,_=b.scrollWidth,S=b.scrollPercentage,E=b.scrollLeft,C=(0,e.useRef)(null);(0,e.useLayoutEffect)((function(){C.current?(C.current.kill(),C.current=Eh.timeline({repeat:0}),C.current.set(".".concat(s),{x:c,opacity:0,duration:0}),C.current.to(".".concat(s),{x:0,opacity:1,duration:1.2,ease:"power3.out",stagger:.12,delay:.8})):(C.current=Eh.timeline({repeat:0}),C.current.set(".".concat(s),{x:c,opacity:0,duration:0}),C.current.to(".".concat(s),{x:0,opacity:1,duration:1.2,ease:"power3.out",stagger:.12,delay:.8}))}),[]);for(var A=[],T=0;T<Math.ceil(m.length/v);T++)A.push(m.slice(T*v,(T+1)*v));return e.createElement(e.Fragment,null,e.createElement(Em,null,e.createElement(Cm,null,e.createElement("div",{className:s},r)),e.createElement(Am,{className:s},a)),e.createElement(Tm,null,e.createElement(Mm,{ref:w},A.map((function(t,n){return e.createElement(Pm,{key:"xlist-col-".concat(n)},t.map((function(t,r){return e.createElement(Dm,{key:"xlist-col-".concat(n,"-item-").concat(r),className:s},"string"==typeof t.icon?e.createElement(qp,{img_tw:{height:"2.5rem",width:"2.5rem"},fadeStyle:"scale",h:"52px",w:"52px",url:t.icon}):e.createElement(qp,{errorFlag:!0,fadeStyle:"scale",h:"52px",w:"52px",alt:t.icon||h}),e.createElement(km,null,e.createElement(Om,null,t.itemTitle),e.createElement(Im,null,t.itemDesc)),e.createElement(Rm,null),e.createElement(Lm,{style:{fontSize:t.btnText&&t.btnText.length>2?"12px":"15px"},h:"28px",w:"68px",onClick:function(){"string"==typeof t.btnClick?window.open(t.btnClick,"_blank"):"function"==typeof t.btnClick&&t.btnClick()}},t.btnText||f))})))})),e.createElement(Nm,null),e.createElement(zm,null)),e.createElement(Bm,null,e.createElement(wm,{clientWidth:x,scrollWidth:_,scrollLeft:E,scrollPercentage:S,numberOfSteps:Math.floor((_-x)/(y?338:370))+1,distancePerStep:y?338:370,scrollRef:w}))))}var Em=bn("div").withConfig({displayName:"XList___StyledDiv",componentId:"sc-uhk6z9-0"})({gridColumn:"span 4 / span 4",display:"flex",height:"60px",flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",paddingLeft:"1rem",paddingRight:"1rem"}),Cm=bn("div").withConfig({displayName:"XList___StyledDiv2",componentId:"sc-uhk6z9-1"})({height:"2.25rem",fontSize:"1.875rem",lineHeight:"2.25rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"}),Am=bn("div").withConfig({displayName:"XList___StyledDiv3",componentId:"sc-uhk6z9-2"})({overflow:"hidden","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"}),Tm=bn("div").withConfig({displayName:"XList___StyledDiv4",componentId:"sc-uhk6z9-3"})({position:"relative",gridColumn:"span 4 / span 4",marginTop:"0.625rem",minHeight:"120px",width:"100%",paddingBottom:"0.5rem",paddingTop:"0.25rem"}),Mm=bn(im).withConfig({displayName:"XList___StyledScrollWrapper",componentId:"sc-uhk6z9-4"})({marginTop:"-0.5rem",marginBottom:"-0.5rem",display:"flex",height:"100%",width:"100%",scrollSnapType:"x var(--tw-scroll-snap-strictness)","--tw-scroll-snap-strictness":"mandatory",scrollPaddingLeft:"0.75rem",scrollPaddingRight:"0.75rem",gap:"0.5rem",overflowX:"auto",scrollBehavior:"smooth",paddingLeft:"0.75rem",paddingRight:"0.75rem",paddingTop:"0.5rem",paddingBottom:"0.5rem","@media (min-width: 768px)":{gap:"2.5rem"}}),Pm=bn("div").withConfig({displayName:"XList___StyledDiv5",componentId:"sc-uhk6z9-5"})({display:"flex",height:"100%",width:"330px",flexShrink:"0",scrollSnapAlign:"start",scrollSnapStop:"always",flexDirection:"column",justifyContent:"flex-start",gap:"0.25rem",paddingBottom:"1rem"}),Dm=bn("div").withConfig({displayName:"XList___StyledDiv6",componentId:"sc-uhk6z9-6"})({marginLeft:"0.25rem",marginRight:"0.25rem",marginBottom:"1.25rem",display:"flex",height:"64px",flexShrink:"0",alignItems:"center",justifyContent:"flex-start",borderRadius:"0.75rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",paddingLeft:"0.5rem",paddingRight:"0.5rem","--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}),km=bn("div").withConfig({displayName:"XList___StyledDiv7",componentId:"sc-uhk6z9-7"})({display:"flex",flexDirection:"column",justifyContent:"center",gap:"0.25rem",paddingLeft:"0.25rem",textAlign:"left"}),Om=bn("span").withConfig({displayName:"XList___StyledSpan",componentId:"sc-uhk6z9-8"})({lineHeight:"1rem"}),Im=bn("span").withConfig({displayName:"XList___StyledSpan2",componentId:"sc-uhk6z9-9"})({fontSize:"0.875rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"}),Rm=bn("div").withConfig({displayName:"XList___StyledDiv8",componentId:"sc-uhk6z9-10"})({flexGrow:"1"}),Lm=bn(Kp).withConfig({displayName:"XList___StyledMButtonLight",componentId:"sc-uhk6z9-11"})({marginRight:"0.5rem","@media (min-width: 768px)":{":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(219 234 254 / var(--tw-bg-opacity))"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(191 219 254 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(37 99 235 / var(--tw-text-opacity))"}}}),Nm=bn("div").withConfig({displayName:"XList___StyledDiv9",componentId:"sc-uhk6z9-12"})({position:"absolute",right:"-2rem",top:"-0.5rem",display:"none",height:"290px",width:"3rem",backgroundImage:"linear-gradient(to left, var(--tw-gradient-stops))","--tw-backdrop-blur":"blur(8px)",backdropFilter:"var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)","@media (min-width: 768px)":{display:"block"}}),zm=bn("div").withConfig({displayName:"XList___StyledDiv10",componentId:"sc-uhk6z9-13"})({position:"absolute",left:"-2.25rem",top:"-0.5rem",display:"none",height:"290px",width:"3rem",backgroundImage:"linear-gradient(to right, var(--tw-gradient-stops))","--tw-backdrop-blur":"blur(8px)",backdropFilter:"var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)","@media (min-width: 768px)":{display:"block"}}),Bm=bn("div").withConfig({displayName:"XList___StyledDiv11",componentId:"sc-uhk6z9-14"})({position:"absolute",left:"50%","--tw-translate-x":"-50%",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-translate-y":"0.5rem"});function Fm(e){return Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(e)}function Um(){Um=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==Fm(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function jm(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Vm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||Hm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hm(e,t){if(e){if("string"==typeof e)return Gm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gm(e,t):void 0}}function Gm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wm(){(0,Sp.useClipboard)();var t=(0,e.useRef)(null),n=(0,e.useRef)(null),r=(0,e.useRef)(null),i=Vm((0,e.useState)(""),2),a=i[0],o=i[1],s=Vm((0,e.useState)("google"),2),l=s[0],c=s[1],u=Vm((0,e.useState)([]),2),h=u[0],d=u[1],f=Vm((0,e.useState)(!1),2),p=f[0],m=f[1],g=Vm((0,e.useState)(!1),2),v=g[0],y=g[1],w=Vm((0,e.useState)([]),2),b=w[0],x=w[1],_=Vm((0,e.useState)(4),2),S=_[0],E=_[1],C=[{icon:e.createElement(xo,{icon:Pn.dT}),itemTitle:"VS Code",itemDesc:"强大的代码编辑器",btnText:"下载",btnClick:"https://code.visualstudio.com/"},{icon:e.createElement(xo,{icon:bp}),itemTitle:"GitHub",itemDesc:"代码托管平台",btnText:"访问",btnClick:"https://github.com"},{icon:e.createElement(xo,{icon:Mn.t5}),itemTitle:"MongoDB",itemDesc:"灵活的NoSQL数据库",btnText:"了解更多",btnClick:"https://www.mongodb.com/"},{icon:e.createElement(xo,{icon:_p}),itemTitle:"NPM",itemDesc:"JavaScript包管理器",btnText:"获取",btnClick:"https://www.npmjs.com/"},{icon:e.createElement(xo,{icon:Tn.uM}),itemTitle:"AWS",itemDesc:"云计算服务",btnText:"了解更多",btnClick:"https://aws.amazon.com/"},{icon:e.createElement(xo,{icon:wp}),itemTitle:"Docker",itemDesc:"应用容器化工具",btnText:"获取",btnClick:"https://www.docker.com/"}],A=[{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:e.createElement(xo,{icon:An.Kr}),itemTitle:"资源A",itemDesc:"很好的资源~",btnText:"获取",btnClick:"https://qiuyedx.com"},{icon:"images/twitter.png",itemTitle:"资源B",itemDesc:"看一下试试?",btnText:"获取",btnClick:"https://qiuyedx.com"}],T={google:{name:"Google",placeholder:"Google Search",url:"https://www.google.com/search?q="},baidu:{name:"百度",placeholder:"百度一下",url:"https://www.baidu.com/s?wd="},bing:{name:"必应",placeholder:"必应搜索",url:"https://www.bing.com/search?q="}},M=function(e){D(e),tp.awaitCountAPI("PUT","homeSearch").then().catch((function(e){return console.warn("Failed to put qrcode count")}));var n=T[l].url+encodeURIComponent(e),r=t.current;r.href=n,r.target="_blank",r.click()},P=function(){localStorage.setItem("searchRecords",encodeURIComponent(Oo(JSON.stringify([])))),d([])},D=function(e){var t=localStorage.getItem("searchRecords")?JSON.parse(Io(decodeURIComponent(localStorage.getItem("searchRecords")))):[],n=t.indexOf(e);n>-1?(t.splice(n,1),t.push(e),localStorage.setItem("searchRecords",encodeURIComponent(Oo(JSON.stringify(t)))),d(t)):(t.push(e),localStorage.setItem("searchRecords",encodeURIComponent(Oo(JSON.stringify(t)))),d(t))},k=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){jm(a,r,i,o,s,"next",e)}function s(e){jm(a,r,i,o,s,"throw",e)}o(void 0)}))}}(Um().mark((function e(){var t;return Um().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Yf.get("https://api.vvhan.com/api/hotlist",{params:{type:"baiduRD"}});case 4:t=e.sent,x(t.data.data.map((function(e,t){return e.title}))),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),x(null),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();Ue((function(){(p||a||"google"!==l)&&sessionStorage.setItem("home_states",encodeURIComponent(Oo(JSON.stringify({text:a,engine:l}))))})),(0,e.useEffect)((function(){(p||a||"google"!==l)&&sessionStorage.setItem("home_states",encodeURIComponent(Oo(JSON.stringify({text:a,engine:l}))))}),[a,l]),(0,e.useEffect)((function(){if(k().then().catch(),sessionStorage.getItem("home_states")){var e=JSON.parse(Io(decodeURIComponent(sessionStorage.getItem("home_states"))));o(e.text?e.text:""),c(e.engine?e.engine:"")}if(localStorage.getItem("searchRecords")){var t=JSON.parse(Io(decodeURIComponent(localStorage.getItem("searchRecords"))));d(t)}}),[]);var O=(0,e.useRef)(null);(0,e.useLayoutEffect)((function(){O.current?(O.current.kill(),O.current=Eh.timeline({repeat:0}),O.current.set(".gsap_title",{scale:0,y:120,opacity:0,duration:0}),O.current.to(".gsap_title",{scale:1,y:0,opacity:1,duration:1.2,ease:"power3.out",stagger:.12,delay:.2})):(O.current=Eh.timeline({repeat:0}),O.current.set(".gsap_title",{scale:0,y:120,opacity:0,duration:0}),O.current.to(".gsap_title",{scale:1,y:0,opacity:1,duration:1.2,ease:"power3.out",stagger:.2,delay:.2}))}),[]);var I,R=(0,e.useRef)(null);return(0,e.useLayoutEffect)((function(){R.current?(R.current.kill(),R.current=Eh.timeline({repeat:-1}),R.current.set(".gsap_letter",{y:0,x:0,rotate:0,scale:1,duration:0}),R.current.to(".gsap_letter",{y:-25,x:-5,rotate:25,scale:.9,duration:.75,ease:"back.out(4)",stagger:.15,delay:1.4}),R.current.to(".gsap_letter",{y:0,x:0,rotate:0,scale:1,duration:.75,ease:"back.out(4)",stagger:-.15})):(R.current=Eh.timeline({repeat:-1}),R.current.set(".gsap_letter",{y:0,x:0,rotate:0,scale:1,duration:0}),R.current.to(".gsap_letter",{y:-25,x:-5,rotate:25,scale:.9,duration:.75,ease:"back.out(4)",stagger:.15,delay:1.4}),R.current.to(".gsap_letter",{y:0,x:0,rotate:0,scale:1,duration:.75,ease:"back.out(4)",stagger:-.15}))}),[]),e.createElement(Bn,null,e.createElement(Rn,null,e.createElement(Nn,null),e.createElement(gg,null,e.createElement(vg,null,e.createElement(yg,{className:"gsap_title"},"欢迎使用"),e.createElement(wg,{"aria-checked":!/^((?!chrome|android).)*safari/i.test(navigator.userAgent),className:"gsap_title"},e.createElement(bg,null,e.createElement(xg,{key:"t1",className:"gsap_letter"},"次"),e.createElement(_g,{key:"t2",className:"gsap_letter"},"元"),e.createElement(Sg,{key:"t3",className:"gsap_letter"},"导"),e.createElement(Eg,{key:"t4",className:"gsap_letter"},"航")))),e.createElement(Cg,{className:"gsap_title"},e.createElement(Ag,{"aria-pressed":v},e.createElement(Bp,{_tw:{zIndex:"800"},closeClassName:"closeClassName",animate:"t.3",button:e.createElement(Tg,null,e.createElement(Mg,{icon:"google"===l?pp:Sn.pt,"aria-pressed":v,shake:"google"===l&&v})),menu:e.createElement(Up,{closeClassName:"closeClassName",_t:"54px",validText:T[l].name,list:Object.keys(T).map((function(e,t){return T[e].name})),onClick:function(e){if(e.target.id.includes("pageLi_")){var t=e.target.id.slice(7);c(Object.keys(T)[t-1])}n.current.click(),n.current.focus(),m(!0)}})}),e.createElement(Bp,{switchBaned:!0,_tw:{zIndex:"650",flexGrow:"1"},closeClassName:"closeClassName",animate:"t_Y.3",button:e.createElement(Mp,{ref:n,value:a,onChange:function(e){o(e.target.value),m(!0)},onFocus:function(){y(!0)},onBlur:function(){y(!1)},onKeyPress:function(e){"Enter"===e.key&&(r.current.click(),n.current.focus())},placeholder:T[l].placeholder}),menu:e.createElement(qm,{className:"closeClassName"},h&&h.length>0||!b?e.createElement(e.Fragment,null,e.createElement(Xm,null,e.createElement(Ym,null,e.createElement(Qm,null,"历史记录"),e.createElement(Km,null)),(I=h,function(e){if(Array.isArray(e))return Gm(e)}(I)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(I)||Hm(I)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse().map((function(t,n){return e.createElement(Zm,{className:"group closeClassName",key:"record-".concat(n)},e.createElement(Jm,{className:"closeClassName"},e.createElement($m,{icon:Dn.SZ})),e.createElement(eg,{className:"closeClassName",onClick:function(){o(t),M(t)}},t),e.createElement(tg,{onClick:function(){return function(e){var t=localStorage.getItem("searchRecords")?JSON.parse(Io(decodeURIComponent(localStorage.getItem("searchRecords")))):[],n=t.indexOf(e);n>-1&&(t.splice(n,1),localStorage.setItem("searchRecords",encodeURIComponent(Oo(JSON.stringify(t)))),d(t))}(t)}},e.createElement(ng,{icon:Cn.g8})))})),e.createElement(rg,null,e.createElement(ig,{onClick:function(){P()}},0===h.length?"暂无历史记录":"删除所有记录")))):"",h&&h.length>0&&b&&e.createElement(ag,null),b&&e.createElement(og,null,e.createElement(sg,null,e.createElement(lg,null,"热点话题"),e.createElement(cg,null)),0===b.length?e.createElement(qp,{_tw:{height:"2rem",width:"100%"},ph_tw:{"--tw-text-opacity":"1",color:"rgb(209 213 219 / var(--tw-text-opacity))"},loadingFlag:!0}):"",b.slice(0,S>b.length?b.length:S).map((function(t,n){return e.createElement(ug,{className:"group closeClassName",key:"topics-".concat(n)},e.createElement(hg,{className:"closeClassName"},e.createElement(dg,{icon:n<3?En.Rp:_n.Y$})),e.createElement(fg,{className:"closeClassName",onClick:function(){o(t),M(t)}},t))}))),b&&S<=b.length&&e.createElement(pg,null,e.createElement(mg,{onClick:function(){E((function(e){return e+7}))}},"更多热点话题")))}),e.createElement(Pg,{ref:t}),e.createElement(Dg,{ref:r,onClick:function(){D(a),tp.awaitCountAPI("PUT","homeSearch").then().catch((function(e){return console.warn("Failed to put qrcode count")}));var e=T[l].url+encodeURIComponent(a),n=t.current;n.href=e,n.target="_blank",n.click()}},e.createElement(kg,{icon:_n.Y$,"aria-pressed":v})))),e.createElement(Og,null,e.createElement(Ig,null),e.createElement(Sm,{title:"热门工具",gsapClass:"hot_tool",offset:240,dataSource:C,icon:e.createElement(xo,{icon:xn.eD})}),e.createElement(Rg,null),e.createElement(Sm,{title:"热门资源",gsapClass:"hot_res",offset:240,dataSource:A}))),e.createElement(zn,null)),e.createElement(up,null))}var qm=bn("div").withConfig({displayName:"Home___StyledDiv",componentId:"sc-7lgnhl-0"})({position:"absolute",top:"54px",display:"flex",maxHeight:"188px",width:"100%",userSelect:"none",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",overflow:"auto",borderRadius:"1.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",paddingLeft:"2rem",paddingRight:"2rem",paddingBottom:"0.5rem","--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)","@media (min-width: 768px)":{maxHeight:"296px"}}),Xm=bn("div").withConfig({displayName:"Home___StyledDiv2",componentId:"sc-7lgnhl-1"})({width:"100%"}),Ym=bn("div").withConfig({displayName:"Home___StyledDiv3",componentId:"sc-7lgnhl-2"})({position:"sticky",top:"0px",zIndex:"900","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",paddingTop:"1rem"}),Qm=bn("div").withConfig({displayName:"Home___StyledDiv4",componentId:"sc-7lgnhl-3"})({width:"100%",textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"}),Km=bn("div").withConfig({displayName:"Home___StyledDiv5",componentId:"sc-7lgnhl-4"})({marginBottom:"0.25rem",marginTop:"0.125rem",width:"100%",borderBottomWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(229 231 235 / var(--tw-border-opacity))"}),Zm=bn("div").withConfig({displayName:"Home___StyledDiv6",componentId:"sc-7lgnhl-5"})({marginTop:"0.125rem",marginBottom:"0.125rem",display:"flex",userSelect:"none",flexDirection:"row",alignItems:"center",borderRadius:"0.75rem","@media (min-width: 768px)":{":hover":{cursor:"pointer","--tw-bg-opacity":"1",backgroundColor:"rgb(249 250 251 / var(--tw-bg-opacity))"}}}),Jm=bn("div").withConfig({displayName:"Home___StyledDiv7",componentId:"sc-7lgnhl-6"})({position:"relative",left:"-0.125rem",height:"2rem",width:"2rem",flexShrink:"0"}),$m=bn(xo).withConfig({displayName:"Home___StyledFontAwesomeIcon",componentId:"sc-7lgnhl-7"})({position:"absolute",inset:"0px",margin:"auto",height:"0.875rem",width:"0.875rem","--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))"}),eg=bn("div").withConfig({displayName:"Home___StyledDiv8",componentId:"sc-7lgnhl-8"})({flexGrow:"1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"left",verticalAlign:"middle","--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}),tg=bn("div").withConfig({displayName:"Home___StyledDiv9",componentId:"sc-7lgnhl-9"})({position:"relative",right:"-0.125rem",height:"2rem",width:"2rem",flexShrink:"0"}),ng=bn(xo).withConfig({displayName:"Home___StyledFontAwesomeIcon2",componentId:"sc-7lgnhl-10"})({position:"absolute",inset:"0px",margin:"auto",height:"0.875rem",width:"0.875rem",borderRadius:"9999px",padding:"0.25rem","--tw-text-opacity":"1",color:"rgb(209 213 219 / var(--tw-text-opacity))","@media (min-width: 768px)":{":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(229 231 235 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"}}}),rg=bn("div").withConfig({displayName:"Home___StyledDiv10",componentId:"sc-7lgnhl-11"})({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}),ig=bn("div").withConfig({displayName:"Home___StyledDiv11",componentId:"sc-7lgnhl-12"})({marginTop:"0.25rem",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(243 244 246 / var(--tw-bg-opacity))",paddingLeft:"1.25rem",paddingRight:"1.25rem",paddingTop:"0.375rem",paddingBottom:"0.375rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))","@media (min-width: 768px)":{":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(229 231 235 / var(--tw-bg-opacity))"}}}),ag=bn("div").withConfig({displayName:"Home___StyledDiv12",componentId:"sc-7lgnhl-13"})({height:"1rem"}),og=bn("div").withConfig({displayName:"Home___StyledDiv13",componentId:"sc-7lgnhl-14"})({width:"100%"}),sg=bn("div").withConfig({displayName:"Home___StyledDiv14",componentId:"sc-7lgnhl-15"})({position:"sticky",top:"0px",zIndex:"900","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",paddingTop:"1rem"}),lg=bn("div").withConfig({displayName:"Home___StyledDiv15",componentId:"sc-7lgnhl-16"})({width:"100%",textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"}),cg=bn("div").withConfig({displayName:"Home___StyledDiv16",componentId:"sc-7lgnhl-17"})({marginBottom:"0.25rem",marginTop:"0.125rem",width:"100%",borderBottomWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(229 231 235 / var(--tw-border-opacity))"}),ug=bn("div").withConfig({displayName:"Home___StyledDiv17",componentId:"sc-7lgnhl-18"})({marginTop:"0.125rem",marginBottom:"0.125rem",display:"flex",userSelect:"none",flexDirection:"row",alignItems:"center",borderRadius:"0.75rem","@media (min-width: 768px)":{":hover":{cursor:"pointer","--tw-bg-opacity":"1",backgroundColor:"rgb(249 250 251 / var(--tw-bg-opacity))"}}}),hg=bn("div").withConfig({displayName:"Home___StyledDiv18",componentId:"sc-7lgnhl-19"})({position:"relative",left:"-0.125rem",height:"2rem",width:"2rem",flexShrink:"0"}),dg=bn(xo).withConfig({displayName:"Home___StyledFontAwesomeIcon3",componentId:"sc-7lgnhl-20"})({position:"absolute",inset:"0px",margin:"auto",height:"0.875rem",width:"0.875rem","--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))"}),fg=bn("div").withConfig({displayName:"Home___StyledDiv19",componentId:"sc-7lgnhl-21"})({flexGrow:"1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"left",verticalAlign:"middle","--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))"}),pg=bn("div").withConfig({displayName:"Home___StyledDiv20",componentId:"sc-7lgnhl-22"})({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}),mg=bn("div").withConfig({displayName:"Home___StyledDiv21",componentId:"sc-7lgnhl-23"})({marginBottom:"0.25rem",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(243 244 246 / var(--tw-bg-opacity))",paddingLeft:"1.25rem",paddingRight:"1.25rem",paddingTop:"0.375rem",paddingBottom:"0.375rem",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))","@media (min-width: 768px)":{":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(229 231 235 / var(--tw-bg-opacity))"}}}),gg=bn(Ln).withConfig({displayName:"Home___StyledWrapperMain",componentId:"sc-7lgnhl-24"})({display:"flex",justifyContent:"flex-start",overflow:"hidden","@media (min-width: 768px)":{overflow:"visible"}}),vg=bn("div").withConfig({displayName:"Home___StyledDiv22",componentId:"sc-7lgnhl-25"})({marginBottom:"0.25rem",marginTop:"1rem",display:"flex",userSelect:"none",flexDirection:"column",alignItems:"center",paddingLeft:"1rem",paddingRight:"1rem"}),yg=bn("div").withConfig({displayName:"Home___StyledDiv23",componentId:"sc-7lgnhl-26"})({marginTop:"0.25rem",marginBottom:"0.25rem",fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"700",letterSpacing:"0.1em","--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"}),wg=bn("div").withConfig({displayName:"Home___StyledDiv24",componentId:"sc-7lgnhl-27"})({marginTop:"0.25rem",fontSize:"4.5rem",lineHeight:"1",fontWeight:"800",'&[aria-checked="true"]':{"--tw-drop-shadow":"drop-shadow(0 4px 3px rgb(0 0 0 / 0.07)) drop-shadow(0 2px 2px rgb(0 0 0 / 0.06))",filter:"var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)"},"@media (min-width: 768px)":{fontSize:"6rem",lineHeight:"1"}}),bg=bn("div").withConfig({displayName:"Home___StyledDiv25",componentId:"sc-7lgnhl-28"})({display:"flex",letterSpacing:"0.1em"}),xg=bn("div").withConfig({displayName:"Home___StyledDiv26",componentId:"sc-7lgnhl-29"})({transformOrigin:"33% 200%",backgroundImage:"linear-gradient(to right, var(--tw-gradient-stops))","--tw-gradient-from":"#ec4899 var(--tw-gradient-from-position)","--tw-gradient-from-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-to":"#f472b6 var(--tw-gradient-to-position)","--tw-gradient-to-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-stops":"var(--tw-gradient-from), var(--tw-gradient-to)",WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}),_g=bn("div").withConfig({displayName:"Home___StyledDiv27",componentId:"sc-7lgnhl-30"})({transformOrigin:"33% 200%",backgroundImage:"linear-gradient(to right, var(--tw-gradient-stops))","--tw-gradient-from":"#f472b6 var(--tw-gradient-from-position)","--tw-gradient-from-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-to":"#a78bfa var(--tw-gradient-to-position)","--tw-gradient-to-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-stops":"var(--tw-gradient-from), var(--tw-gradient-to)",WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}),Sg=bn("div").withConfig({displayName:"Home___StyledDiv28",componentId:"sc-7lgnhl-31"})({transformOrigin:"33% 200%",backgroundImage:"linear-gradient(to right, var(--tw-gradient-stops))","--tw-gradient-from":"#a78bfa var(--tw-gradient-from-position)","--tw-gradient-from-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-to":"#60a5fa var(--tw-gradient-to-position)","--tw-gradient-to-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-stops":"var(--tw-gradient-from), var(--tw-gradient-to)",WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}),Eg=bn("div").withConfig({displayName:"Home___StyledDiv29",componentId:"sc-7lgnhl-32"})({transformOrigin:"33% 200%",backgroundImage:"linear-gradient(to right, var(--tw-gradient-stops))","--tw-gradient-from":"#60a5fa var(--tw-gradient-from-position)","--tw-gradient-from-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-to":"#3b82f6 var(--tw-gradient-to-position)","--tw-gradient-to-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-stops":"var(--tw-gradient-from), var(--tw-gradient-to)",WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}),Cg=bn("div").withConfig({displayName:"Home___StyledDiv30",componentId:"sc-7lgnhl-33"})({zIndex:"700",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"5rem",flexGrow:"0",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingLeft:"0px",paddingRight:"0px","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem"}}),Ag=bn("div").withConfig({displayName:"Home___StyledDiv31",componentId:"sc-7lgnhl-34"})({position:"relative",display:"flex",width:"100%",maxWidth:"48rem",flexDirection:"row",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",transitionProperty:"box-shadow",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",'&[aria-pressed="true"]':{"--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},"@media (min-width: 768px)":{":hover":{"--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}}),Tg=bn("div").withConfig({displayName:"Home___StyledDiv32",componentId:"sc-7lgnhl-35"})({position:"absolute",left:"0px",top:"0px",marginTop:"0.25rem",marginBottom:"0.25rem",marginLeft:"0.375rem",marginRight:"0.625rem",height:"2.5rem",width:"2.5rem",borderRadius:"9999px",transitionProperty:"color, background-color, border-color, text-decoration-color, fill, stroke",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(239 246 255 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{":hover":{cursor:"pointer","--tw-bg-opacity":"1",backgroundColor:"rgb(239 246 255 / var(--tw-bg-opacity))"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(219 234 254 / var(--tw-bg-opacity))"}}}),Mg=bn(xo).withConfig({displayName:"Home___StyledFontAwesomeIcon4",componentId:"sc-7lgnhl-36"})({position:"absolute",inset:"0px",margin:"auto",height:"1.25rem",width:"1.25rem","--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))",transitionProperty:"transform",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",'&[aria-pressed="true"]':{"--tw-rotate":"-90deg",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}),Pg=bn("a").withConfig({displayName:"Home___StyledA",componentId:"sc-7lgnhl-37"})({display:"none"}),Dg=bn("div").withConfig({displayName:"Home___StyledDiv33",componentId:"sc-7lgnhl-38"})({position:"absolute",right:"0px",top:"0px",zIndex:"800",marginTop:"0.25rem",marginBottom:"0.25rem",marginLeft:"0.625rem",marginRight:"0.375rem",height:"2.5rem",width:"2.5rem",borderRadius:"9999px",transitionProperty:"color, background-color, border-color, text-decoration-color, fill, stroke",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(239 246 255 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{":hover":{cursor:"pointer","--tw-bg-opacity":"1",backgroundColor:"rgb(239 246 255 / var(--tw-bg-opacity))"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(219 234 254 / var(--tw-bg-opacity))"}}}),kg=bn(xo).withConfig({displayName:"Home___StyledFontAwesomeIcon5",componentId:"sc-7lgnhl-39"})({position:"absolute",inset:"0px",margin:"auto",height:"1.25rem",width:"1.25rem","--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))",transitionProperty:"color, background-color, border-color, text-decoration-color, fill, stroke",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),Og=bn("div").withConfig({displayName:"Home___StyledDiv34",componentId:"sc-7lgnhl-40"})({display:"grid",flexShrink:"1",flexGrow:"0",gridTemplateColumns:"repeat(4, minmax(0, 1fr))"}),Ig=bn("div").withConfig({displayName:"Home___StyledDiv35",componentId:"sc-7lgnhl-41"})({gridColumn:"span 4 / span 4",height:"1rem"}),Rg=bn("div").withConfig({displayName:"Home___StyledDiv36",componentId:"sc-7lgnhl-42"})({gridColumn:"span 4 / span 4",height:"1rem"}),Lg=o(2291),Ng=o(4018),zg=o(1540),Bg=o(6646),Fg=o(7310),Ug=bn.div.withConfig({displayName:"Styledtwin__NavWrapper",componentId:"sc-1y2iot6-0"})([""," height:60px;background-color:#fff;display:flex;flex-direction:row;flex-shrink:0;font-size:18px;line-height:60px;text-align:center;position:fixed;top:0;width:100%;z-index:1000;transition:box-shadow .3s ease;",";"],{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))"},(function(e){return e.hasShadow?"box-shadow: 0 0 30px 1px rgba(0, 0, 0, 5%)":""})),jg=(bn.div.withConfig({displayName:"Styledtwin__BlankWrapper",componentId:"sc-1y2iot6-1"})(["position:relative;width:100%;z-index:1;flex-shrink:0;height:60px;"]),bn.div.withConfig({displayName:"Styledtwin__NavList",componentId:"sc-1y2iot6-2"})(["display:flex;flex-direction:row;flex-grow:1;justify-content:center;"])),Vg=bn(ze).attrs((function(e){return{style:function(e){var t=e.isActive;return{color:t?"rgb(59, 130, 246)":"",backgroundColor:t?"rgba(239 246 255)":""}}}})).withConfig({displayName:"Styledtwin__NavItem",componentId:"sc-1y2iot6-3"})(["max-width:200px;flex-grow:1;position:relative;padding:0 4px;transition:all 0.35s ease;",";@media(max-width:","px){","}&::before{position:absolute;bottom:0;left:0;right:0;margin:0 auto;height:0;transition:all 0.35s ease;width:",";content:'';border-bottom:2px solid rgba(59,130,246,.8);}&.active::before{width:100%;}",";"],{"@media (min-width: 768px)":{":hover":{opacity:"0.4"}}},kn,(function(e){return e.notMobile?"display: none;":""}),(function(e){return e.style.isActive?"100%":"0"}),{cursor:"default",fontWeight:"500","@media (min-width: 768px)":{cursor:"pointer",letterSpacing:"0.1em"}}),Hg=bn.div.withConfig({displayName:"Styledtwin__LogoWrapper",componentId:"sc-1y2iot6-4"})(["max-width:200px;display:flex;align-items:center;justify-content:center;padding:0 0 0 12px;@media(max-width:415px){padding:0 0 0 4px;}",";"],{cursor:"default","@media (min-width: 768px)":{cursor:"pointer"}}),Gg=(bn.div.withConfig({displayName:"Styledtwin__Logo",componentId:"sc-1y2iot6-5"})(["width:44px;height:44px;background-image:url(images/QiuYeDx_web.png);background-size:cover;@media(max-width:415px){display:none;}"]),bn.div.withConfig({displayName:"Styledtwin__LogoText",componentId:"sc-1y2iot6-6"})([""," margin:0 10px;font-size:24px;"],{fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontWeight:"700",letterSpacing:"0.025em"})),Wg=bn(Hg).withConfig({displayName:"Styledtwin__MoreWrapper",componentId:"sc-1y2iot6-7"})(["width:60px;display:flex;flex-direction:column;padding:0 0 0 0;transition:all 0.25s ease;"]),qg=bn.div.withConfig({displayName:"Styledtwin__MoreList",componentId:"sc-1y2iot6-8"})(["position:fixed;z-index:999;width:100%;top:",";transition:all .4s cubic-bezier(.25,.69,.35,1.01);box-shadow:0 0 30px 1px rgba(0,0,0,15%);background-color:rgba(255,255,255,.9);backdrop-filter:blur(12px);overflow:hidden;",";display:flex;flex-direction:column;align-items:center;"],(function(e){return e.isShown?"60px":"-150px"}),{borderBottomLeftRadius:"1.5rem",borderBottomRightRadius:"1.5rem"}),Xg=bn(ze).attrs((function(e){return{style:function(e){return{color:e.isActive?"rgba(59, 130, 246, 0.7)":""}}}})).withConfig({displayName:"Styledtwin__MoreListItem",componentId:"sc-1y2iot6-9"})(["",';padding-left:20%;padding-right:20%;width:100%;height:50px;line-height:50px;font-size:16px;margin:0;flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;justify-content:space-between;position:relative;transition:all 0.25s ease;&:hover{background-color:rgba(255,255,255,.5);}&:not(:nth-last-child(-n+2))::after{position:absolute;left:20%;right:20%;content:"";height:100%;margin:auto;border-bottom:1px solid rgba(78,128,238,.3);}@media (min-width:',"px){"," height:60px;line-height:60px;}"],{cursor:"default",fontWeight:"500",letterSpacing:"0.1em","--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))","@media (min-width: 768px)":{cursor:"pointer",":hover":{opacity:"0.4"}}},kn,(function(e){return e.onlyMobile?"display: none;":""})),Yg=bn.div.attrs((function(e){return{style:{zIndex:e.isShow?"999":"-1",backgroundColor:e.isShow?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0)"}}})).withConfig({displayName:"Styledtwin__MoreListMask",componentId:"sc-1y2iot6-10"})(["position:fixed;top:0;height:100%;left:0;right:0;margin:0;background-color:rgba(0,0,0,0.5);transition:all 0.5s ease;z-index:999;"]);let Qg={data:""},Kg=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Qg,Zg=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Jg=/\/\*[^]*?\*\/|  +/g,$g=/\n+/g,ev=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+o+";":r+="f"==a[1]?ev(o,a):a+"{"+ev(o,"k"==a[1]?"":t)+"}":"object"==typeof o?r+=ev(o,t?t.replace(/([^,])+/g,(e=>a.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):a):null!=o&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ev.p?ev.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},tv={},nv=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+nv(e[n]);return t}return e},rv=(e,t,n,r,i)=>{let a=nv(e),o=tv[a]||(tv[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!tv[o]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=Zg.exec(e.replace(Jg,""));)t[4]?r.shift():t[3]?(n=t[3].replace($g," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace($g," ").trim();return r[0]})(e);tv[o]=ev(i?{["@keyframes "+o]:t}:t,n?"":"."+o)}let s=n&&tv.g?tv.g:null;return n&&(tv.g=tv[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(tv[o],t,r,s),o},iv=(e,t,n)=>e.reduce(((e,r,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":ev(e,""):!1===e?"":e}return e+r+(null==a?"":a)}),"");function av(e){let t=this||{},n=e.call?e(t.p):e;return rv(n.unshift?n.raw?iv(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,Kg(t.target),t.g,t.o,t.k)}av.bind({g:1});let ov,sv,lv,cv=av.bind({k:1});function uv(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;n.p=Object.assign({theme:sv&&sv()},s),n.o=/ *go\d+/.test(l),s.className=av.apply(n,r)+(l?" "+l:""),t&&(s.ref=o);let c=e;return e[0]&&(c=s.as||e,delete s.as),lv&&c[0]&&lv(s),ov(c,s)}return t?t(i):i}}var hv=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,dv=(()=>{let e=0;return()=>(++e).toString()})(),fv=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),pv=new Map,mv=e=>{if(pv.has(e))return;let t=setTimeout((()=>{pv.delete(e),wv({type:4,toastId:e})}),1e3);pv.set(e,t)},gv=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=pv.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?gv(e,{type:1,toast:n}):gv(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?mv(r):e.toasts.forEach((e=>{mv(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},vv=[],yv={toasts:[],pausedAt:void 0},wv=e=>{yv=gv(yv,e),vv.forEach((e=>{e(yv)}))},bv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},xv=e=>(t,n)=>{let r=((e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||dv()}))(t,e,n);return wv({type:2,toast:r}),r.id},_v=(e,t)=>xv("blank")(e,t);_v.error=xv("error"),_v.success=xv("success"),_v.loading=xv("loading"),_v.custom=xv("custom"),_v.dismiss=e=>{wv({type:3,toastId:e})},_v.remove=e=>wv({type:4,toastId:e}),_v.promise=(e,t,n)=>{let r=_v.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then((e=>(_v.success(hv(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e))).catch((e=>{_v.error(hv(t.error,e),{id:r,...n,...null==n?void 0:n.error})})),e};var Sv,Ev=(e,t)=>{wv({type:1,toast:{id:e,height:t}})},Cv=()=>{wv({type:5,time:Date.now()})},Av=cv`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Tv=cv`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Mv=cv`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Pv=uv("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Av} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Tv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Mv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Dv=cv`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,kv=uv("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Dv} 1s linear infinite;
`,Ov=cv`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Iv=cv`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Rv=uv("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ov} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Iv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Lv=uv("div")`
  position: absolute;
`,Nv=uv("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zv=cv`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bv=uv("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zv} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Fv=({toast:t})=>{let{icon:n,type:r,iconTheme:i}=t;return void 0!==n?"string"==typeof n?e.createElement(Bv,null,n):n:"blank"===r?null:e.createElement(Nv,null,e.createElement(kv,{...i}),"loading"!==r&&e.createElement(Lv,null,"error"===r?e.createElement(Pv,{...i}):e.createElement(Rv,{...i})))},Uv=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,jv=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,Vv=uv("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Hv=uv("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Gv=e.memo((({toast:t,position:n,style:r,children:i})=>{let a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=fv()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Uv(n),jv(n)];return{animation:t?`${cv(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${cv(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||n||"top-center",t.visible):{opacity:0},o=e.createElement(Fv,{toast:t}),s=e.createElement(Hv,{...t.ariaProps},hv(t.message,t));return e.createElement(Vv,{className:t.className,style:{...a,...r,...t.style}},"function"==typeof i?i({icon:o,message:s}):e.createElement(e.Fragment,null,o,s))}));Sv=e.createElement,ev.p=void 0,ov=Sv,sv=void 0,lv=void 0;var Wv=({id:t,className:n,style:r,onHeightUpdate:i,children:a})=>{let o=e.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;i(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,i]);return e.createElement("div",{ref:o,className:n,style:r},a)},qv=av`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xv=({reverseOrder:t,position:n="top-center",toastOptions:r,gutter:i,children:a,containerStyle:o,containerClassName:s})=>{let{toasts:l,handlers:c}=(t=>{let{toasts:n,pausedAt:r}=((t={})=>{let[n,r]=(0,e.useState)(yv);(0,e.useEffect)((()=>(vv.push(r),()=>{let e=vv.indexOf(r);e>-1&&vv.splice(e,1)})),[n]);let i=n.toasts.map((e=>{var n,r;return{...t,...t[e.type],...e,duration:e.duration||(null==(n=t[e.type])?void 0:n.duration)||(null==t?void 0:t.duration)||bv[e.type],style:{...t.style,...null==(r=t[e.type])?void 0:r.style,...e.style}}}));return{...n,toasts:i}})(t);(0,e.useEffect)((()=>{if(r)return;let e=Date.now(),t=n.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>_v.dismiss(t.id)),n);t.visible&&_v.dismiss(t.id)}));return()=>{t.forEach((e=>e&&clearTimeout(e)))}}),[n,r]);let i=(0,e.useCallback)((()=>{r&&wv({type:6,time:Date.now()})}),[r]),a=(0,e.useCallback)(((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=t||{},o=n.filter((t=>(t.position||a)===(e.position||a)&&t.height)),s=o.findIndex((t=>t.id===e.id)),l=o.filter(((e,t)=>t<s&&e.visible)).length;return o.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[n]);return{toasts:n,handlers:{updateHeight:Ev,startPause:Cv,endPause:i,calculateOffset:a}}})(r);return e.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:s,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map((r=>{let o=r.position||n,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:fv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(o,c.calculateOffset(r,{reverseOrder:t,gutter:i,defaultPosition:n}));return e.createElement(Wv,{id:r.id,key:r.id,onHeightUpdate:c.updateHeight,className:r.visible?qv:"",style:s},"custom"===r.type?hv(r.message,r):a?a(r):e.createElement(Gv,{toast:r,position:o}))})))},Yv=_v,Qv=function(t,n){return Yv.error((function(n){return e.createElement("span",{tw:"align-bottom animate-fade_in.8"},e.createElement("b",null,t))}),{id:n||"bookmark_error",duration:4e3,position:"bottom-right",style:{},className:"",iconTheme:{primary:"#ed5563",secondary:"#fff"},ariaProps:{role:"status","aria-live":"polite"}})},Kv=function(t,n){return Yv.success((function(n){return e.createElement("span",{tw:"align-bottom animate-fade_in.8"},e.createElement("b",null,t))}),{id:n||"bookmark_success",duration:4e3,position:"bottom-right",style:{},className:"",iconTheme:{primary:"rgb(52, 211, 153)",secondary:"#fff"},ariaProps:{role:"status","aria-live":"polite"}})},Zv=function(t,n){return Yv.loading((function(n){return e.createElement("span",{tw:"align-bottom animate-fade_in.8"},e.createElement("b",null,t))}),{id:n||"bookmark_loading",duration:4e3,position:"bottom-right",style:{},className:"",iconTheme:{primary:"rgb(96, 165, 250)",secondary:"#fff"},ariaProps:{role:"status","aria-live":"polite"}})},Jv=bn.div.withConfig({displayName:"Styledtwin__Wrap",componentId:"sc-n0oh9w-0"})(["",";"],(function(e){return e.isRotated?"transform: rotate(180deg)":""})),$v=bn.div.withConfig({displayName:"Styledtwin__Wrapper",componentId:"sc-n0oh9w-1"})(["display:flex;flex-direction:column;gap:3px;transition:all 0.25s ease;",";&.active .line:nth-child(1){transform:rotate(45deg) translate(4px,",");width:21px;}&.active .line:nth-child(2){opacity:0;}&.active .line:nth-child(3){transform:rotate(-45deg) translate(4px,",");width:21px;}",";"],{".group:active &":{opacity:"0.6"},"@media (min-width: 768px)":{":hover":{cursor:"pointer"},".group:hover &":{opacity:"0.6"},".group:active &":{opacity:"0.8"}}},(function(e){return e.isRotated?"4.6px":"4.3px"}),(function(e){return e.isRotated?"-4.6px":"-4.3px"}),(function(e){return e._tw})),ey=bn.div.withConfig({displayName:"Styledtwin__Line",componentId:"sc-n0oh9w-2"})(["",";width:20px;height:3px;transition:all 0.25s ease;",";"],{"--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))"},(function(e){return e.rounded?"border-radius: 9999px":""}));function ty(t){return e.createElement(Jv,{isRotated:t.isRotated},e.createElement($v,{className:t.active?"active":"",isRotated:t.isRotated,_tw:t._tw},e.createElement(ey,{className:"line",rounded:t.rounded}),e.createElement(ey,{className:"line",rounded:t.rounded}),e.createElement(ey,{className:"line",rounded:t.rounded})))}var ny=function(t){var n=t.isOn,r=void 0!==n&&n,i=t.onChange,a=t.hasShadow,o=void 0===a||a,s=t.onContent,l=void 0===s?e.createElement(ry,{icon:Lg.en,spin:!0}):s,c=t.offContent,u=void 0===c?e.createElement(xo,{icon:Ng.DB}):c,h=t.fadeStyle,d=void 0===h?"scale":h,f=t.offset,p=void 0===f?"15px":f,m=t._tw;return(0,e.useRef)(null),(0,e.useRef)(null),e.createElement("div",{tw:""},e.createElement(iy,{_tw:m,onClick:function(){i(!r)},hasShadow:o},e.createElement(hd,{isOn:r,fadeStyle:d,offset:p,duration:"0.2s",className:"moon-sun",onContent:l,offContent:u})))},ry=bn(xo).withConfig({displayName:"SwitchButton___StyledFontAwesomeIcon",componentId:"sc-h2o6ru-0"})({"--tw-text-opacity":"1",color:"rgb(251 191 36 / var(--tw-text-opacity))"}),iy=bn($p).withConfig({displayName:"SwitchButton___StyledUniButton",componentId:"sc-h2o6ru-1"})({height:"2.5rem",width:"2.5rem",lineHeight:"2.5rem","--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))","@media (min-width: 768px)":{":hover":{"--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"}}}),ay=o(2228);function oy(e,t){if(e){if("string"==typeof e)return sy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sy(e,t):void 0}}function sy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ly=function(){var t,n,r=(0,e.useRef)(null),i=pe(),a=(t=(0,e.useState)(0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,n)||oy(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],s=a[1];return(0,e.useEffect)((function(){r.current&&r.current.kill(),r.current=Eh.fromTo("#ScrollToTopButton",{opacity:0,x:60,scale:.1},{scrollTrigger:{trigger:"#rootWrapper",start:"top+=600 top",end:"bottom bottom",scrub:1},x:0,opacity:1,scale:1,ease:"power2.out",repeat:0});var e=new ResizeObserver((function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=oy(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;s(r.contentRect.height)}}catch(e){n.e(e)}finally{n.f()}})),t=document.querySelector("#rootWrapper");return t&&e.observe(t),function(){e.disconnect()}}),[i.pathname,o]),e.createElement(cy,{id:"ScrollToTopButton"},e.createElement(Jp,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}},e.createElement(xo,{icon:ay.mT})))},cy=bn("div").withConfig({displayName:"ScrollToTopButton___StyledDiv",componentId:"sc-1ducqzc-0"})({position:"fixed",bottom:"7rem",right:"0.75rem",zIndex:"40","@media (min-width: 768px)":{bottom:"3rem",right:"3rem"}}),uy=o(5117);var hy=function(t){var n=t.isOn,r=t.disabled,i=t.loading,a=t.size,o=void 0===a?"default":a,s=t.timingFunction,l=void 0===s?"ease":s,c=t.duration,u=void 0===c?"0.15s":c,h=(t.offset,t.onColor),d=void 0===h?"blue":h,f=t.offColor,p=void 0===f?"gray":f,m=t.onIcon,g=void 0===m?null:m,v=t.offIcon,y=void 0===v?null:v,w=t.leftBackgroundIcon,b=void 0===w?null:w,x=t.rightBackgroundIcon,_=void 0===x?null:x,S=t.onChange,E=void 0===S?function(){}:S,C=t.fadeStyle,A=void 0===C?"scale":C,T=function(e){switch(e){case"pink":return"rgb(244, 114, 182)";case"amber":return"rgb(242, 193, 75)";case"amber-300":return"rgb(252, 211, 77)";case"amber-200":return"rgb(253, 230, 138)";case"orange":return"rgb(251, 146, 60)";case"red":return"rgb(234, 121, 135)";case"green":return"rgb(95, 203, 113)";case"blue":return"rgb(35, 150, 250)";default:return"rgb(215, 218, 226)"}}(n?d:p),M=function(e){switch(e){case"tiny":return{wrapperWidth:"2rem",wrapperHeight:"1rem",circleSize:"0.8rem",px:"0.1rem"};case"small":return{wrapperWidth:"2.5rem",wrapperHeight:"1.3rem",circleSize:"1rem",px:"0.15rem"};case"large":return{wrapperWidth:"3.5rem",wrapperHeight:"1.75rem",circleSize:"1.35rem",px:"0.2rem"};case"huge":return{wrapperWidth:"4rem",wrapperHeight:"2rem",circleSize:"1.6rem",px:"0.2rem"};default:return{wrapperWidth:"3rem",wrapperHeight:"1.5rem",circleSize:"1.2rem",px:"0.15rem"}}}(o);return e.createElement(em,{disabled:r||i,size:M,duration:u,timingFunction:l,isOn:n,bgColor:T,onClick:function(){E(!n)}},e.createElement(nm,{size:M,lx:Ro(M.px,(function(e,t){return e*t}),2)},e.createElement(Hp,{in:n,duration:u,fadeStyle:"slideFromRight",offset:"25px"},b||"")),e.createElement(rm,{size:M,rx:Ro(M.px,(function(e,t){return e*t}),2)},e.createElement(Hp,{in:!n,duration:u,fadeStyle:"slideFromLeft",offset:"25px"},_||"")),e.createElement(tm,{color:T,size:M},e.createElement(hd,{isOn:n,onContent:r?e.createElement(xo,{icon:uy.gP}):i?e.createElement(xo,{icon:Mh.LM,spin:!0}):g,offContent:r?e.createElement(xo,{icon:uy.gP}):i?e.createElement(xo,{icon:Mh.LM,spin:!0}):y,duration:Ro(u,(function(e,t){return e/t}),2),className:"on-off",fadeStyle:g===y||r||i?"":A})))};function dy(e){return dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(e)}function fy(){fy=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==dy(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function py(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function my(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vy(){var t=me(),n=pe(),r=my((0,e.useState)(!1),2),i=r[0],a=r[1],o=(0,e.useRef)(null),s=_m("(max-width: ".concat(kn,"px)")),l=my((0,e.useState)(!1),2),c=l[0],u=l[1],h=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){py(a,r,i,o,s,"next",e)}function s(e){py(a,r,i,o,s,"throw",e)}o(void 0)}))}}(fy().mark((function e(){return fy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tp.awaitUrlCountAPI("PUT",n.pathname);case 3:return e.abrupt("return","Succeed to put url count");case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Failed to put url count");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),d=(0,e.useCallback)((function(e){var t=document.head.querySelector('meta[name="theme-color"]');t&&document.head.removeChild(t);var n=document.createElement("meta");n.name="theme-color";var r=document.documentElement;e?(n.content="#000",r.classList.add("night-mode")):(n.content="#fff",r.classList.remove("night-mode")),document.head.appendChild(n)}),[]),f=(0,e.useRef)(null);(0,e.useEffect)((function(){var e,t,n=0,r=(e=function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>n&&e>60&&!c?(f.current&&f.current.kill(),f.current=Eh.to(o.current,{y:"-60px",duration:.8,ease:"power2.out"})):(e<n-60||e<=60)&&(f.current&&f.current.kill(),f.current=Eh.to(o.current,{y:"0",duration:.3,ease:"power2.out"})),n=e},100,t=null,function(){var n=this,r=arguments;null===t&&(t=setTimeout((function(){e.apply(n,r),t=null}),100))});return window.addEventListener("scroll",r),function(){window.removeEventListener("scroll",r)}}),[c]),(0,e.useEffect)((function(){var e;if(sessionStorage.getItem("isDark")){var t=JSON.parse(sessionStorage.getItem("isDark"));a(t),d(t)}else(e=(new Date).getHours())>=19||e<7?(a(!0),d(!0),sessionStorage.setItem("isDark",JSON.stringify(!0))):(a(!1),d(!1),sessionStorage.setItem("isDark",JSON.stringify(!1)))}),[d]);var p=(0,e.useRef)(null);return(0,e.useEffect)((function(){h().then((function(e){return console.log(e)})).catch((function(e){return console.warn(e)})),p.current?(p.current.kill(),p.current=Eh.timeline({repeat:0}),p.current.set(".gsap_main_fadein",{y:120,opacity:0,duration:0}),p.current.to(".gsap_main_fadein",{y:0,opacity:1,duration:1.2,ease:"power3.out",stagger:.12})):(p.current=Eh.timeline({repeat:0}),p.current.set(".gsap_main_fadein",{y:120,opacity:0,duration:0}),p.current.to(".gsap_main_fadein",{y:0,opacity:1,duration:1.2,ease:"power3.out",stagger:.12}))}),[n.pathname]),e.createElement("div",null,e.createElement(ly,null),e.createElement(Yg,{isShow:c,onClick:function(){return u(!c)}}),e.createElement(Xv,null),e.createElement(Ug,{hasShadow:!0,ref:o},e.createElement(Hg,{onClick:function(){u(!1),"/"===n.pathname?window.scrollTo({top:0,behavior:"smooth"}):(t("/"),window.scroll(0,0))}},e.createElement(yy,null,"次元",!s&&e.createElement(wy,{icon:Fg.XC}),"导航")),e.createElement(by,{onClick:function(){u(!1)}},e.createElement(Vg,{to:"/",onClick:function(){"/"===n.pathname?window.scrollTo({top:0,behavior:"smooth"}):window.scroll(0,0)}},"主页"),e.createElement(Vg,{to:"/tools",onClick:function(){"/tools"===n.pathname?window.scrollTo({top:0,behavior:"smooth"}):window.scroll(0,0)}},"工具"),e.createElement(Vg,{to:"/resources",onClick:function(){"/resources"===n.pathname?window.scrollTo({top:0,behavior:"smooth"}):window.scroll(0,0)}},"资源"),e.createElement(Vg,{to:"/about",notMobile:!0,onClick:function(){"/about"===n.pathname?window.scrollTo({top:0,behavior:"smooth"}):window.scroll(0,0)}},"关于")),e.createElement(xy,null,e.createElement(hy,{size:"large",duration:"300ms",isOn:i,onColor:"blue",offColor:"amber-300",leftBackgroundIcon:e.createElement(xo,{icon:Ng.DB}),rightBackgroundIcon:e.createElement(xo,{icon:Lg.en,spin:!0}),onChange:function(){sessionStorage.setItem("isDark",JSON.stringify(!i)),a(!i),d(!i)}})),e.createElement(_y,{className:"group",onClick:function(){return u(!c)}},e.createElement(ty,{active:c,rounded:!0,isRotated:!0,_tw:{"--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}))),e.createElement(qg,{isShown:c,onClick:function(){return u(!c)}},e.createElement(Xg,{to:"/about",onlyMobile:!0,onClick:function(){"/about"===n.pathname?window.scrollTo({top:0,behavior:"smooth"}):window.scroll(0,0)}},e.createElement("span",null,"About"),e.createElement(Sy,null,e.createElement(Ey,{icon:Bg.DB}))),e.createElement(Xg,{to:"/dashboard",onlyMobile:!1,onClick:function(){"/dashboard"===n.pathname?window.scrollTo({top:0,behavior:"smooth"}):window.scroll(0,0)}},e.createElement("span",null,"Dashboard"),e.createElement(Cy,null,e.createElement(Ay,{icon:zg.Iz}))),e.createElement(Xg,{to:"https://github.com/QiuYeDx/NavPage",target:"_blank"},e.createElement("span",null,"Star on Github"),e.createElement(Ty,null,e.createElement(My,{icon:bp}))),e.createElement(Py,null,e.createElement(Dy,null),e.createElement(ny,{_tw:{margin:"0.5rem"},isOn:i,onContent:e.createElement(xo,{icon:Ng.DB}),offContent:e.createElement(ky,{icon:Lg.en,spin:!0}),offset:"20px",fadeStyle:"scale",onChange:function(){a(!i),d(!i)}}))))}var yy=bn(Gg).withConfig({displayName:"NavBar___StyledLogoText",componentId:"sc-1xjes8-0"})({"@keyframes fade_in_up":{"0%":{opacity:"0",transform:"translateY(15px)"},"100%":{opacity:"1",transform:"translateY(0)"}},animation:"fade_in_up .5s ease-out forwards",cursor:"default",userSelect:"none","--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))","@media (min-width: 768px)":{cursor:"pointer"}}),wy=bn(xo).withConfig({displayName:"NavBar___StyledFontAwesomeIcon",componentId:"sc-1xjes8-1"})({"--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"}),by=bn(jg).withConfig({displayName:"NavBar___StyledNavList",componentId:"sc-1xjes8-2"})({position:"relative",zIndex:"1",cursor:"default",userSelect:"none"}),xy=bn("div").withConfig({displayName:"NavBar___StyledDiv",componentId:"sc-1xjes8-3"})({display:"none",height:"60px",justifyContent:"center",transitionDuration:"500ms","@media (min-width: 768px)":{marginLeft:"0.5rem",display:"flex",flexDirection:"column"},"@media (min-width: 1280px)":{marginLeft:"75px"}}),_y=bn(Wg).withConfig({displayName:"NavBar___StyledMoreWrapper",componentId:"sc-1xjes8-4"})({cursor:"default",userSelect:"none",":active":{"--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"},"@media (min-width: 768px)":{cursor:"pointer",":hover":{"--tw-text-opacity":"1",color:"rgb(209 213 219 / var(--tw-text-opacity))"}}}),Sy=bn("span").withConfig({displayName:"NavBar___StyledSpan",componentId:"sc-1xjes8-5"})({marginTop:"auto",marginBottom:"auto",fontSize:"1.125rem",lineHeight:"1.75rem"}),Ey=bn(xo).withConfig({displayName:"NavBar___StyledFontAwesomeIcon2",componentId:"sc-1xjes8-6"})({paddingRight:"0.5rem"}),Cy=bn("span").withConfig({displayName:"NavBar___StyledSpan2",componentId:"sc-1xjes8-7"})({marginTop:"auto",marginBottom:"auto",fontSize:"1.125rem",lineHeight:"1.75rem"}),Ay=bn(xo).withConfig({displayName:"NavBar___StyledFontAwesomeIcon3",componentId:"sc-1xjes8-8"})({paddingRight:"0.5rem"}),Ty=bn("span").withConfig({displayName:"NavBar___StyledSpan3",componentId:"sc-1xjes8-9"})({marginTop:"auto",marginBottom:"auto",fontSize:"1.125rem",lineHeight:"1.75rem"}),My=bn(xo).withConfig({displayName:"NavBar___StyledFontAwesomeIcon4",componentId:"sc-1xjes8-10"})({paddingRight:"0.5rem"}),Py=bn("div").withConfig({displayName:"NavBar___StyledDiv2",componentId:"sc-1xjes8-11"})({position:"absolute",right:"0.125rem",top:"5rem","@media (min-width: 768px)":{display:"none"}}),Dy=bn("div").withConfig({displayName:"NavBar___StyledDiv3",componentId:"sc-1xjes8-12"})({position:"absolute",bottom:"50%",right:"27px",height:"12rem",width:"1px",borderWidth:"1px","--tw-border-opacity":"1",borderColor:"rgb(147 197 253 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(147 197 253 / var(--tw-bg-opacity))"}),ky=bn(xo).withConfig({displayName:"NavBar___StyledFontAwesomeIcon5",componentId:"sc-1xjes8-13"})({"--tw-text-opacity":"1",color:"rgb(251 191 36 / var(--tw-text-opacity))"}),Oy=o(1995),Iy=o(5859),Ry=o(102),Ly=o(8822),Ny=bn(Ep).attrs((function(e){return{tw:e._tw}})).withConfig({displayName:"Styledtwin__AppleCardWrapper",componentId:"sc-x99c6a-0"})(["z-index:100;display:flex;flex-direction:column;align-items:center;justify-content:center;",";position:relative;overflow:hidden;",";&::before{transition:opacity 0.3s ease;}&:active::before{transition:opacity 0.3s ease;}"],(function(e){var t=e.h;return t?"height: "+t:""}),(function(e){return e._tw_user})),zy=bn.div.withConfig({displayName:"Styledtwin__AnimationWrapper",componentId:"sc-x99c6a-1"})(["position:absolute;top:0;left:0;right:0;bottom:",";margin:auto;display:flex;flex-direction:column;align-items:center;justify-content:center;"],(function(e){return e.hasSubBar?"34px":"0"})),By=bn.div.attrs((function(e){return{tw:e._tw,style:{transform:"matrix(1, 0, 0, 1, 0, ".concat(e._Y,")")}}})).withConfig({displayName:"Styledtwin__BackgroundWrapper",componentId:"sc-x99c6a-2"})(["position:absolute;left:0;right:0;margin:auto;transition:all .35s ease,transform 0s;",";",";",";",";"],(function(e){return e.tw}),(function(e){return e._hover}),(function(e){return e._active}),(function(e){return e._tw_user})),Fy=bn.div.withConfig({displayName:"Styledtwin__ContentWrapper",componentId:"sc-x99c6a-3"})(["position:relative;",";",";",";",";",";"],(function(e){return e.hasMask?"mix-blend-mode: difference":""}),(function(e){return e._tw}),(function(e){return e._hover}),(function(e){return e._active}),(function(e){return e._tw_user})),Uy=bn.div.withConfig({displayName:"Styledtwin__SubBar",componentId:"sc-x99c6a-4"})(["position:absolute;bottom:0;height:68px;width:100%;display:flex;flex-direction:row;align-items:center;",";",";",";"],{paddingLeft:"1rem",paddingRight:"1rem"},(function(e){return e._tw}),(function(e){return e._tw_user})),jy=bn.div.withConfig({displayName:"Styledtwin__Logo",componentId:"sc-x99c6a-5"})(["width:46px;height:46px;border-radius:10px;background-image:url(",");background-size:contain;background-repeat:no-repeat;",""],(function(e){return e.url||"images/QiuYeDx_web.png"}),{flexShrink:"0"}),Vy=bn.div.withConfig({displayName:"Styledtwin__TopTextA",componentId:"sc-x99c6a-6"})(["position:absolute;opacity:0.75;top:12px;left:16px;z-index:110;",";",";",";"],(function(e){return e.hasMask?"mix-blend-mode: difference":""}),(function(e){return e._tw}),(function(e){return e._tw_user})),Hy=bn.div.withConfig({displayName:"Styledtwin__TopTextB",componentId:"sc-x99c6a-7"})(["position:absolute;opacity:1;top:36px;left:16px;z-index:110;",";",";",";"],(function(e){return e.hasMask?"mix-blend-mode: difference":""}),(function(e){return e._tw}),(function(e){return e._tw_user})),Gy=bn.div.withConfig({displayName:"Styledtwin__SubTextA",componentId:"sc-x99c6a-8"})(["position:absolute;opacity:0.75;bottom:",";left:16px;z-index:110;",";",";",";"],(function(e){return e.hasSubBar?"80px":"16px"}),(function(e){return e.hasMask?"mix-blend-mode: difference":""}),(function(e){return e._tw}),(function(e){return e._tw_user})),Wy={default:{styleAppleCard:{gridColumn:"span 5 / span 5",margin:"1rem",cursor:"default",userSelect:"none","--tw-bg-opacity":"1",backgroundColor:"rgb(191 219 254 / var(--tw-bg-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{gridColumn:"span 2 / span 2",cursor:"pointer",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(191 219 254 / var(--tw-bg-opacity))"}}},styleBackground:{"--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))"},styleContent:{fontSize:"6rem",lineHeight:"1",fontWeight:"700",letterSpacing:"0.1em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},hoverContent:":hover &{         @media(min-width: ".concat(kn,"px){scale: 1.1;}           }"),activeContent:":active &{         scale: 1.1;\n        @media(min-width: ".concat(kn,"px){scale: 1.05;}           }"),hoverBackground:":hover &{         @media(min-width: ".concat(kn,"px){color: rgba(147, 197, 253, 1);}           }"),activeBackground:":active &{         color: rgba(147, 197, 253, 1);          }",styleSubBar:{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.25rem",lineHeight:"1.75rem","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"},styleTopTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleTopTextB:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleSubButton:{flexShrink:"0",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700",letterSpacing:"0.05em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleSubTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}},white:{styleAppleCard:{gridColumn:"span 5 / span 5",margin:"1rem",cursor:"default",userSelect:"none","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(0 0 0 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{gridColumn:"span 2 / span 2",cursor:"pointer",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(0 0 0 / var(--tw-bg-opacity))"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(75 85 99 / var(--tw-bg-opacity))"}}},styleBackground:{"--tw-text-opacity":"1",color:"rgb(0 0 0 / var(--tw-text-opacity))"},styleContent:{fontSize:"6rem",lineHeight:"1",fontWeight:"700",letterSpacing:"0.1em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},hoverContent:":hover &{         @media(min-width: ".concat(kn,"px){scale: 1.1;}           }"),activeContent:":active &{         scale: 1.1;\n        @media(min-width: ".concat(kn,"px){scale: 1.05;}           }"),hoverBackground:":hover &{         color: rgba(0, 0, 0, 1);\n        @media(min-width: ".concat(kn,"px){color: rgba(255, 255, 255, 1);}           }"),activeBackground:":active &{         color: rgba(255, 255, 255, 1);\n        @media(min-width: ".concat(kn,"px){color: rgba(255, 255, 255, 1);}           }"),styleSubBar:{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.25rem",lineHeight:"1.75rem","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"},styleTopTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"0.6",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleTopTextB:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleSubButton:{flexShrink:"0",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700",letterSpacing:"0.05em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(191 219 254 / var(--tw-ring-opacity))",transitionDuration:"100ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":hover":{"--tw-scale-x":"1.05","--tw-scale-y":"1.05",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(37 99 235 / var(--tw-bg-opacity))","--tw-ring-opacity":"1","--tw-ring-color":"rgb(96 165 250 / var(--tw-ring-opacity))"}},styleSubTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"0.6",color:"rgb(255 255 255 / var(--tw-text-opacity))"}},black:{styleAppleCard:{gridColumn:"span 5 / span 5",margin:"1rem",cursor:"default",userSelect:"none","--tw-bg-opacity":"1",backgroundColor:"rgb(0 0 0 / var(--tw-bg-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{gridColumn:"span 2 / span 2",cursor:"pointer",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(229 231 235 / var(--tw-bg-opacity))"}}},styleBackground:{"--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleContent:{fontSize:"6rem",lineHeight:"1",fontWeight:"700",letterSpacing:"0.1em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},hoverContent:":hover &{         @media(min-width: ".concat(kn,"px){scale: 1.1;}           }"),activeContent:":active &{         scale: 1.1;\n        @media(min-width: ".concat(kn,"px){scale: 1.05;}           }"),hoverBackground:":hover &{         @media(min-width: ".concat(kn,"px){color: rgba(0, 0, 0, 1);}           }"),activeBackground:":active &{         color: rgba(0, 0, 0, 1);          }",styleSubBar:{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.25rem",lineHeight:"1.75rem","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"},styleTopTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"0.6",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleTopTextB:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleSubButton:{flexShrink:"0",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700",letterSpacing:"0.05em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(191 219 254 / var(--tw-ring-opacity))",transitionDuration:"100ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":hover":{"--tw-scale-x":"1.05","--tw-scale-y":"1.05",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(37 99 235 / var(--tw-bg-opacity))","--tw-ring-opacity":"1","--tw-ring-color":"rgb(96 165 250 / var(--tw-ring-opacity))"}},styleSubTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"0.6",color:"rgb(255 255 255 / var(--tw-text-opacity))"}},green:{styleAppleCard:{gridColumn:"span 5 / span 5",margin:"1rem",cursor:"default",userSelect:"none","--tw-bg-opacity":"1",backgroundColor:"rgb(187 247 208 / var(--tw-bg-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(74 222 128 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{gridColumn:"span 2 / span 2",cursor:"pointer",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(74 222 128 / var(--tw-bg-opacity))"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(134 239 172 / var(--tw-bg-opacity))"}}},styleBackground:{"--tw-text-opacity":"1",color:"rgb(74 222 128 / var(--tw-text-opacity))"},styleContent:{fontSize:"6rem",lineHeight:"1",fontWeight:"700",letterSpacing:"0.1em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},hoverContent:":hover &{         @media(min-width: ".concat(kn,"px){scale: 1.1;}           }"),activeContent:":active &{         scale: 1.1;\n        @media(min-width: ".concat(kn,"px){scale: 1.05;}           }"),hoverBackground:":hover &{         @media(min-width: ".concat(kn,"px){color: rgba(167, 243, 208, 1);}           }"),activeBackground:":active &{         color: rgba(167, 243, 208, 1);          }",styleSubBar:{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.25rem",lineHeight:"1.75rem","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"},styleTopTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleTopTextB:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleSubButton:{flexShrink:"0",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(74 222 128 / var(--tw-bg-opacity))",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700",letterSpacing:"0.05em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(187 247 208 / var(--tw-ring-opacity))",transitionDuration:"100ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":hover":{"--tw-scale-x":"1.05","--tw-scale-y":"1.05",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(22 163 74 / var(--tw-bg-opacity))","--tw-ring-opacity":"1","--tw-ring-color":"rgb(74 222 128 / var(--tw-ring-opacity))"}},styleSubTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}},purple:{styleAppleCard:{gridColumn:"span 5 / span 5",margin:"1rem",cursor:"default",userSelect:"none","--tw-bg-opacity":"1",backgroundColor:"rgb(233 213 255 / var(--tw-bg-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(192 132 252 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{gridColumn:"span 2 / span 2",cursor:"pointer",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(192 132 252 / var(--tw-bg-opacity))"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(216 180 254 / var(--tw-bg-opacity))"}}},styleBackground:{"--tw-text-opacity":"1",color:"rgb(192 132 252 / var(--tw-text-opacity))"},styleContent:{fontSize:"6rem",lineHeight:"1",fontWeight:"700",letterSpacing:"0.1em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},hoverContent:":hover &{         @media(min-width: ".concat(kn,"px){scale: 1.1;}           }"),activeContent:":active &{         scale: 1.1;\n        @media(min-width: ".concat(kn,"px){scale: 1.05;}           }"),hoverBackground:":hover &{         @media(min-width: ".concat(kn,"px){color: rgba(221, 214, 254, 1);}           }"),activeBackground:":active &{         color: rgba(221, 214, 254, 1);          }",styleSubBar:{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.25rem",lineHeight:"1.75rem","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"},styleTopTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleTopTextB:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleSubButton:{flexShrink:"0",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(192 132 252 / var(--tw-bg-opacity))",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700",letterSpacing:"0.05em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(233 213 255 / var(--tw-ring-opacity))",transitionDuration:"100ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":hover":{"--tw-scale-x":"1.05","--tw-scale-y":"1.05",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(147 51 234 / var(--tw-bg-opacity))","--tw-ring-opacity":"1","--tw-ring-color":"rgb(192 132 252 / var(--tw-ring-opacity))"}},styleSubTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}},pink:{styleAppleCard:{gridColumn:"span 5 / span 5",margin:"1rem",cursor:"default",userSelect:"none","--tw-bg-opacity":"1",backgroundColor:"rgb(244 114 182 / var(--tw-bg-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(251 207 232 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{gridColumn:"span 2 / span 2",cursor:"pointer",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgb(249 168 212 / var(--tw-bg-opacity))"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(251 207 232 / var(--tw-bg-opacity))"}}},styleBackground:{"--tw-text-opacity":"1",color:"rgb(251 207 232 / var(--tw-text-opacity))"},styleContent:{fontSize:"6rem",lineHeight:"1",fontWeight:"700",letterSpacing:"0.1em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},hoverContent:":hover &{         @media(min-width: ".concat(kn,"px){scale: 1.1;}           }"),activeContent:":active &{         scale: 1.1;\n        @media(min-width: ".concat(kn,"px){scale: 1.05;}           }"),hoverBackground:":hover &{         @media(min-width: ".concat(kn,"px){color: rgba(244, 114, 182, 1);}           }"),activeBackground:":active &{         color: rgba(249, 168, 212, 1);          }",styleSubBar:{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.25rem",lineHeight:"1.75rem","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"},styleTopTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleTopTextB:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleSubButton:{flexShrink:"0",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(244 114 182 / var(--tw-bg-opacity))",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700",letterSpacing:"0.05em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(251 207 232 / var(--tw-ring-opacity))",transitionDuration:"100ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":hover":{"--tw-scale-x":"1.05","--tw-scale-y":"1.05",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(219 39 119 / var(--tw-bg-opacity))","--tw-ring-opacity":"1","--tw-ring-color":"rgb(244 114 182 / var(--tw-ring-opacity))"}},styleSubTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}},gradient_blue:{styleAppleCard:{gridColumn:"span 5 / span 5",margin:"1rem",cursor:"default",userSelect:"none",backgroundImage:"linear-gradient(to right, var(--tw-gradient-stops))","--tw-gradient-from":"#3b82f6 var(--tw-gradient-from-position)","--tw-gradient-from-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-to":"#38bdf8 var(--tw-gradient-to-position)","--tw-gradient-to-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-stops":"var(--tw-gradient-from), var(--tw-gradient-to)",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)","::before":{content:"var(--tw-content)",position:"absolute",left:"0px",right:"0px",top:"0px",bottom:"0px",backgroundImage:"linear-gradient(to top right, var(--tw-gradient-stops))","--tw-gradient-from":"#0ea5e9 var(--tw-gradient-from-position)","--tw-gradient-from-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-to":"rgb(14 165 233 / 0)  var(--tw-gradient-from-position)","--tw-gradient-to-position":"var(--tw-empty,/*!*/ /*!*/)","--tw-gradient-stops":"var(--tw-gradient-from), var(--tw-gradient-to)",opacity:"0"},":active::before":{content:"var(--tw-content)",opacity:"1"},"@media (min-width: 768px)":{gridColumn:"span 2 / span 2",cursor:"pointer","::before":{content:"var(--tw-content)",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},":hover::before":{content:"var(--tw-content)",opacity:"1"},":active::before":{content:"var(--tw-content)",opacity:"0"}}},styleBackground:{"--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"},styleContent:{fontSize:"6rem",lineHeight:"1",fontWeight:"700",letterSpacing:"0.1em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"},hoverContent:":hover &{         @media(min-width: ".concat(kn,"px){scale: 1.1;}           }"),activeContent:":active &{         scale: 1.1;\n        @media(min-width: ".concat(kn,"px){scale: 1.05;}           }"),hoverBackground:":hover &{         @media(min-width: ".concat(kn,"px){color: rgba(221, 214, 254, 1); filter: blur(16px);}           }"),activeBackground:":active &{         filter: blur(16px);         color: rgba(221, 214, 254, 1);          @media(min-width: ".concat(kn,"px){color: rgba(147, 197, 253, 1); filter: blur(16px);}           }"),styleSubBar:{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.25rem",lineHeight:"1.75rem","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"},styleTopTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleTopTextB:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"},styleSubButton:{flexShrink:"0",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700",letterSpacing:"0.05em","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)","--tw-ring-opacity":"1","--tw-ring-color":"rgb(191 219 254 / var(--tw-ring-opacity))",transitionDuration:"100ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",":hover":{"--tw-scale-x":"1.05","--tw-scale-y":"1.05",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color)",boxShadow:"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)"},":active":{"--tw-bg-opacity":"1",backgroundColor:"rgb(37 99 235 / var(--tw-bg-opacity))","--tw-ring-opacity":"1","--tw-ring-color":"rgb(96 165 250 / var(--tw-ring-opacity))"}},styleSubTextA:{textAlign:"left",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}}};function qy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xy(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yy(t){var n,r,i=qy((0,e.useState)(!1),2),a=i[0],o=i[1],s=qy((0,e.useState)(0),2),l=s[0],c=s[1],u=(0,e.useRef)(null),h=(0,e.useRef)(null),d=qy((0,e.useState)(Ao(1,99999)),1)[0],f=qy((0,e.useState)(0),2),p=f[0],m=f[1],g=qy((0,e.useState)(0),2),v=g[0],y=g[1],w=qy((0,e.useState)(0),2),b=w[0],x=w[1],_=qy((0,e.useState)(0),2),S=_[0],E=_[1],C=function(){if(u.current&&h){var e=Eo(),n=(t.k?t.k:.7)*(b-S)/2,r=-n;e>p-v?e>p+b?(r=n,requestAnimationFrame((function(){c(r)}))):(r=(e-(p-v))/(b+v)*n*2-n,requestAnimationFrame((function(){c(r)}))):requestAnimationFrame((function(){c(r)}))}},A=(n=function(){o(!a)},100,!0,function(){var e=this,t=arguments;r&&clearTimeout(r);var i=!r;r=setTimeout((function(){r=null}),100),i&&n.apply(e,t)}),T=t.theme&&Wy[t.theme]?Wy[t.theme]:Wy.default;return(0,e.useEffect)((function(){return m(So(u.current)),y(Co()),x(u.current.clientHeight),E(h.current.clientHeight),C(),window.addEventListener("scroll",C),window.addEventListener("resize",A),function(){window.removeEventListener("scroll",C),window.removeEventListener("resize",A)}}),[p,v,a]),e.createElement(Ny,{className:"group group"+d,h:t.h||"400px",_tw:T.styleAppleCard,_tw_user:t.tw_card||{}},e.createElement(Vy,{hasMask:t.hasMask,_tw:T.styleTopTextA,_tw_user:t.tw_topTextA||{}},t.topTextA||""),e.createElement(Hy,{hasMask:t.hasMask,_tw:T.styleTopTextB,_tw_user:t.tw_topTextB||{}},t.topTextB||""),e.createElement(Gy,{hasSubBar:t.hasSubBar,hasMask:t.hasMask,_tw:T.styleSubTextA,_tw_user:t.tw_subTextA||{}},t.subTextA||""),e.createElement(zy,{ref:u,hasSubBar:t.hasSubBar,onClick:t.onClick},e.createElement(By,{ref:h,_Y:l,_tw:T.styleBackground,_tw_user:t.tw_background||{},_hover:".group"+d+T.hoverBackground,_active:".group"+d+T.activeBackground},t.icon||e.createElement(Qy,{icon:Ly.kZ})),e.createElement(Fy,{style:{transition:"scale 0.3s ease"},hasMask:t.hasMask,_tw:T.styleContent,_tw_user:t.tw_content||{},_hover:".group"+d+T.hoverContent,_active:".group"+d+T.activeContent},t.children)),t.hasSubBar&&e.createElement(Uy,{_tw:T.styleSubBar,_tw_user:t.tw_subbar||{}},e.createElement(jy,{url:t.logo_url}),e.createElement(Ky,null,e.createElement(Zy,null,t._sub_h3||""),e.createElement(Jy,null,t._sub_h4||"")),e.createElement(Qp,{_tw:T.styleSubButton,_tw_user:t.tw_subButton||{},onClick:function(){window.location=t.goto||"javascript:;"}},"打开")))}Yy.propTypes={h:lo().string,k:lo().number,theme:lo().oneOf(["default","white","black","green","purple","pink","gradient_blue"]),logo_url:lo().string,goto:lo().string,icon:lo().element,topTextA:lo().string,topTextB:lo().string,subTextA:lo().node,hasMask:lo().bool,hasSubBar:lo().bool,_sub_h3:lo().string,_sub_h4:lo().string,onClick:lo().func,tw_card:lo().object,tw_background:lo().object,tw_content:lo().object,tw_subbar:lo().object,tw_topTextA:lo().object,tw_topTextB:lo().object,tw_subTextA:lo().object,tw_subButton:lo().object};var Qy=bn(xo).withConfig({displayName:"AppleCard___StyledFontAwesomeIcon",componentId:"sc-137yem4-0"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),Ky=bn("div").withConfig({displayName:"AppleCard___StyledDiv",componentId:"sc-137yem4-1"})({height:"3rem",flexShrink:"1",flexGrow:"1",flexDirection:"column",alignItems:"flex-start",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:"1rem",textAlign:"left"}),Zy=bn(kh).withConfig({displayName:"AppleCard___StyledH",componentId:"sc-137yem4-2"})({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",letterSpacing:"0.025em"}),Jy=bn(Oh).withConfig({displayName:"AppleCard___StyledH2",componentId:"sc-137yem4-3"})({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",letterSpacing:"0.1em"});function $y(e){return $y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(e)}function ew(){ew=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==$y(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function tw(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function nw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iw(){for(var t=me(),n=pe(),r=nw((0,e.useState)([]),2),i=r[0],a=r[1],o=nw((0,e.useState)(!1),2),s=o[0],l=o[1],c=[],u=0;u<1;u++)c.push(e.createElement(Yy,{key:u,k:.5,topTextA:"在线工具",topTextB:"预设调色板",subTextA:"常用色彩",tw_content:{letterSpacing:"0.05em"},tw_background:{},tw_subbar:{},icon:e.createElement(aw,{icon:Ry.q2}),onClick:function(){Qv("暂未完工","A_5")}}));var h=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){tw(a,r,i,o,s,"next",e)}function s(e){tw(a,r,i,o,s,"throw",e)}o(void 0)}))}}(ew().mark((function e(){var t,n;return ew().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["bilibili","tiktok","qrcode","selenium"],e.prev=1,e.next=4,Promise.all(t.map((function(e){return tp.awaitCountAPI("GET",e)})));case 4:return n=e.sent,a(n.map((function(e){return e.data&&e.data[0]&&e.data[0].count}))),e.abrupt("return","Succeed to fetch counts");case 9:throw e.prev=9,e.t0=e.catch(1),"Failed to fetch counts";case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){h().then((function(e){return console.log(e)})).catch((function(e){return console.warn(e)}));var e=setInterval((function(){"/tools/bilibili"!==n.pathname&&l((function(e){return!e}))}),4e3);return function(){return clearInterval(e)}}),[]);var d=e.createElement(Ln,null,e.createElement(Yy,{theme:"pink",k:.5,topTextA:"在线工具",topTextB:"bilibili视频解析",subTextA:e.createElement(hd,{isOn:i[0]&&s,onContent:i[0]&&"已使用".concat(i[0],"次"),offContent:"封面 | 视频 下载",fadeStyle:"up",className:"fadeBiliSubTextA"}),tw_card:{"@media (min-width: 768px)":{gridColumn:"span 4 / span 4"}},tw_content:{letterSpacing:"0.025em"},tw_background:{},tw_subbar:{},icon:e.createElement(ow,{icon:vp}),onClick:function(){t("/tools/bilibili"),window.scroll(0,0)}}),e.createElement(Yy,{theme:"black",k:.5,topTextA:"在线工具",topTextB:"Tiktok视频解析",subTextA:e.createElement(hd,{isOn:i[1]&&s,onContent:i[1]&&"已使用".concat(i[1],"次"),offContent:"封面 | 视频 下载",fadeStyle:"up",className:"fadeBiliSubTextA"}),hasMask:!0,tw_card:{"@media (min-width: 768px)":{gridColumn:"span 2 / span 2"}},tw_content:{letterSpacing:"0.025em"},tw_background:{},tw_subbar:{},icon:e.createElement(sw,{icon:yp}),onClick:function(){t("/tools/tiktok"),window.scroll(0,0)}}),e.createElement(Yy,{theme:"white",k:.5,topTextA:"在线工具",topTextB:"二维码生成器",subTextA:e.createElement(hd,{isOn:i[2]&&s,onContent:i[2]&&"已使用".concat(i[2],"次"),offContent:"QR码",fadeStyle:"up",className:"fadeBiliSubTextA"}),hasMask:!0,tw_card:{"@media (min-width: 768px)":{gridColumn:"span 2 / span 2"}},tw_content:{letterSpacing:"0.025em"},tw_background:{},tw_subbar:{},icon:e.createElement(lw,{icon:Iy.rt}),onClick:function(){t("/tools/QRPage"),window.scroll(0,0)}}),e.createElement(Yy,{theme:"purple",k:.5,topTextA:"在线工具",topTextB:"Selenium",subTextA:e.createElement(hd,{isOn:i[3]&&s,onContent:i[3]&&"已使用".concat(i[3],"次"),offContent:"自动化测试",fadeStyle:"up",className:"fadeBiliSubTextA"}),tw_card:{"@media (min-width: 768px)":{gridColumn:"span 2 / span 2"}},tw_content:{letterSpacing:"0.025em"},tw_background:{},tw_subbar:{},icon:e.createElement(cw,{icon:Oy.hQ}),onClick:function(){t("/tools/Selenium"),window.scroll(0,0)}}),c);return e.createElement(Bn,null,e.createElement(Ch,null),e.createElement(Rn,null,e.createElement(Nn,null),d,e.createElement(zn,null)),e.createElement(up,null))}var aw=bn(xo).withConfig({displayName:"Tools___StyledFontAwesomeIcon",componentId:"sc-e7onbp-0"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),ow=bn(xo).withConfig({displayName:"Tools___StyledFontAwesomeIcon2",componentId:"sc-e7onbp-1"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),sw=bn(xo).withConfig({displayName:"Tools___StyledFontAwesomeIcon3",componentId:"sc-e7onbp-2"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),lw=bn(xo).withConfig({displayName:"Tools___StyledFontAwesomeIcon4",componentId:"sc-e7onbp-3"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),cw=bn(xo).withConfig({displayName:"Tools___StyledFontAwesomeIcon5",componentId:"sc-e7onbp-4"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),uw=o(1382),hw=o(396);function dw(){for(var t=(0,Sp.useClipboard)(),n=me(),r=[],i=0;i<8;i++)r.push(e.createElement(Yy,{key:i,theme:"gradient_blue",h:"360px",k:.5,tw_card:{"@media (min-width: 768px)":{gridColumn:"span 2 / span 2"}},tw_content:{fontSize:"4.5rem",lineHeight:"1",letterSpacing:"0.025em"},icon:e.createElement(fw,{icon:hw.Nk}),onClick:function(){t.copy("https://nav.qiuyedx.com"),Kv("秋夜导航站地址Copied !","copy_1")}},"资源 ",i+1));return e.createElement(Bn,null,e.createElement(Ch,null),e.createElement(Rn,null,e.createElement(Nn,null),e.createElement(Ln,null,e.createElement(Yy,{key:"ModelDisplay",theme:"gradient_blue",h:"360px",k:.5,tw_card:{gridColumn:"span 4 / span 4"},tw_content:{fontSize:"4.5rem",lineHeight:"1",letterSpacing:"0.025em"},icon:e.createElement(pw,{icon:uw.L5}),onClick:function(){n("/ModelDisplay"),window.scroll(0,0)}},"虚拟手办"),e.createElement(mw,null),e.createElement(Sm,{gsapClass:"new_res",offset:240,btnText:"获取"}),e.createElement(gw,null),e.createElement(Sm,{title:"热门资源",gsapClass:"hot_res",offset:240,btnText:"获取"})),e.createElement(zn,null)),e.createElement(up,null))}var fw=bn(xo).withConfig({displayName:"Resources___StyledFontAwesomeIcon",componentId:"sc-1xk5tzy-0"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),pw=bn(xo).withConfig({displayName:"Resources___StyledFontAwesomeIcon2",componentId:"sc-1xk5tzy-1"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),mw=bn("div").withConfig({displayName:"Resources___StyledDiv",componentId:"sc-1xk5tzy-2"})({gridColumn:"span 4 / span 4",height:"1rem"}),gw=bn("div").withConfig({displayName:"Resources___StyledDiv2",componentId:"sc-1xk5tzy-3"})({gridColumn:"span 4 / span 4",height:"1rem"}),vw=o(9986),yw=o(4814),ww=o(9895);function bw(t){return e.createElement(Ep,{_tw:t._tw,h:t.h,w:t.w},t.children)}var xw=o(6224),_w=o(7879),Sw=o(2740),Ew=o(195),Cw=o(5502),Aw=o(496),Tw=o(1511),Mw=bn.div.withConfig({displayName:"Styledtwin__AvatarWrapper",componentId:"sc-6mv75q-0"})(["","  "," "," height:",";width:",";background-image:url(",");background-size:cover;@media(max-width:767px){height:80px;width:80px;}",""],{borderRadius:"9999px"},(function(e){return e.hasBorder?{borderWidth:"4px","--tw-border-opacity":"1",borderColor:"rgb(255 255 255 / var(--tw-border-opacity))"}:""}),(function(e){return e.hasBorder?{borderWidth:"4px","--tw-border-opacity":"1",borderColor:"rgb(191 219 254 / var(--tw-border-opacity))"}:""}),(function(e){return e.h||"80px"}),(function(e){return e.w||"80px"}),(function(e){return e.img||""}),(function(e){return e._tw})),Pw=bn(Mw).withConfig({displayName:"MyProfileCard__SubAvatar",componentId:"sc-1yzkan7-0"})(["position:absolute;flex-shrink:0;top:-50px;background-color:white;@media(max-width:","px){top:-40px;}"],kn),Dw=bn(Pw).withConfig({displayName:"MyProfileCard___StyledSubAvatar",componentId:"sc-1yzkan7-1"})({"@keyframes delay_1_3_fade_in_up":{"0%":{opacity:"0",transform:"translateY(15px)"},"66.7%":{opacity:"0",transform:"translateY(15px)"},"100%":{opacity:"1",transform:"translateY(0)"}},animation:"delay_1_3_fade_in_up 1.5s ease-out forwards"});function kw(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n&&null===n.current&&(n.current=Eh.fromTo(".gsap_fade_in_up",{y:50,opacity:0},{y:0,opacity:1,duration:1.5,ease:"power3.out",repeat:0,stagger:.2,delay:.2}))}),[]),e.createElement(bw,{_tw:t.onlyMobile?{position:"relative",gridColumn:"span 5 / span 5",margin:"1rem",marginTop:"4rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))","@media (min-width: 768px)":{gridColumn:"span 3 / span 3",display:"none"}}:t.notMobile?{position:"relative",gridColumn:"span 5 / span 5",margin:"1rem",display:"none","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))","@media (min-width: 768px)":{gridColumn:"span 3 / span 3",display:"flex"}}:{position:"relative",gridColumn:"span 5 / span 5",margin:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))","@media (min-width: 768px)":{gridColumn:"span 3 / span 3"}},h:"360px"},e.createElement("br",null),e.createElement(Dw,{img:"images/QiuYeDx_web.png",hasBorder:!0,h:"100px",w:"100px"}),e.createElement("br",null),e.createElement(Ow,null,"QiuYeDx"),e.createElement(Iw,null,e.createElement(Rw,{href:"mailto:me@qiuyedx.com"},e.createElement(Lw,{icon:Tw.FU}),"Mail"),e.createElement(Nw,{href:"https://qiuyedx.com",target:"_blank"},e.createElement(zw,{icon:Aw.M_}),"Blog")),e.createElement(Bw,{icon:Cw.y1,size:"xl"}),e.createElement(Fw,null,"IT、数码、摄影、ACG",e.createElement("br",null),"正在向着全栈自由出发"),e.createElement(Uw,{icon:Ew.El,size:"xl"}),e.createElement(jw,null,e.createElement(Vw,null,e.createElement(Hw,{className:"gsap_fade_in_up"},e.createElement(Gw,null,e.createElement(xo,{icon:Sw.Ac})),e.createElement(Ww,null,"性别"),e.createElement(qw,null,"男")),e.createElement(Xw,{className:"gsap_fade_in_up"},e.createElement(Yw,null,e.createElement(xo,{icon:_w.IL})),e.createElement(Qw,null,"年龄"),e.createElement(Kw,null,"21")),e.createElement(Zw,{className:"gsap_fade_in_up"},e.createElement(Jw,null,e.createElement(xo,{icon:xw.Xf})),e.createElement($w,null,"学校"),e.createElement(eb,null,"NEU"),e.createElement(tb,null,"东北大学")))))}var Ow=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv",componentId:"sc-1yzkan7-2"})({marginTop:"0.5rem",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.25rem",lineHeight:"1.75rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(55 65 81 / var(--tw-text-opacity))"}),Iw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv2",componentId:"sc-1yzkan7-3"})({marginTop:"0.5rem",display:"flex",flexDirection:"row"}),Rw=bn("a").withConfig({displayName:"MyProfileCard___StyledA",componentId:"sc-1yzkan7-4"})({marginRight:"1rem",cursor:"pointer",userSelect:"none",borderRadius:"0.75rem",borderWidth:"4px","--tw-border-opacity":"1",borderColor:"rgb(191 219 254 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))",paddingLeft:"0.5rem",paddingRight:"0.5rem",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",":hover":{"--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-border-opacity":"1",borderColor:"rgb(96 165 250 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(147 197 253 / var(--tw-bg-opacity))","--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":active":{"--tw-scale-x":"1","--tw-scale-y":"1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-border-opacity":"1",borderColor:"rgb(191 219 254 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{top:"-4rem"}}),Lw=bn(xo).withConfig({displayName:"MyProfileCard___StyledFontAwesomeIcon",componentId:"sc-1yzkan7-5"})({paddingRight:"0.25rem"}),Nw=bn("a").withConfig({displayName:"MyProfileCard___StyledA2",componentId:"sc-1yzkan7-6"})({cursor:"pointer",userSelect:"none",borderRadius:"0.75rem",borderWidth:"4px","--tw-border-opacity":"1",borderColor:"rgb(191 219 254 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))",paddingLeft:"0.5rem",paddingRight:"0.5rem",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",":hover":{"--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-border-opacity":"1",borderColor:"rgb(96 165 250 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(147 197 253 / var(--tw-bg-opacity))","--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":active":{"--tw-scale-x":"1","--tw-scale-y":"1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))","--tw-border-opacity":"1",borderColor:"rgb(191 219 254 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))"},"@media (min-width: 768px)":{top:"-4rem"}}),zw=bn(xo).withConfig({displayName:"MyProfileCard___StyledFontAwesomeIcon2",componentId:"sc-1yzkan7-7"})({paddingRight:"0.25rem"}),Bw=bn(xo).withConfig({displayName:"MyProfileCard___StyledFontAwesomeIcon3",componentId:"sc-1yzkan7-8"})({position:"relative",left:"-6rem",top:"1.5rem",paddingRight:"1rem"}),Fw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv3",componentId:"sc-1yzkan7-9"})({marginBottom:"-0.5rem",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem","--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))"}),Uw=bn(xo).withConfig({displayName:"MyProfileCard___StyledFontAwesomeIcon4",componentId:"sc-1yzkan7-10"})({position:"relative",top:"-1rem",left:"6rem",paddingLeft:"1rem"}),jw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv4",componentId:"sc-1yzkan7-11"})({position:"relative",width:"100%",paddingLeft:"1.5rem",paddingRight:"1.5rem"}),Vw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv5",componentId:"sc-1yzkan7-12"})({display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))",paddingBottom:"1rem",paddingTop:"1rem",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.25rem",lineHeight:"1.75rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}),Hw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv6",componentId:"sc-1yzkan7-13"})({display:"flex",height:"6rem",flex:"1 1 0%",flexDirection:"column"}),Gw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv7",componentId:"sc-1yzkan7-14"})({flexGrow:"1"}),Ww=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv8",componentId:"sc-1yzkan7-15"})({flexGrow:"1",fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"400"}),qw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv9",componentId:"sc-1yzkan7-16"})({flexGrow:"1"}),Xw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv10",componentId:"sc-1yzkan7-17"})({display:"flex",height:"6rem",flex:"1 1 0%",flexDirection:"column"}),Yw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv11",componentId:"sc-1yzkan7-18"})({flexGrow:"1"}),Qw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv12",componentId:"sc-1yzkan7-19"})({flexGrow:"1",fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"400"}),Kw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv13",componentId:"sc-1yzkan7-20"})({flexGrow:"1"}),Zw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv14",componentId:"sc-1yzkan7-21"})({display:"flex",height:"6rem",flex:"1 1 0%",flexDirection:"column"}),Jw=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv15",componentId:"sc-1yzkan7-22"})({flexGrow:"1"}),$w=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv16",componentId:"sc-1yzkan7-23"})({flexGrow:"1",fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"400"}),eb=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv17",componentId:"sc-1yzkan7-24"})({flexGrow:"1","@media (min-width: 768px)":{display:"none"}}),tb=bn("div").withConfig({displayName:"MyProfileCard___StyledDiv18",componentId:"sc-1yzkan7-25"})({display:"none",flexGrow:"1","@media (min-width: 768px)":{display:"block"}});const nb=new Map,rb=new WeakMap;let ib,ab=0;function ob(e,t,n={},r=ib){if(void 0===window.IntersectionObserver&&void 0!==r){const i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:i,observer:a,elements:o}=function(e){let t=function(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(n=e.root,n?(rb.has(n)||(ab+=1,rb.set(n,ab.toString())),rb.get(n)):"0"):e[t]}`;var n})).toString()}(e),n=nb.get(t);if(!n){const r=new Map;let i;const a=new IntersectionObserver((t=>{t.forEach((t=>{var n;const a=t.isIntersecting&&i.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=a),null==(n=r.get(t.target))||n.forEach((e=>{e(a,t)}))}))}),e);i=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:r},nb.set(t,n)}return n}(n);let s=o.get(e)||[];return o.has(e)||o.set(e,s),s.push(t),a.observe(e),function(){s.splice(s.indexOf(t),1),0===s.length&&(o.delete(e),a.unobserve(e)),0===o.size&&(a.disconnect(),nb.delete(i))}}class sb extends e.Component{constructor(e){super(e),this.node=null,this._unobserveCb=null,this.handleNode=e=>{this.node&&(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()},this.handleChange=(e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),isPlainChildren(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)},this.state={inView:!!e.initialInView,entry:void 0}}componentDidUpdate(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve(),this.node=null}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:i,fallbackInView:a}=this.props;this._unobserveCb=ob(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:r,delay:i},a)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){if(!isPlainChildren(this.props)){const{inView:e,entry:t}=this.state;return this.props.children({inView:e,entry:t,ref:this.handleNode})}const e=this.props,{children:t,as:n}=e,r=function(e,t){if(null==e)return{};for(var n,r,i={},a=Object.keys(e);r<a.length;r++)a[r],null.indexOf(n)>=0||(i[n]=e[n]);return i}(e);return React.createElement(n||"div",react_intersection_observer_modern_extends({ref:this.handleNode},r),t)}}function lb({threshold:t,delay:n,trackVisibility:r,rootMargin:i,root:a,triggerOnce:o,skip:s,initialInView:l,fallbackInView:c,onChange:u}={}){var h;const[d,f]=e.useState(null),p=e.useRef(),[m,g]=e.useState({inView:!!l,entry:void 0});p.current=u,e.useEffect((()=>{if(s||!d)return;let e;return e=ob(d,((t,n)=>{g({inView:t,entry:n}),p.current&&p.current(t,n),n.isIntersecting&&o&&e&&(e(),e=void 0)}),{root:a,rootMargin:i,threshold:t,trackVisibility:r,delay:n},c),()=>{e&&e()}}),[Array.isArray(t)?t.toString():t,d,a,i,o,s,r,c,n]);const v=null==(h=m.entry)?void 0:h.target,y=e.useRef();d||!v||o||s||y.current===v||(y.current=v,g({inView:!!l,entry:void 0}));const w=[f,m.inView,m.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}function cb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ub(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ub(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ub(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hb=function(t){var n=t.fromValue,r=void 0===n?0:n,i=t.toValue,a=void 0===i?0:i,o=t.duration,s=void 0===o?2:o,l=t.step,c=void 0===l?1:l,u=t.ease,h=void 0===u?"power2.out":u,d=t.freshFlag,f=void 0!==d&&d,p=t.isViewCtrl,m=void 0===p||p,g=cb((0,e.useState)(!1),2),v=g[0],y=g[1],w=cb(lb(),2),b=w[0],x=w[1],_=(0,e.useRef)(),S=(0,e.useRef)(null);return(0,e.useEffect)((function(){var e=_.current;S.current=Eh.to(e,{innerHTML:a,duration:s,snap:{innerHTML:c},ease:h}),m&&!v&&S.current.pause()}),[r,a,s,c]),(0,e.useEffect)((function(){m&&!v||S.current.restart()}),[f]),(0,e.useEffect)((function(){x&&!v&&y(!0)}),[x,v]),(0,e.useEffect)((function(){m&&v&&S.current.restart()}),[v]),e.createElement("div",{ref:b},e.createElement("span",{ref:_},r))};function db(e){return db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(e)}function fb(){fb=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==db(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function pb(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function mb(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){pb(a,r,i,o,s,"next",e)}function s(e){pb(a,r,i,o,s,"throw",e)}o(void 0)}))}}function gb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vb(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yb(){var t=(0,Sp.useClipboard)(),n=gb((0,e.useState)(null),2),r=n[0],i=n[1],a=gb((0,e.useState)(!1),2),o=a[0],s=a[1],l=function(){var e=mb(fb().mark((function e(){var t;return fb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tp.awaitCountAPI("GET","like");case 3:return t=e.sent,i(t.data[0].count),e.abrupt("return","Succeed to fetch like count");case 8:throw e.prev=8,e.t0=e.catch(0),s(!0),new Error("Failed to fetch like count");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){l().then((function(e){return console.log(e)})).catch((function(e){return console.warn(e)}))}),[]),e.createElement(Bn,null,e.createElement(Ch,null),e.createElement(Rn,null,e.createElement(Nn,null),e.createElement(wb,null,e.createElement(kw,{onlyMobile:!0}),e.createElement(Yy,{theme:"default",h:"360px",k:.5,topTextA:"Like",topTextB:"当前点赞数",subTextA:"支持一下",tw_card:{"@media (min-width: 768px)":{gridColumn:"span 2 / span 2"}},tw_content:{letterSpacing:"0.025em"},icon:e.createElement(bb,{icon:ww.u8}),onClick:mb(fb().mark((function e(){var t;return fb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tp.awaitCountAPI("PUT","like");case 3:t=e.sent,i(t.data[0].count),Kv("已点赞, 感谢您的支持 !","like_1"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Qv("点赞失败, 但还是感谢您的支持 !","like_error_1");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))},r?e.createElement(hb,{fromValue:0,toValue:r,duration:2,step:1}):o?e.createElement(xo,{icon:yw.WV,shake:!0}):e.createElement(xo,{icon:Mh.LM,spin:!0})),e.createElement(bw,{_tw:{gridColumn:"span 5 / span 5",margin:"1rem",marginBottom:"2.5rem",display:"none",borderWidth:"8px","--tw-border-opacity":"0.5",borderColor:"rgb(191 219 254 / var(--tw-border-opacity))","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","@media (min-width: 768px)":{display:"none"}},h:"80px"},e.createElement(xb,null,"关 于")),e.createElement(kw,{notMobile:!0}),e.createElement(Yy,{k:.5,hasSubBar:!0,goto:"https://twitter.com/QiuYeDx",topTextA:"社交",topTextB:"我的推特空间",tw_card:{"@media (min-width: 768px)":{gridColumn:"span 3 / span 3"}},tw_content:{fontSize:"4.5rem",lineHeight:"1",letterSpacing:"0.025em","@media (min-width: 768px)":{fontSize:"6rem",lineHeight:"1"}},tw_background:{},tw_subbar:{},_sub_h3:"QiuYeDx",_sub_h4:"秋夜殿下的推特空间",logo_url:"images/twitter.png",icon:e.createElement(_b,{icon:xp}),onClick:function(){t.copy("https://twitter.com/QiuYeDx"),Kv("我的twitter地址Copied !","copy_2")}},"Twitter"),e.createElement(Yy,{k:.5,topTextA:"通讯",topTextB:"我的企鹅账号",subTextA:"欢迎扩列",tw_card:{"@media (min-width: 768px)":{gridColumn:"span 2 / span 2"}},tw_content:{letterSpacing:"0.1em"},tw_background:{},tw_subbar:{},icon:e.createElement(Sb,{icon:fp}),onClick:function(){t.copy("532024989"),Kv("我的QQ号码Copied !","copy_7")}},"QQ"),e.createElement(Yy,{theme:"white",hasMask:!0,k:.5,topTextA:"灵感",topTextB:"我的设计灵感",subTextA:"取之不尽",tw_card:{"@media (min-width: 768px)":{gridColumn:"span 2 / span 2"}},tw_content:{letterSpacing:"0.05em"},tw_background:{},tw_subbar:{},icon:e.createElement(Eb,{icon:mp}),onClick:function(){t.copy("https://apple.com"),Kv("Apple官网地址Copied !","copy_4")}},"Apple"),e.createElement(Yy,{hasSubBar:!0,theme:"purple",goto:"https://qiuyedx.com",k:.5,topTextA:"博客",topTextB:"我的创作空间",tw_card:{"@media (min-width: 768px)":{gridColumn:"span 3 / span 3"}},tw_content:{letterSpacing:"0.1em"},tw_background:{},tw_subbar:{},_sub_h3:"秋夜のブログ",_sub_h4:"秋夜殿下的博客",icon:e.createElement(Cb,{icon:gp}),onClick:function(){t.copy("https://qiuyedx.com"),Kv("我的Blog地址Copied !","copy_5")}},"Blog"),e.createElement(Yy,{theme:"green",k:.5,hasSubBar:!0,goto:"https://share.qiuyedx.com",topTextA:"网盘",topTextB:"我的网络存储",tw_card:{"@media (min-width: 768px)":{gridColumn:"span 3 / span 3"}},tw_content:{fontSize:"4.5rem",lineHeight:"1",fontWeight:"900",letterSpacing:"-0.025em","@media (min-width: 768px)":{letterSpacing:"0.05em"}},tw_background:{},tw_subbar:{},_sub_h3:"次元空间",_sub_h4:"秋夜殿下的网络存储",logo_url:"images/Alist_M.jpeg",icon:e.createElement(Ab,{icon:vw.xf}),onClick:function(){t.copy("https://share.qiuyedx.com"),Kv("次元空间地址Copied !","copy_6")}},"次元空间"),e.createElement(Yy,{theme:"black",k:.5,topTextA:"代码",topTextB:"我的代码仓库",subTextA:"灵感碰撞",hasMask:!0,tw_card:{"@media (min-width: 768px)":{gridColumn:"span 2 / span 2"}},tw_content:{fontSize:"4.5rem",lineHeight:"1",letterSpacing:"0.1em","@media (min-width: 768px)":{fontSize:"6rem",lineHeight:"1",letterSpacing:"0.05em"}},tw_background:{},tw_subbar:{},icon:e.createElement(Tb,{icon:bp}),onClick:function(){t.copy("https://github.com/QiuYeDx"),Kv("我的Github地址Copied !","copy_3")}},"Github")),e.createElement(zn,null)),e.createElement(up,null))}var wb=bn(Ln).withConfig({displayName:"About___StyledWrapperMain",componentId:"sc-vl2lil-0"})({gridTemplateColumns:"repeat(5, minmax(0, 1fr))"}),bb=bn(xo).withConfig({displayName:"About___StyledFontAwesomeIcon",componentId:"sc-vl2lil-1"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),xb=bn("div").withConfig({displayName:"About___StyledDiv",componentId:"sc-vl2lil-2"})({marginTop:"1rem",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))"}),_b=bn(xo).withConfig({displayName:"About___StyledFontAwesomeIcon2",componentId:"sc-vl2lil-3"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),Sb=bn(xo).withConfig({displayName:"About___StyledFontAwesomeIcon3",componentId:"sc-vl2lil-4"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),Eb=bn(xo).withConfig({displayName:"About___StyledFontAwesomeIcon4",componentId:"sc-vl2lil-5"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),Cb=bn(xo).withConfig({displayName:"About___StyledFontAwesomeIcon5",componentId:"sc-vl2lil-6"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),Ab=bn(xo).withConfig({displayName:"About___StyledFontAwesomeIcon6",componentId:"sc-vl2lil-7"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),Tb=bn(xo).withConfig({displayName:"About___StyledFontAwesomeIcon7",componentId:"sc-vl2lil-8"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),Mb=o(5382);function Pb(){return e.createElement(Cp,null,e.createElement(Db,null,e.createElement(xo,{icon:Mb.qf,size:"10x",color:"rgb(255,242,241)"}),e.createElement(Ph,{color:"rgb(255,242,241)"},"404 Not Found"),e.createElement(kb,{color:"rgb(255,242,241)"},"您访问的资源不存在")))}var Db=bn(Ap).withConfig({displayName:"Error___StyledErrorWrapper",componentId:"sc-1mzs46l-0"})({marginLeft:"1.5rem",marginRight:"1.5rem",display:"flex",minHeight:"320px",flexDirection:"column",gap:"1rem",paddingTop:"2rem"}),kb=bn(Ih).withConfig({displayName:"Error___StyledP",componentId:"sc-1mzs46l-1"})({fontSize:"1.125rem",lineHeight:"1.75rem"}),Ob=bn.div.withConfig({displayName:"Styledtwin__Wrapper",componentId:"sc-na01y3-0"})(["display:flex;flex-direction:column;padding-top:60px;min-height:100vh;overflow:auto;"]),Ib=o(6513),Rb=o(6091),Lb=o(446),Nb=o(6427),zb=bn.div.attrs((function(e){return{className:"gsap_main_fadein"}})).withConfig({displayName:"Styledtwin__Wrapper",componentId:"sc-1bnxhyj-0"})(["max-height:480px;",";display:flex;flex-direction:column;position:relative;transition:box-shadow 0.3s,background-color 0.3s;",";"],(function(e){var t=e.h;return t?"height: "+t:""}),{overflowY:"auto",overscrollBehavior:"none",borderRadius:"1.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))","--tw-shadow":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)","@media (min-width: 768px)":{":hover":{"--tw-shadow":"0 25px 50px -12px rgb(0 0 0 / 0.25)","--tw-shadow-colored":"0 25px 50px -12px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}}),Bb=bn.table.withConfig({displayName:"Styledtwin__TableWrapper",componentId:"sc-1bnxhyj-1"})(["position:relative;flex-grow:0;",";"],{marginBottom:"0.5rem",tableLayout:"auto",captionSide:"top",borderCollapse:"collapse",flexWrap:"wrap",overflow:"auto",borderRadius:"1.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))",transitionDuration:"500ms"}),Fb=bn.tr.withConfig({displayName:"Styledtwin__Tr",componentId:"sc-1bnxhyj-2"})(["&:nth-child(even){position:relative;z-index:205;}&:nth-child(even)::after{content:'';position:absolute;left:1rem;height:2rem;width:calc(100% - 2rem);z-index:200;",";@media(max-width:","px){left:0.5rem;width:calc(100% - 1rem);}}&:last-child td{&:first-child{",";}&:last-child{",";}}",";"],{borderRadius:"0.375rem","--tw-bg-opacity":"1",backgroundColor:"rgb(239 246 255 / var(--tw-bg-opacity))"},kn,{borderBottomLeftRadius:"1.5rem"},{borderBottomRightRadius:"1.5rem"},{textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"1.5rem"}),Ub=bn.thead.withConfig({displayName:"Styledtwin__Thead",componentId:"sc-1bnxhyj-3"})(["position:sticky;top:0;z-index:410;",";"],{overflow:"hidden",borderRadius:"1.5rem","--tw-bg-opacity":"1",backgroundColor:"rgb(147 197 253 / var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",transitionDuration:"500ms","@media (min-width: 768px)":{":hover":{"--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}}),jb=bn.tbody.withConfig({displayName:"Styledtwin__Tbody",componentId:"sc-1bnxhyj-4"})(["max-height:480px;& tr{",";}&::before{content:'';position:absolute;top:42px;left:0;height:calc(100% - 42px);width:16px;@media(max-width:","px){width:7.8px;}z-index:400;",";}&::after{content:'';position:absolute;top:42px;right:0;height:calc(100% - 42px);width:16px;@media(max-width:","px){width:7.8px;}z-index:400;",";}"],{"@media (min-width: 768px)":{":hover":{opacity:"0.6"}}},kn,{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))"},kn,{"--tw-bg-opacity":"1",backgroundColor:"rgb(255 255 255 / var(--tw-bg-opacity))"}),Vb=bn.th.withConfig({displayName:"Styledtwin__Th",componentId:"sc-1bnxhyj-5"})(["&:first-child{",";}&:last-child{",";}",";"],{paddingLeft:"0.75rem","@media (min-width: 768px)":{paddingLeft:"1rem"}},{paddingRight:"0.75rem","@media (min-width: 768px)":{paddingRight:"1rem"}},{textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"1rem",lineHeight:"2.5rem",fontWeight:"700","@media (min-width: 768px)":{fontSize:"1.25rem",lineHeight:"2.5rem"}}),Hb=bn.td.withConfig({displayName:"Styledtwin__Td",componentId:"sc-1bnxhyj-6"})(["position:relative;z-index:210;",";white-space:nowrap;",";&:first-child{",";}&:last-child{",";}&:nth-child(odd){",";}&:nth-child(even){",";}&::-webkit-scrollbar{display:none;}"],(function(e){var t=e.max_width;return t?"max-width: "+t:""}),{overflow:"auto",textAlign:"center",verticalAlign:"middle",fontFamily:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fontSize:"0.875rem",lineHeight:"2rem","--tw-text-opacity":"1",color:"rgb(75 85 99 / var(--tw-text-opacity))","@media (min-width: 768px)":{fontSize:"1rem",lineHeight:"2rem"}},{paddingLeft:"0.75rem","@media (min-width: 768px)":{paddingLeft:"1rem"}},{paddingRight:"0.75rem","@media (min-width: 768px)":{paddingRight:"1rem"}},{"--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))"},{fontWeight:"600","--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"}),Gb=(bn.caption.withConfig({displayName:"Styledtwin__Caption",componentId:"sc-1bnxhyj-7"})(["position:absolute;z-index:300;",";"],{margin:"0.5rem"}),o(3967)),Wb=o.n(Gb);function qb(e){return e.split("-")[1]}function Xb(e){return"y"===e?"height":"width"}function Yb(e){return e.split("-")[0]}function Qb(e){return["top","bottom"].includes(Yb(e))?"x":"y"}function Kb(e,t,n){let{reference:r,floating:i}=e;const a=r.x+r.width/2-i.width/2,o=r.y+r.height/2-i.height/2,s=Qb(t),l=Xb(s),c=r[l]/2-i[l]/2,u="x"===s;let h;switch(Yb(t)){case"top":h={x:a,y:r.y-i.height};break;case"bottom":h={x:a,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:o};break;case"left":h={x:r.x-i.width,y:o};break;default:h={x:r.x,y:r.y}}switch(qb(t)){case"start":h[s]-=c*(n&&u?-1:1);break;case"end":h[s]+=c*(n&&u?-1:1)}return h}function Zb(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Jb(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function $b(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=t,p=Zb(f),m=s[d?"floating"===h?"reference":"floating":h],g=Jb(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===h?{...o.floating,x:r,y:i}:o.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),w=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},b=Jb(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+p.top)/w.y,bottom:(b.bottom-g.bottom+p.bottom)/w.y,left:(g.left-b.left+p.left)/w.x,right:(b.right-g.right+p.right)/w.x}}const ex=Math.min,tx=Math.max;function nx(e,t,n){return tx(e,ex(t,n))}const rx=(["top","right","bottom","left"].reduce(((e,t)=>e.concat(t,t+"-start",t+"-end")),[]),{left:"right",right:"left",bottom:"top",top:"bottom"});function ix(e){return e.replace(/left|right|bottom|top/g,(e=>rx[e]))}const ax={start:"end",end:"start"};function ox(e){return e.replace(/start|end/g,(e=>ax[e]))}const sx=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:l}=t,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:p=!0,...m}=e,g=Yb(r),v=Yb(o)===o,y=await(null==s.isRTL?void 0:s.isRTL(l.floating)),w=h||(v||!p?[ix(o)]:function(e){const t=ix(e);return[ox(e),t,ox(t)]}(o));h||"none"===f||w.push(...function(e,t,n,r){const i=qb(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}(Yb(e),"start"===n,r);return i&&(a=a.map((e=>e+"-"+i)),t&&(a=a.concat(a.map(ox)))),a}(o,p,f,y));const b=[o,...w],x=await $b(t,m),_=[];let S=(null==(n=i.flip)?void 0:n.overflows)||[];if(c&&_.push(x[g]),u){const{main:e,cross:t}=function(e,t,n){void 0===n&&(n=!1);const r=qb(e),i=Qb(e),a=Xb(i);let o="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=ix(o)),{main:o,cross:ix(o)}}(r,a,y);_.push(x[e],x[t])}if(S=[...S,{placement:r,overflows:_}],!_.every((e=>e<=0))){var E,C;const e=((null==(E=i.flip)?void 0:E.index)||0)+1,t=b[e];if(t)return{data:{index:e,overflows:S},reset:{placement:t}};let n=null==(C=S.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:C.placement;if(!n)switch(d){case"bestFit":{var A;const e=null==(A=S.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:A[0];e&&(n=e);break}case"initialPlacement":n=o}if(r!==n)return{reset:{placement:n}}}return{}}}},lx=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),o=Yb(n),s=qb(n),l="x"===Qb(n),c=["left","top"].includes(o)?-1:1,u=a&&l?-1:1,h="function"==typeof t?t(e):t;let{mainAxis:d,crossAxis:f,alignmentAxis:p}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return s&&"number"==typeof p&&(f="end"===s?-1*p:p),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};const cx=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=e,c={x:n,y:r},u=await $b(t,l),h=Qb(Yb(i)),d=function(e){return"x"===e?"y":"x"}(h);let f=c[h],p=c[d];if(a){const e="y"===h?"bottom":"right";f=nx(f+u["y"===h?"top":"left"],f,f-u[e])}if(o){const e="y"===d?"bottom":"right";p=nx(p+u["y"===d?"top":"left"],p,p-u[e])}const m=s.fn({...t,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function ux(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function hx(e){return ux(e).getComputedStyle(e)}function dx(e){return e instanceof ux(e).Node}function fx(e){return dx(e)?(e.nodeName||"").toLowerCase():""}function px(e){return e instanceof ux(e).HTMLElement}function mx(e){return e instanceof ux(e).Element}function gx(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ux(e).ShadowRoot||e instanceof ShadowRoot)}function vx(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=hx(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function yx(e){return["table","td","th"].includes(fx(e))}function wx(e){const t=bx(),n=hx(e);return"none"!==n.transform||"none"!==n.perspective||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function bx(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function xx(e){return["html","body","#document"].includes(fx(e))}const _x=Math.min,Sx=Math.max,Ex=Math.round;function Cx(e){const t=hx(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=px(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Ex(n)!==a||Ex(r)!==o;return s&&(n=a,r=o),{width:n,height:r,fallback:s}}function Ax(e){return mx(e)?e:e.contextElement}const Tx={x:1,y:1};function Mx(e){const t=Ax(e);if(!px(t))return Tx;const n=t.getBoundingClientRect(),{width:r,height:i,fallback:a}=Cx(t);let o=(a?Ex(n.width):n.width)/r,s=(a?Ex(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const Px={x:0,y:0};function Dx(e,t,n){var r,i;if(void 0===t&&(t=!0),!bx())return Px;const a=e?ux(e):window;return!n||t&&n!==a?Px:{x:(null==(r=a.visualViewport)?void 0:r.offsetLeft)||0,y:(null==(i=a.visualViewport)?void 0:i.offsetTop)||0}}function kx(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=Ax(e);let o=Tx;t&&(r?mx(r)&&(o=Mx(r)):o=Mx(e));const s=Dx(a,n,r);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const e=ux(a),t=r&&mx(r)?ux(r):r;let n=e.frameElement;for(;n&&r&&t!==e;){const e=Mx(n),t=n.getBoundingClientRect(),r=getComputedStyle(n);t.x+=(n.clientLeft+parseFloat(r.paddingLeft))*e.x,t.y+=(n.clientTop+parseFloat(r.paddingTop))*e.y,l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=t.x,c+=t.y,n=ux(n).frameElement}}return Jb({width:u,height:h,x:l,y:c})}function Ox(e){return((dx(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ix(e){return mx(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Rx(e){return kx(Ox(e)).left+Ix(e).scrollLeft}function Lx(e){if("html"===fx(e))return e;const t=e.assignedSlot||e.parentNode||gx(e)&&e.host||Ox(e);return gx(t)?t.host:t}function Nx(e){const t=Lx(e);return xx(t)?t.ownerDocument.body:px(t)&&vx(t)?t:Nx(t)}function zx(e,t){var n;void 0===t&&(t=[]);const r=Nx(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=ux(r);return i?t.concat(a,a.visualViewport||[],vx(r)?r:[]):t.concat(r,zx(r))}function Bx(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=ux(e),r=Ox(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const e=bx();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=Ox(e),n=Ix(e),r=e.ownerDocument.body,i=Sx(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Sx(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Rx(e);const s=-n.scrollTop;return"rtl"===hx(r).direction&&(o+=Sx(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}(Ox(e));else if(mx(t))r=function(e,t){const n=kx(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=px(e)?Mx(e):{x:1,y:1};return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=Dx(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return Jb(r)}function Fx(e,t){const n=Lx(e);return!(n===t||!mx(n)||xx(n))&&("fixed"===hx(n).position||Fx(n,t))}function Ux(e,t){return px(e)&&"fixed"!==hx(e).position?t?t(e):e.offsetParent:null}function jx(e,t){const n=ux(e);if(!px(e))return n;let r=Ux(e,t);for(;r&&yx(r)&&"static"===hx(r).position;)r=Ux(r,t);return r&&("html"===fx(r)||"body"===fx(r)&&"static"===hx(r).position&&!wx(r))?n:r||function(e){let t=Lx(e);for(;px(t)&&!xx(t);){if(wx(t))return t;t=Lx(t)}return null}(e)||n}function Vx(e,t,n){const r=px(t),i=Ox(t),a="fixed"===n,o=kx(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&!a)if(("body"!==fx(t)||vx(i))&&(s=Ix(t)),px(t)){const e=kx(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=Rx(i));return{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}const Hx={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a="clippingAncestors"===n?function(e,t){const n=t.get(e);if(n)return n;let r=zx(e).filter((e=>mx(e)&&"body"!==fx(e))),i=null;const a="fixed"===hx(e).position;let o=a?Lx(e):e;for(;mx(o)&&!xx(o);){const t=hx(o),n=wx(o);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||vx(o)&&!n&&Fx(e,o))?r=r.filter((e=>e!==o)):i=t,o=Lx(o)}return t.set(e,r),r}(t,this._c):[].concat(n),o=[...a,r],s=o[0],l=o.reduce(((e,n)=>{const r=Bx(t,n,i);return e.top=Sx(r.top,e.top),e.right=_x(r.right,e.right),e.bottom=_x(r.bottom,e.bottom),e.left=Sx(r.left,e.left),e}),Bx(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=px(n),a=Ox(n);if(n===a)return t;let o={scrollLeft:0,scrollTop:0},s={x:1,y:1};const l={x:0,y:0};if((i||!i&&"fixed"!==r)&&(("body"!==fx(n)||vx(a))&&(o=Ix(n)),px(n))){const e=kx(n);s=Mx(n),l.x=e.x+n.clientLeft,l.y=e.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-o.scrollLeft*s.x+l.x,y:t.y*s.y-o.scrollTop*s.y+l.y}},isElement:mx,getDimensions:function(e){return Cx(e)},getOffsetParent:jx,getDocumentElement:Ox,getScale:Mx,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||jx,a=this.getDimensions;return{reference:Vx(t,await i(n),r),floating:{x:0,y:0,...await a(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===hx(e).direction},Gx=(e,t,n)=>{const r=new Map,i={platform:Hx,...n},a={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=Kb(c,r,l),d=r,f={},p=0;for(let n=0;n<s.length;n++){const{name:a,fn:m}=s[n],{x:g,y:v,data:y,reset:w}=await m({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:c,platform:o,elements:{reference:e,floating:t}});u=null!=g?g:u,h=null!=v?v:h,f={...f,[a]:{...f[a],...y}},w&&p<=50&&(p++,"object"==typeof w&&(w.placement&&(d=w.placement),w.rects&&(c=!0===w.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):w.rects),({x:u,y:h}=Kb(c,d,l))),n=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:f}})(e,t,{...i,platform:a})};function Wx({css:e,id:t="react-tooltip-base-styles",type:n="base",ref:r}){var i,a,o,s;if("core"===n&&"undefined"!=typeof process&&((null===(i=null===process||void 0===process?void 0:process.env)||void 0===i?void 0:i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||(null===(a=null===process||void 0===process?void 0:process.env)||void 0===a?void 0:a.REACT_APP_REACT_TOOLTIP_DISABLE_CORE_STYLES)))return;if("core"!==n&&"undefined"!=typeof process&&((null===(o=null===process||void 0===process?void 0:process.env)||void 0===o?void 0:o.REACT_TOOLTIP_DISABLE_BASE_STYLES)||(null===(s=null===process||void 0===process?void 0:process.env)||void 0===s?void 0:s.REACT_APP_REACT_TOOLTIP_DISABLE_BASE_STYLES)))return;"core"===n&&(t="react-tooltip-core-styles"),r||(r={});const{insertAt:l}=r;if(!e||"undefined"==typeof document||document.getElementById(t))return;const c=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.id=t,u.type="text/css","top"===l&&c.firstChild?c.insertBefore(u,c.firstChild):c.appendChild(u),u.styleSheet?u.styleSheet.cssText=e:u.appendChild(document.createTextNode(e))}const qx=(e,t,n)=>{let r=null;return function(...i){const a=()=>{r=null,n||e.apply(this,i)};n&&!r&&(e.apply(this,i),r=setTimeout(a,t)),n||(r&&clearTimeout(r),r=setTimeout(a,t))}},Xx={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Yx=(0,e.createContext)({getTooltipData:()=>Xx});function Qx(t="DEFAULT_TOOLTIP_ID"){return(0,e.useContext)(Yx).getTooltipData(t)}const Kx="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,Zx=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((e=>{const n=t.getPropertyValue(e);return"auto"===n||"scroll"===n}))},Jx=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Zx(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},$x=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:n=null,place:r="top",offset:i=10,strategy:a="absolute",middlewares:o=[lx(Number(i)),sx(),cx({padding:5})],border:s})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(null===t)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const l=o;return n?(l.push((e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e||{},{x:i,y:a,placement:o,rects:s,platform:l,elements:c}=t;if(null==n)return{};const u=Zb(r),h={x:i,y:a},d=Qb(o),f=Xb(d),p=await l.getDimensions(n),m="y"===d,g=m?"top":"left",v=m?"bottom":"right",y=m?"clientHeight":"clientWidth",w=s.reference[f]+s.reference[d]-h[d]-s.floating[f],b=h[d]-s.reference[d],x=await(null==l.getOffsetParent?void 0:l.getOffsetParent(n));let _=x?x[y]:0;_&&await(null==l.isElement?void 0:l.isElement(x))||(_=c.floating[y]||s.floating[f]);const S=w/2-b/2,E=u[g],C=_-p[f]-u[v],A=_/2-p[f]/2+S,T=nx(E,A,C),M=null!=qb(o)&&A!=T&&s.reference[f]/2-(A<E?u[g]:u[v])-p[f]/2<0;return{[d]:h[d]-(M?A<E?E-A:C-A:0),data:{[d]:T,centerOffset:A-T}}}}))({element:n,padding:5})),Gx(e,t,{placement:r,strategy:a,middleware:l}).then((({x:e,y:t,placement:n,middlewareData:r})=>{var i,a;const o={left:`${e}px`,top:`${t}px`,border:s},{x:l,y:c}=null!==(i=r.arrow)&&void 0!==i?i:{x:0,y:0},u=null!==(a={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]])&&void 0!==a?a:"bottom",h=s&&{top:{borderBottom:s,borderRight:s},right:{borderBottom:s,borderLeft:s},bottom:{borderTop:s,borderLeft:s},left:{borderTop:s,borderRight:s}}[n.split("-")[0]];let d=0;if(s){const e=`${s}`.match(/(\d+)px/);d=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:o,tooltipArrowStyles:{left:null!=l?`${l}px`:"",top:null!=c?`${c}px`:"",right:"",bottom:"",...h,[u]:`-${4+d}px`},place:n}}))):Gx(e,t,{placement:"bottom",strategy:a,middleware:l}).then((({x:e,y:t,placement:n})=>({tooltipStyles:{left:`${e}px`,top:`${t}px`},tooltipArrowStyles:{},place:n})))};var e_={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const t_=({id:t,className:n,classNameArrow:r,variant:i="dark",anchorId:a,anchorSelect:o,place:s="top",offset:l=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:h="absolute",middlewares:d,wrapper:f,delayShow:p=0,delayHide:m=0,float:g=!1,hidden:v=!1,noArrow:y=!1,clickable:w=!1,closeOnEsc:b=!1,closeOnScroll:x=!1,closeOnResize:_=!1,style:S,position:E,afterShow:C,afterHide:A,content:T,contentWrapperRef:M,isOpen:P,setIsOpen:D,activeAnchor:k,setActiveAnchor:O,border:I,opacity:R})=>{const L=(0,e.useRef)(null),N=(0,e.useRef)(null),z=(0,e.useRef)(null),B=(0,e.useRef)(null),[F,U]=(0,e.useState)(s),[j,V]=(0,e.useState)({}),[H,G]=(0,e.useState)({}),[W,q]=(0,e.useState)(!1),[X,Y]=(0,e.useState)(!1),Q=(0,e.useRef)(!1),K=(0,e.useRef)(null),{anchorRefs:Z,setActiveAnchor:J}=Qx(t),$=(0,e.useRef)(!1),[ee,te]=(0,e.useState)([]),ne=(0,e.useRef)(!1),re=u||c.includes("click");Kx((()=>(ne.current=!0,()=>{ne.current=!1})),[]),(0,e.useEffect)((()=>{if(!W){const e=setTimeout((()=>{Y(!1)}),150);return()=>{clearTimeout(e)}}return()=>null}),[W]);const ie=e=>{ne.current&&(e&&Y(!0),setTimeout((()=>{ne.current&&(null==D||D(e),void 0===P&&q(e))}),10))};(0,e.useEffect)((()=>{if(void 0===P)return()=>null;P&&Y(!0);const e=setTimeout((()=>{q(P)}),10);return()=>{clearTimeout(e)}}),[P]),(0,e.useEffect)((()=>{W!==Q.current&&(Q.current=W,W?null==C||C():null==A||A())}),[W]);const ae=(e=m)=>{B.current&&clearTimeout(B.current),B.current=setTimeout((()=>{$.current||ie(!1)}),e)},oe=e=>{var t;if(!e)return;const n=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==n?void 0:n.isConnected))return O(null),void J({current:null});p?(z.current&&clearTimeout(z.current),z.current=setTimeout((()=>{ie(!0)}),p)):ie(!0),O(n),J({current:n}),B.current&&clearTimeout(B.current)},se=()=>{w?ae(m||100):m?ae():ie(!1),z.current&&clearTimeout(z.current)},le=({x:e,y:t})=>{$x({place:s,offset:l,elementReference:{getBoundingClientRect:()=>({x:e,y:t,width:0,height:0,top:t,left:e,right:e,bottom:t})},tooltipReference:L.current,tooltipArrowReference:N.current,strategy:h,middlewares:d,border:I}).then((e=>{Object.keys(e.tooltipStyles).length&&V(e.tooltipStyles),Object.keys(e.tooltipArrowStyles).length&&G(e.tooltipArrowStyles),U(e.place)}))},ce=e=>{if(!e)return;const t=e,n={x:t.clientX,y:t.clientY};le(n),K.current=n},ue=e=>{oe(e),m&&ae()},he=e=>{var t;[document.querySelector(`[id='${a}']`),...ee].some((t=>null==t?void 0:t.contains(e.target)))||(null===(t=L.current)||void 0===t?void 0:t.contains(e.target))||(ie(!1),z.current&&clearTimeout(z.current))},de=qx(oe,50,!0),fe=qx(se,50,!0);(0,e.useEffect)((()=>{var e,t;const n=new Set(Z);ee.forEach((e=>{n.add({current:e})}));const r=document.querySelector(`[id='${a}']`);r&&n.add({current:r});const i=()=>{ie(!1)},o=Jx(k),s=Jx(L.current);x&&(window.addEventListener("scroll",i),null==o||o.addEventListener("scroll",i),null==s||s.addEventListener("scroll",i)),_&&window.addEventListener("resize",i);const l=e=>{"Escape"===e.key&&ie(!1)};b&&window.addEventListener("keydown",l);const c=[];re?(window.addEventListener("click",he),c.push({event:"click",listener:ue})):(c.push({event:"mouseenter",listener:de},{event:"mouseleave",listener:fe},{event:"focus",listener:de},{event:"blur",listener:fe}),g&&c.push({event:"mousemove",listener:ce}));const u=()=>{$.current=!0},h=()=>{$.current=!1,se()};return w&&!re&&(null===(e=L.current)||void 0===e||e.addEventListener("mouseenter",u),null===(t=L.current)||void 0===t||t.addEventListener("mouseleave",h)),c.forEach((({event:e,listener:t})=>{n.forEach((n=>{var r;null===(r=n.current)||void 0===r||r.addEventListener(e,t)}))})),()=>{var e,t;x&&(window.removeEventListener("scroll",i),null==o||o.removeEventListener("scroll",i),null==s||s.removeEventListener("scroll",i)),_&&window.removeEventListener("resize",i),re&&window.removeEventListener("click",he),b&&window.removeEventListener("keydown",l),w&&!re&&(null===(e=L.current)||void 0===e||e.removeEventListener("mouseenter",u),null===(t=L.current)||void 0===t||t.removeEventListener("mouseleave",h)),c.forEach((({event:e,listener:t})=>{n.forEach((n=>{var r;null===(r=n.current)||void 0===r||r.removeEventListener(e,t)}))}))}}),[X,Z,ee,b,c]),(0,e.useEffect)((()=>{let e=null!=o?o:"";!e&&t&&(e=`[data-tooltip-id='${t}']`);const n=new MutationObserver((n=>{const r=[];n.forEach((n=>{if("attributes"===n.type&&"data-tooltip-id"===n.attributeName&&n.target.getAttribute("data-tooltip-id")===t&&r.push(n.target),"childList"===n.type&&(k&&[...n.removedNodes].some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,k))&&(Y(!1),ie(!1),O(null),z.current&&clearTimeout(z.current),B.current&&clearTimeout(B.current),!0)})),e))try{const t=[...n.addedNodes].filter((e=>1===e.nodeType));r.push(...t.filter((t=>t.matches(e)))),r.push(...t.flatMap((t=>[...t.querySelectorAll(e)])))}catch(e){}})),r.length&&te((e=>[...e,...r]))}));return n.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"]}),()=>{n.disconnect()}}),[t,o,k]);const pe=()=>{E?le(E):g?K.current&&le(K.current):$x({place:s,offset:l,elementReference:k,tooltipReference:L.current,tooltipArrowReference:N.current,strategy:h,middlewares:d,border:I}).then((e=>{ne.current&&(Object.keys(e.tooltipStyles).length&&V(e.tooltipStyles),Object.keys(e.tooltipArrowStyles).length&&G(e.tooltipArrowStyles),U(e.place))}))};(0,e.useEffect)((()=>{pe()}),[W,k,T,S,s,l,h,E]),(0,e.useEffect)((()=>{if(!(null==M?void 0:M.current))return()=>null;const e=new ResizeObserver((()=>{pe()}));return e.observe(M.current),()=>{e.disconnect()}}),[T,null==M?void 0:M.current]),(0,e.useEffect)((()=>{var e;const t=document.querySelector(`[id='${a}']`),n=[...ee,t];k&&n.includes(k)||O(null!==(e=ee[0])&&void 0!==e?e:t)}),[a,ee,k]),(0,e.useEffect)((()=>()=>{z.current&&clearTimeout(z.current),B.current&&clearTimeout(B.current)}),[]),(0,e.useEffect)((()=>{let e=o;if(!e&&t&&(e=`[data-tooltip-id='${t}']`),e)try{const t=Array.from(document.querySelectorAll(e));te(t)}catch(e){te([])}}),[t,o]);const me=!v&&T&&W&&Object.keys(j).length>0;return X?e.createElement(f,{id:t,role:"tooltip",className:Gb("react-tooltip","core-styles-module_tooltip__3vRRp",e_.tooltip,e_[i],n,`react-tooltip__place-${F}`,{"core-styles-module_show__Nt9eE":me,"core-styles-module_fixed__pcSol":"fixed"===h,"core-styles-module_clickable__ZuTTB":w}),style:{...S,...j,opacity:void 0!==R&&me?R:void 0},ref:L},T,e.createElement(f,{className:Gb("react-tooltip-arrow","core-styles-module_arrow__cvMwQ",e_.arrow,r,{"core-styles-module_noArrow__xock6":y}),style:H,ref:N})):null},n_=({content:t})=>e.createElement("span",{dangerouslySetInnerHTML:{__html:t}}),r_=({id:t,anchorId:n,anchorSelect:r,content:i,html:a,render:o,className:s,classNameArrow:l,variant:c="dark",place:u="top",offset:h=10,wrapper:d="div",children:f=null,events:p=["hover"],openOnClick:m=!1,positionStrategy:g="absolute",middlewares:v,delayShow:y=0,delayHide:w=0,float:b=!1,hidden:x=!1,noArrow:_=!1,clickable:S=!1,closeOnEsc:E=!1,closeOnScroll:C=!1,closeOnResize:A=!1,style:T,position:M,isOpen:P,border:D,opacity:k,setIsOpen:O,afterShow:I,afterHide:R})=>{const[L,N]=(0,e.useState)(i),[z,B]=(0,e.useState)(a),[F,U]=(0,e.useState)(u),[j,V]=(0,e.useState)(c),[H,G]=(0,e.useState)(h),[W,q]=(0,e.useState)(y),[X,Y]=(0,e.useState)(w),[Q,K]=(0,e.useState)(b),[Z,J]=(0,e.useState)(x),[$,ee]=(0,e.useState)(d),[te,ne]=(0,e.useState)(p),[re,ie]=(0,e.useState)(g),[ae,oe]=(0,e.useState)(null),{anchorRefs:se,activeAnchor:le}=Qx(t),ce=e=>null==e?void 0:e.getAttributeNames().reduce(((t,n)=>{var r;return n.startsWith("data-tooltip-")&&(t[n.replace(/^data-tooltip-/,"")]=null!==(r=null==e?void 0:e.getAttribute(n))&&void 0!==r?r:null),t}),{}),ue=e=>{const t={place:e=>{var t;U(null!==(t=e)&&void 0!==t?t:u)},content:e=>{N(null!=e?e:i)},html:e=>{B(null!=e?e:a)},variant:e=>{var t;V(null!==(t=e)&&void 0!==t?t:c)},offset:e=>{G(null===e?h:Number(e))},wrapper:e=>{var t;ee(null!==(t=e)&&void 0!==t?t:d)},events:e=>{const t=null==e?void 0:e.split(" ");ne(null!=t?t:p)},"position-strategy":e=>{var t;ie(null!==(t=e)&&void 0!==t?t:g)},"delay-show":e=>{q(null===e?y:Number(e))},"delay-hide":e=>{Y(null===e?w:Number(e))},float:e=>{K(null===e?b:"true"===e)},hidden:e=>{J(null===e?x:"true"===e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((([e,n])=>{var r;null===(r=t[e])||void 0===r||r.call(t,n)}))};(0,e.useEffect)((()=>{N(i)}),[i]),(0,e.useEffect)((()=>{B(a)}),[a]),(0,e.useEffect)((()=>{U(u)}),[u]),(0,e.useEffect)((()=>{V(c)}),[c]),(0,e.useEffect)((()=>{G(h)}),[h]),(0,e.useEffect)((()=>{q(y)}),[y]),(0,e.useEffect)((()=>{Y(w)}),[w]),(0,e.useEffect)((()=>{K(b)}),[b]),(0,e.useEffect)((()=>{J(x)}),[x]),(0,e.useEffect)((()=>{ie(g)}),[g]),(0,e.useEffect)((()=>{var e;const i=new Set(se);let a=r;if(!a&&t&&(a=`[data-tooltip-id='${t}']`),a)try{document.querySelectorAll(a).forEach((e=>{i.add({current:e})}))}catch(e){console.warn(`[react-tooltip] "${a}" is not a valid CSS selector`)}const o=document.querySelector(`[id='${n}']`);if(o&&i.add({current:o}),!i.size)return()=>null;const s=null!==(e=null!=ae?ae:o)&&void 0!==e?e:le.current,l=new MutationObserver((e=>{e.forEach((e=>{var t;if(!s||"attributes"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-")))return;const n=ce(s);ue(n)}))})),c={attributes:!0,childList:!1,subtree:!1};if(s){const e=ce(s);ue(e),l.observe(s,c)}return()=>{l.disconnect()}}),[se,le,ae,n,r]),(0,e.useEffect)((()=>{(null==T?void 0:T.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),D&&!CSS.supports("border",`${D}`)&&console.warn(`[react-tooltip] "${D}" is not a valid \`border\`.`),(null==T?void 0:T.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),k&&!CSS.supports("opacity",`${k}`)&&console.warn(`[react-tooltip] "${k}" is not a valid \`opacity\`.`)}),[]);let he=f;const de=(0,e.useRef)(null);if(o){const t=o({content:null!=L?L:null,activeAnchor:ae});he=t?e.createElement("div",{ref:de,className:"react-tooltip-content-wrapper"},t):null}else L&&(he=L);z&&(he=e.createElement(n_,{content:z}));const fe={id:t,anchorId:n,anchorSelect:r,className:s,classNameArrow:l,content:he,contentWrapperRef:de,place:F,variant:j,offset:H,wrapper:$,events:te,openOnClick:m,positionStrategy:re,middlewares:v,delayShow:W,delayHide:X,float:Q,hidden:Z,noArrow:_,clickable:S,closeOnEsc:E,closeOnScroll:C,closeOnResize:A,style:T,position:M,isOpen:P,border:D,opacity:k,setIsOpen:O,afterShow:I,afterHide:R,activeAnchor:ae,setActiveAnchor:e=>oe(e)};return e.createElement(t_,{...fe})};Wx({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9}.core-styles-module_tooltip__3vRRp{visibility:hidden;position:absolute;top:0;left:0;pointer-events:none;opacity:0;transition:opacity 0.3s ease-out;will-change:opacity,visibility}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{visibility:visible;opacity:var(--rt-opacity)}",type:"core"}),Wx({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px;transform:rotate(45deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}"});var i_=function(t){var n=t.title,r=t.data,i=t.headers,a=t.keys,o=t.h,s=t.td_max_width,l=t.isError,c=void 0!==l&&l;return e.createElement(e.Fragment,null,n&&e.createElement(s_,null,n),e.createElement(zb,{h:o||""},e.createElement(Bb,null,e.createElement(Ub,null,e.createElement(Fb,null,Array.from(i,(function(t,n){return e.createElement(Vb,{key:n},i[n])})))),e.createElement(jb,null,function(){if(!r)return e.createElement(Fb,null,e.createElement(a_,{colSpan:i.length,max_width:s||""}));if("[object Array]"===Object.prototype.toString.call(r[0]))return Array.from(r,(function(t,n){return e.createElement(Fb,{key:n},Array.from(r[n],(function(t,i){return e.createElement(Hb,{max_width:s||"",key:i},r[n][i])})))}));if("[object Object]"===Object.prototype.toString.call(r[0])){var t=r.map((function(e){return a.map((function(t){return e[t]}))}));return Array.from(t,(function(n,r){return e.createElement(Fb,{key:r},Array.from(t[r],(function(n,i){return e.createElement(Hb,{max_width:s||"",key:i},t[r][i])})))}))}return e.createElement(Fb,null,e.createElement(o_,{colSpan:i.length,max_width:s||""}))}())),!c&&!r&&e.createElement(qp,{url:e.createElement(l_,{icon:Mh.LM,spin:!0}),h:"80%",w:"100%"}),!c&&r&&0===r.length&&e.createElement(qp,{url:e.createElement(c_,{icon:Nb.Aq,fade:!0}),h:"80%",w:"100%"}),c&&e.createElement(qp,{errorFlag:!0,h:"80%",w:"100%"})))},a_=bn(Hb).withConfig({displayName:"Table___StyledTd",componentId:"sc-1fjwvc9-0"})({lineHeight:"2.5rem"}),o_=bn(Hb).withConfig({displayName:"Table___StyledTd2",componentId:"sc-1fjwvc9-1"})({lineHeight:"2.5rem"}),s_=bn(Rh).withConfig({displayName:"Table___StyledInLineTitle",componentId:"sc-1fjwvc9-2"})({marginBottom:"1rem",marginTop:"0.5rem"}),l_=bn(xo).withConfig({displayName:"Table___StyledFontAwesomeIcon",componentId:"sc-1fjwvc9-3"})({"--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"}),c_=bn(xo).withConfig({displayName:"Table___StyledFontAwesomeIcon2",componentId:"sc-1fjwvc9-4"})({"--tw-text-opacity":"1",color:"rgb(147 197 253 / var(--tw-text-opacity))"}),u_=bn(Ep).withConfig({displayName:"Styledtwin__ContentWrapper",componentId:"sc-fjf4t8-0"})(["margin:20px 0 0 0;padding:20px 12px;background-color:white;text-align:center;z-index:500;gap:10px;&::-webkit-scrollbar{display:none;}"]),h_=bn.div.withConfig({displayName:"Styledtwin__LineWrapper",componentId:"sc-fjf4t8-1"})(["display:flex;flex-direction:row;justify-content:space-around;gap:18px;flex-grow:1;flex-shrink:1;min-width:60%;&>*{margin-left:auto;margin-right:auto;}"]),d_=["data_tooltip_id","text","setText","invalid","data_tooltip_content","data_tooltip_variant","desc","icon","id","onChange","onKeyPress","placeholder","iconOnClick","maxLength"];function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f_.apply(this,arguments)}function p_(t){var n=t.data_tooltip_id,r=t.text,i=(t.setText,t.invalid),a=t.data_tooltip_content,o=t.data_tooltip_variant,s=t.desc,l=t.icon,c=t.id,u=t.onChange,h=t.onKeyPress,d=t.placeholder,f=t.iconOnClick,p=t.maxLength,m=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,d_),g=(0,e.useRef)(),v=(0,e.useRef)();return(0,e.useEffect)((function(){v.current=Eh.to(g.current,{y:-24,scale:.88,duration:.3,backgroundColor:"white",ease:"power2.out",paused:""===r,yoyo:!0})}),[r]),e.createElement(Op,{"data-tooltip-id":n||"","data-tooltip-content":a||"","data-tooltip-variant":o||"",onFocus:function(){v.current&&(v.current.kill(),v.current=Eh.to(g.current,{y:-24,scale:.88,duration:.3,backgroundColor:"white",ease:"power2.out",yoyo:!0}))},onBlur:function(){""===r&&v.current&&(v.current.kill(),v.current=Eh.to(g.current,{y:0,scale:1,duration:.3,backgroundColor:"rgba(255 255 255 0)",ease:"power2.out"}))}},e.createElement(Tp,f_({placeholder:d||"",className:"peer",id:c||"",maxLength:p||2e3,value:r||"",onChange:u||function(){},onKeyPress:h||function(){},invalid:i||""},m)),e.createElement(Pp,{for:c||"",ref:g},s||""),e.createElement(Dp,{for:c,onClick:f,tw:""},l||""))}var m_=o(6284),g_=["data_tooltip_id","text","setText","invalid","data_tooltip_content","data_tooltip_variant","desc","icon","id","onChange","onKeyPress","placeholder","iconOnClick","maxLength","selectList","closeClassName","animate","_t","_l","_r","h"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v_.apply(this,arguments)}function y_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b_(t){var n=t.data_tooltip_id,r=t.text,i=t.setText,a=t.invalid,o=t.data_tooltip_content,s=t.data_tooltip_variant,l=t.desc,c=t.icon,u=t.id,h=t.onChange,d=t.onKeyPress,f=t.placeholder,p=t.iconOnClick,m=t.maxLength,g=t.selectList,v=t.closeClassName,y=t.animate,w=t._t,b=t._l,x=t._r,_=t.h,S=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,g_),E=(0,e.useRef)(),C=(0,e.useRef)(),A=(0,e.useRef)(r),T=y_((0,e.useState)(!1),2),M=T[0],P=T[1],D=y_((0,e.useState)(!1),2),k=D[0],O=D[1],I=(0,e.useRef)(null),R={"t-in.3":{"@keyframes popup_t":{"0%":{transformOrigin:"top",opacity:"0",transform:"scale(0.2)"},"100%":{transformOrigin:"top",opacity:"1",transform:"scale(1)"}},animation:"popup_t .3s ease forwards"},"tr-in.3":{"@keyframes popup_tr":{"0%":{transformOrigin:"top right",opacity:"0",transform:"scale(0.2)"},"100%":{transformOrigin:"top right",opacity:"1",transform:"scale(1)"}},animation:"popup_tr .3s ease forwards"},"b-in.3":{"@keyframes popup_b":{"0%":{transformOrigin:"bottom",opacity:"0",transform:"scale(0.2)"},"100%":{transformOrigin:"bottom",opacity:"1",transform:"scale(1)"}},animation:"popup_b .3s ease forwards"},"t-out.3":{"@keyframes popout_t":{"100%":{transformOrigin:"top",opacity:"0",transform:"scale(0.2)"},"0%":{transformOrigin:"top",opacity:"1",transform:"scale(1)"}},animation:"popout_t .3s ease forwards"},"tr-out.3":{"@keyframes popout_tr":{"100%":{transformOrigin:"top right",opacity:"0",transform:"scale(0.2)"},"0%":{transformOrigin:"top right",opacity:"1",transform:"scale(1)"}},animation:"popout_tr .3s ease forwards"},"b-out.3":{"@keyframes popout_b":{"100%":{transformOrigin:"bottom",opacity:"0",transform:"scale(0.2)"},"0%":{transformOrigin:"bottom",opacity:"1",transform:"scale(1)"}},animation:"popout_b .3s ease forwards"}};return(0,e.useEffect)((function(){var e=function(e){(I.current&&!I.current.contains(e.target)||I.current&&I.current.contains(e.target)&&"string"==typeof e.target.className&&e.target.className.split(" ").includes(v||"closeClassName"))&&O(!0)};return document.addEventListener("click",e,!0),function(){document.removeEventListener("click",e,!0)}}),[]),(0,e.useEffect)((function(){""===r?(A.current="",C.current&&C.current.kill(),Eh.to(E.current,{y:0,scale:1,duration:.3,backgroundColor:"white",ease:"power2.out"})):(C.current&&C.current.kill(),C.current=Eh.to(E.current,{y:-21,scale:.88,duration:.3,backgroundColor:"white",ease:"power2.out"}),C.current.restart())}),[r]),e.createElement(Op,{ref:I,"data-tooltip-id":n||"","data-tooltip-content":o||"","data-tooltip-variant":s||"",onBlur:function(){setTimeout((function(){""===A.current&&C.current&&(C.current.kill(),C.current=Eh.to(E.current,{y:0,scale:1,duration:.3,backgroundColor:"rgba(255 255 255 0)",ease:"power2.out"}))}),100)},onFocus:function(){C.current&&(C.current.kill(),C.current=Eh.to(E.current,{y:-21,scale:.88,duration:.3,backgroundColor:"white",ease:"power2.out",yoyo:!0}))}},e.createElement(x_,v_({onClick:function(){P(!0),O(M)},placeholder:f||"",className:"peer",id:u||"",maxLength:m||2e3,value:r||"",onChange:h||function(){},onKeyPress:d||function(){},invalid:a||"",readOnly:!0},S)),e.createElement(Up,{_tw:{cursor:"default"},isHidden:!M,animate:y&&(k?R[y.split(".").join("-out.")]:R[y.split(".").join("-in.")]),validText:r,h:_||"302px",_t:w||"36px",_l:b||"auto",_r:x||"10px",closeClassName:v?v+" closeClassName":"closeClassName",list:g||["jump","wait","click","input"],onAnimationEnd:function(){k&&P(!1)},onClick:function(e){if(e.target.id.includes("pageLi_")){var t=parseInt(e.target.id.slice(7),10)-1;i(g[t]),A.current=g[t]}}}),e.createElement(Pp,{for:u||"",ref:E},l||""),e.createElement(kp,{for:u,tw:""},e.createElement(xo,{icon:m_.S6,fade:!0})),e.createElement(Dp,{for:u,onClick:p,tw:""},c||""))}var x_=bn(Tp).withConfig({displayName:"SelectInput___StyledTextInputLine",componentId:"sc-v3s3oz-0"})({cursor:"default","@media (min-width: 768px)":{cursor:"pointer"}});function __(e){return __="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},__(e)}function S_(){S_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==__(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function E_(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function C_(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){E_(a,r,i,o,s,"next",e)}function s(e){E_(a,r,i,o,s,"throw",e)}o(void 0)}))}}function A_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M_(){var t=A_((0,e.useState)(null),2),n=t[0],r=t[1],i=A_((0,e.useState)(null),2),a=i[0],o=i[1],s=A_((0,e.useState)(!1),2),l=s[0],c=s[1],u=A_((0,e.useState)(!1),2),h=u[0],d=u[1],f=A_((0,e.useState)(""),2),p=f[0],m=f[1],g=A_((0,e.useState)(""),2),v=g[0],y=g[1],w=A_((0,e.useState)(!1),2),b=w[0],x=w[1],_=A_((0,e.useState)(!1),2),S=_[0],E=_[1],C=A_((0,e.useState)(!1),2),A=C[0],T=(C[1],A_((0,e.useState)(!1),2)),M=T[0],P=T[1],D=A_((0,e.useState)(!1),2),k=D[0],O=D[1],I=(0,e.useRef)(null),R=function(){var e=C_(S_().mark((function e(){var t,n,r,i=arguments;return S_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:parseInt(p,10)?parseInt(p,10):30,n=i.length>1&&void 0!==i[1]?i[1]:parseInt(v,10)?parseInt(v,10):1,e.prev=2,e.next=5,tp.awaitLogsAPI("GET",t,n);case 5:return r=e.sent,o(r.data),e.abrupt("return","Succeed to updateLogData");case 10:throw e.prev=10,e.t0=e.catch(2),E(!0),new Error("Failed to updateLogData");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=C_(S_().mark((function e(){var t;return S_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tp.awaitUrlCountAPI("GET");case 3:return t=e.sent,r(t.data),e.abrupt("return","Succeed to updateVisitData");case 8:throw e.prev=8,e.t0=e.catch(0),x(!0),new Error("Failed to updateVisitData");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),N=function(e){"Enter"===e.key&&(I.current.click(),I.current.focus())};return(0,e.useEffect)((function(){L().then((function(e){return console.log(e)})).catch((function(e){return console.warn(e)})),R().then((function(e){return console.log(e)})).catch((function(e){return console.warn(e)}))}),[]),(0,e.useEffect)((function(){y("")}),[p]),e.createElement(Bn,null,e.createElement(Ch,null),e.createElement(Rn,null,e.createElement(Nn,null),e.createElement(P_,null,e.createElement(Yy,{theme:"defaults",h:"360px",k:.5,topTextA:"统计",topTextB:"当前访问量",subTextA:"全站访问次数",tw_card:{"@media (min-width: 768px)":{gridColumn:"span 2 / span 2"}},tw_content:{letterSpacing:"0.025em"},icon:e.createElement(D_,{icon:Lb.Md}),onClick:function(){L().then((function(e){return Kv("已更新当前访问量 !","update_visit_count_1")})).catch((function(e){return Qv("更新当前访问量失败 !","error_update_visit_count_1")})),c(!l)}},n?e.createElement(hb,{freshFlag:l,fromValue:0,toValue:n[0].sum_count,duration:2,step:1}):b?e.createElement(xo,{icon:yw.WV,shake:!0}):e.createElement(xo,{icon:Mh.LM,spin:!0})),e.createElement(k_,null,e.createElement(i_,{h:"360px",headers:["URL","Count","Last Time"],data:n&&n.map((function(e){return e.ltime=Do(e.ltime),e})),keys:["url","count","ltime"],isError:b})),e.createElement(Yy,{theme:"defaults",h:"360px",k:.5,topTextA:"统计",topTextB:"日志总数量",subTextA:"后台API日志",tw_card:{"@media (min-width: 768px)":{gridColumn:"span 2 / span 2"}},tw_content:{letterSpacing:"0.025em"},icon:e.createElement(O_,{icon:Rb.FQ}),onClick:function(){R().then((function(e){return Kv("已更新日志总数量 !","update_log_count_1")})).catch((function(e){return Qv("更新日志总数量失败 !","error_update_log_count_1")})),d(!h)}},a&&a[0]?e.createElement(hb,{freshFlag:h,fromValue:0,toValue:a[0].total_count,duration:2,step:1}):S?e.createElement(xo,{icon:yw.WV,shake:!0}):e.createElement(xo,{icon:Mh.LM,spin:!0})),e.createElement(I_,null,e.createElement(h_,null,e.createElement(Rh,null,"查询",e.createElement(R_,{icon:An.Kr}),"日志")),e.createElement(h_,null,e.createElement(b_,{icon:e.createElement(xo,{icon:Ib.bL}),placeholder:" ",desc:"选择每页显示几条日志, 默认30",id:"input_text",onChange:function(e){m(e.target.value),P(!1)},onKeyPress:N,invalid:M,text:p,setText:m,iconOnClick:function(){m&&m("30")},selectList:["10","20","30","50","100","150","200"],closeClassName:"closeClassName",animate:"tr.3"})),e.createElement(h_,null,e.createElement(b_,{icon:e.createElement(xo,{icon:Ib.bL}),placeholder:" ",desc:"选择显示第几页, 默认1",id:"input_text2",onChange:function(e){y(e.target.value),O(!1)},onKeyPress:N,invalid:k,text:v,setText:y,iconOnClick:function(){y&&y("1")},selectList:a&&a[0]?Array.from({length:a&&a[0]?parseInt(p,10)?Math.ceil(a[0].total_count/parseInt(p,10)):Math.ceil(a[0].total_count/30):1},(function(e,t){return t+1})):["1"],closeClassName:"closeClassName",animate:"tr.3"})),e.createElement(L_,null,e.createElement(N_,{disabled:A,h:"36px",w:"140px",onClick:function(){R().then((function(e){d(!h),Kv("日志查询成功 !","search_log_1")})).catch((function(e){return console.error(e)}))},ref:I},A?e.createElement(e.Fragment,null,"查询中",e.createElement(z_,{icon:Mh.LM,spin:!0})):e.createElement(e.Fragment,null,"查询日志",e.createElement(B_,{icon:_n.Y$,fade:!0}))))),e.createElement(F_,null,e.createElement(i_,{h:"360px",headers:["ID","Time","API","Method","Log"],data:a&&a.map((function(e){return e.time=Do(e.time),e})),keys:["id","time","api","method","log"],isError:S}))),e.createElement(zn,null)),e.createElement(up,null))}var P_=bn(Ln).withConfig({displayName:"Dashboard___StyledWrapperMain",componentId:"sc-1b6n5hf-0"})({gridTemplateColumns:"repeat(5, minmax(0, 1fr))"}),D_=bn(xo).withConfig({displayName:"Dashboard___StyledFontAwesomeIcon",componentId:"sc-1b6n5hf-1"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),k_=bn("div").withConfig({displayName:"Dashboard___StyledDiv",componentId:"sc-1b6n5hf-2"})({gridColumn:"span 5 / span 5",margin:"1rem","@media (min-width: 768px)":{gridColumn:"span 3 / span 3"}}),O_=bn(xo).withConfig({displayName:"Dashboard___StyledFontAwesomeIcon2",componentId:"sc-1b6n5hf-3"})({height:"12rem",width:"12rem","--tw-scale-x":"1.1","--tw-scale-y":"1.1",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)",".group:active &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"},"@media (min-width: 768px)":{".group:hover &":{"--tw-scale-x":".95","--tw-scale-y":".95",transform:"translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))"}}}),I_=bn(u_).withConfig({displayName:"Dashboard___StyledContentWrapper",componentId:"sc-1b6n5hf-4"})({position:"relative",gridColumn:"span 5 / span 5",margin:"1rem","@media (min-width: 768px)":{gridColumn:"span 3 / span 3"}}),R_=bn(xo).withConfig({displayName:"Dashboard___StyledFontAwesomeIcon3",componentId:"sc-1b6n5hf-5"})({paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}),L_=bn(h_).withConfig({displayName:"Dashboard___StyledLineWrapper",componentId:"sc-1b6n5hf-6"})({marginTop:"0.5rem"}),N_=bn(Qp).withConfig({displayName:"Dashboard___StyledMButton",componentId:"sc-1b6n5hf-7"})({borderRadius:"9999px"}),z_=bn(xo).withConfig({displayName:"Dashboard___StyledFontAwesomeIcon4",componentId:"sc-1b6n5hf-8"})({marginLeft:"0.25rem"}),B_=bn(xo).withConfig({displayName:"Dashboard___StyledFontAwesomeIcon5",componentId:"sc-1b6n5hf-9"})({marginLeft:"0.25rem"}),F_=bn("div").withConfig({displayName:"Dashboard___StyledDiv2",componentId:"sc-1b6n5hf-10"})({gridColumn:"span 5 / span 5",margin:"1rem","@media (min-width: 768px)":{gridColumn:"span 5 / span 5"}}),U_=o(767),j_=o(8371),V_=o(5346),H_=o(3726),G_=bn.div.withConfig({displayName:"Styledtwin__ButtonWrapper",componentId:"sc-nzmynd-0"})([""]),W_=bn.div.withConfig({displayName:"Styledtwin__HeaderWrapper",componentId:"sc-nzmynd-1"})(["display:flex;flex-direction:row;justify-content:space-between;"]),q_=bn(Ep).withConfig({displayName:"Styledtwin__ContentWrapper",componentId:"sc-nzmynd-2"})(["margin:20px 0 0 0;padding:20px 12px;background-color:white;text-align:center;gap:10px;"]),X_=bn.div.withConfig({displayName:"Styledtwin__LineWrapper",componentId:"sc-nzmynd-3"})(["display:flex;flex-direction:row;justify-content:center;gap:18px;flex-grow:1;min-width:60%;&>*{margin-left:auto;margin-right:auto;}"]);function Y_(e){return Y_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y_(e)}function Q_(){Q_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==Y_(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function K_(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Z_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $_(){var t=me(),n=(0,e.useRef)(null),r=(0,e.useRef)(null),i=Z_((0,e.useState)(""),2),a=i[0],o=i[1],s=Z_((0,e.useState)(0),2),l=s[0],c=s[1],u=Z_((0,e.useState)("images/qrcode-solid-md.png"),2),h=u[0],d=u[1],f=Z_((0,e.useState)(!1),2),p=f[0],m=f[1],g=Z_((0,e.useState)(!1),2),v=g[0],y=g[1],w=Z_((0,e.useState)(!1),2),b=w[0],x=w[1],_=Z_((0,e.useState)(!1),2),S=_[0],E=_[1],C=Z_((0,e.useState)(!1),2),A=C[0],T=C[1],M=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){K_(a,r,i,o,s,"next",e)}function s(e){K_(a,r,i,o,s,"throw",e)}o(void 0)}))}}(Q_().mark((function e(){var t,n;return Q_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["qrcode"],e.prev=1,e.next=4,Promise.all(t.map((function(e){return tp.awaitCountAPI("GET",e)})));case 4:return n=e.sent,c(n.map((function(e){return e.data&&e.data[0]&&e.data[0].count}))[0]),e.abrupt("return","Succeed to fetch count");case 9:throw e.prev=9,e.t0=e.catch(1),"Failed to fetch count";case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){M().then((function(e){return console.log(e)})).catch((function(e){return console.warn(e)}));var e=setInterval((function(){T((function(e){return!e}))}),4e3);return function(){return clearInterval(e)}}),[]);var P=(0,e.useCallback)((function(e){o(e.target.value),x(!1)}),[]),D=(0,e.useCallback)((function(e){"Enter"===e.key&&(r.current.click(),r.current.focus())}),[]);return Ue((function(){v&&sessionStorage.setItem("qrcode_states",JSON.stringify({text:a,data:h,loading:p,finished:v,invalid:b}))})),(0,e.useEffect)((function(){v&&(h.toString(),sessionStorage.setItem("qrcode_states",JSON.stringify({text:a,data:h,loading:p,finished:v,invalid:b})))}),[a,h,p,v,b]),(0,e.useEffect)((function(){if(sessionStorage.getItem("qrcode_states")){var e=JSON.parse(decodeURIComponent(sessionStorage.getItem("qrcode_states")));o(e.text?e.text:""),d(e.data?e.data:"images/qrcode-solid-md.png"),m(e.loading),y(e.finished),x(e.invalid)}}),[]),e.createElement(eS,null,e.createElement(W_,null,e.createElement(G_,null,e.createElement(Zp,{onClick:function(){t("/tools"),window.scroll(0,0)}},e.createElement(tS,{icon:V_.ac}))),e.createElement(nS,null,e.createElement(rS,null,"二维码生成器"),e.createElement(iS,null,e.createElement(hd,{isOn:l&&A,onContent:l&&"已使用".concat(l,"次"),offContent:"在线生成QR码",fadeStyle:"down",className:"fadeBiliSubTextA"})))),e.createElement(q_,null,e.createElement(X_,null,e.createElement(aS,null,"输入",e.createElement(oS,{icon:j_.UF}),"内容")),e.createElement(X_,null,e.createElement(p_,{icon:e.createElement(sS,{icon:Ib.bL}),placeholder:" ",desc:"输入文本或URL",id:"input_text",onChange:P,onKeyPress:D,invalid:b,text:a,setText:o,iconOnClick:function(){o&&o("")}})),e.createElement(lS,null,e.createElement(cS,{disabled:p,h:"36px",w:"140px",onClick:function(e){if(!a)return x(!0),void Qv("请输入内容 !","qrcode_input_error");m(!0),E(!0);var t={content:a,size:500,type:1,app_id:ep.app_id,app_secret:ep.app_secret};Yf.get("https://www.mxnzp.com/api/qrcode/create/single",{params:t}).then((function(e){var t=e.data.data.qrCodeBase64;d(t),Kv("QR码获取成功 !","qrcode_get_success"),tp.awaitCountAPI("PUT","qrcode").then((function(e){c(e.data[0].count)})).catch((function(e){return console.warn("Failed to put qrcode count")}))})).catch((function(e){console.error("Failed to generate QR code:",e),Qv("QR码获取失败，请重试 !","qrcode_get_error")})).finally((function(){m(!1),E(!1),y(!0)}))},ref:r},p?e.createElement(e.Fragment,null,"获取中",e.createElement(uS,{icon:Mh.LM,spin:!0})):e.createElement(e.Fragment,null,"获取QR码",e.createElement(hS,{icon:H_.EF,shake:!0}))))),e.createElement(q_,null,e.createElement(X_,null,e.createElement(dS,null,"获取",e.createElement(fS,{icon:Iy.rt}),"结果")),e.createElement(X_,null,e.createElement(qp,{duration:"1.2s",fadeStyle:"scale",url:h,loadingFlag:S,exit:!1})),e.createElement(pS,null,e.createElement(mS,{disabled:!v,h:"36px",w:"140px",onClick:function(e){if(h){var t=n.current;t.href=h,t.download="qrcode-solid-md.png",t.click()}}},v?e.createElement(e.Fragment,null,"保存QR码",e.createElement(vS,{icon:U_.q7,beat:!0})):e.createElement(e.Fragment,null,"暂无QR码",e.createElement(gS,{icon:Cn.g8,shake:!0}))),e.createElement(yS,{ref:n}))))}var eS=bn(In).withConfig({displayName:"QRPage___StyledPaddingWrapper",componentId:"sc-askjk3-0"})({gridColumn:"span 4 / span 4"}),tS=bn(xo).withConfig({displayName:"QRPage___StyledFontAwesomeIcon",componentId:"sc-askjk3-1"})({position:"relative",top:"-1px",verticalAlign:"middle","@media (min-width: 768px)":{paddingRight:"1rem"}}),nS=bn("div").withConfig({displayName:"QRPage___StyledDiv",componentId:"sc-askjk3-2"})({position:"relative",display:"flex",flexDirection:"column",textAlign:"right"}),rS=bn(Dh).withConfig({displayName:"QRPage___StyledH",componentId:"sc-askjk3-3"})({fontSize:"1.875rem",lineHeight:"2.25rem"}),iS=bn("div").withConfig({displayName:"QRPage___StyledDiv2",componentId:"sc-askjk3-4"})({position:"absolute",bottom:"-0.75rem",right:"0.25rem","@keyframes fade_in_up":{"0%":{opacity:"0",transform:"translateY(15px)"},"100%":{opacity:"1",transform:"translateY(0)"}},animation:"fade_in_up .4s ease-out forwards","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"}),aS=bn(Rh).withConfig({displayName:"QRPage___StyledInLineTitle",componentId:"sc-askjk3-5"})({marginBottom:"0.5rem"}),oS=bn(xo).withConfig({displayName:"QRPage___StyledFontAwesomeIcon2",componentId:"sc-askjk3-6"})({paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}),sS=bn(xo).withConfig({displayName:"QRPage___StyledFontAwesomeIcon3",componentId:"sc-askjk3-7"})({marginLeft:"0.25rem"}),lS=bn(X_).withConfig({displayName:"QRPage___StyledLineWrapper",componentId:"sc-askjk3-8"})({marginTop:"0.5rem"}),cS=bn(Qp).withConfig({displayName:"QRPage___StyledMButton",componentId:"sc-askjk3-9"})({borderRadius:"9999px"}),uS=bn(xo).withConfig({displayName:"QRPage___StyledFontAwesomeIcon4",componentId:"sc-askjk3-10"})({marginLeft:"0.25rem"}),hS=bn(xo).withConfig({displayName:"QRPage___StyledFontAwesomeIcon5",componentId:"sc-askjk3-11"})({marginLeft:"0.25rem"}),dS=bn(Rh).withConfig({displayName:"QRPage___StyledInLineTitle2",componentId:"sc-askjk3-12"})({marginBottom:"0.5rem"}),fS=bn(xo).withConfig({displayName:"QRPage___StyledFontAwesomeIcon6",componentId:"sc-askjk3-13"})({paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}),pS=bn(X_).withConfig({displayName:"QRPage___StyledLineWrapper2",componentId:"sc-askjk3-14"})({marginTop:"0.5rem"}),mS=bn(Qp).withConfig({displayName:"QRPage___StyledMButton2",componentId:"sc-askjk3-15"})({borderRadius:"9999px"}),gS=bn(xo).withConfig({displayName:"QRPage___StyledFontAwesomeIcon7",componentId:"sc-askjk3-16"})({marginLeft:"0.25rem"}),vS=bn(xo).withConfig({displayName:"QRPage___StyledFontAwesomeIcon8",componentId:"sc-askjk3-17"})({marginLeft:"0.25rem"}),yS=bn("a").withConfig({displayName:"QRPage___StyledA",componentId:"sc-askjk3-18"})({display:"none"}),wS=o(8076),bS=o(2909),xS=o(5386),_S=o(5845),SS=bn.div.withConfig({displayName:"Styledtwin__ButtonWrapper",componentId:"sc-1mrnqvw-0"})([""]),ES=bn.div.withConfig({displayName:"Styledtwin__HeaderWrapper",componentId:"sc-1mrnqvw-1"})(["display:flex;flex-direction:row;justify-content:space-between;"]),CS=bn(Ep).withConfig({displayName:"Styledtwin__ContentWrapper",componentId:"sc-1mrnqvw-2"})(["margin:20px 0 0 0;padding:20px 12px;position:relative;background-color:white;text-align:center;gap:10px;&::-webkit-scrollbar{display:none;}"]),AS=bn.div.withConfig({displayName:"Styledtwin__LineWrapper",componentId:"sc-1mrnqvw-3"})(["display:flex;flex-direction:row;justify-content:space-around;gap:18px;flex-grow:1;flex-shrink:1;min-width:60%;&>*{margin-left:auto;margin-right:auto;}"]),TS=e.createContext(1),MS=o(906),PS=o(6529),DS=o(2679);function kS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var OS,IS,RS,LS,NS,zS,BS,FS,US,jS,VS,HS,GS,WS=function(){return OS||"undefined"!=typeof window&&(OS=window.gsap)&&OS.registerPlugin&&OS},qS=1,XS=[],YS=[],QS=[],KS=Date.now,ZS=function(e,t){return t},JS=function(e,t){return~QS.indexOf(e)&&QS[QS.indexOf(e)+1][t]},$S=function(e){return!!~jS.indexOf(e)},eE=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},tE=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},nE="scrollLeft",rE="scrollTop",iE=function(){return VS&&VS.isPressed||YS.cache++},aE=function(e,t){var n=function n(r){if(r||0===r){qS&&(RS.history.scrollRestoration="manual");var i=VS&&VS.isPressed;r=n.v=Math.round(r)||(VS&&VS.iOS?1:0),e(r),n.cacheID=YS.cache,i&&ZS("ss",r)}else(t||YS.cache!==n.cacheID||ZS("ref"))&&(n.cacheID=YS.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},oE={s:nE,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:aE((function(e){return arguments.length?RS.scrollTo(e,sE.sc()):RS.pageXOffset||LS[nE]||NS[nE]||zS[nE]||0}))},sE={s:rE,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:oE,sc:aE((function(e){return arguments.length?RS.scrollTo(oE.sc(),e):RS.pageYOffset||LS[rE]||NS[rE]||zS[rE]||0}))},lE=function(e,t){return(t&&t._ctx&&t._ctx.selector||OS.utils.toArray)(e)[0]||("string"==typeof e&&!1!==OS.config().nullTargetWarn?console.warn("Element not found:",e):null)},cE=function(e,t){var n=t.s,r=t.sc;$S(e)&&(e=LS.scrollingElement||NS);var i=YS.indexOf(e),a=r===sE.sc?1:2;!~i&&(i=YS.push(e)-1),YS[i+a]||eE(e,"scroll",iE);var o=YS[i+a],s=o||(YS[i+a]=aE(JS(e,n),!0)||($S(e)?r:aE((function(t){return arguments.length?e[n]=t:e[n]}))));return s.target=e,o||(s.smooth="smooth"===OS.getProperty(e,"scrollBehavior")),s},uE=function(e,t,n){var r=e,i=e,a=KS(),o=a,s=t||50,l=Math.max(500,3*s),c=function(e,t){var l=KS();t||l-a>s?(i=r,r=e,o=a,a=l):n?r+=e:r=i+(e-i)/(l-o)*(a-o)};return{update:c,reset:function(){i=r=n?0:r,o=a=0},getVelocity:function(e){var t=o,s=i,u=KS();return(e||0===e)&&e!==r&&c(e),a===o||u-o>l?0:(r+(n?s:-s))/((n?u:a)-t)*1e3}}},hE=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},dE=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},fE=function(){var e,t,n,r;(US=OS.core.globals().ScrollTrigger)&&US.core&&(e=US.core,t=e.bridge||{},n=e._scrollers,r=e._proxies,n.push.apply(n,YS),r.push.apply(r,QS),YS=n,QS=r,ZS=function(e,n){return t[e](n)})},pE=function(e){return(OS=e||WS())&&"undefined"!=typeof document&&document.body&&(RS=window,LS=document,NS=LS.documentElement,zS=LS.body,jS=[RS,LS,NS,zS],OS.utils.clamp,GS=OS.core.context||function(){},FS="onpointerenter"in zS?"pointer":"mouse",BS=mE.isTouch=RS.matchMedia&&RS.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in RS||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,HS=mE.eventTypes=("ontouchstart"in NS?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in NS?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return qS=0}),500),fE(),IS=1),IS};oE.op=sE,YS.cache=0;var mE=function(){function e(e){this.init(e)}var t,n;return e.prototype.init=function(e){IS||pE(OS)||console.warn("Please gsap.registerPlugin(Observer)"),US||fE();var t=e.tolerance,n=e.dragMinimum,r=e.type,i=e.target,a=e.lineHeight,o=e.debounce,s=e.preventDefault,l=e.onStop,c=e.onStopDelay,u=e.ignore,h=e.wheelSpeed,d=e.event,f=e.onDragStart,p=e.onDragEnd,m=e.onDrag,g=e.onPress,v=e.onRelease,y=e.onRight,w=e.onLeft,b=e.onUp,x=e.onDown,_=e.onChangeX,S=e.onChangeY,E=e.onChange,C=e.onToggleX,A=e.onToggleY,T=e.onHover,M=e.onHoverEnd,P=e.onMove,D=e.ignoreCheck,k=e.isNormalizer,O=e.onGestureStart,I=e.onGestureEnd,R=e.onWheel,L=e.onEnable,N=e.onDisable,z=e.onClick,B=e.scrollSpeed,F=e.capture,U=e.allowClicks,j=e.lockAxis,V=e.onLockAxis;this.target=i=lE(i)||NS,this.vars=e,u&&(u=OS.utils.toArray(u)),t=t||1e-9,n=n||0,h=h||1,B=B||1,r=r||"wheel,touch,pointer",o=!1!==o,a||(a=parseFloat(RS.getComputedStyle(zS).lineHeight)||22);var H,G,W,q,X,Y,Q,K=this,Z=0,J=0,$=cE(i,oE),ee=cE(i,sE),te=$(),ne=ee(),re=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===HS[0],ie=$S(i),ae=i.ownerDocument||LS,oe=[0,0,0],se=[0,0,0],le=0,ce=function(){return le=KS()},ue=function(e,t){return(K.event=e)&&u&&~u.indexOf(e.target)||t&&re&&"touch"!==e.pointerType||D&&D(e,t)},he=function(){var e=K.deltaX=dE(oe),n=K.deltaY=dE(se),r=Math.abs(e)>=t,i=Math.abs(n)>=t;E&&(r||i)&&E(K,e,n,oe,se),r&&(y&&K.deltaX>0&&y(K),w&&K.deltaX<0&&w(K),_&&_(K),C&&K.deltaX<0!=Z<0&&C(K),Z=K.deltaX,oe[0]=oe[1]=oe[2]=0),i&&(x&&K.deltaY>0&&x(K),b&&K.deltaY<0&&b(K),S&&S(K),A&&K.deltaY<0!=J<0&&A(K),J=K.deltaY,se[0]=se[1]=se[2]=0),(q||W)&&(P&&P(K),W&&(m(K),W=!1),q=!1),Y&&!(Y=!1)&&V&&V(K),X&&(R(K),X=!1),H=0},de=function(e,t,n){oe[n]+=e,se[n]+=t,K._vx.update(e),K._vy.update(t),o?H||(H=requestAnimationFrame(he)):he()},fe=function(e,t){j&&!Q&&(K.axis=Q=Math.abs(e)>Math.abs(t)?"x":"y",Y=!0),"y"!==Q&&(oe[2]+=e,K._vx.update(e,!0)),"x"!==Q&&(se[2]+=t,K._vy.update(t,!0)),o?H||(H=requestAnimationFrame(he)):he()},pe=function(e){if(!ue(e,1)){var t=(e=hE(e,s)).clientX,r=e.clientY,i=t-K.x,a=r-K.y,o=K.isDragging;K.x=t,K.y=r,(o||Math.abs(K.startX-t)>=n||Math.abs(K.startY-r)>=n)&&(m&&(W=!0),o||(K.isDragging=!0),fe(i,a),o||f&&f(K))}},me=K.onPress=function(e){ue(e,1)||e&&e.button||(K.axis=Q=null,G.pause(),K.isPressed=!0,e=hE(e),Z=J=0,K.startX=K.x=e.clientX,K.startY=K.y=e.clientY,K._vx.reset(),K._vy.reset(),eE(k?i:ae,HS[1],pe,s,!0),K.deltaX=K.deltaY=0,g&&g(K))},ge=K.onRelease=function(e){if(!ue(e,1)){tE(k?i:ae,HS[1],pe,!0);var t=!isNaN(K.y-K.startY),n=K.isDragging&&(Math.abs(K.x-K.startX)>3||Math.abs(K.y-K.startY)>3),r=hE(e);!n&&t&&(K._vx.reset(),K._vy.reset(),s&&U&&OS.delayedCall(.08,(function(){if(KS()-le>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(ae.createEvent){var t=ae.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,RS,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}}))),K.isDragging=K.isGesturing=K.isPressed=!1,l&&!k&&G.restart(!0),p&&n&&p(K),v&&v(K,n)}},ve=function(e){return e.touches&&e.touches.length>1&&(K.isGesturing=!0)&&O(e,K.isDragging)},ye=function(){return(K.isGesturing=!1)||I(K)},we=function(e){if(!ue(e)){var t=$(),n=ee();de((t-te)*B,(n-ne)*B,1),te=t,ne=n,l&&G.restart(!0)}},be=function(e){if(!ue(e)){e=hE(e,s),R&&(X=!0);var t=(1===e.deltaMode?a:2===e.deltaMode?RS.innerHeight:1)*h;de(e.deltaX*t,e.deltaY*t,0),l&&!k&&G.restart(!0)}},xe=function(e){if(!ue(e)){var t=e.clientX,n=e.clientY,r=t-K.x,i=n-K.y;K.x=t,K.y=n,q=!0,(r||i)&&fe(r,i)}},_e=function(e){K.event=e,T(K)},Se=function(e){K.event=e,M(K)},Ee=function(e){return ue(e)||hE(e,s)&&z(K)};G=K._dc=OS.delayedCall(c||.25,(function(){K._vx.reset(),K._vy.reset(),G.pause(),l&&l(K)})).pause(),K.deltaX=K.deltaY=0,K._vx=uE(0,50,!0),K._vy=uE(0,50,!0),K.scrollX=$,K.scrollY=ee,K.isDragging=K.isGesturing=K.isPressed=!1,GS(this),K.enable=function(e){return K.isEnabled||(eE(ie?ae:i,"scroll",iE),r.indexOf("scroll")>=0&&eE(ie?ae:i,"scroll",we,s,F),r.indexOf("wheel")>=0&&eE(i,"wheel",be,s,F),(r.indexOf("touch")>=0&&BS||r.indexOf("pointer")>=0)&&(eE(i,HS[0],me,s,F),eE(ae,HS[2],ge),eE(ae,HS[3],ge),U&&eE(i,"click",ce,!1,!0),z&&eE(i,"click",Ee),O&&eE(ae,"gesturestart",ve),I&&eE(ae,"gestureend",ye),T&&eE(i,FS+"enter",_e),M&&eE(i,FS+"leave",Se),P&&eE(i,FS+"move",xe)),K.isEnabled=!0,e&&e.type&&me(e),L&&L(K)),K},K.disable=function(){K.isEnabled&&(XS.filter((function(e){return e!==K&&$S(e.target)})).length||tE(ie?ae:i,"scroll",iE),K.isPressed&&(K._vx.reset(),K._vy.reset(),tE(k?i:ae,HS[1],pe,!0)),tE(ie?ae:i,"scroll",we,F),tE(i,"wheel",be,F),tE(i,HS[0],me,F),tE(ae,HS[2],ge),tE(ae,HS[3],ge),tE(i,"click",ce,!0),tE(i,"click",Ee),tE(ae,"gesturestart",ve),tE(ae,"gestureend",ye),tE(i,FS+"enter",_e),tE(i,FS+"leave",Se),tE(i,FS+"move",xe),K.isEnabled=K.isPressed=K.isDragging=!1,N&&N(K))},K.kill=K.revert=function(){K.disable();var e=XS.indexOf(K);e>=0&&XS.splice(e,1),VS===K&&(VS=0)},XS.push(K),k&&$S(i)&&(VS=K),K.enable(d)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&kS(t.prototype,n),e}();mE.version="3.12.2",mE.create=function(e){return new mE(e)},mE.register=pE,mE.getAll=function(){return XS.slice()},mE.getById=function(e){return XS.filter((function(t){return t.vars.id===e}))[0]},WS()&&OS.registerPlugin(mE);var gE,vE,yE,wE,bE,xE,_E,SE,EE,CE,AE,TE,ME,PE,DE,kE,OE,IE,RE,LE,NE,zE,BE,FE,UE,jE,VE,HE,GE,WE,qE,XE,YE,QE,KE,ZE,JE=1,$E=Date.now,eC=$E(),tC=0,nC=0,rC=function(e,t,n){var r=vC(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},iC=function(e,t){return!t||vC(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},aC=function e(){return nC&&requestAnimationFrame(e)},oC=function(){return PE=1},sC=function(){return PE=0},lC=function(e){return e},cC=function(e){return Math.round(1e5*e)/1e5||0},uC=function(){return"undefined"!=typeof window},hC=function(){return gE||uC()&&(gE=window.gsap)&&gE.registerPlugin&&gE},dC=function(e){return!!~_E.indexOf(e)},fC=function(e){return("Height"===e?qE:yE["inner"+e])||bE["client"+e]||xE["client"+e]},pC=function(e){return JS(e,"getBoundingClientRect")||(dC(e)?function(){return AA.width=yE.innerWidth,AA.height=qE,AA}:function(){return UC(e)})},mC=function(e,t){var n=t.s,r=t.d2,i=t.d,a=t.a;return Math.max(0,(n="scroll"+r)&&(a=JS(e,n))?a()-pC(e)()[i]:dC(e)?(bE[n]||xE[n])-fC(r):e[n]-e["offset"+r])},gC=function(e,t){for(var n=0;n<RE.length;n+=3)(!t||~t.indexOf(RE[n+1]))&&e(RE[n],RE[n+1],RE[n+2])},vC=function(e){return"string"==typeof e},yC=function(e){return"function"==typeof e},wC=function(e){return"number"==typeof e},bC=function(e){return"object"==typeof e},xC=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},_C=function(e,t){if(e.enabled){var n=t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},SC=Math.abs,EC="left",CC="right",AC="bottom",TC="width",MC="height",PC="Right",DC="Left",kC="Top",OC="Bottom",IC="padding",RC="margin",LC="Width",NC="Height",zC="px",BC=function(e){return yE.getComputedStyle(e)},FC=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},UC=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==BC(e)[DE]&&gE.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},jC=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},VC=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},HC=function(e){var t=gE.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort((function(e,t){return e-t}));return n?function(e,r,i){var a;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,a=0;a<n.length;a++)if(n[a]>=e)return n[a];return n[a-1]}for(a=n.length,e+=i;a--;)if(n[a]<=e)return n[a];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var a=t(n);return!r||Math.abs(a-n)<i||a-n<0==r<0?a:t(r<0?n-e:n+e)}},GC=function(e,t,n,r){return n.split(",").forEach((function(n){return e(t,n,r)}))},WC=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},qC=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},XC=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},YC={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},QC={toggleActions:"play",anticipatePin:0},KC={top:0,left:0,center:.5,bottom:1,right:1},ZC=function(e,t){if(vC(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in KC?KC[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},JC=function(e,t,n,r,i,a,o,s){var l=i.startColor,c=i.endColor,u=i.fontSize,h=i.indent,d=i.fontWeight,f=wE.createElement("div"),p=dC(n)||"fixed"===JS(n,"pinType"),m=-1!==e.indexOf("scroller"),g=p?xE:n,v=-1!==e.indexOf("start"),y=v?l:c,w="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return w+="position:"+((m||s)&&p?"fixed;":"absolute;"),(m||s||!p)&&(w+=(r===sE?CC:AC)+":"+(a+parseFloat(h))+"px;"),o&&(w+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),f._isStart=v,f.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),f.style.cssText=w,f.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(f,g.children[0]):g.appendChild(f),f._offset=f["offset"+r.op.d2],$C(f,0,r,v),f},$C=function(e,t,n,r){var i={display:"block"},a=n[r?"os2":"p2"],o=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+a+LC]=1,i["border"+o+LC]=0,i[n.p]=t+"px",gE.set(e,i)},eA=[],tA={},nA=function(){return $E()-tC>34&&(YE||(YE=requestAnimationFrame(wA)))},rA=function(){(!BE||!BE.isPressed||BE.startX>xE.clientWidth)&&(YS.cache++,BE?YE||(YE=requestAnimationFrame(wA)):wA(),tC||cA("scrollStart"),tC=$E())},iA=function(){jE=yE.innerWidth,UE=yE.innerHeight},aA=function(){YS.cache++,!ME&&!zE&&!wE.fullscreenElement&&!wE.webkitFullscreenElement&&(!FE||jE!==yE.innerWidth||Math.abs(yE.innerHeight-UE)>.25*yE.innerHeight)&&SE.restart(!0)},oA={},sA=[],lA=function e(){return qC(IA,"scrollEnd",e)||gA(!0)},cA=function(e){return oA[e]&&oA[e].map((function(e){return e()}))||sA},uA=[],hA=function(e){for(var t=0;t<uA.length;t+=5)(!e||uA[t+4]&&uA[t+4].query===e)&&(uA[t].style.cssText=uA[t+1],uA[t].getBBox&&uA[t].setAttribute("transform",uA[t+2]||""),uA[t+3].uncache=1)},dA=function(e,t){var n;for(kE=0;kE<eA.length;kE++)!(n=eA[kE])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));t&&hA(t),t||cA("revert")},fA=function(e,t){YS.cache++,(t||!QE)&&YS.forEach((function(e){return yC(e)&&e.cacheID++&&(e.rec=0)})),vC(e)&&(yE.history.scrollRestoration=GE=e)},pA=0,mA=function(){xE.appendChild(WE),qE=WE.offsetHeight||yE.innerHeight,xE.removeChild(WE)},gA=function(e,t){if(!tC||e){mA(),QE=IA.isRefreshing=!0,YS.forEach((function(e){return yC(e)&&++e.cacheID&&(e.rec=e())}));var n=cA("refreshInit");LE&&IA.sort(),t||dA(),YS.forEach((function(e){yC(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))})),eA.slice(0).forEach((function(e){return e.refresh()})),eA.forEach((function(e,t){if(e._subPinOffset&&e.pin){var n=e.vars.horizontal?"offsetWidth":"offsetHeight",r=e.pin[n];e.revert(!0,1),e.adjustPinSpacing(e.pin[n]-r),e.refresh()}})),eA.forEach((function(e){var t=mC(e.scroller,e._dir);("max"===e.vars.end||e._endClamp&&e.end>t)&&e.setPositions(e.start,Math.max(e.start+1,t),!0)})),n.forEach((function(e){return e&&e.render&&e.render(-1)})),YS.forEach((function(e){yC(e)&&(e.smooth&&requestAnimationFrame((function(){return e.target.style.scrollBehavior="smooth"})),e.rec&&e(e.rec))})),fA(GE,1),SE.pause(),pA++,QE=2,wA(2),eA.forEach((function(e){return yC(e.vars.onRefresh)&&e.vars.onRefresh(e)})),QE=IA.isRefreshing=!1,cA("refresh")}else WC(IA,"scrollEnd",lA)},vA=0,yA=1,wA=function(e){if(!QE||2===e){IA.isUpdating=!0,ZE&&ZE.update(0);var t=eA.length,n=$E(),r=n-eC>=50,i=t&&eA[0].scroll();if(yA=vA>i?-1:1,QE||(vA=i),r&&(tC&&!PE&&n-tC>200&&(tC=0,cA("scrollEnd")),AE=eC,eC=n),yA<0){for(kE=t;kE-- >0;)eA[kE]&&eA[kE].update(0,r);yA=1}else for(kE=0;kE<t;kE++)eA[kE]&&eA[kE].update(0,r);IA.isUpdating=!1}YE=0},bA=[EC,"top",AC,CC,RC+OC,RC+PC,RC+kC,RC+DC,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],xA=bA.concat([TC,MC,"boxSizing","max"+LC,"max"+NC,"position",RC,IC,IC+kC,IC+PC,IC+OC,IC+DC]),_A=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,a=bA.length,o=t.style,s=e.style;a--;)o[i=bA[a]]=n[i];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),s[AC]=s[CC]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[TC]=jC(e,oE)+zC,o[MC]=jC(e,sE)+zC,o[IC]=s[RC]=s.top=s[EC]="0",EA(r),s[TC]=s["max"+LC]=n[TC],s[MC]=s["max"+NC]=n[MC],s[IC]=n[IC],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},SA=/([A-Z])/g,EA=function(e){if(e){var t,n,r=e.t.style,i=e.length,a=0;for((e.t._gsap||gE.core.getCache(e.t)).uncache=1;a<i;a+=2)n=e[a+1],t=e[a],n?r[t]=n:r[t]&&r.removeProperty(t.replace(SA,"-$1").toLowerCase())}},CA=function(e){for(var t=xA.length,n=e.style,r=[],i=0;i<t;i++)r.push(xA[i],n[xA[i]]);return r.t=e,r},AA={left:0,top:0},TA=function(e,t,n,r,i,a,o,s,l,c,u,h,d,f){yC(e)&&(e=e(s)),vC(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?ZC("0"+e.substr(3),n):0));var p,m,g,v=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),wC(e))d&&(e=gE.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,e)),o&&$C(o,n,r,!0);else{yC(t)&&(t=t(s));var y,w,b,x,_=(e||"0").split(" ");g=lE(t,s)||xE,(y=UC(g)||{})&&(y.left||y.top)||"none"!==BC(g).display||(x=g.style.display,g.style.display="block",y=UC(g),x?g.style.display=x:g.style.removeProperty("display")),w=ZC(_[0],y[r.d]),b=ZC(_[1]||"0",n),e=y[r.p]-l[r.p]-c+w+i-b,o&&$C(o,b,r,n-b<20||o._isStart&&b>20),n-=n-b}if(f&&(s[f]=e||-.001,e<0&&(e=0)),a){var S=e+n,E=a._isStart;p="scroll"+r.d2,$C(a,S,r,E&&S>20||!E&&(u?Math.max(xE[p],bE[p]):a.parentNode[p])<=S+1),u&&(l=UC(o),u&&(a.style[r.op.p]=l[r.op.p]-r.op.m-a._offset+zC))}return d&&g&&(p=UC(g),d.seek(h),m=UC(g),d._caScrollDist=p[r.p]-m[r.p],e=e/d._caScrollDist*h),d&&d.seek(v),d?e:Math.round(e)},MA=/(webkit|moz|length|cssText|inset)/i,PA=function(e,t,n,r){if(e.parentNode!==t){var i,a,o=e.style;if(t===xE){for(i in e._stOrig=o.cssText,a=BC(e))+i||MA.test(i)||!a[i]||"string"!=typeof o[i]||"0"===i||(o[i]=a[i]);o.top=n,o.left=r}else o.cssText=e._stOrig;gE.core.getCache(e).uncache=1,t.appendChild(e)}},DA=function(e,t,n){var r=t,i=r;return function(t){var a=Math.round(e());return a!==r&&a!==i&&Math.abs(a-r)>3&&Math.abs(a-i)>3&&(t=a,n&&n()),i=r,r=t,t}},kA=function(e,t,n){var r={};r[t.p]="+="+n,gE.set(e,r)},OA=function(e,t){var n=cE(e,t),r="_scroll"+t.p2,i=function t(i,a,o,s,l){var c=t.tween,u=a.onComplete,h={};o=o||n();var d=DA(n,o,(function(){c.kill(),t.tween=0}));return l=s&&l||0,s=s||i-o,c&&c.kill(),a[r]=i,a.modifiers=h,h[r]=function(){return d(o+s*c.ratio+l*c.ratio*c.ratio)},a.onUpdate=function(){YS.cache++,wA()},a.onComplete=function(){t.tween=0,u&&u.call(c)},c=t.tween=gE.to(e,a)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},WC(e,"wheel",n.wheelHandler),IA.isTouch&&WC(e,"touchmove",n.wheelHandler),i},IA=function(){function e(t,n){vE||e.register(gE)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),HE(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),nC){var r,i,a,o,s,l,c,u,h,d,f,p,m,g,v,y,w,b,x,_,S,E,C,A,T,M,P,D,k,O,I,R,L,N,z,B,F,U,j,V,H=t=FC(vC(t)||wC(t)||t.nodeType?{trigger:t}:t,QC),G=H.onUpdate,W=H.toggleClass,q=H.id,X=H.onToggle,Y=H.onRefresh,Q=H.scrub,K=H.trigger,Z=H.pin,J=H.pinSpacing,$=H.invalidateOnRefresh,ee=H.anticipatePin,te=H.onScrubComplete,ne=H.onSnapComplete,re=H.once,ie=H.snap,ae=H.pinReparent,oe=H.pinSpacer,se=H.containerAnimation,le=H.fastScrollEnd,ce=H.preventOverlaps,ue=t.horizontal||t.containerAnimation&&!1!==t.horizontal?oE:sE,he=!Q&&0!==Q,de=lE(t.scroller||yE),fe=gE.core.getCache(de),pe=dC(de),me="fixed"===("pinType"in t?t.pinType:JS(de,"pinType")||pe&&"fixed"),ge=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],ve=he&&t.toggleActions.split(" "),ye="markers"in t?t.markers:QC.markers,we=pe?0:parseFloat(BC(de)["border"+ue.p2+LC])||0,be=this,xe=t.onRefreshInit&&function(){return t.onRefreshInit(be)},_e=function(e,t,n){var r=n.d,i=n.d2,a=n.a;return(a=JS(e,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(t?fC(i):e["client"+i])||0}}(de,pe,ue),Se=function(e,t){return!t||~QS.indexOf(e)?pC(e):function(){return AA}}(de,pe),Ee=0,Ce=0,Ae=0,Te=cE(de,ue);if(be._startClamp=be._endClamp=!1,be._dir=ue,ee*=45,be.scroller=de,be.scroll=se?se.time.bind(se):Te,o=Te(),be.vars=t,n=n||t.animation,"refreshPriority"in t&&(LE=1,-9999===t.refreshPriority&&(ZE=be)),fe.tweenScroll=fe.tweenScroll||{top:OA(de,sE),left:OA(de,oE)},be.tweenTo=r=fe.tweenScroll[ue.p],be.scrubDuration=function(e){(L=wC(e)&&e)?R?R.duration(e):R=gE.to(n,{ease:"expo",totalProgress:"+=0",duration:L,paused:!0,onComplete:function(){return te&&te(be)}}):(R&&R.progress(1).kill(),R=0)},n&&(n.vars.lazy=!1,n._initted&&!be.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),be.animation=n.pause(),n.scrollTrigger=be,be.scrubDuration(Q),O=0,q||(q=n.vars.id)),ie&&(bC(ie)&&!ie.push||(ie={snapTo:ie}),"scrollBehavior"in xE.style&&gE.set(pe?[xE,bE]:de,{scrollBehavior:"auto"}),YS.forEach((function(e){return yC(e)&&e.target===(pe?wE.scrollingElement||bE:de)&&(e.smooth=!1)})),a=yC(ie.snapTo)?ie.snapTo:"labels"===ie.snapTo?function(e){return function(t){return gE.utils.snap(VC(e),t)}}(n):"labelsDirectional"===ie.snapTo?(V=n,function(e,t){return HC(VC(V))(e,t.direction)}):!1!==ie.directional?function(e,t){return HC(ie.snapTo)(e,$E()-Ce<500?0:t.direction)}:gE.utils.snap(ie.snapTo),N=ie.duration||{min:.1,max:2},N=bC(N)?CE(N.min,N.max):CE(N,N),z=gE.delayedCall(ie.delay||L/2||.1,(function(){var e=Te(),t=$E()-Ce<500,i=r.tween;if(!(t||Math.abs(be.getVelocity())<10)||i||PE||Ee===e)be.isActive&&Ee!==e&&z.restart(!0);else{var o=(e-l)/g,s=n&&!he?n.totalProgress():o,u=t?0:(s-I)/($E()-AE)*1e3||0,h=gE.utils.clamp(-o,1-o,SC(u/2)*u/.185),d=o+(!1===ie.inertia?0:h),f=CE(0,1,a(d,be)),p=Math.round(l+f*g),m=ie,v=m.onStart,y=m.onInterrupt,w=m.onComplete;if(e<=c&&e>=l&&p!==e){if(i&&!i._initted&&i.data<=SC(p-e))return;!1===ie.inertia&&(h=f-o),r(p,{duration:N(SC(.185*Math.max(SC(d-s),SC(f-s))/u/.05||0)),ease:ie.ease||"power3",data:SC(p-e),onInterrupt:function(){return z.restart(!0)&&y&&y(be)},onComplete:function(){be.update(),Ee=Te(),O=I=n&&!he?n.totalProgress():be.progress,ne&&ne(be),w&&w(be)}},e,h*g,p-e-h*g),v&&v(be,r.tween)}}})).pause()),q&&(tA[q]=be),(j=(K=be.trigger=lE(K||!0!==Z&&Z))&&K._gsap&&K._gsap.stRevert)&&(j=j(be)),Z=!0===Z?K:lE(Z),vC(W)&&(W={targets:K,className:W}),Z&&(!1===J||J===RC||(J=!(!J&&Z.parentNode&&Z.parentNode.style&&"flex"===BC(Z.parentNode).display)&&IC),be.pin=Z,(i=gE.core.getCache(Z)).spacer?v=i.pinState:(oe&&((oe=lE(oe))&&!oe.nodeType&&(oe=oe.current||oe.nativeElement),i.spacerIsNative=!!oe,oe&&(i.spacerState=CA(oe))),i.spacer=b=oe||wE.createElement("div"),b.classList.add("pin-spacer"),q&&b.classList.add("pin-spacer-"+q),i.pinState=v=CA(Z)),!1!==t.force3D&&gE.set(Z,{force3D:!0}),be.spacer=b=i.spacer,k=BC(Z),A=k[J+ue.os2],_=gE.getProperty(Z),S=gE.quickSetter(Z,ue.a,zC),_A(Z,b,k),w=CA(Z)),ye){p=bC(ye)?FC(ye,YC):YC,d=JC("scroller-start",q,de,ue,p,0),f=JC("scroller-end",q,de,ue,p,0,d),x=d["offset"+ue.op.d2];var Me=lE(JS(de,"content")||de);u=this.markerStart=JC("start",q,Me,ue,p,x,0,se),h=this.markerEnd=JC("end",q,Me,ue,p,x,0,se),se&&(U=gE.quickSetter([u,h],ue.a,zC)),me||QS.length&&!0===JS(de,"fixedMarkers")||(function(e){var t=BC(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(pe?xE:de),gE.set([d,f],{force3D:!0}),M=gE.quickSetter(d,ue.a,zC),D=gE.quickSetter(f,ue.a,zC))}if(se){var Pe=se.vars.onUpdate,De=se.vars.onUpdateParams;se.eventCallback("onUpdate",(function(){be.update(0,0,1),Pe&&Pe.apply(se,De||[])}))}if(be.previous=function(){return eA[eA.indexOf(be)-1]},be.next=function(){return eA[eA.indexOf(be)+1]},be.revert=function(e,t){if(!t)return be.kill(!0);var r=!1!==e||!be.enabled,i=ME;r!==be.isReverted&&(r&&(B=Math.max(Te(),be.scroll.rec||0),Ae=be.progress,F=n&&n.progress()),u&&[u,h,d,f].forEach((function(e){return e.style.display=r?"none":"block"})),r&&(ME=be,be.update(r)),!Z||ae&&be.isActive||(r?function(e,t,n){EA(n);var r=e._gsap;if(r.spacerIsNative)EA(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}(Z,b,v):_A(Z,b,BC(Z),T)),r||be.update(r),ME=i,be.isReverted=r)},be.refresh=function(i,a,p,x){if(!ME&&be.enabled||a)if(Z&&i&&tC)WC(e,"scrollEnd",lA);else{!QE&&xe&&xe(be),ME=be,r.tween&&!p&&(r.tween.kill(),r.tween=0),R&&R.pause(),$&&n&&n.revert({kill:!1}).invalidate(),be.isReverted||be.revert(!0,!0),be._subPinOffset=!1;var S,A,M,D,k,O,I,L,N,U,j,V,H,G=_e(),W=Se(),q=se?se.duration():mC(de,ue),X=g<=.01,Q=0,ee=x||0,te=bC(p)?p.end:t.end,ne=t.endTrigger||K,re=bC(p)?p.start:t.start||(0!==t.start&&K?Z?"0 0":"0 100%":0),ie=be.pinnedContainer=t.pinnedContainer&&lE(t.pinnedContainer,be),oe=K&&Math.max(0,eA.indexOf(be))||0,le=oe;for(ye&&bC(p)&&(V=gE.getProperty(d,ue.p),H=gE.getProperty(f,ue.p));le--;)(O=eA[le]).end||O.refresh(0,1)||(ME=be),!(I=O.pin)||I!==K&&I!==Z&&I!==ie||O.isReverted||(U||(U=[]),U.unshift(O),O.revert(!0,!0)),O!==eA[le]&&(oe--,le--);for(yC(re)&&(re=re(be)),re=rC(re,"start",be),l=TA(re,K,G,ue,Te(),u,d,be,W,we,me,q,se,be._startClamp&&"_startClamp")||(Z?-.001:0),yC(te)&&(te=te(be)),vC(te)&&!te.indexOf("+=")&&(~te.indexOf(" ")?te=(vC(re)?re.split(" ")[0]:"")+te:(Q=ZC(te.substr(2),G),te=vC(re)?re:(se?gE.utils.mapRange(0,se.duration(),se.scrollTrigger.start,se.scrollTrigger.end,l):l)+Q,ne=K)),te=rC(te,"end",be),c=Math.max(l,TA(te||(ne?"100% 0":q),ne,G,ue,Te()+Q,h,f,be,W,we,me,q,se,be._endClamp&&"_endClamp"))||-.001,Q=0,le=oe;le--;)(I=(O=eA[le]).pin)&&O.start-O._pinPush<=l&&!se&&O.end>0&&(S=O.end-(be._startClamp?Math.max(0,O.start):O.start),(I===K&&O.start-O._pinPush<l||I===ie)&&isNaN(re)&&(Q+=S*(1-O.progress)),I===Z&&(ee+=S));if(l+=Q,c+=Q,be._startClamp&&(be._startClamp+=Q),be._endClamp&&!QE&&(be._endClamp=c||-.001,c=Math.min(c,mC(de,ue))),g=c-l||(l-=.01)&&.001,X&&(Ae=gE.utils.clamp(0,1,gE.utils.normalize(l,c,B))),be._pinPush=ee,u&&Q&&((S={})[ue.a]="+="+Q,ie&&(S[ue.p]="-="+Te()),gE.set([u,h],S)),Z)S=BC(Z),D=ue===sE,M=Te(),E=parseFloat(_(ue.a))+ee,!q&&c>1&&(j={style:j=(pe?wE.scrollingElement||bE:de).style,value:j["overflow"+ue.a.toUpperCase()]},pe&&"scroll"!==BC(xE)["overflow"+ue.a.toUpperCase()]&&(j.style["overflow"+ue.a.toUpperCase()]="scroll")),_A(Z,b,S),w=CA(Z),A=UC(Z,!0),L=me&&cE(de,D?oE:sE)(),J&&((T=[J+ue.os2,g+ee+zC]).t=b,(le=J===IC?jC(Z,ue)+g+ee:0)&&T.push(ue.d,le+zC),EA(T),ie&&eA.forEach((function(e){e.pin===ie&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)})),me&&Te(B)),me&&((k={top:A.top+(D?M-l:L)+zC,left:A.left+(D?L:M-l)+zC,boxSizing:"border-box",position:"fixed"})[TC]=k["max"+LC]=Math.ceil(A.width)+zC,k[MC]=k["max"+NC]=Math.ceil(A.height)+zC,k[RC]=k[RC+kC]=k[RC+PC]=k[RC+OC]=k[RC+DC]="0",k[IC]=S[IC],k[IC+kC]=S[IC+kC],k[IC+PC]=S[IC+PC],k[IC+OC]=S[IC+OC],k[IC+DC]=S[IC+DC],y=function(e,t,n){for(var r,i=[],a=e.length,o=n?8:0;o<a;o+=2)r=e[o],i.push(r,r in t?t[r]:e[o+1]);return i.t=e.t,i}(v,k,ae),QE&&Te(0)),n?(N=n._initted,NE(1),n.render(n.duration(),!0,!0),C=_(ue.a)-E+g+ee,P=Math.abs(g-C)>1,me&&P&&y.splice(y.length-2,2),n.render(0,!0,!0),N||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),NE(0)):C=g,j&&(j.value?j.style["overflow"+ue.a.toUpperCase()]=j.value:j.style.removeProperty("overflow-"+ue.a));else if(K&&Te()&&!se)for(A=K.parentNode;A&&A!==xE;)A._pinOffset&&(l-=A._pinOffset,c-=A._pinOffset),A=A.parentNode;U&&U.forEach((function(e){return e.revert(!1,!0)})),be.start=l,be.end=c,o=s=QE?B:Te(),se||QE||(o<B&&Te(B),be.scroll.rec=0),be.revert(!1,!0),Ce=$E(),z&&(Ee=-1,z.restart(!0)),ME=0,n&&he&&(n._initted||F)&&n.progress()!==F&&n.progress(F||0,!0).render(n.time(),!0,!0),(X||Ae!==be.progress||se)&&(n&&!he&&n.totalProgress(se&&l<-.001&&!Ae?gE.utils.normalize(l,c,0):Ae,!0),be.progress=X||(o-l)/g===Ae?0:Ae),Z&&J&&(b._pinOffset=Math.round(be.progress*C)),R&&R.invalidate(),isNaN(V)||(V-=gE.getProperty(d,ue.p),H-=gE.getProperty(f,ue.p),kA(d,ue,V),kA(u,ue,V-(x||0)),kA(f,ue,H),kA(h,ue,H-(x||0))),X&&!QE&&be.update(),!Y||QE||m||(m=!0,Y(be),m=!1)}},be.getVelocity=function(){return(Te()-s)/($E()-AE)*1e3||0},be.endAnimation=function(){xC(be.callbackAnimation),n&&(R?R.progress(1):n.paused()?he||xC(n,be.direction<0,1):xC(n,n.reversed()))},be.labelToScroll=function(e){return n&&n.labels&&(l||be.refresh()||l)+n.labels[e]/n.duration()*g||0},be.getTrailing=function(e){var t=eA.indexOf(be),n=be.direction>0?eA.slice(0,t).reverse():eA.slice(t+1);return(vC(e)?n.filter((function(t){return t.vars.preventOverlaps===e})):n).filter((function(e){return be.direction>0?e.end<=l:e.start>=c}))},be.update=function(e,t,i){if(!se||i||e){var a,u,h,f,p,m,v,x=!0===QE?B:be.scroll(),_=e?0:(x-l)/g,T=_<0?0:_>1?1:_||0,k=be.progress;if(t&&(s=o,o=se?Te():x,ie&&(I=O,O=n&&!he?n.totalProgress():T)),ee&&!T&&Z&&!ME&&!JE&&tC&&l<x+(x-s)/($E()-AE)*ee&&(T=1e-4),T!==k&&be.enabled){if(f=(p=(a=be.isActive=!!T&&T<1)!=(!!k&&k<1))||!!T!=!!k,be.direction=T>k?1:-1,be.progress=T,f&&!ME&&(u=T&&!k?0:1===T?1:1===k?2:3,he&&(h=!p&&"none"!==ve[u+1]&&ve[u+1]||ve[u],v=n&&("complete"===h||"reset"===h||h in n))),ce&&(p||v)&&(v||Q||!n)&&(yC(ce)?ce(be):be.getTrailing(ce).forEach((function(e){return e.endAnimation()}))),he||(!R||ME||JE?n&&n.totalProgress(T,!(!ME||!Ce&&!e)):(R._dp._time-R._start!==R._time&&R.render(R._dp._time-R._start),R.resetTo?R.resetTo("totalProgress",T,n._tTime/n._tDur):(R.vars.totalProgress=T,R.invalidate().restart()))),Z)if(e&&J&&(b.style[J+ue.os2]=A),me){if(f){if(m=!e&&T>k&&c+1>x&&x+1>=mC(de,ue),ae)if(e||!a&&!m)PA(Z,b);else{var L=UC(Z,!0),N=x-l;PA(Z,xE,L.top+(ue===sE?N:0)+zC,L.left+(ue===sE?0:N)+zC)}EA(a||m?y:w),P&&T<1&&a||S(E+(1!==T||m?0:C))}}else S(cC(E+C*T));ie&&!r.tween&&!ME&&!JE&&z.restart(!0),W&&(p||re&&T&&(T<1||!XE))&&EE(W.targets).forEach((function(e){return e.classList[a||re?"add":"remove"](W.className)})),G&&!he&&!e&&G(be),f&&!ME?(he&&(v&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),G&&G(be)),!p&&XE||(X&&p&&_C(be,X),ge[u]&&_C(be,ge[u]),re&&(1===T?be.kill(!1,1):ge[u]=0),p||ge[u=1===T?1:3]&&_C(be,ge[u])),le&&!a&&Math.abs(be.getVelocity())>(wC(le)?le:2500)&&(xC(be.callbackAnimation),R?R.progress(1):xC(n,"reverse"===h?1:!T,1))):he&&G&&!ME&&G(be)}if(D){var F=se?x/se.duration()*(se._caScrollDist||0):x;M(F+(d._isFlipped?1:0)),D(F)}U&&U(-x/se.duration()*(se._caScrollDist||0))}},be.enable=function(t,n){be.enabled||(be.enabled=!0,WC(de,"resize",aA),pe||WC(de,"scroll",rA),xe&&WC(e,"refreshInit",xe),!1!==t&&(be.progress=Ae=0,o=s=Ee=Te()),!1!==n&&be.refresh())},be.getTween=function(e){return e&&r?r.tween:R},be.setPositions=function(e,t,n,r){if(se){var i=se.scrollTrigger,a=se.duration(),o=i.end-i.start;e=i.start+o*e/a,t=i.start+o*t/a}be.refresh(!1,!1,{start:iC(e,n&&!!be._startClamp),end:iC(t,n&&!!be._endClamp)},r),be.update()},be.adjustPinSpacing=function(e){if(T&&e){var t=T.indexOf(ue.d)+1;T[t]=parseFloat(T[t])+e+zC,T[1]=parseFloat(T[1])+e+zC,EA(T)}},be.disable=function(t,n){if(be.enabled&&(!1!==t&&be.revert(!0,!0),be.enabled=be.isActive=!1,n||R&&R.pause(),B=0,i&&(i.uncache=1),xe&&qC(e,"refreshInit",xe),z&&(z.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!pe)){for(var a=eA.length;a--;)if(eA[a].scroller===de&&eA[a]!==be)return;qC(de,"resize",aA),pe||qC(de,"scroll",rA)}},be.kill=function(e,r){be.disable(e,r),R&&!r&&R.kill(),q&&delete tA[q];var a=eA.indexOf(be);a>=0&&eA.splice(a,1),a===kE&&yA>0&&kE--,a=0,eA.forEach((function(e){return e.scroller===be.scroller&&(a=1)})),a||QE||(be.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,d,f].forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),ZE===be&&(ZE=0),Z&&(i&&(i.uncache=1),a=0,eA.forEach((function(e){return e.pin===Z&&a++})),a||(i.spacer=0)),t.onKill&&t.onKill(be)},eA.push(be),be.enable(!1,!1),j&&j(be),n&&n.add&&!g){var ke=be.update;be.update=function(){be.update=ke,l||c||be.refresh()},gE.delayedCall(.01,be.update),g=.01,l=c=0}else be.refresh();Z&&function(){if(KE!==pA){var e=KE=pA;requestAnimationFrame((function(){return e===pA&&gA(!0)}))}}()}else this.update=this.refresh=this.kill=lC},e.register=function(t){return vE||(gE=t||hC(),uC()&&window.document&&e.enable(),vE=nC),vE},e.defaults=function(e){if(e)for(var t in e)QC[t]=e[t];return QC},e.disable=function(e,t){nC=0,eA.forEach((function(n){return n[t?"kill":"disable"](e)})),qC(yE,"wheel",rA),qC(wE,"scroll",rA),clearInterval(TE),qC(wE,"touchcancel",lC),qC(xE,"touchstart",lC),GC(qC,wE,"pointerdown,touchstart,mousedown",oC),GC(qC,wE,"pointerup,touchend,mouseup",sC),SE.kill(),gC(qC);for(var n=0;n<YS.length;n+=3)XC(qC,YS[n],YS[n+1]),XC(qC,YS[n],YS[n+2])},e.enable=function(){if(yE=window,wE=document,bE=wE.documentElement,xE=wE.body,gE&&(EE=gE.utils.toArray,CE=gE.utils.clamp,HE=gE.core.context||lC,NE=gE.core.suppressOverwrites||lC,GE=yE.history.scrollRestoration||"auto",vA=yE.pageYOffset,gE.core.globals("ScrollTrigger",e),xE)){nC=1,(WE=document.createElement("div")).style.height="100vh",WE.style.position="absolute",mA(),aC(),mE.register(gE),e.isTouch=mE.isTouch,VE=mE.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),WC(yE,"wheel",rA),_E=[yE,wE,bE,xE],gE.matchMedia?(e.matchMedia=function(e){var t,n=gE.matchMedia();for(t in e)n.add(t,e[t]);return n},gE.addEventListener("matchMediaInit",(function(){return dA()})),gE.addEventListener("matchMediaRevert",(function(){return hA()})),gE.addEventListener("matchMedia",(function(){gA(0,1),cA("matchMedia")})),gE.matchMedia("(orientation: portrait)",(function(){return iA(),iA}))):console.warn("Requires GSAP 3.11.0 or later"),iA(),WC(wE,"scroll",rA);var t,n,r=xE.style,i=r.borderTopStyle,a=gE.core.Animation.prototype;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",t=UC(xE),sE.m=Math.round(t.top+sE.sc())||0,oE.m=Math.round(t.left+oE.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),TE=setInterval(nA,250),gE.delayedCall(.5,(function(){return JE=0})),WC(wE,"touchcancel",lC),WC(xE,"touchstart",lC),GC(WC,wE,"pointerdown,touchstart,mousedown",oC),GC(WC,wE,"pointerup,touchend,mouseup",sC),DE=gE.utils.checkPrefix("transform"),xA.push(DE),vE=$E(),SE=gE.delayedCall(.2,gA).pause(),RE=[wE,"visibilitychange",function(){var e=yE.innerWidth,t=yE.innerHeight;wE.hidden?(OE=e,IE=t):OE===e&&IE===t||aA()},wE,"DOMContentLoaded",gA,yE,"load",gA,yE,"resize",aA],gC(WC),eA.forEach((function(e){return e.enable(0,1)})),n=0;n<YS.length;n+=3)XC(qC,YS[n],YS[n+1]),XC(qC,YS[n],YS[n+2])}},e.config=function(t){"limitCallbacks"in t&&(XE=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(TE)||(TE=n)&&setInterval(nA,n),"ignoreMobileResize"in t&&(FE=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(gC(qC)||gC(WC,t.autoRefreshEvents||"none"),zE=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=lE(e),r=YS.indexOf(n),i=dC(n);~r&&YS.splice(r,i?6:2),t&&(i?QS.unshift(yE,t,xE,t,bE,t):QS.unshift(n,t))},e.clearMatchMedia=function(e){eA.forEach((function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)}))},e.isInViewport=function(e,t,n){var r=(vC(e)?lE(e):e).getBoundingClientRect(),i=r[n?TC:MC]*t||0;return n?r.right-i>0&&r.left+i<yE.innerWidth:r.bottom-i>0&&r.top+i<yE.innerHeight},e.positionInViewport=function(e,t,n){vC(e)&&(e=lE(e));var r=e.getBoundingClientRect(),i=r[n?TC:MC],a=null==t?i/2:t in KC?KC[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+a)/yE.innerWidth:(r.top+a)/yE.innerHeight},e.killAll=function(e){if(eA.slice(0).forEach((function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()})),!0!==e){var t=oA.killAll||[];oA={},t.forEach((function(e){return e()}))}},e}();IA.version="3.12.2",IA.saveStyles=function(e){return e?EE(e).forEach((function(e){if(e&&e.style){var t=uA.indexOf(e);t>=0&&uA.splice(t,5),uA.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),gE.core.getCache(e),HE())}})):uA},IA.revert=function(e,t){return dA(!e,t)},IA.create=function(e,t){return new IA(e,t)},IA.refresh=function(e){return e?aA():(vE||IA.register())&&gA(!0)},IA.update=function(e){return++YS.cache&&wA(!0===e?2:0)},IA.clearScrollMemory=fA,IA.maxScroll=function(e,t){return mC(e,t?oE:sE)},IA.getScrollFunc=function(e,t){return cE(lE(e),t?oE:sE)},IA.getById=function(e){return tA[e]},IA.getAll=function(){return eA.filter((function(e){return"ScrollSmoother"!==e.vars.id}))},IA.isScrolling=function(){return!!tC},IA.snapDirectional=HC,IA.addEventListener=function(e,t){var n=oA[e]||(oA[e]=[]);~n.indexOf(t)||n.push(t)},IA.removeEventListener=function(e,t){var n=oA[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},IA.batch=function(e,t){var n,r=[],i={},a=t.interval||.016,o=t.batchMax||1e9,s=function(e,t){var n=[],r=[],i=gE.delayedCall(a,(function(){t(n,r),n=[],r=[]})).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),o<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&yC(t[n])&&"onRefreshInit"!==n?s(0,t[n]):t[n];return yC(o)&&(o=o(),WC(IA,"refresh",(function(){return o=t.batchMax()}))),EE(e).forEach((function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(IA.create(t))})),r};var RA,LA=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},NA=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(mE.isTouch?" pinch-zoom":""):"none",t===bE&&e(xE,n)},zA={auto:1,scroll:1},BA=function(e){var t,n=e.event,r=e.target,i=e.axis,a=(n.changedTouches?n.changedTouches[0]:n).target,o=a._gsap||gE.core.getCache(a),s=$E();if(!o._isScrollT||s-o._isScrollT>2e3){for(;a&&a!==xE&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!zA[(t=BC(a)).overflowY]&&!zA[t.overflowX]);)a=a.parentNode;o._isScroll=a&&a!==r&&!dC(a)&&(zA[(t=BC(a)).overflowY]||zA[t.overflowX]),o._isScrollT=s}(o._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},FA=function(e,t,n,r){return mE.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&BA,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&WC(wE,mE.eventTypes[0],jA,!1,!0)},onDisable:function(){return qC(wE,mE.eventTypes[0],jA,!0)}})},UA=/(input|label|select|textarea)/i,jA=function(e){var t=UA.test(e.target.tagName);(t||RA)&&(e._gsapAllow=!0,RA=t)};function VA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}IA.sort=function(e){return eA.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},IA.observe=function(e){return new mE(e)},IA.normalizeScroll=function(e){if(void 0===e)return BE;if(!0===e&&BE)return BE.enable();if(!1===e)return BE&&BE.kill();var t=e instanceof mE?e:function(e){bC(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,a,o,s,l,c=e,u=c.normalizeScrollX,h=c.momentum,d=c.allowNestedScroll,f=c.onRelease,p=lE(e.target)||bE,m=gE.core.globals().ScrollSmoother,g=m&&m.get(),v=VE&&(e.content&&lE(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),y=cE(p,sE),w=cE(p,oE),b=1,x=(mE.isTouch&&yE.visualViewport?yE.visualViewport.scale*yE.visualViewport.width:yE.outerWidth)/yE.innerWidth,_=0,S=yC(h)?function(){return h(t)}:function(){return h||2.8},E=FA(p,e.type,!0,d),C=function(){return i=!1},A=lC,T=lC,M=function(){n=mC(p,sE),T=CE(VE?1:0,n),u&&(A=CE(0,mC(p,oE))),r=pA},P=function(){v._gsap.y=cC(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},D=function(){M(),a.isActive()&&a.vars.scrollY>n&&(y()>n?a.progress(1)&&y(n):a.resetTo("scrollY",n))};return v&&gE.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return VE&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(C);var e=cC(t.deltaY/2),n=T(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=cC((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=YS.cache,wA()}return!0}y.offset&&P(),i=!0}()||b>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=b;b=cC((yE.visualViewport&&yE.visualViewport.scale||1)/x),a.pause(),e!==b&&NA(p,b>1.01||!u&&"x"),o=w(),s=y(),M(),r=pA},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&P(),t){YS.cache++;var r,i,o=S();u&&(i=(r=w())+.05*o*-e.velocityX/.227,o*=LA(w,r,i,mC(p,oE)),a.vars.scrollX=A(i)),i=(r=y())+.05*o*-e.velocityY/.227,o*=LA(y,r,i,mC(p,sE)),a.vars.scrollY=T(i),a.invalidate().duration(o).play(.01),(VE&&a.vars.scrollY>=n||r>=n-1)&&gE.to({},{onUpdate:D,duration:o})}else l.restart(!0);f&&f(e)},e.onWheel=function(){a._ts&&a.pause(),$E()-_>1e3&&(r=0,_=$E())},e.onChange=function(e,t,n,i,a){if(pA!==r&&M(),t&&u&&w(A(i[2]===t?o+(e.startX-e.x):w()+t-i[1])),n){y.offset&&P();var l=a[2]===n,c=l?s+e.startY-e.y:y()+n-a[1],h=T(c);l&&c!==h&&(s+=h-c),y(h)}(n||t)&&wA()},e.onEnable=function(){NA(p,!u&&"x"),IA.addEventListener("refresh",D),WC(yE,"resize",D),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=w.smooth=!1),E.enable()},e.onDisable=function(){NA(p,!0),qC(yE,"resize",D),IA.removeEventListener("refresh",D),E.kill()},e.lockAxis=!1!==e.lockAxis,(t=new mE(e)).iOS=VE,VE&&!y()&&y(1),VE&&gE.ticker.add(lC),l=t._dc,a=gE.to(t,{ease:"power4",paused:!0,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:DA(y,y(),(function(){return a.pause()}))},onUpdate:wA,onComplete:l.vars.onComplete}),t}(e);return BE&&BE.target===t.target&&BE.kill(),dC(t.target)&&(BE=t),t},IA.core={_getVelocityProp:uE,_inputObserver:FA,_scrollers:YS,_proxies:QS,bridge:{ss:function(){tC||cA("scrollStart"),tC=$E()},ref:function(){return ME}}},hC()&&gE.registerPlugin(IA),Eh.registerPlugin(IA);var HA=function(t){var n,r,i=t.data,a=(0,e.useRef)(),o=(0,e.useContext)(TS),s=o.finished,l=o.a_ref,c=o.downloadState,u=o.setDownloadState,h=o.iosIsDownloading,d=o.setIosIsDownloading,f=(0,Sp.useClipboard)(),p=(n=(0,e.useState)(1),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(n,r)||function(e,t){if(e){if("string"==typeof e)return VA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VA(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],g=p[1],v=function(t,n){Zv(e.createElement("span",null,"正在下载视频",n,": ",e.createElement("span",{style:{color:"rgb(96, 165, 250)",width:"66px",display:"inline-block",textAlign:"right"}},t,"%")),"downloading_video"+n)},y=function(e){Yv.dismiss("downloading_video"+e),Kv("视频"+e+"下载完毕 !","finished_video"+e)},w=i?Math.ceil(i.length/10):0;m>w&&g(1);var b=(0,e.useRef)(null);return(0,e.useEffect)((function(){var e=function(){if(!i)return console.error("[Error] data is null."),[];var e=10*(m-1),t=e+10;return t>i.length&&(t=i.length),t-e}();b&&null===b.current?b.current=Eh.fromTo(".gsap_popup_a",{y:e>3?240:e>2?160:80,opacity:0},{scrollTrigger:{trigger:"#rootWrapper",start:"top+=920 bottom",end:"top+=".concat(e>4?1860:e>3?1760:e>2?1660:2===e?1460:1260," bottom"),scrub:1.5},y:0,opacity:1,duration:e>1?1.5:1,ease:"power1.out",repeat:0}):b&&(b.current.kill(),b.current=Eh.fromTo(".gsap_popup_a",{y:e>3?240:e>2?160:80,opacity:0},{scrollTrigger:{trigger:"#rootWrapper",start:"top+=920 bottom",end:"top+=".concat(e>4?1860:e>3?1760:e>2?1660:2===e?1460:1260," bottom"),scrub:1.5},y:0,opacity:1,duration:e>1?1.5:1,ease:"power1.out",repeat:0}))}),[m,i.length]),e.createElement("div",null,e.createElement(WA,{ref:a},"锚点"),e.createElement(qA,{id:"dataContainer",className:"gsap_popup_a"},e.createElement(XA,null,"共 ",e.createElement(YA,null,i?i.length:" - ")," 个分P"),function(){if(!i)return console.error("[Error] data is null."),[];var e=10*(m-1),t=e+10;return i.slice(e,t)}().map((function(t,n){return e.createElement(QA,{key:n,className:"gsap_popup_a"},e.createElement(KA,null,e.createElement(AS,null,e.createElement(ZA,null,"P",e.createElement(JA,null,t.index+1)))),e.createElement(AS,null,e.createElement($A,null,e.createElement(eT,null,e.createElement("span",null,"时"),e.createElement("span",null,"长")),e.createElement(tT,null,t.durationFormat))),e.createElement(AS,null,e.createElement(nT,null,e.createElement("span",null,"原尺寸"),e.createElement("span",null,e.createElement(rT,null,t.width),e.createElement(xo,{icon:Cn.g8}),e.createElement(iT,null,t.height)))),e.createElement(AS,null,e.createElement(p_,{icon:e.createElement(aT,{icon:bS.kZ}),placeholder:"无分P标题",desc:"分P视频标题",id:"input_title_sub"+n,text:t.title||"",iconOnClick:function(){t?(f.copy(t.title),Kv("P"+(t.index+1)+" 视频标题Copied !","sub_title_"+(t.index+1)+"_copy")):Qv("P"+(t.index+1)+" 视频标题 Copy失败 !","sub_title_"+(t.index+1)+"_copy_error")},data_tooltip_id:"p_title_tooltip"+n,data_tooltip_content:t?t.title:"",data_tooltip_variant:"info",readOnly:!0}),e.createElement(oT,{id:"p_title_tooltip"+n,place:"top"})),e.createElement(sT,null,e.createElement(lT,{disabled:!s,h:"36px",w:"140px",onClick:function(){f.copy(t.url),Kv("P"+(t.index+1)+" 视频URL Copied !","video_url_copy")}},s?e.createElement(e.Fragment,null,"视频URL",e.createElement(uT,{icon:bS.kZ,beat:!0})):e.createElement(e.Fragment,null,"暂无解析",e.createElement(cT,{icon:bS.kZ,fade:!0}))),e.createElement(hT,{disabled:!s||c.get(t.index)||h,h:"36px",w:"140px",onClick:function(){if(t){var e=l.current;u((function(e){var n=new Map(e);return n.set(t.index,!0),n})),Mo()&&d((function(e){return!0})),To(t.url,v,y,t.index+1).then((function(n){e.href=URL.createObjectURL(n),e.download="P"+(t.index+1)+" - "+t.title+".mp4",e.click();var r=JSON.parse(decodeURIComponent(sessionStorage.getItem("bilibili_states"))),i=new Map(r.downloadStateArray);i.set(t.index,!1),r.downloadStateArray=Array.from(i),sessionStorage.setItem("bilibili_states",encodeURIComponent(JSON.stringify(r))),u((function(e){var n=new Map(e);return n.set(t.index,!1),n})),Mo()&&d((function(e){return!1}))})).catch((function(e){console.log(e),Qv("视频".concat(t.index+1,"下载被中断，请重试 !"),"download_video_error"+(t.index+1));var n=JSON.parse(decodeURIComponent(sessionStorage.getItem("bilibili_states"))),r=new Map(n.downloadStateArray);r.set(t.index,!1),n.downloadStateArray=Array.from(r),sessionStorage.setItem("bilibili_states",encodeURIComponent(JSON.stringify(n))),u((function(e){var n=new Map(e);return n.set(t.index,!1),n})),Mo()&&d((function(e){return!1}))}))}}},s?c.get(t.index)?e.createElement(e.Fragment,null,"下载中",e.createElement(fT,{icon:Mh.LM,spin:!0})):e.createElement(e.Fragment,null,"下载视频",e.createElement(pT,{icon:U_.q7,beat:!0})):e.createElement(e.Fragment,null,"暂无解析",e.createElement(dT,{icon:PS.Cj,fade:!0})))))}))),w>1?e.createElement(mT,null,e.createElement(Zp,{content:"Last",onClick:function(){m>1&&g(m-1),setTimeout((function(){a.current.scrollIntoView({behavior:"smooth"})}),100)}},e.createElement(gT,{icon:V_.ac})),e.createElement("div",{id:"paginationContainer"},e.createElement(AS,{className:"pagination"},function(){var t=[];if(w<=3)for(var n=function(n){t.push(e.createElement(Jp,{key:n,active:m===n,onClick:function(){g(n),setTimeout((function(){a.current.scrollIntoView({behavior:"smooth"})}),100)}},n))},r=1;r<=w;r++)n(r);else t.push(e.createElement(AS,null,e.createElement(Jp,{key:m,active:!0,onClick:function(){setTimeout((function(){a.current.scrollIntoView({behavior:"smooth"})}),100)}},m),e.createElement(GA,null,"/"),e.createElement(Jp,{key:"totalPages",onClick:function(){g(w),setTimeout((function(){a.current.scrollIntoView({behavior:"smooth"})}),100)}},w))),t.push(e.createElement(Bp,{closeClassName:"closeClassName",animate:"b.3",button:e.createElement(Jp,{key:"morePage"},e.createElement(xo,{icon:DS.gf})),menu:e.createElement(Up,{closeClassName:"closeClassName",_b:"12px",_l:"-35px",validText:"第 ".concat(m," 页"),list:Array.from({length:w},(function(e,t){return"第 "+(t+1)+" 页"})),onClick:function(e){e.target.id.includes("pageLi_")&&(g(parseInt(e.target.id.slice(7),10)),setTimeout((function(){a.current.scrollIntoView({behavior:"smooth"})}),100))}})}));return t}())),e.createElement(Zp,{content_direction:"before",content:"Next",onClick:function(){m<w&&g(m+1),setTimeout((function(){a.current.scrollIntoView({behavior:"smooth"})}),100)}},e.createElement(vT,{icon:MS.eF}))):"")},GA=bn("span").withConfig({displayName:"Pagination___StyledSpan",componentId:"sc-1g9mhgq-0"})({userSelect:"none",paddingLeft:"0.25rem",paddingRight:"0.25rem",textAlign:"center",verticalAlign:"sub",fontSize:"1.25rem",lineHeight:"3rem",fontWeight:"700","--tw-text-opacity":"1",color:"rgb(107 114 128 / var(--tw-text-opacity))"}),WA=bn("div").withConfig({displayName:"Pagination___StyledDiv",componentId:"sc-1g9mhgq-1"})({visibility:"hidden",position:"relative",top:"-1rem",height:"0.125rem"}),qA=bn("div").withConfig({displayName:"Pagination___StyledDiv2",componentId:"sc-1g9mhgq-2"})({position:"relative"}),XA=bn(Rh).withConfig({displayName:"Pagination___StyledInLineTitle",componentId:"sc-1g9mhgq-3"})({position:"relative",marginTop:"3rem"}),YA=bn("span").withConfig({displayName:"Pagination___StyledSpan2",componentId:"sc-1g9mhgq-4"})({paddingLeft:"0.25rem",paddingRight:"0.25rem",textAlign:"center","--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"}),QA=bn(CS).withConfig({displayName:"Pagination___StyledContentWrapper",componentId:"sc-1g9mhgq-5"})({marginTop:"2rem"}),KA=bn(CS).withConfig({displayName:"Pagination___StyledContentWrapper2",componentId:"sc-1g9mhgq-6"})({position:"absolute",top:"-1.25rem",left:"auto",right:"auto",margin:"0px",minHeight:"0px",paddingLeft:"1.5rem",paddingRight:"1.5rem",paddingTop:"0.25rem",paddingBottom:"0.25rem","--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",":active":{"--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},"@media (min-width: 768px)":{paddingLeft:"2rem",paddingRight:"2rem",":hover":{"--tw-shadow":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"},":active":{"--tw-shadow":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--tw-shadow-colored":"0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)"}}}),ZA=bn(Rh).withConfig({displayName:"Pagination___StyledInLineTitle2",componentId:"sc-1g9mhgq-7"})({fontSize:"28px"}),JA=bn("span").withConfig({displayName:"Pagination___StyledSpan3",componentId:"sc-1g9mhgq-8"})({paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"}),$A=bn(Rh).withConfig({displayName:"Pagination___StyledInLineTitle3",componentId:"sc-1g9mhgq-9"})({display:"flex",minWidth:"298px",maxWidth:"330px",flexDirection:"row",justifyContent:"space-between",fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"500"}),eT=bn("span").withConfig({displayName:"Pagination___StyledSpan4",componentId:"sc-1g9mhgq-10"})({display:"flex",width:"72px",flexDirection:"row",justifyContent:"space-between"}),tT=bn("span").withConfig({displayName:"Pagination___StyledSpan5",componentId:"sc-1g9mhgq-11"})({"--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"}),nT=bn(Rh).withConfig({displayName:"Pagination___StyledInLineTitle4",componentId:"sc-1g9mhgq-12"})({display:"flex",minWidth:"298px",maxWidth:"330px",flexDirection:"row",justifyContent:"space-between",fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"500"}),rT=bn("span").withConfig({displayName:"Pagination___StyledSpan6",componentId:"sc-1g9mhgq-13"})({"--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"}),iT=bn("span").withConfig({displayName:"Pagination___StyledSpan7",componentId:"sc-1g9mhgq-14"})({"--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"}),aT=bn(xo).withConfig({displayName:"Pagination___StyledFontAwesomeIcon",componentId:"sc-1g9mhgq-15"})({marginLeft:"0.25rem"}),oT=bn(r_).withConfig({displayName:"Pagination___StyledTooltip",componentId:"sc-1g9mhgq-16"})({position:"absolute",zIndex:"200",maxWidth:"20rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","@media (min-width: 768px)":{maxWidth:"32rem"}}),sT=bn(AS).withConfig({displayName:"Pagination___StyledLineWrapper",componentId:"sc-1g9mhgq-17"})({marginTop:"0.5rem"}),lT=bn(Qp).withConfig({displayName:"Pagination___StyledMButton",componentId:"sc-1g9mhgq-18"})({borderRadius:"9999px","@media (min-width: 768px)":{marginRight:"1.5rem"}}),cT=bn(xo).withConfig({displayName:"Pagination___StyledFontAwesomeIcon2",componentId:"sc-1g9mhgq-19"})({marginLeft:"0.25rem"}),uT=bn(xo).withConfig({displayName:"Pagination___StyledFontAwesomeIcon3",componentId:"sc-1g9mhgq-20"})({marginLeft:"0.25rem"}),hT=bn(Qp).withConfig({displayName:"Pagination___StyledMButton2",componentId:"sc-1g9mhgq-21"})({borderRadius:"9999px","@media (min-width: 768px)":{marginLeft:"1.5rem"}}),dT=bn(xo).withConfig({displayName:"Pagination___StyledFontAwesomeIcon4",componentId:"sc-1g9mhgq-22"})({marginLeft:"0.25rem"}),fT=bn(xo).withConfig({displayName:"Pagination___StyledFontAwesomeIcon5",componentId:"sc-1g9mhgq-23"})({marginLeft:"0.25rem"}),pT=bn(xo).withConfig({displayName:"Pagination___StyledFontAwesomeIcon6",componentId:"sc-1g9mhgq-24"})({marginLeft:"0.25rem"}),mT=bn(AS).withConfig({displayName:"Pagination___StyledLineWrapper2",componentId:"sc-1g9mhgq-25"})({marginTop:"1.5rem"}),gT=bn(xo).withConfig({displayName:"Pagination___StyledFontAwesomeIcon7",componentId:"sc-1g9mhgq-26"})({position:"relative",top:"-1px",verticalAlign:"middle","@media (min-width: 768px)":{paddingRight:"1rem"}}),vT=bn(xo).withConfig({displayName:"Pagination___StyledFontAwesomeIcon8",componentId:"sc-1g9mhgq-27"})({position:"relative",top:"-1px",verticalAlign:"middle","@media (min-width: 768px)":{paddingLeft:"1rem"}}),yT={DATABASE_ERROR:"1001",INVALID_INPUT:"1002",NETWORK_ERROR:"1003",PERMISSION_DENIED:"1004",NONE_RESULT_ERROR:"1005"};function wT(e){return wT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wT(e)}function bT(){bT=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==wT(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function xT(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function _T(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){xT(a,r,i,o,s,"next",e)}function s(e){xT(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ST(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ET(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ET(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ET(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CT(){var t="images/image-blue-300.svg",n=(0,Sp.useClipboard)(),r=me(),i=(0,e.useRef)(null),a=(0,e.useRef)(null),o=ST((0,e.useState)(""),2),s=o[0],l=o[1],c=ST((0,e.useState)(null),2),u=c[0],h=c[1],d=ST((0,e.useState)(null),2),f=d[0],p=d[1],m=ST((0,e.useState)(0),2),g=m[0],v=m[1],y=ST((0,e.useState)(!1),2),w=y[0],b=y[1],x=ST((0,e.useState)(!1),2),_=x[0],S=x[1],E=ST((0,e.useState)(!1),2),C=E[0],A=E[1],T=ST((0,e.useState)(t),2),M=T[0],P=T[1],D=ST((0,e.useState)(new Map),2),k=D[0],O=D[1],I=ST((0,e.useState)(!1),2),R=I[0],L=I[1],N=ST((0,e.useState)(!1),2),z=N[0],B=N[1],F=function(){var e=_T(bT().mark((function e(){var t,n;return bT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=["bilibili"],e.prev=1,e.next=4,Promise.all(t.map((function(e){return tp.awaitCountAPI("GET",e)})));case 4:return n=e.sent,v(n.map((function(e){return e.data&&e.data[0]&&e.data[0].count}))[0]),e.abrupt("return","Succeed to fetch count");case 9:throw e.prev=9,e.t0=e.catch(1),"Failed to fetch count";case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){F().then((function(e){return console.log(e)})).catch((function(e){return console.warn(e)}));var e=setInterval((function(){B((function(e){return!e}))}),4e3);return function(){return clearInterval(e)}}),[]);var U=(0,e.useCallback)((function(e){l(e.target.value),A(!1)}),[]),j=(0,e.useCallback)((function(e){"Enter"===e.key&&(a.current.click(),a.current.focus())}),[]);function V(){return(V=_T(bT().mark((function e(n,r){var i;return bT().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yf.get(n,{params:r});case 3:if(0!==(i=e.sent).data.code){e.next=8;break}throw new Error("1005");case 8:if(10085!==i.data.code){e.next=10;break}return e.abrupt("return",i);case 10:return h(i.data.data),p(i.data.data.list),S(!0),e.next=15,Yf.get(i.data.data.cover,{responseType:"blob"});case 15:return Po(e.sent.data).then((function(e){P(e)})),Kv("解析成功 !","resolving_success"),setTimeout((function(){window.scroll({top:425,left:0,behavior:"smooth"})}),200),e.t0=v,e.next=23,tp.awaitCountAPI("PUT","bilibili");case 23:e.t1=e.sent.data[0].count,(0,e.t0)(e.t1),b(!1),e.next=32;break;case 28:e.prev=28,e.t2=e.catch(0),e.t2.message===yT.NONE_RESULT_ERROR?(console.warn("None result error"),p(null),Qv("解析失败，请检查URL或重试 !","resolving_error"),S(!1),A(!0),P(t),h(null),console.error("Failed to resolve video URL.",e.t2)):console.warn("Failed to put counts"),b(!1);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)}var H=function e(t,n,r){(function(e,t){return V.apply(this,arguments)})(t,n).then((function(i){0!==r&&10085===i.data.code&&setTimeout((function(){e(t,n,r-1)}),800)})).catch((function(e){return e}))};return Ue((function(){if(null!==u){var e=Array.from(k);sessionStorage.setItem("bilibili_states",JSON.stringify({text:s,data:u,list:f,loading:w,finished:_,invalid:C,cover:M,downloadStateArray:e,iosIsDownloading:R}))}})),(0,e.useEffect)((function(){if(null!==u){var e=Array.from(k);sessionStorage.setItem("bilibili_states",JSON.stringify({text:s,data:u,list:f,loading:w,finished:_,invalid:C,cover:M,downloadStateArray:e,iosIsDownloading:R}))}}),[s,u,f,w,_,C,M,k]),(0,e.useEffect)((function(){if(sessionStorage.getItem("bilibili_states")){var e=JSON.parse(decodeURIComponent(sessionStorage.getItem("bilibili_states")));l(e.text?e.text:""),h(e.data?e.data:null),p(e.list?e.list:null),b(e.loading),S(e.finished),A(e.invalid),P(e.cover),O(new Map(e.downloadStateArray)),L(e.iosIsDownloading)}return function(){}}),[]),e.createElement(AT,null,e.createElement(ES,null,e.createElement(SS,null,e.createElement(Zp,{onClick:function(){r("/tools"),window.scroll(0,0)}},e.createElement(TT,{icon:V_.ac}))),e.createElement(MT,null,e.createElement(PT,null,"bilibili视频解析"),e.createElement(DT,null,e.createElement(hd,{isOn:g&&z,onContent:g&&"已使用".concat(g,"次"),offContent:"封面 | 视频 下载",fadeStyle:"down",className:"fadeBiliSubTextA"})))),e.createElement(CS,null,e.createElement(AS,null,e.createElement(Rh,null,"输入",e.createElement(kT,{icon:vp}),"链接")),e.createElement(AS,null,e.createElement(p_,{icon:e.createElement(OT,{icon:Ib.bL}),placeholder:" ",desc:"输入bilibili视频URL",id:"input_bilibili",onChange:U,onKeyPress:j,invalid:C,text:s,setText:l,iconOnClick:function(){l&&l("")},data_tooltip_id:"url_tooltip",data_tooltip_content:"直接粘贴B站分享文本即可",data_tooltip_variant:"info"})),e.createElement(IT,{id:"url_tooltip",offset:20,openOnClick:!0,place:"top",hidden:!!s}),e.createElement(RT,null,e.createElement(LT,{disabled:w,h:"36px",w:"140px",onClick:function(e){var t;if(!s)return A(!0),void Qv("请输入有效的URL","input_error");if(!(t=s.match(/https?:\/\/[^\s/$.?#]*[^\s/$.$].[^\s]*/gi)))return A(!0),void Qv("请输入有效的URL","input_error_2");b(!0);var n={url:btoa(t[0]),app_id:ep.app_id,app_secret:ep.app_secret};H("https://www.mxnzp.com/api/bilibili/video",n,10)},ref:a},w?e.createElement(e.Fragment,null,"解析中",e.createElement(NT,{icon:Mh.LM,spin:!0})):e.createElement(e.Fragment,null,"解析链接",e.createElement(zT,{icon:_S.EF,shake:!0}))))),e.createElement(CS,null,e.createElement(AS,null,e.createElement(BT,null,"获取",e.createElement(FT,{icon:xS.nN}),"结果")),e.createElement(AS,null,e.createElement(qp,{duration:"1.2s",fadeStyle:"scale",h:_&&M!==t?"150px":"100px",w:_&&M!==t?"256px":"171px",url:M})),e.createElement(AS,null,e.createElement(p_,{icon:e.createElement(UT,{icon:bS.kZ}),placeholder:"待解析",desc:"视频标题",id:"input_title_main",text:u?u.title:"",iconOnClick:function(){u?(n.copy(u.title),Kv("视频标题Copied !","title_copy")):Qv("视频标题Copy失败 !","title_copy_error")},data_tooltip_id:"title_tooltip",data_tooltip_content:u?u.title:"",data_tooltip_variant:"info",readOnly:!0}),e.createElement(jT,{id:"title_tooltip",offset:15})),e.createElement(AS,null,e.createElement(p_,{icon:e.createElement(VT,{icon:bS.kZ}),placeholder:"待解析",desc:"视频描述",id:"input_desc_main",text:u?""===u.desc?"无描述":u.desc:"",iconOnClick:function(){u?(n.copy(u.desc),Kv("视频描述Copied !","description_copy")):Qv("视频描述Copy失败 !","description_copy_error")},data_tooltip_id:"desc_tooltip",data_tooltip_content:u?u.desc:"",data_tooltip_variant:"info",readOnly:!0}),e.createElement(HT,{id:"desc_tooltip",offset:15})),e.createElement(GT,null,e.createElement(WT,{disabled:!_,h:"36px",w:"140px",onClick:function(){n.copy(u?u.cover:""),Kv("封面URL Copied !","cover_url_copy")}},_?e.createElement(e.Fragment,null,"封面URL",e.createElement(XT,{icon:bS.kZ,beat:!0})):e.createElement(e.Fragment,null,"暂无解析",e.createElement(qT,{icon:bS.kZ,fade:!0}))),e.createElement(YT,{disabled:!_||R,h:"36px",w:"140px",onClick:function(e){if(u){var t=i.current;t.href=M,t.download=u.title,t.click(),Kv("下载封面成功 !","download_pic_success")}}},_?e.createElement(e.Fragment,null,"下载封面",e.createElement(KT,{icon:U_.q7,beat:!0})):e.createElement(e.Fragment,null,"暂无解析",e.createElement(QT,{icon:wS.Vm,fade:!0}))),e.createElement(ZT,{ref:i,target:"_blank",rel:"noopener noreferrer"}))),e.createElement(TS.Provider,{value:{finished:_,a_ref:i,downloadState:k,setDownloadState:O,iosIsDownloading:R,setIosIsDownloading:L}},f?e.createElement(HA,{data:f.map((function(e,t){return e.index=t,e}))}):""))}var AT=bn(In).withConfig({displayName:"BilibiliPage___StyledPaddingWrapper",componentId:"sc-9dnyia-0"})({gridColumn:"span 4 / span 4"}),TT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon",componentId:"sc-9dnyia-1"})({position:"relative",top:"-1px",verticalAlign:"middle","@media (min-width: 768px)":{paddingRight:"1rem"}}),MT=bn("div").withConfig({displayName:"BilibiliPage___StyledDiv",componentId:"sc-9dnyia-2"})({position:"relative",display:"flex",flexDirection:"column",textAlign:"right"}),PT=bn(Dh).withConfig({displayName:"BilibiliPage___StyledH",componentId:"sc-9dnyia-3"})({fontSize:"1.875rem",lineHeight:"2.25rem"}),DT=bn("div").withConfig({displayName:"BilibiliPage___StyledDiv2",componentId:"sc-9dnyia-4"})({position:"absolute",bottom:"-0.75rem",right:"0.25rem","@keyframes fade_in_up":{"0%":{opacity:"0",transform:"translateY(15px)"},"100%":{opacity:"1",transform:"translateY(0)"}},animation:"fade_in_up .4s ease-out forwards","--tw-text-opacity":"1",color:"rgb(156 163 175 / var(--tw-text-opacity))"}),kT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon2",componentId:"sc-9dnyia-5"})({paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgb(244 114 182 / var(--tw-text-opacity))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}),OT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon3",componentId:"sc-9dnyia-6"})({marginLeft:"0.25rem"}),IT=bn(r_).withConfig({displayName:"BilibiliPage___StyledTooltip",componentId:"sc-9dnyia-7"})({position:"absolute",zIndex:"200",maxWidth:"20rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","@media (min-width: 768px)":{maxWidth:"32rem"}}),RT=bn(AS).withConfig({displayName:"BilibiliPage___StyledLineWrapper",componentId:"sc-9dnyia-8"})({marginTop:"0.5rem"}),LT=bn(Qp).withConfig({displayName:"BilibiliPage___StyledMButton",componentId:"sc-9dnyia-9"})({borderRadius:"9999px"}),NT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon4",componentId:"sc-9dnyia-10"})({marginLeft:"0.25rem"}),zT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon5",componentId:"sc-9dnyia-11"})({marginLeft:"0.25rem"}),BT=bn(Rh).withConfig({displayName:"BilibiliPage___StyledInLineTitle",componentId:"sc-9dnyia-12"})({marginBottom:"0.5rem"}),FT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon6",componentId:"sc-9dnyia-13"})({paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}),UT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon7",componentId:"sc-9dnyia-14"})({marginLeft:"0.25rem"}),jT=bn(r_).withConfig({displayName:"BilibiliPage___StyledTooltip2",componentId:"sc-9dnyia-15"})({position:"absolute",zIndex:"200",maxWidth:"20rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","@media (min-width: 768px)":{maxWidth:"32rem"}}),VT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon8",componentId:"sc-9dnyia-16"})({marginLeft:"0.25rem"}),HT=bn(r_).withConfig({displayName:"BilibiliPage___StyledTooltip3",componentId:"sc-9dnyia-17"})({position:"absolute",zIndex:"200",maxWidth:"20rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","@media (min-width: 768px)":{maxWidth:"32rem"}}),GT=bn(AS).withConfig({displayName:"BilibiliPage___StyledLineWrapper2",componentId:"sc-9dnyia-18"})({marginTop:"0.5rem"}),WT=bn(Qp).withConfig({displayName:"BilibiliPage___StyledMButton2",componentId:"sc-9dnyia-19"})({borderRadius:"9999px","@media (min-width: 768px)":{marginRight:"1.5rem"}}),qT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon9",componentId:"sc-9dnyia-20"})({marginLeft:"0.25rem"}),XT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon10",componentId:"sc-9dnyia-21"})({marginLeft:"0.25rem"}),YT=bn(Qp).withConfig({displayName:"BilibiliPage___StyledMButton3",componentId:"sc-9dnyia-22"})({borderRadius:"9999px","@media (min-width: 768px)":{marginLeft:"1.5rem"}}),QT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon11",componentId:"sc-9dnyia-23"})({marginLeft:"0.25rem"}),KT=bn(xo).withConfig({displayName:"BilibiliPage___StyledFontAwesomeIcon12",componentId:"sc-9dnyia-24"})({marginLeft:"0.25rem"}),ZT=bn("a").withConfig({displayName:"BilibiliPage___StyledA",componentId:"sc-9dnyia-25"})({display:"none"}),JT=bn.div.withConfig({displayName:"Styledtwin__ButtonWrapper",componentId:"sc-1em7evv-0"})([""]),$T=bn.div.withConfig({displayName:"Styledtwin__HeaderWrapper",componentId:"sc-1em7evv-1"})(["display:flex;flex-direction:row;justify-content:space-between;"]),eM=bn(Ep).withConfig({displayName:"Styledtwin__ContentWrapper",componentId:"sc-1em7evv-2"})(["margin:20px 0 0 0;padding:20px 12px;background-color:white;text-align:center;gap:10px;&::-webkit-scrollbar{display:none;}"]),tM=bn.div.withConfig({displayName:"Styledtwin__LineWrapper",componentId:"sc-1em7evv-3"})(["display:flex;flex-direction:row;justify-content:space-around;gap:18px;flex-grow:1;min-width:60%;&>*{margin-left:auto;margin-right:auto;}"]);function nM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rM(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var iM=bn.div.withConfig({displayName:"FadeInOnViewport__Wrapper",componentId:"sc-yl7jle-0"})(["display:contents;& *{transition:all 0.6s ease-out;",";}",";"],(function(e){return e.fade_in?"opacity: 1":"opacity: 0"}),(function(e){return e._tw||""})),aM=function(t){var n=nM((0,e.useState)(!1),2),r=n[0],i=n[1],a=nM(lb(),2),o=a[0],s=a[1],l=nM((0,e.useState)(Ao(1,9999)),1)[0];return(0,e.useEffect)((function(){s&&!r&&i(!0)}),[s,r]),e.createElement(iM,{fade_in:r,_tw:t.tw,key:t.key?t.key:l},e.createElement(oM,{ref:o}," "),t.children)},oM=bn("span").withConfig({displayName:"FadeInOnViewport___StyledSpan",componentId:"sc-yl7jle-1"})({visibility:"hidden"});function sM(e){return sM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sM(e)}function lM(){lM=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==t&&n.call(v,a)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var l=u(e[r],e,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==sM(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(l.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function cM(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function uM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hM(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dM(){var t="images/image-blue-300.svg",n=(0,Sp.useClipboard)(),r=me(),i=(0,e.useRef)(null),a=(0,e.useRef)(null),o=uM((0,e.useState)(""),2),s=o[0],l=o[1],c=uM((0,e.useState)(null),2),u=c[0],h=c[1],d=uM((0,e.useState)(0),2),f=(d[0],d[1]),p=uM((0,e.useState)(!1),2),m=p[0],g=p[1],v=uM((0,e.useState)(!1),2),y=v[0],w=v[1],b=uM((0,e.useState)(!1),2),x=b[0],_=b[1],S=uM((0,e.useState)(t),2),E=S[0],C=S[1],A=uM((0,e.useState)(t),2),T=A[0],M=A[1],P=uM((0,e.useState)(new Map),2),D=P[0],k=P[1],O=(0,e.useCallback)((function(e){l(e.target.value),_(!1)}),[]),I=(0,e.useCallback)((function(e){"Enter"===e.key&&(a.current.click(),a.current.focus())}),[]),R=function(t,n){Zv(e.createElement("span",null,"正在下载视频: ",e.createElement(fM,{style:{color:"rgb(96, 165, 250)",width:"66px",display:"inline-block",textAlign:"right"}},t,"%")),"downloading_video"+n)},L=function(e){Yv.dismiss("downloading_video"+e),Kv("视频下载完毕 !","finished_video"+e)};function N(){return N=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){cM(a,r,i,o,s,"next",e)}function s(e){cM(a,r,i,o,s,"throw",e)}o(void 0)}))}}(lM().mark((function e(n,r){var i;return lM().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yf.get(n,{params:r});case 3:return i=e.sent,h(i.data.data),w(!0),e.next=8,Yf.get(i.data.data.cover,{responseType:"blob"});case 8:return Po(e.sent.data).then((function(e){C(e)})),e.next=13,Yf.get(i.data.data.coverDynamic,{responseType:"blob"});case 13:return Po(e.sent.data).then((function(e){M(e)})),Kv("解析成功 !","resolving_success"),e.prev=17,e.t0=f,e.next=21,tp.awaitCountAPI("PUT","tiktok");case 21:e.t1=e.sent.data[0].count,(0,e.t0)(e.t1),e.next=28;break;case 25:e.prev=25,e.t2=e.catch(17),console.warn(e.t2);case 28:setTimeout((function(){a.current.scrollIntoView({behavior:"smooth"})}),100),e.next=40;break;case 31:e.prev=31,e.t3=e.catch(0),Qv("解析失败，请检查URL或重试 !","resolving_error"),w(!1),_(!0),C(t),M(t),h(null),console.error("Error resolving video URL:",e.t3);case 40:return e.prev=40,g(!1),e.finish(40);case 43:case"end":return e.stop()}}),e,null,[[0,31,40,43],[17,25]])}))),N.apply(this,arguments)}return Ue((function(){if(null!==u){var e=Array.from(D);sessionStorage.setItem("tiktok_states",JSON.stringify({text:s,data:u,loading:m,finished:y,invalid:x,cover:E,dyCover:T,downloadStateArray:e}))}})),(0,e.useEffect)((function(){if(null!==u){var e=Array.from(D);sessionStorage.setItem("tiktok_states",JSON.stringify({text:s,data:u,loading:m,finished:y,invalid:x,cover:E,dyCover:T,downloadStateArray:e}))}}),[s,u,m,y,x,E,T,D]),(0,e.useEffect)((function(){if(sessionStorage.getItem("tiktok_states")){var e=JSON.parse(decodeURIComponent(sessionStorage.getItem("tiktok_states")));l(e.text?e.text:""),h(e.data?e.data:null),g(e.loading),w(e.finished),_(e.invalid),C(e.cover),M(e.dyCover),k(new Map(e.downloadStateArray))}var t=setInterval((function(){sessionStorage.getItem("tiktok_states")&&k(new Map(JSON.parse(decodeURIComponent(sessionStorage.getItem("tiktok_states"))).downloadStateArray))}),1e3);return function(){clearInterval(t)}}),[]),e.createElement(pM,null,e.createElement($T,null,e.createElement(JT,null,e.createElement(Zp,{onClick:function(){r("/tools"),window.scroll(0,0)}},e.createElement(mM,{icon:V_.ac}))),e.createElement(Dh,null,"Tiktok视频解析")),e.createElement(eM,null,e.createElement(tM,null,e.createElement(Rh,null,"输入",e.createElement(gM,{icon:yp}),"口令")),e.createElement(tM,null,e.createElement(p_,{icon:e.createElement(vM,{icon:Ib.bL}),placeholder:" ",desc:"输入抖音分享口令",id:"input_tiktok",onChange:O,onKeyPress:I,invalid:x,text:s,setText:l,iconOnClick:function(){l&&l("")},data_tooltip_id:"url_tooltip",data_tooltip_content:"直接粘贴Tiktok分享口令即可",data_tooltip_variant:"info"})),e.createElement(yM,{id:"url_tooltip",offset:20,openOnClick:!0,place:"top",hidden:!!s}),e.createElement(wM,null,e.createElement(bM,{disabled:m,h:"36px",w:"140px",onClick:function(e){var t;return s?(t=s.match(/https?:\/\/[^\s/$.?#]*[^\s/$.$].[^\s]*/gi))?(g(!0),void function(e,t){return N.apply(this,arguments)}("https://www.mxnzp.com/api/douyin/video",{url:btoa(t[0]),app_id:ep.app_id,app_secret:ep.app_secret}).then((function(e){return e})).catch((function(e){return e}))):(_(!0),void Qv("请输入有效的URL","input_error_2")):(_(!0),void Qv("请输入有效的URL","input_error"))},ref:a},m?e.createElement(e.Fragment,null,"解析中",e.createElement(xM,{icon:Mh.LM,spin:!0})):e.createElement(e.Fragment,null,"解析链接",e.createElement(_M,{icon:_S.EF,shake:!0}))))),e.createElement(eM,null,e.createElement(tM,null,e.createElement(SM,null,"获取",e.createElement(EM,{icon:xS.nN}),"结果")),e.createElement(CM,null,e.createElement(qp,{duration:"1.2s",fadeStyle:"scale",h:y&&u?"288px":"100px",w:y&&u?"162px":"171px",url:E})),e.createElement(tM,null,e.createElement(p_,{icon:e.createElement(AM,{icon:bS.kZ}),placeholder:"待解析",desc:"视频标题",id:"input_title_main",text:u?u.title:"",iconOnClick:function(){u?(n.copy(u.title),Kv("视频标题Copied !","title_copy")):Qv("视频标题Copy失败 !","title_copy_error")},data_tooltip_id:"title_tooltip",data_tooltip_content:u?u.title:"",data_tooltip_variant:"info",readOnly:!0}),e.createElement(TM,{id:"title_tooltip",offset:15})),e.createElement(MM,null,e.createElement(PM,{disabled:!y,h:"36px",w:"140px",onClick:function(){n.copy(u?u.cover:""),Kv("静态封面URL Copied !","cover_url_copy")}},y?e.createElement(e.Fragment,null,"静态封面",e.createElement(kM,{icon:bS.kZ,beat:!0})):e.createElement(e.Fragment,null,"暂无解析",e.createElement(DM,{icon:wS.Vm,fade:!0}))),e.createElement(OM,{disabled:!y,h:"36px",w:"140px",onClick:function(){n.copy(u?u.coverDynamic:""),Kv("动态封面URL Copied !","dyCover_url_copy")}},y?e.createElement(e.Fragment,null,"动态封面",e.createElement(RM,{icon:bS.kZ,beat:!0})):e.createElement(e.Fragment,null,"暂无解析",e.createElement(IM,{icon:wS.Vm,fade:!0}))),e.createElement(LM,{ref:i,target:"_blank",rel:"noopener noreferrer"}))),u?e.createElement(aM,null,e.createElement(eM,null,e.createElement(tM,null,e.createElement(Rh,null,"视频",e.createElement(NM,{icon:An.Kr}),"详情")),e.createElement(Lh,null),e.createElement(tM,null,e.createElement(zM,null,e.createElement(BM,null,e.createElement("span",null,"时"),e.createElement("span",null,"长")),e.createElement(FM,null,u&&u.durationFormat))),e.createElement(tM,null,e.createElement(UM,null,e.createElement("span",null,"原尺寸"),e.createElement("span",null,e.createElement(jM,null,u&&u.width),e.createElement(xo,{icon:Cn.g8}),e.createElement(VM,null,u&&u.height)))),e.createElement(HM,null,e.createElement(GM,{disabled:!y,h:"36px",w:"140px",onClick:function(){n.copy(u.url),Kv("视频URL Copied !","video_url_copy")}},y?e.createElement(e.Fragment,null,"视频URL",e.createElement(qM,{icon:bS.kZ,beat:!0})):e.createElement(e.Fragment,null,"暂无解析",e.createElement(WM,{icon:bS.kZ,fade:!0}))),e.createElement(XM,{disabled:!y||D.get(1),h:"36px",w:"140px",onClick:function(){if(u){var e=i.current;k((function(e){var t=new Map(e);return t.set(1,!0),t})),To(u.url,R,L,1).then((function(t){e.href=URL.createObjectURL(t),e.download=u.title+".mp4",e.click(),console.log("下载完成");var n=JSON.parse(decodeURIComponent(sessionStorage.getItem("tiktok_states"))),r=new Map(n.downloadStateArray);r.set(1,!1),n.downloadStateArray=Array.from(r),sessionStorage.setItem("tiktok_states",encodeURIComponent(JSON.stringify(n))),k((function(e){console.log("修改前",e);var t=new Map(e);return t.set(1,!1),console.log("修改后",t),t}))}))}}},y?D.get(1)?e.createElement(e.Fragment,null,"下载中...",e.createElement(QM,{icon:Mh.LM,spin:!0})):e.createElement(e.Fragment,null,"下载视频",e.createElement(KM,{icon:U_.q7,beat:!0})):e.createElement(e.Fragment,null,"暂无解析",e.createElement(YM,{icon:PS.Cj,fade:!0})))))):"")}var fM=bn("span").withConfig({displayName:"TiktokPage___StyledSpan",componentId:"sc-17075vs-0"})({fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace'}),pM=bn(In).withConfig({displayName:"TiktokPage___StyledPaddingWrapper",componentId:"sc-17075vs-1"})({gridColumn:"span 4 / span 4"}),mM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon",componentId:"sc-17075vs-2"})({position:"relative",top:"-1px",verticalAlign:"middle","@media (min-width: 768px)":{paddingRight:"1rem"}}),gM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon2",componentId:"sc-17075vs-3"})({paddingLeft:"0.25rem",paddingRight:"0.25rem",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}),vM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon3",componentId:"sc-17075vs-4"})({marginLeft:"0.25rem"}),yM=bn(r_).withConfig({displayName:"TiktokPage___StyledTooltip",componentId:"sc-17075vs-5"})({position:"absolute",zIndex:"200",maxWidth:"20rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","@media (min-width: 768px)":{maxWidth:"32rem"}}),wM=bn(tM).withConfig({displayName:"TiktokPage___StyledLineWrapper",componentId:"sc-17075vs-6"})({marginTop:"0.5rem"}),bM=bn(Qp).withConfig({displayName:"TiktokPage___StyledMButton",componentId:"sc-17075vs-7"})({borderRadius:"9999px"}),xM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon4",componentId:"sc-17075vs-8"})({marginLeft:"0.25rem"}),_M=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon5",componentId:"sc-17075vs-9"})({marginLeft:"0.25rem"}),SM=bn(Rh).withConfig({displayName:"TiktokPage___StyledInLineTitle",componentId:"sc-17075vs-10"})({marginBottom:"0.5rem"}),EM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon6",componentId:"sc-17075vs-11"})({paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}),CM=bn(tM).withConfig({displayName:"TiktokPage___StyledLineWrapper2",componentId:"sc-17075vs-12"})({flexWrap:"wrap"}),AM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon7",componentId:"sc-17075vs-13"})({marginLeft:"0.25rem"}),TM=bn(r_).withConfig({displayName:"TiktokPage___StyledTooltip2",componentId:"sc-17075vs-14"})({position:"absolute",zIndex:"200",maxWidth:"20rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","@media (min-width: 768px)":{maxWidth:"32rem"}}),MM=bn(tM).withConfig({displayName:"TiktokPage___StyledLineWrapper3",componentId:"sc-17075vs-15"})({marginTop:"0.5rem"}),PM=bn(Qp).withConfig({displayName:"TiktokPage___StyledMButton2",componentId:"sc-17075vs-16"})({borderRadius:"9999px","@media (min-width: 768px)":{marginRight:"1.5rem"}}),DM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon8",componentId:"sc-17075vs-17"})({marginLeft:"0.25rem"}),kM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon9",componentId:"sc-17075vs-18"})({marginLeft:"0.25rem"}),OM=bn(Qp).withConfig({displayName:"TiktokPage___StyledMButton3",componentId:"sc-17075vs-19"})({borderRadius:"9999px","@media (min-width: 768px)":{marginLeft:"1.5rem"}}),IM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon10",componentId:"sc-17075vs-20"})({marginLeft:"0.25rem"}),RM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon11",componentId:"sc-17075vs-21"})({marginLeft:"0.25rem"}),LM=bn("a").withConfig({displayName:"TiktokPage___StyledA",componentId:"sc-17075vs-22"})({display:"none"}),NM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon12",componentId:"sc-17075vs-23"})({paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgb(96 165 250 / var(--tw-text-opacity))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}),zM=bn(Rh).withConfig({displayName:"TiktokPage___StyledInLineTitle2",componentId:"sc-17075vs-24"})({display:"flex",minWidth:"298px",maxWidth:"330px",flexDirection:"row",justifyContent:"space-between",fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"500"}),BM=bn("span").withConfig({displayName:"TiktokPage___StyledSpan2",componentId:"sc-17075vs-25"})({display:"flex",width:"72px",flexDirection:"row",justifyContent:"space-between"}),FM=bn("span").withConfig({displayName:"TiktokPage___StyledSpan3",componentId:"sc-17075vs-26"})({"--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"}),UM=bn(Rh).withConfig({displayName:"TiktokPage___StyledInLineTitle3",componentId:"sc-17075vs-27"})({display:"flex",minWidth:"298px",maxWidth:"330px",flexDirection:"row",justifyContent:"space-between",fontSize:"1.5rem",lineHeight:"2rem",fontWeight:"500"}),jM=bn("span").withConfig({displayName:"TiktokPage___StyledSpan4",componentId:"sc-17075vs-28"})({"--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"}),VM=bn("span").withConfig({displayName:"TiktokPage___StyledSpan5",componentId:"sc-17075vs-29"})({"--tw-text-opacity":"1",color:"rgb(59 130 246 / var(--tw-text-opacity))"}),HM=bn(tM).withConfig({displayName:"TiktokPage___StyledLineWrapper4",componentId:"sc-17075vs-30"})({marginTop:"0.5rem"}),GM=bn(Qp).withConfig({displayName:"TiktokPage___StyledMButton4",componentId:"sc-17075vs-31"})({borderRadius:"9999px","@media (min-width: 768px)":{marginRight:"1.5rem"}}),WM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon13",componentId:"sc-17075vs-32"})({marginLeft:"0.25rem"}),qM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon14",componentId:"sc-17075vs-33"})({marginLeft:"0.25rem"}),XM=bn(Qp).withConfig({displayName:"TiktokPage___StyledMButton5",componentId:"sc-17075vs-34"})({borderRadius:"9999px","@media (min-width: 768px)":{marginLeft:"1.5rem"}}),YM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon15",componentId:"sc-17075vs-35"})({marginLeft:"0.25rem"}),QM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon16",componentId:"sc-17075vs-36"})({marginLeft:"0.25rem"}),KM=bn(xo).withConfig({displayName:"TiktokPage___StyledFontAwesomeIcon17",componentId:"sc-17075vs-37"})({marginLeft:"0.25rem"}),ZM=o(2148),JM=o(753),$M=o(213),eP=o(2731),tP=bn.div.withConfig({displayName:"Styledtwin__ButtonWrapper",componentId:"sc-p6r14c-0"})([""]),nP=bn.div.withConfig({displayName:"Styledtwin__HeaderWrapper",componentId:"sc-p6r14c-1"})(["display:flex;flex-direction:row;justify-content:space-between;"]),rP=bn(Ep).withConfig({displayName:"Styledtwin__ContentWrapper",componentId:"sc-p6r14c-2"})(["margin:20px 0 0 0;padding:20px 12px;flex-grow:1;background-color:white;text-align:center;gap:10px;"]),iP=bn.div.withConfig({displayName:"Styledtwin__LineWrapper",componentId:"sc-p6r14c-3"})(["display:flex;flex-direction:row;justify-content:center;gap:18px;flex-grow:1;min-width:60%;&>*{margin-left:auto;margin-right:auto;}"]),aP=o(3162),oP={version:"0.18.5"},sP=1200,lP=1252,cP=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],uP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},hP=function(e){-1!=cP.indexOf(e)&&(lP=uP[0]=e)},dP=function(e){sP=e,hP(e)};var fP,pP=function(e){return String.fromCharCode(e)},mP=function(e){return String.fromCharCode(e)},gP=null,vP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function yP(e){for(var t="",n=0,r=0,i=0,a=0,o=0,s=0,l=0,c=0;c<e.length;)a=(n=e.charCodeAt(c++))>>2,o=(3&n)<<4|(r=e.charCodeAt(c++))>>4,s=(15&r)<<2|(i=e.charCodeAt(c++))>>6,l=63&i,isNaN(r)?s=l=64:isNaN(i)&&(l=64),t+=vP.charAt(a)+vP.charAt(o)+vP.charAt(s)+vP.charAt(l);return t}function wP(e){var t="",n=0,r=0,i=0,a=0,o=0,s=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=vP.indexOf(e.charAt(l++))<<2|(a=vP.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),r=(15&a)<<4|(o=vP.indexOf(e.charAt(l++)))>>2,64!==o&&(t+=String.fromCharCode(r)),i=(3&o)<<6|(s=vP.indexOf(e.charAt(l++))),64!==s&&(t+=String.fromCharCode(i));return t}var bP=function(){return"undefined"!=typeof Buffer&&"undefined"!=typeof process&&void 0!==process.versions&&!!process.versions.node}(),xP=function(){if("undefined"!=typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(t){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function _P(e){return bP?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function SP(e){return bP?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var EP=function(e){return bP?xP(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function CP(e){if("undefined"==typeof ArrayBuffer)return EP(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function AP(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}var TP=bP?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:xP(e)})))}:function(e){if("undefined"!=typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))},MP=/\u0000/g,PP=/[\u0001-\u0006]/g;function DP(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function kP(e,t){var n=""+e;return n.length>=t?n:jD("0",t-n.length)+n}function OP(e,t){var n=""+e;return n.length>=t?n:jD(" ",t-n.length)+n}function IP(e,t){var n=""+e;return n.length>=t?n:n+jD(" ",t-n.length)}var RP=Math.pow(2,32);function LP(e,t){return e>RP||e<-RP?function(e,t){var n=""+Math.round(e);return n.length>=t?n:jD("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:jD("0",t-n.length)+n}(Math.round(e),t)}function NP(e,t){return t=t||0,e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var zP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],BP=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],FP={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},UP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jP={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function VP(e,t,n){for(var r=e<0?-1:1,i=e*r,a=0,o=1,s=0,l=1,c=0,u=0,h=Math.floor(i);c<t&&(s=(h=Math.floor(i))*o+a,u=h*c+l,!(i-h<5e-8));)i=1/(i-h),a=o,o=s,l=c,c=u;if(u>t&&(c>t?(u=l,s=a):(u=c,s=o)),!n)return[0,r*s,u];var d=Math.floor(r*s/u);return[d,r*s-d*u,u]}function HP(e,t,n){if(e>2958465||e<0)return null;var r=0|e,i=Math.floor(86400*(e-r)),a=0,o=[],s={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,86400==++i&&(s.T=i=0,++r,++s.D)),60===r)o=n?[1317,10,29]:[1900,2,29],a=3;else if(0===r)o=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),n&&(a=function(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=a,s}var GP=new Date(1899,11,31,0,0,0),WP=GP.getTime(),qP=new Date(1900,2,1,0,0,0);function XP(e,t){var n=e.getTime();return t?n-=1262304e5:e>=qP&&(n+=864e5),(n-(WP+6e4*(e.getTimezoneOffset()-GP.getTimezoneOffset())))/864e5}function YP(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function QP(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):function(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=YP(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=YP(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),YP(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return mD(14,XP(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function KP(e,t,n,r){var i,a="",o=0,s=0,l=n.y,c=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:i=l%100,c=2;break;default:i=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:i=n.m,c=t.length;break;case 3:return BP[n.m-1][1];case 5:return BP[n.m-1][0];default:return BP[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:i=n.d,c=t.length;break;case 3:return zP[n.q][0];default:return zP[n.q][1]}break;case 104:switch(t.length){case 1:case 2:i=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:i=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:i=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(s=r>=2?3===r?1e3:100:1===r?10:1,(o=Math.round(s*(n.S+n.u)))>=60*s&&(o=0),"s"===t?0===o?"0":""+o/s:(a=kP(o,2+r),"ss"===t?a.substr(0,2):"."+a.substr(2,t.length-1))):kP(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":i=24*n.D+n.H;break;case"[m]":case"[mm]":i=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":i=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:i=l,c=1}return c>0?kP(i,c):""}function ZP(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var JP=/%/g;function $P(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+$P(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),-1===(n=(t/Math.pow(10,a)).toPrecision(r+1+(i+a)%i)).indexOf("e")){var o=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+a):n+="E+"+(o-a);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+a)%i)+"."+r.substr(a)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var eD=/# (\?+)( ?)\/( ?)(\d+)/,tD=/^#*0*\.([0#]+)/,nD=/\).*[0#]/,rD=/\(###\) ###\\?-####/;function iD(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function aD(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function oD(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function sD(e,t,n){if(40===e.charCodeAt(0)&&!t.match(nD)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?sD("n",r,n):"("+sD("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return uD(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(JP,""),i=t.length-r.length;return uD(e,r,n*Math.pow(10,2*i))+jD("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return $P(t,n);if(36===t.charCodeAt(0))return"$"+sD(e,t.substr(" "==t.charAt(1)?2:1),n);var i,a,o,s,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+LP(l,t.length);if(t.match(/^[#?]+$/))return"0"===(i=LP(n,0))&&(i=""),i.length>t.length?i:iD(t.substr(0,t.length-i.length))+i;if(a=t.match(eD))return function(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),a=Math.floor(i/r),o=i-a*r,s=r;return n+(0===a?"":""+a)+" "+(0===o?jD(" ",e[1].length+1+e[4].length):OP(o,e[1].length)+e[2]+"/"+e[3]+kP(s,e[4].length))}(a,l,c);if(t.match(/^#+0+$/))return c+LP(l,t.length-t.indexOf("0"));if(a=t.match(tD))return i=aD(n,a[1].length).replace(/^([^\.]+)$/,"$1."+iD(a[1])).replace(/\.$/,"."+iD(a[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+jD("0",iD(a[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+aD(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+ZP(LP(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+sD(e,t,-n):ZP(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,a[1].length)))+"."+kP(oD(n,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return sD(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=DP(sD(e,t.replace(/[\\-]/g,""),n)),o=0,DP(DP(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return o<i.length?i.charAt(o++):"0"===e?"0":""})));if(t.match(rD))return"("+(i=sD(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=VP(l,Math.pow(10,o)-1,!1),i=""+c," "==(u=uD("n",a[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],(u=IP(s[2],o)).length<a[4].length&&(u=iD(a[4].substr(a[4].length-u.length))+u),i+=u;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c+((s=VP(l,Math.pow(10,o)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?OP(s[1],o)+a[2]+"/"+a[3]+IP(s[2],o):jD(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=LP(n,0),t.length<=i.length?i:iD(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,d=t.length-i.length-h;return iD(t.substr(0,h)+i+t.substr(t.length-d))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=oD(n,a[1].length),n<0?"-"+sD(e,t,-n):ZP(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?kP(0,3-e.length):"")+e}))+"."+kP(o,a[1].length);switch(t){case"###,##0.00":return sD(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var f=ZP(LP(l,0));return"0"!==f?c+f:"";case"###,###.00":return sD(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return sD(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function lD(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+lD(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),!(n=(t/Math.pow(10,a)).toPrecision(r+1+(i+a)%i)).match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+a):n+="E+"+(o-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+a)%i)+"."+r.substr(a)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function cD(e,t,n){if(40===e.charCodeAt(0)&&!t.match(nD)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?cD("n",r,n):"("+cD("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return uD(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(JP,""),i=t.length-r.length;return uD(e,r,n*Math.pow(10,2*i))+jD("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return lD(t,n);if(36===t.charCodeAt(0))return"$"+cD(e,t.substr(" "==t.charAt(1)?2:1),n);var i,a,o,s,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+kP(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,0===n&&(i=""),i.length>t.length?i:iD(t.substr(0,t.length-i.length))+i;if(a=t.match(eD))return function(e,t,n){return n+(0===t?"":""+t)+jD(" ",e[1].length+2+e[4].length)}(a,l,c);if(t.match(/^#+0+$/))return c+kP(l,t.length-t.indexOf("0"));if(a=t.match(tD))return i=(i=(""+n).replace(/^([^\.]+)$/,"$1."+iD(a[1])).replace(/\.$/,"."+iD(a[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+jD("0",iD(a[1]).length-t.length)})),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+ZP(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+cD(e,t,-n):ZP(""+n)+"."+jD("0",a[1].length);if(a=t.match(/^#,#*,#0/))return cD(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=DP(cD(e,t.replace(/[\\-]/g,""),n)),o=0,DP(DP(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return o<i.length?i.charAt(o++):"0"===e?"0":""})));if(t.match(rD))return"("+(i=cD(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=VP(l,Math.pow(10,o)-1,!1),i=""+c," "==(u=uD("n",a[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],(u=IP(s[2],o)).length<a[4].length&&(u=iD(a[4].substr(a[4].length-u.length))+u),i+=u;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),c+((s=VP(l,Math.pow(10,o)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?OP(s[1],o)+a[2]+"/"+a[3]+IP(s[2],o):jD(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:iD(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,d=t.length-i.length-h;return iD(t.substr(0,h)+i+t.substr(t.length-d))}if(a=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+cD(e,t,-n):ZP(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?kP(0,3-e.length):"")+e}))+"."+kP(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var f=ZP(""+l);return"0"!==f?c+f:"";default:if(t.match(/\.[0#?]*$/))return cD(e,t.slice(0,t.lastIndexOf(".")),n)+iD(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function uD(e,t,n){return(0|n)===n?cD(e,t,n):sD(e,t,n)}var hD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function dD(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":NP(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("上午/下午"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(hD))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var fD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function pD(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function mD(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:FP)[e])&&(r=n.table&&n.table[UP[e]]||FP[UP[e]]),null==r&&(r=jP[e]||"General")}if(NP(r,0))return QP(t,n);t instanceof Date&&(t=XP(t,n.date1904));var i=function(e,t){var n=function(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!=typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var a=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,a];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var o=n[0].match(fD),s=n[1].match(fD);return pD(t,o)?[r,n[0]]:pD(t,s)?[r,n[1]]:[r,n[null!=o&&null!=s?2:1]]}return[r,a]}(r,t);if(NP(i[1]))return QP(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var i,a,o,s=[],l="",c=0,u="",h="t",d="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!NP(e,c))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(o=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(o);s[s.length]={t:"t",v:l},++c;break;case"\\":var f=e.charAt(++c),p="("===f||")"===f?f:"t";s[s.length]={t:p,v:f},++c;break;case"_":s[s.length]={t:"t",v:" "},c+=2;break;case"@":s[s.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==i&&null==(i=HP(t,n,"2"===e.charAt(c+1))))return"";s[s.length]={t:"X",v:e.substr(c,2)},h=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&null==(i=HP(t,n)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=d),s[s.length]={t:u,v:l},h=u;break;case"A":case"a":case"上":var m={t:u,v:u};if(null==i&&(i=HP(t,n)),"A/P"===e.substr(c,3).toUpperCase()?(null!=i&&(m.v=i.H>=12?"P":"A"),m.t="T",d="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"PM":"AM"),m.t="T",c+=5,d="h"):"上午/下午"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"下午":"上午"),m.t="T",c+=5,d="h"):(m.t="t",++c),null==i&&"T"===m.t)return"";s[s.length]=m,h=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(hD)){if(null==i&&null==(i=HP(t,n)))return"";s[s.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",dD(e)||(s[s.length]={t:"t",v:l}));break;case".":if(null!=i){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;s[s.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;s[s.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;s[s.length]={t:u,v:l},h=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":s[s.length]={t:1===r?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);s[s.length]={t:"D",v:l};break;case" ":s[s.length]={t:u,v:u},++c;break;case"$":s[s.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"t",v:u},++c}var g,v=0,y=0;for(c=s.length-1,h="t";c>=0;--c)switch(s[c].t){case"h":case"H":s[c].t=d,h="h",v<1&&(v=1);break;case"s":(g=s[c].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":h=s[c].t;break;case"m":"s"===h&&(s[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[c].v.match(/[Hh]/)&&(v=1),v<2&&s[c].v.match(/[Mm]/)&&(v=2),v<3&&s[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var w,b="";for(c=0;c<s.length;++c)switch(s[c].t){case"t":case"T":case" ":case"D":break;case"X":s[c].v="",s[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[c].v=KP(s[c].t.charCodeAt(0),s[c].v,i,y),s[c].t="t";break;case"n":case"?":for(w=c+1;null!=s[w]&&("?"===(u=s[w].t)||"D"===u||(" "===u||"t"===u)&&null!=s[w+1]&&("?"===s[w+1].t||"t"===s[w+1].t&&"/"===s[w+1].v)||"("===s[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===s[w].v||" "===s[w].v&&null!=s[w+1]&&"?"==s[w+1].t));)s[c].v+=s[w].v,s[w]={v:"",t:";"},++w;b+=s[c].v,c=w-1;break;case"G":s[c].t="t",s[c].v=QP(t,n)}var x,_,S="";if(b.length>0){40==b.charCodeAt(0)?(x=t<0&&45===b.charCodeAt(0)?-t:t,_=uD("n",b,x)):(_=uD("n",b,x=t<0&&r>1?-t:t),x<0&&s[0]&&"t"==s[0].t&&(_=_.substr(1),s[0].v="-"+s[0].v)),w=_.length-1;var E=s.length;for(c=0;c<s.length;++c)if(null!=s[c]&&"t"!=s[c].t&&s[c].v.indexOf(".")>-1){E=c;break}var C=s.length;if(E===s.length&&-1===_.indexOf("E")){for(c=s.length-1;c>=0;--c)null!=s[c]&&-1!=="n?".indexOf(s[c].t)&&(w>=s[c].v.length-1?(w-=s[c].v.length,s[c].v=_.substr(w+1,s[c].v.length)):w<0?s[c].v="":(s[c].v=_.substr(0,w+1),w=-1),s[c].t="t",C=c);w>=0&&C<s.length&&(s[C].v=_.substr(0,w+1)+s[C].v)}else if(E!==s.length&&-1===_.indexOf("E")){for(w=_.indexOf(".")-1,c=E;c>=0;--c)if(null!=s[c]&&-1!=="n?".indexOf(s[c].t)){for(a=s[c].v.indexOf(".")>-1&&c===E?s[c].v.indexOf(".")-1:s[c].v.length-1,S=s[c].v.substr(a+1);a>=0;--a)w>=0&&("0"===s[c].v.charAt(a)||"#"===s[c].v.charAt(a))&&(S=_.charAt(w--)+S);s[c].v=S,s[c].t="t",C=c}for(w>=0&&C<s.length&&(s[C].v=_.substr(0,w+1)+s[C].v),w=_.indexOf(".")+1,c=E;c<s.length;++c)if(null!=s[c]&&(-1!=="n?(".indexOf(s[c].t)||c===E)){for(a=s[c].v.indexOf(".")>-1&&c===E?s[c].v.indexOf(".")+1:0,S=s[c].v.substr(0,a);a<s[c].v.length;++a)w<_.length&&(S+=_.charAt(w++));s[c].v=S,s[c].t="t",C=c}}}for(c=0;c<s.length;++c)null!=s[c]&&"n?".indexOf(s[c].t)>-1&&(x=r>1&&t<0&&c>0&&"-"===s[c-1].v?-t:t,s[c].v=uD(s[c].t,s[c].v,x),s[c].t="t");var A="";for(c=0;c!==s.length;++c)null!=s[c]&&(A+=s[c].v);return A}(i[1],t,n,i[0])}function gD(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(null!=FP[n]){if(FP[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return FP[t]=e,t}function vD(e){for(var t=0;392!=t;++t)void 0!==e[t]&&gD(e[t],t)}function yD(){FP=function(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}()}var wD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,bD=function(){var e={version:"1.2.0"},t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),n=function(e){var t=0,n=0,r=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)i[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=i[t]=n>>>8^e[255&n];var a=[];for(r=1;16!=r;++r)a[r-1]="undefined"!=typeof Int32Array?i.subarray(256*r,256*r+256):i.slice(256*r,256*r+256);return a}(t),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14];return e.table=t,e.bstr=function(e,n){for(var r=-1^n,i=0,a=e.length;i<a;)r=r>>>8^t[255&(r^e.charCodeAt(i++))];return~r},e.buf=function(e,n){for(var y=-1^n,w=e.length-15,b=0;b<w;)y=v[e[b++]^255&y]^g[e[b++]^y>>8&255]^m[e[b++]^y>>16&255]^p[e[b++]^y>>>24]^f[e[b++]]^d[e[b++]]^h[e[b++]]^u[e[b++]]^c[e[b++]]^l[e[b++]]^s[e[b++]]^o[e[b++]]^a[e[b++]]^i[e[b++]]^r[e[b++]]^t[e[b++]];for(w+=15;b<w;)y=y>>>8^t[255&(y^e[b++])];return~y},e.str=function(e,n){for(var r=-1^n,i=0,a=e.length,o=0,s=0;i<a;)(o=e.charCodeAt(i++))<128?r=r>>>8^t[255&(r^o)]:o<2048?r=(r=r>>>8^t[255&(r^(192|o>>6&31))])>>>8^t[255&(r^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),s=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^t[255&(r^(240|o>>8&7))])>>>8^t[255&(r^(128|o>>2&63))])>>>8^t[255&(r^(128|s>>6&15|(3&o)<<4))])>>>8^t[255&(r^(128|63&s))]):r=(r=(r=r>>>8^t[255&(r^(224|o>>12&15))])>>>8^t[255&(r^(128|o>>6&63))])>>>8^t[255&(r^(128|63&o))];return~r},e}(),xD=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function i(e,t){"string"==typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function a(e){Yk(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),i=e.read_shift(2),a=e.l+i,o={};21589===r&&(1&(n=e.read_shift(1))&&(o.mtime=e.read_shift(4)),i>5&&(2&n&&(o.atime=e.read_shift(4)),4&n&&(o.ctime=e.read_shift(4))),o.mtime&&(o.mt=new Date(1e3*o.mtime))),e.l=a,t[r]=o}return t}function o(){return e||(e={})}function s(e,t){if(80==e[0]&&75==e[1])return ne(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=_(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(bP&&Buffer.isBuffer(e)?e.toString("binary"):_(e)).split("\r\n"),i=0,a="";for(i=0;i<r.length;++i)if(a=r[i],/^Content-Location:/i.test(a)&&(a=a.slice(a.indexOf("file")),n||(n=a.slice(0,a.lastIndexOf("/")+1)),a.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),a.slice(0,n.length)!=n););var o=(r[1]||"").match(/boundary="(.*?)"/);if(!o)throw new Error("MAD cannot find boundary");var s="--"+(o[1]||""),l={FileIndex:[],FullPaths:[]};d(l);var c,u=0;for(i=0;i<r.length;++i){var h=r[i];h!==s&&h!==s+"--"||(u++&&le(l,r.slice(c,i),n),c=i)}return l}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,i,a,o,s,f=512,p=[],m=e.slice(0,512);Yk(m,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(n=g[0]){case 3:f=512;break;case 4:f=4096;break;case 0:if(0==g[1])return ne(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==f&&Yk(m=e.slice(0,f),28);var w=e.slice(0,f);!function(e,t){var n;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,n);var b=m.read_shift(4,"i");if(3===n&&0!==b)throw new Error("# Directory Sectors: Expected 0 saw "+b);m.l+=4,a=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),o=m.read_shift(4,"i"),r=m.read_shift(4,"i"),s=m.read_shift(4,"i"),i=m.read_shift(4,"i");for(var x=-1,S=0;S<109&&!((x=m.read_shift(4,"i"))<0);++S)p[S]=x;var E=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],i=1;i<n;++i)r[i-1]=e.slice(i*t,(i+1)*t);return r[n-1]=e.slice(n*t),r}(e,f);c(s,i,E,f,p);var C=function(e,t,n,r){var i=e.length,a=[],o=[],s=[],l=[],c=r-1,u=0,h=0,d=0,f=0;for(u=0;u<i;++u)if(s=[],(d=u+t)>=i&&(d-=i),!o[d]){l=[];var p=[];for(h=d;h>=0;){p[h]=!0,o[h]=!0,s[s.length]=h,l.push(e[h]);var m=n[Math.floor(4*h/r)];if(r<4+(f=4*h&c))throw new Error("FAT boundary crossed: "+h+" 4 "+r);if(!e[m])break;if(p[h=Uk(e[m],f)])break}a[d]={nodes:s,data:gk([l])}}return a}(E,a,p,f);C[a].name="!Directory",r>0&&o!==v&&(C[o].name="!MiniFAT"),C[p[0]].name="!FAT",C.fat_addrs=p,C.ssz=f;var A=[],T=[],M=[];!function(e,t,n,r,i,a,o,s){for(var c,d=0,f=r.length?2:0,p=t[e].data,m=0,g=0;m<p.length;m+=128){var y=p.slice(m,m+128);Yk(y,64),g=y.read_shift(2),c=yk(y,0,g-f),r.push(c);var w={name:c,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(w.ct=h(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(w.mt=h(y,y.l-8)),w.start=y.read_shift(4,"i"),w.size=y.read_shift(4,"i"),w.size<0&&w.start<0&&(w.size=w.type=0,w.start=v,w.name=""),5===w.type?(d=w.start,i>0&&d!==v&&(t[d].name="!StreamData")):w.size>=4096?(w.storage="fat",void 0===t[w.start]&&(t[w.start]=u(n,w.start,t.fat_addrs,t.ssz)),t[w.start].name=w.name,w.content=t[w.start].data.slice(0,w.size)):(w.storage="minifat",w.size<0?w.size=0:d!==v&&w.start!==v&&t[d]&&(w.content=l(w,t[d].data,(t[s]||{}).data))),w.content&&Yk(w.content,0),a[c]=w,o.push(w)}}(a,C,E,A,r,{},T,o),function(e,t,n){for(var r=0,i=0,a=0,o=0,s=0,l=n.length,c=[],u=[];r<l;++r)c[r]=u[r]=r,t[r]=n[r];for(;s<u.length;++s)i=e[r=u[s]].L,a=e[r].R,o=e[r].C,c[r]===r&&(-1!==i&&c[i]!==i&&(c[r]=c[i]),-1!==a&&c[a]!==a&&(c[r]=c[a])),-1!==o&&(c[o]=r),-1!==i&&r!=c[r]&&(c[i]=c[r],u.lastIndexOf(i)<s&&u.push(i)),-1!==a&&r!=c[r]&&(c[a]=c[r],u.lastIndexOf(a)<s&&u.push(a));for(r=1;r<l;++r)c[r]===r&&(-1!==a&&c[a]!==a?c[r]=c[a]:-1!==i&&c[i]!==i&&(c[r]=c[i]));for(r=1;r<l;++r)if(0!==e[r].type){if((s=r)!=c[s])do{s=c[s],t[r]=t[s]+"/"+t[r]}while(0!==s&&-1!==c[s]&&s!=c[s]);c[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}(T,M,A),A.shift();var P={FileIndex:T,FullPaths:M};return t&&t.raw&&(P.raw={header:w,sectors:E}),P}function l(e,t,n){for(var r=e.start,i=e.size,a=[],o=r;n&&i>0&&o>=0;)a.push(t.slice(o*g,o*g+g)),i-=g,o=Uk(n,4*o);return 0===a.length?Kk(0):TP(a).slice(0,e.size)}function c(e,t,n,r,i){var a=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var o=n[e],s=(r>>>2)-1;if(!o)return;for(var l=0;l<s&&(a=Uk(o,4*l))!==v;++l)i.push(a);c(Uk(o,r-4),t-1,n,r,i)}}function u(e,t,n,r,i){var a=[],o=[];i||(i=[]);var s=r-1,l=0,c=0;for(l=t;l>=0;){i[l]=!0,a[a.length]=l,o.push(e[l]);var u=n[Math.floor(4*l/r)];if(r<4+(c=4*l&s))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[u])break;l=Uk(e[u],c)}return{nodes:a,data:gk([o])}}function h(e,t){return new Date(1e3*(Fk(e,t+4)/1e7*Math.pow(2,32)+Fk(e,t)/1e7-11644473600))}function d(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="Sh33tJ5";if(!xD.find(e,"/"+t)){var n=Kk(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),f(e)}}(e)}function f(e,t){d(e);for(var i=!1,a=!1,o=e.FullPaths.length-1;o>=0;--o){var s=e.FileIndex[o];switch(s.type){case 0:a?i=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:a=!0,isNaN(s.R*s.L*s.C)&&(i=!0),s.R>-1&&s.L>-1&&s.R==s.L&&(i=!0);break;default:i=!0}}if(i||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},h=[];for(o=0;o<e.FullPaths.length;++o)u[e.FullPaths[o]]=!0,0!==e.FileIndex[o].type&&h.push([e.FullPaths[o],e.FileIndex[o]]);for(o=0;o<h.length;++o){var f=n(h[o][0]);(a=u[f])||(h.push([f,{name:r(f).replace("/",""),type:1,clsid:b,ct:l,mt:l,content:null}]),u[f]=!0)}for(h.sort((function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0,a=0,o=Math.min(n.length,r.length);i<o;++i){if(a=n[i].length-r[i].length)return a;if(n[i]!=r[i])return n[i]<r[i]?-1:1}return n.length-r.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],o=0;o<h.length;++o)e.FullPaths[o]=h[o][0],e.FileIndex[o]=h[o][1];for(o=0;o<h.length;++o){var p=e.FileIndex[o],m=e.FullPaths[o];if(p.name=r(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||b,0===o)p.C=h.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(c=o+1;c<h.length&&n(e.FullPaths[c])!=m;++c);for(p.C=c>=h.length?-1:c,c=o+1;c<h.length&&n(e.FullPaths[c])!=n(m);++c);p.R=c>=h.length?-1:c,p.type=1}else n(e.FullPaths[o+1]||"")==n(m)&&(p.R=o+1),p.type=2}}}function p(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",i=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],a=e.FullPaths[0],o=a,s=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(o=e.FullPaths[l].slice(a.length),(s=e.FileIndex[l]).size&&s.content&&"Sh33tJ5"!=o){o=o.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var c=s.content,u=bP&&Buffer.isBuffer(c)?c.toString("binary"):_(c),h=0,d=Math.min(1024,u.length),f=0,p=0;p<=d;++p)(f=u.charCodeAt(p))>=32&&f<128&&++h;var m=h>=4*d/5;i.push(r),i.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+o),i.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),i.push("Content-Type: "+ae(s,o)),i.push(""),i.push(m?se(u):oe(u))}return i.push(r+"--\r\n"),i.join("\r\n")}(e,n);if(f(e),"zip"===n.fileType)return function(e,t){var n,r=t||{},a=[],o=[],s=Kk(1),l=r.compression?8:0,c=0,u=0,h=0,d=0,f=e.FullPaths[0],p=f,g=e.FileIndex[0],v=[],y=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(f.length),(g=e.FileIndex[c]).size&&g.content&&"Sh33tJ5"!=p){var w=h,b=Kk(p.length);for(u=0;u<p.length;++u)b.write_shift(1,127&p.charCodeAt(u));b=b.slice(0,b.l),v[d]=bD.buf(g.content,0);var x=g.content;8==l&&(n=x,x=m?m.deflateRawSync(n):X(n)),(s=Kk(30)).write_shift(4,67324752),s.write_shift(2,20),s.write_shift(2,0),s.write_shift(2,l),g.mt?i(s,g.mt):s.write_shift(4,0),s.write_shift(-4,v[d]),s.write_shift(4,x.length),s.write_shift(4,g.content.length),s.write_shift(2,b.length),s.write_shift(2,0),h+=s.length,a.push(s),h+=b.length,a.push(b),h+=x.length,a.push(x),(s=Kk(46)).write_shift(4,33639248),s.write_shift(2,0),s.write_shift(2,20),s.write_shift(2,0),s.write_shift(2,l),s.write_shift(4,0),s.write_shift(-4,v[d]),s.write_shift(4,x.length),s.write_shift(4,g.content.length),s.write_shift(2,b.length),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s.write_shift(4,w),y+=s.l,o.push(s),y+=b.length,o.push(b),++d}return(s=Kk(22)).write_shift(4,101010256),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,d),s.write_shift(2,d),s.write_shift(4,y),s.write_shift(4,h),s.write_shift(2,0),TP([TP(a),TP(o),s])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var i=e.FileIndex[r];if(i.content){var a=i.content.length;a>0&&(a<4096?t+=a+63>>6:n+=a+511>>9)}}for(var o=e.FullPaths.length+3>>2,s=t+127>>7,l=(t+7>>3)+n+o+s,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var h=[1,u,c,s,o,n,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),a=Kk(r[7]<<9),o=0,s=0;for(o=0;o<8;++o)a.write_shift(1,w[o]);for(o=0;o<8;++o)a.write_shift(2,0);for(a.write_shift(2,62),a.write_shift(2,3),a.write_shift(2,65534),a.write_shift(2,9),a.write_shift(2,6),o=0;o<3;++o)a.write_shift(2,0);for(a.write_shift(4,0),a.write_shift(4,r[2]),a.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),a.write_shift(4,0),a.write_shift(4,4096),a.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:v),a.write_shift(4,r[3]),a.write_shift(-4,r[1]?r[0]-1:v),a.write_shift(4,r[1]),o=0;o<109;++o)a.write_shift(-4,o<r[2]?r[1]+o:-1);if(r[1])for(s=0;s<r[1];++s){for(;o<236+127*s;++o)a.write_shift(-4,o<r[2]?r[1]+o:-1);a.write_shift(-4,s===r[1]-1?v:s+1)}var l=function(e){for(s+=e;o<s-1;++o)a.write_shift(-4,o+1);e&&(++o,a.write_shift(-4,v))};for(s=o=0,s+=r[1];o<s;++o)a.write_shift(-4,x.DIFSECT);for(s+=r[2];o<s;++o)a.write_shift(-4,x.FATSECT);l(r[3]),l(r[4]);for(var c=0,u=0,h=e.FileIndex[0];c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&((u=h.content.length)<4096||(h.start=s,l(u+511>>9)));for(l(r[6]+7>>3);511&a.l;)a.write_shift(-4,x.ENDOFCHAIN);for(s=o=0,c=0;c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&(!(u=h.content.length)||u>=4096||(h.start=s,l(u+63>>6)));for(;511&a.l;)a.write_shift(-4,x.ENDOFCHAIN);for(o=0;o<r[4]<<2;++o){var d=e.FullPaths[o];if(d&&0!==d.length){h=e.FileIndex[o],0===o&&(h.start=h.size?h.start-1:v);var p=0===o&&n.root||h.name;if(u=2*(p.length+1),a.write_shift(64,p,"utf16le"),a.write_shift(2,u),a.write_shift(1,h.type),a.write_shift(1,h.color),a.write_shift(-4,h.L),a.write_shift(-4,h.R),a.write_shift(-4,h.C),h.clsid)a.write_shift(16,h.clsid,"hex");else for(c=0;c<4;++c)a.write_shift(4,0);a.write_shift(4,h.state||0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,h.start),a.write_shift(4,h.size),a.write_shift(4,0)}else{for(c=0;c<17;++c)a.write_shift(4,0);for(c=0;c<3;++c)a.write_shift(4,-1);for(c=0;c<12;++c)a.write_shift(4,0)}}for(o=1;o<e.FileIndex.length;++o)if((h=e.FileIndex[o]).size>=4096)if(a.l=h.start+1<<9,bP&&Buffer.isBuffer(h.content))h.content.copy(a,a.l,0,h.size),a.l+=h.size+511&-512;else{for(c=0;c<h.size;++c)a.write_shift(1,h.content[c]);for(;511&c;++c)a.write_shift(1,0)}for(o=1;o<e.FileIndex.length;++o)if((h=e.FileIndex[o]).size>0&&h.size<4096)if(bP&&Buffer.isBuffer(h.content))h.content.copy(a,a.l,0,h.size),a.l+=h.size+63&-64;else{for(c=0;c<h.size;++c)a.write_shift(1,h.content[c]);for(;63&c;++c)a.write_shift(1,0)}if(bP)a.l=a.length;else for(;a.l<a.length;)a.write_shift(1,0);return a}t.version="1.2.1";var m,g=64,v=-2,y="d0cf11e0a1b11ae1",w=[208,207,17,224,161,177,26,225],b="00000000000000000000000000000000",x={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:b,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}var S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function A(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var T="undefined"!=typeof Uint8Array,M=T?new Uint8Array(256):[],P=0;P<256;++P)M[P]=A(P);function D(e,t){var n=M[255&e];return t<=8?n>>>8-t:(n=n<<8|M[e>>8&255],t<=16?n>>>16-t:(n=n<<8|M[e>>16&255])>>>24-t)}function k(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function O(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function I(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function R(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function L(e,t,n){var r=7&t,i=t>>>3,a=(1<<n)-1,o=e[i]>>>r;return n<8-r?o&a:(o|=e[i+1]<<8-r,n<16-r?o&a:(o|=e[i+2]<<16-r,n<24-r?o&a:(o|=e[i+3]<<24-r)&a))}function N(e,t,n){var r=7&t,i=t>>>3;return r<=5?e[i]|=(7&n)<<r:(e[i]|=n<<r&255,e[i+1]=(7&n)>>8-r),t+3}function z(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function B(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function F(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function U(e,t){var n=e.length,r=2*n>t?2*n:t+5,i=0;if(n>=t)return e;if(bP){var a=SP(r);if(e.copy)e.copy(a);else for(;i<e.length;++i)a[i]=e[i];return a}if(T){var o=new Uint8Array(r);if(o.set)o.set(e);else for(;i<n;++i)o[i]=e[i];return o}return e.length=r,e}function j(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function V(e,t,n){var r=1,i=0,a=0,o=0,s=0,l=e.length,c=T?new Uint16Array(32):j(32);for(a=0;a<32;++a)c[a]=0;for(a=l;a<n;++a)e[a]=0;l=e.length;var u=T?new Uint16Array(l):j(l);for(a=0;a<l;++a)c[i=e[a]]++,r<i&&(r=i),u[a]=0;for(c[0]=0,a=1;a<=r;++a)c[a+16]=s=s+c[a-1]<<1;for(a=0;a<l;++a)0!=(s=e[a])&&(u[a]=c[s+16]++);var h=0;for(a=0;a<l;++a)if(0!=(h=e[a]))for(s=D(u[a],r)>>r-h,o=(1<<r+4-h)-1;o>=0;--o)t[s|o<<h]=15&h|a<<4;return r}var H=T?new Uint16Array(512):j(512),G=T?new Uint16Array(32):j(32);if(!T){for(var W=0;W<512;++W)H[W]=0;for(W=0;W<32;++W)G[W]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);V(e,G,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);V(n,H,288)}();var q=function(){for(var e=T?new Uint8Array(32768):[],t=0,n=0;t<C.length-1;++t)for(;n<C[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=T?new Uint8Array(259):[];for(t=0,n=0;t<E.length-1;++t)for(;n<E[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),i=n+r==e.length;for(t.write_shift(1,+i),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var i=0,a=0,o=T?new Uint16Array(32768):[];a<t.length;){var s=Math.min(65535,t.length-a);if(s<10){for(7&(i=N(n,i,+!(a+s!=t.length)))&&(i+=8-(7&i)),n.l=i/8|0,n.write_shift(2,s),n.write_shift(2,65535&~s);s-- >0;)n[n.l++]=t[a++];i=8*n.l}else{i=N(n,i,+!(a+s!=t.length)+2);for(var l=0;s-- >0;){var c=t[a],u=-1,h=0;if((u=o[l=32767&(l<<5^c)])&&((u|=-32768&a)>a&&(u-=32768),u<a))for(;t[u+h]==t[a+h]&&h<250;)++h;if(h>2){(c=r[h])<=22?i=B(n,i,M[c+1]>>1)-1:(B(n,i,3),B(n,i+=5,M[c-23]>>5),i+=3);var d=c<8?0:c-4>>2;d>0&&(F(n,i,h-E[c]),i+=d),c=e[a-u],i=B(n,i,M[c]>>3),i-=3;var f=c<4?0:c-2>>1;f>0&&(F(n,i,a-u-C[c]),i+=f);for(var p=0;p<h;++p)o[l]=32767&a,l=32767&(l<<5^t[a]),++a;s-=h-1}else c<=143?c+=48:i=z(n,i,1),i=B(n,i,M[c]),o[l]=32767&a,++a}i=B(n,i,0)-1}}return n.l=(i+7)/8|0,n.l}(t,n)}}();function X(e){var t=Kk(50+Math.floor(1.1*e.length)),n=q(e,t);return t.slice(0,n)}var Y=T?new Uint16Array(32768):j(32768),Q=T?new Uint16Array(32768):j(32768),K=T?new Uint16Array(128):j(128),Z=1,J=1;function $(e,t){var n=I(e,t)+257,r=I(e,t+=5)+1,i=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var a=0,o=T?new Uint8Array(19):j(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=T?new Uint8Array(8):j(8),u=T?new Uint8Array(8):j(8),h=o.length,d=0;d<i;++d)o[S[d]]=a=O(e,t),l<a&&(l=a),c[a]++,t+=3;var f=0;for(c[0]=0,d=1;d<=l;++d)u[d]=f=f+c[d-1]<<1;for(d=0;d<h;++d)0!=(f=o[d])&&(s[d]=u[f]++);var p=0;for(d=0;d<h;++d)if(0!=(p=o[d])){f=M[s[d]]>>8-p;for(var m=(1<<7-p)-1;m>=0;--m)K[f|m<<p]=7&p|d<<3}var g=[];for(l=1;g.length<n+r;)switch(t+=7&(f=K[R(e,t)]),f>>>=3){case 16:for(a=3+k(e,t),t+=2,f=g[g.length-1];a-- >0;)g.push(f);break;case 17:for(a=3+O(e,t),t+=3;a-- >0;)g.push(0);break;case 18:for(a=11+R(e,t),t+=7;a-- >0;)g.push(0);break;default:g.push(f),l<f&&(l=f)}var v=g.slice(0,n),y=g.slice(n);for(d=n;d<286;++d)v[d]=0;for(d=r;d<30;++d)y[d]=0;return Z=V(v,Y,286),J=V(y,Q,30),t}function ee(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[_P(t),2];for(var n=0,r=0,i=SP(t||1<<18),a=0,o=i.length>>>0,s=0,l=0;0==(1&r);)if(r=O(e,n),n+=3,r>>>1!=0)for(r>>1==1?(s=9,l=5):(n=$(e,n),s=Z,l=J);;){!t&&o<a+32767&&(o=(i=U(i,a+32767)).length);var c=L(e,n,s),u=r>>>1==1?H[c]:Y[c];if(n+=15&u,0==((u>>>=4)>>>8&255))i[a++]=u;else{if(256==u)break;var h=(u-=257)<8?0:u-4>>2;h>5&&(h=0);var d=a+E[u];h>0&&(d+=L(e,n,h),n+=h),c=L(e,n,l),n+=15&(u=r>>>1==1?G[c]:Q[c]);var f=(u>>>=4)<4?0:u-2>>1,p=C[u];for(f>0&&(p+=L(e,n,f),n+=f),!t&&o<d&&(o=(i=U(i,d+100)).length);a<d;)i[a]=i[a-p],++a}}else{7&n&&(n+=8-(7&n));var m=e[n>>>3]|e[1+(n>>>3)]<<8;if(n+=32,m>0)for(!t&&o<a+m&&(o=(i=U(i,a+m)).length);m-- >0;)i[a++]=e[n>>>3],n+=8}return t?[i,n+7>>>3]:[i.slice(0,a),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function te(e,t){if(!e)throw new Error(t);"undefined"!=typeof console&&console.error(t)}function ne(e,t){var n=e;Yk(n,0);var r={FileIndex:[],FullPaths:[]};d(r,{root:t.root});for(var i=n.length-4;(80!=n[i]||75!=n[i+1]||5!=n[i+2]||6!=n[i+3])&&i>=0;)--i;n.l=i+4,n.l+=4;var o=n.read_shift(2);n.l+=6;var s=n.read_shift(4);for(n.l=s,i=0;i<o;++i){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),u=n.read_shift(2),h=n.read_shift(2),f=n.read_shift(2);n.l+=8;var p=n.read_shift(4),m=a(n.slice(n.l+u,n.l+u+h));n.l+=u+h+f;var g=n.l;n.l=p+4,re(n,l,c,r,m),n.l=g}return r}function re(e,t,n,r,i){e.l+=2;var o=e.read_shift(2),s=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,i=31&n,a=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(a-1),r.setDate(i);var o=31&t,s=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(s),r.setSeconds(o<<1),r}(e);if(8257&o)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),h=e.read_shift(2),d=e.read_shift(2),f="",p=0;p<h;++p)f+=String.fromCharCode(e[e.l++]);if(d){var g=a(e.slice(e.l,e.l+d));(g[21589]||{}).mt&&(l=g[21589].mt),((i||{})[21589]||{}).mt&&(l=i[21589].mt)}e.l+=d;var v=e.slice(e.l,e.l+c);switch(s){case 8:v=function(e,t){if(!m)return ee(e,t);var n=new(0,m.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+s)}var y=!1;8&o&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&te(y,"Bad compressed size: "+t+" != "+c),u!=n&&te(y,"Bad uncompressed size: "+n+" != "+u),ce(r,f,v,{unsafe:!0,mt:l})}var ie={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ae(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&ie[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&ie[r[1]]?ie[r[1]]:"application/octet-stream"}function oe(e){for(var t=yP(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function se(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),i=0;i<r.length;++i){var a=r[i];if(0!=a.length)for(var o=0;o<a.length;){var s=76,l=a.slice(o,o+s);"="==l.charAt(s-1)?s--:"="==l.charAt(s-2)?s-=2:"="==l.charAt(s-3)&&(s-=3),l=a.slice(o,o+s),(o+=s)<a.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function le(e,t,n){for(var r,i="",a="",o="",s=0;s<10;++s){var l=t[s];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":i=c[2].trim();break;case"content-type":o=c[2].trim();break;case"content-transfer-encoding":a=c[2].trim()}}switch(++s,a.toLowerCase()){case"base64":r=EP(wP(t.slice(s).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var i=0;i<t.length;++i)t[i]=t[i].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return EP(t.join("\r\n"))}(t.slice(s));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+a)}var u=ce(e,i.slice(n.length),r,{unsafe:!0});o&&(u.ctype=o)}function ce(e,t,n,i){var a=i&&i.unsafe;a||d(e);var o=!a&&xD.find(e,t);if(!o){var s=e.FullPaths[0];t.slice(0,s.length)==s?s=t:("/"!=s.slice(-1)&&(s+="/"),s=(s+t).replace("//","/")),o={name:r(t),type:2},e.FileIndex.push(o),e.FullPaths.push(s),a||xD.utils.cfb_gc(e)}return o.content=n,o.size=n?n.length:0,i&&(i.CLSID&&(o.clsid=i.CLSID),i.mt&&(o.mt=i.mt),i.ct&&(o.ct=i.ct)),o}return t.find=function(e,t){var n=e.FullPaths.map((function(e){return e.toUpperCase()})),r=n.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),i=!1;47===t.charCodeAt(0)?(i=!0,t=n[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var a=t.toUpperCase(),o=!0===i?n.indexOf(a):r.indexOf(a);if(-1!==o)return e.FileIndex[o];var s=!a.match(PP);for(a=a.replace(MP,""),s&&(a=a.replace(PP,"!")),o=0;o<n.length;++o){if((s?n[o].replace(PP,"!"):n[o]).replace(MP,"")==a)return e.FileIndex[o];if((s?r[o].replace(PP,"!"):r[o]).replace(MP,"")==a)return e.FileIndex[o]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||bP&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return o(),s(e.readFileSync(t),n)}(t,n);case"base64":return s(EP(wP(t)),n);case"binary":return s(EP(t),n)}return s(t,n)},t.parse=s,t.write=function(t,n){var r=p(t,n);switch(n&&n.type||"buffer"){case"file":return o(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:_(r);case"base64":return yP("string"==typeof r?r:_(r));case"buffer":if(bP)return Buffer.isBuffer(r)?r:xP(r);case"array":return"string"==typeof r?EP(r):r}return r},t.writeFile=function(t,n,r){o();var i=p(t,r);e.writeFileSync(n,i)},t.utils={cfb_new:function(e){var t={};return d(t,e),t},cfb_add:ce,cfb_del:function(e,t){d(e);var n=xD.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){d(e);var i=xD.find(e,t);if(i)for(var a=0;a<e.FileIndex.length;++a)if(e.FileIndex[a]==i)return e.FileIndex[a].name=r(n),e.FullPaths[a]=n,!0;return!1},cfb_gc:function(e){f(e,!0)},ReadShift:Vk,CheckField:Xk,prep_blob:Yk,bconcat:TP,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(e){console.error("cannot use native zlib: "+(e.message||e))}},_deflateRaw:X,_inflateRaw:ee,consts:x},t}();let _D;function SD(e){return"string"==typeof e?CP(e):Array.isArray(e)?function(e){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function ED(e,t,n){if(void 0!==_D&&_D.writeFileSync)return n?_D.writeFileSync(e,t,n):_D.writeFileSync(e,t);if("undefined"!=typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=CP(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?ak(t):t;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!=typeof Blob){var i=new Blob([SD(r)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!=typeof saveAs)return saveAs(i,e);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(a)}),6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(a)}),6e4),a}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=AP(t)),s.write(t),s.close(),t}catch(e){if(!e.message||!e.message.match(/onstruct/))throw e}throw new Error("cannot save file "+e)}function CD(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function AD(e,t){for(var n=[],r=CD(e),i=0;i!==r.length;++i)null==n[e[r[i]][t]]&&(n[e[r[i]][t]]=r[i]);return n}function TD(e){for(var t=[],n=CD(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function MD(e){for(var t=[],n=CD(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var PD=new Date(1899,11,30,0,0,0);function DD(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(PD.getTime()+6e4*(e.getTimezoneOffset()-PD.getTimezoneOffset())))/864e5}var kD=new Date,OD=PD.getTime()+6e4*(kD.getTimezoneOffset()-PD.getTimezoneOffset()),ID=kD.getTimezoneOffset();function RD(e){var t=new Date;return t.setTime(24*e*60*60*1e3+OD),t.getTimezoneOffset()!==ID&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-ID)),t}var LD=new Date("2017-02-19T19:06:09.000Z"),ND=isNaN(LD.getFullYear())?new Date("2/19/17"):LD,zD=2017==ND.getFullYear();function BD(e,t){var n=new Date(e);if(zD)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==ND.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-60*a.getTimezoneOffset()*1e3)),a}function FD(e,t){if(bP&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return ak(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return ak(function(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!=typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return ak(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return ak(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"€":"","‚":"","ƒ":"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"","Š":"","‹":"","Œ":"","Ž":"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"","š":"","›":"","œ":"","ž":"","Ÿ":""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,(function(e){return n[e]||e}))}catch(e){}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function UD(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=UD(e[n]));return t}function jD(e,t){for(var n="";n.length<t;)n+=e;return n}function VD(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return n*=100,""}));return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(e,t){return n=-n,t})),isNaN(t=Number(r))?t:t/n):t/n}var HD=["january","february","march","april","may","june","july","august","september","october","november","december"];function GD(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==HD.indexOf(o))return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}function WD(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=bP?xP(n):function(e){for(var t=[],n=0,r=e.length+250,i=_P(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|63&o;else if(o>=55296&&o<57344){o=64+(1023&o);var s=1023&e.charCodeAt(++a);i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|s>>6&15|(3&o)<<4,i[n++]=128|63&s}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|63&o;n>r&&(t.push(i.slice(0,n)),n=0,i=_P(65535),r=65530)}return t.push(i.slice(0,n)),TP(t)}(n),xD.utils.cfb_add(e,t,r);xD.utils.cfb_add(e,t,n)}else e.file(t,n)}function qD(){return xD.utils.cfb_new()}var XD='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',YD=TD({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),QD=/[&<>'"]/g,KD=/[\u0000-\u0008\u000b-\u001f]/g;function ZD(e){return(e+"").replace(QD,(function(e){return YD[e]})).replace(KD,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function JD(e){return ZD(e).replace(/ /g,"_x0020_")}var $D=/[\u0000-\u001f]/g;function ek(e){for(var t="",n=0,r=0,i=0,a=0,o=0,s=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(i=e.charCodeAt(n++),r>191&&r<224?(o=(31&r)<<6,o|=63&i,t+=String.fromCharCode(o)):(a=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a):(s=((7&r)<<18|(63&i)<<12|(63&a)<<6|63&(o=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(1023&s)))));return t}function tk(e){var t,n,r,i=_P(2*e.length),a=1,o=0,s=0;for(n=0;n<e.length;n+=a)a=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),a=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),a=3):(a=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),s=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==s&&(i[o++]=255&s,i[o++]=s>>>8,s=0),i[o++]=t%256,i[o++]=t>>>8;return i.slice(0,o).toString("ucs2")}function nk(e){return xP(e,"binary").toString("utf8")}var rk="foo bar bazâð£",ik=bP&&(nk(rk)==ek(rk)&&nk||tk(rk)==ek(rk)&&tk)||ek,ak=bP?function(e){return xP(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},ok=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}(),sk=/(^\s|\s$|\n)/;function lk(e,t){return"<"+e+(t.match(sk)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function ck(e){return CD(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function uk(e,t,n){return"<"+e+(null!=n?ck(n):"")+(null!=t?(t.match(sk)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function hk(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}var dk={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},fk=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],pk={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"},mk=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,i=e[0][n].length;r<i;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},gk=bP?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:xP(e)}))):mk(e)}:mk,vk=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(zk(e,i)));return r.join("").replace(MP,"")},yk=bP?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(MP,""):vk(e,t,n)}:vk,wk=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},bk=bP?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):wk(e,t,n)}:wk,xk=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(Nk(e,i)));return r.join("")},_k=bP?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):xk(e,t,n)}:xk,Sk=function(e,t){var n=Fk(e,t);return n>0?_k(e,t+4,t+4+n-1):""},Ek=Sk,Ck=function(e,t){var n=Fk(e,t);return n>0?_k(e,t+4,t+4+n-1):""},Ak=Ck,Tk=function(e,t){var n=2*Fk(e,t);return n>0?_k(e,t+4,t+4+n-1):""},Mk=Tk,Pk=function(e,t){var n=Fk(e,t);return n>0?yk(e,t+4,t+4+n):""},Dk=Pk,kk=function(e,t){var n=Fk(e,t);return n>0?_k(e,t+4,t+4+n):""},Ok=kk,Ik=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],a=5;a>=0;--a)i=256*i+e[t+a];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}(e,t)},Rk=Ik,Lk=function(e){return Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array};bP&&(Ek=function(e,t){if(!Buffer.isBuffer(e))return Sk(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},Ak=function(e,t){if(!Buffer.isBuffer(e))return Ck(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},Mk=function(e,t){if(!Buffer.isBuffer(e))return Tk(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},Dk=function(e,t){if(!Buffer.isBuffer(e))return Pk(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},Ok=function(e,t){if(!Buffer.isBuffer(e))return kk(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},Rk=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):Ik(e,t)},Lk=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array}),void 0!==fP&&(yk=function(e,t,n){return fP.utils.decode(1200,e.slice(t,n)).replace(MP,"")},_k=function(e,t,n){return fP.utils.decode(65001,e.slice(t,n))},Ek=function(e,t){var n=Fk(e,t);return n>0?fP.utils.decode(lP,e.slice(t+4,t+4+n-1)):""},Ak=function(e,t){var n=Fk(e,t);return n>0?fP.utils.decode(sP,e.slice(t+4,t+4+n-1)):""},Mk=function(e,t){var n=2*Fk(e,t);return n>0?fP.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},Dk=function(e,t){var n=Fk(e,t);return n>0?fP.utils.decode(1200,e.slice(t+4,t+4+n)):""},Ok=function(e,t){var n=Fk(e,t);return n>0?fP.utils.decode(65001,e.slice(t+4,t+4+n)):""});var Nk=function(e,t){return e[t]},zk=function(e,t){return 256*e[t+1]+e[t]},Bk=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},Fk=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Uk=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},jk=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Vk(e,t){var n,r,i,a,o,s,l="",c=[];switch(t){case"dbcs":if(s=this.l,bP&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(o=0;o<e;++o)l+=String.fromCharCode(zk(this,s)),s+=2;e*=2;break;case"utf8":l=_k(this,this.l,this.l+e);break;case"utf16le":e*=2,l=yk(this,this.l,this.l+e);break;case"wstr":if(void 0===fP)return Vk.call(this,e,"dbcs");l=fP.utils.decode(sP,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=Ek(this,this.l),e=4+Fk(this,this.l);break;case"lpstr-cp":l=Ak(this,this.l),e=4+Fk(this,this.l);break;case"lpwstr":l=Mk(this,this.l),e=4+2*Fk(this,this.l);break;case"lpp4":e=4+Fk(this,this.l),l=Dk(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Fk(this,this.l),l=Ok(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(i=Nk(this,this.l+e++));)c.push(pP(i));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(i=zk(this,this.l+e));)c.push(pP(i)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",s=this.l,o=0;o<e;++o){if(this.lens&&-1!==this.lens.indexOf(s))return i=Nk(this,s),this.l=s+1,a=Vk.call(this,e-o,i?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(pP(zk(this,s))),s+=2}l=c.join(""),e*=2;break;case"cpstr":if(void 0!==fP){l=fP.utils.decode(sP,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",s=this.l,o=0;o!=e;++o){if(this.lens&&-1!==this.lens.indexOf(s))return i=Nk(this,s),this.l=s+1,a=Vk.call(this,e-o,i?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(pP(Nk(this,s))),s+=1}l=c.join("");break;default:switch(e){case 1:return n=Nk(this,this.l),this.l++,n;case 2:return n=("i"===t?Bk:zk)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0==(128&this[this.l+3])?(n=(e>0?Uk:jk)(this,this.l),this.l+=4,n):(r=Fk(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?Rk(this,this.l):Rk([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:l=bk(this,this.l,e)}}return this.l+=e,l}var Hk=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},Gk=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Wk=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function qk(e,t,n){var r=0,i=0;if("dbcs"===n){for(i=0;i!=t.length;++i)Wk(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===n){if(void 0!==fP&&874==lP)for(i=0;i!=t.length;++i){var a=fP.utils.encode(lP,t.charAt(i));this[this.l+i]=a[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===n){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===n){var o=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=255&s,this[this.l++]=s>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,Hk(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,o=r?-t:t;isFinite(o)?0==o?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var s=0;s<=5;++s,a/=256)e[n+s]=255&a;e[n+6]=(15&i)<<4|15&a,e[n+7]=i>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,Gk(this,t,this.l)}}return this.l+=r,this}function Xk(e,t){var n=bk(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Yk(e,t){e.l=t,e.read_shift=Vk,e.chk=Xk,e.write_shift=qk}function Qk(e,t){e.l+=t}function Kk(e){var t=_P(e);return Yk(t,0),t}function Zk(){var e=[],t=bP?256:2048,n=function(e){var t=Kk(e);return Yk(t,0),t},r=n(t),i=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},a=function(e){return r&&e<r.length-r.l?r:(i(),r=n(Math.max(e+1,t)))};return{next:a,push:function(e){i(),null==(r=e).l&&(r.l=r.length),a(t)},end:function(){return i(),TP(e)},_bufs:e}}function Jk(e,t,n,r){var i,a=+t;if(!isNaN(a)){r||(r=NL[a].p||(n||[]).length||0),i=1+(a>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,128+(127&a)),o.write_shift(1,a>>7));for(var s=0;4!=s;++s){if(!(r>=128)){o.write_shift(1,r);break}o.write_shift(1,128+(127&r)),r>>=7}r>0&&Lk(n)&&e.push(n)}}function $k(e,t,n){var r=UD(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function eO(e,t,n){var r=UD(e);return r.s=$k(r.s,t.s,n),r.e=$k(r.e,t.s,n),r}function tO(e,t){if(e.cRel&&e.c<0)for(e=UD(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=UD(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=lO(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")),n}function nO(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?tO(e.s,t.biff)+":"+tO(e.e,t.biff):(e.s.rRel?"":"$")+iO(e.s.r)+":"+(e.e.rRel?"":"$")+iO(e.e.r):(e.s.cRel?"":"$")+oO(e.s.c)+":"+(e.e.cRel?"":"$")+oO(e.e.c)}function rO(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function iO(e){return""+(e+1)}function aO(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function oO(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function sO(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function lO(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function cO(e){var t=e.indexOf(":");return-1==t?{s:sO(e),e:sO(e)}:{s:sO(e.slice(0,t)),e:sO(e.slice(t+1))}}function uO(e,t){return void 0===t||"number"==typeof t?uO(e.s,e.e):("string"!=typeof e&&(e=lO(e)),"string"!=typeof t&&(t=lO(t)),e==t?e:e+":"+t)}function hO(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=e.length;for(n=0;r<a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===a||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function dO(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?qO[e.v]||e.v:function(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=mD(e.z,n?DD(t):t)}catch(e){}try{return e.w=mD((e.XF||{}).numFmtId||(n?14:0),n?DD(t):t)}catch(e){return""+t}}(e,null==t?e.v:t))}function fO(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function pO(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense;null!=gP&&null==i&&(i=gP);var a=e||(i?[]:{}),o=0,s=0;if(a&&null!=r.origin){if("number"==typeof r.origin)o=r.origin;else{var l="string"==typeof r.origin?sO(r.origin):r.origin;o=l.r,s=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=hO(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==o&&(c.e.r=o=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[h].length;++d)if(void 0!==t[h][d]){var f={v:t[h][d]},p=o+h,m=s+d;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),!t[h][d]||"object"!=typeof t[h][d]||Array.isArray(t[h][d])||t[h][d]instanceof Date)if(Array.isArray(f.v)&&(f.f=t[h][d][1],f.v=f.v[0]),null===f.v)if(f.f)f.t="n";else if(r.nullError)f.t="e",f.v=0;else{if(!r.sheetStubs)continue;f.t="z"}else"number"==typeof f.v?f.t="n":"boolean"==typeof f.v?f.t="b":f.v instanceof Date?(f.z=r.dateNF||FP[14],r.cellDates?(f.t="d",f.w=mD(f.z,DD(f.v))):(f.t="n",f.v=DD(f.v),f.w=mD(f.z,f.v))):f.t="s";else f=t[h][d];if(i)a[p]||(a[p]=[]),a[p][m]&&a[p][m].z&&(f.z=a[p][m].z),a[p][m]=f;else{var g=lO({c:m,r:p});a[g]&&a[g].z&&(f.z=a[g].z),a[g]=f}}}return c.s.c<1e7&&(a["!ref"]=uO(c)),a}function mO(e,t){return pO(null,e,t)}function gO(e,t){return t||(t=Kk(4)),t.write_shift(4,e),t}function vO(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function yO(e,t){var n=!1;return null==t&&(n=!0,t=Kk(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function wO(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function bO(e,t){var n=e.l,r=e.read_shift(1),i=vO(e),a=[],o={t:i,h:i};if(0!=(1&r)){for(var s=e.read_shift(4),l=0;l!=s;++l)a.push(wO(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}var xO=bO;function _O(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function SO(e,t){return null==t&&(t=Kk(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function EO(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function CO(e,t){return null==t&&(t=Kk(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var AO=vO,TO=yO;function MO(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function PO(e,t){var n=!1;return null==t&&(n=!0,t=Kk(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var DO=vO,kO=MO,OO=PO;function IO(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var i=0===r?Rk([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):Uk(t,0)>>2;return n?i/100:i}function RO(e,t){null==t&&(t=Kk(4));var n=0,r=0,i=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?i:e)<<2)+(n+2))}function LO(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var NO=LO,zO=function(e,t){return t||(t=Kk(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function BO(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function FO(e,t){return(t||Kk(8)).write_shift(8,e,"f")}function UO(e,t){if(t||(t=Kk(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var jO=80,VO={1:{n:"CodePage",t:2},2:{n:"Category",t:jO},3:{n:"PresentationFormat",t:jO},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:jO},15:{n:"Company",t:jO},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:jO},27:{n:"ContentStatus",t:jO},28:{n:"Language",t:jO},29:{n:"Version",t:jO},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},HO={1:{n:"CodePage",t:2},2:{n:"Title",t:jO},3:{n:"Subject",t:jO},4:{n:"Author",t:jO},5:{n:"Keywords",t:jO},6:{n:"Comments",t:jO},7:{n:"Template",t:jO},8:{n:"LastAuthor",t:jO},9:{n:"RevNumber",t:jO},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:jO},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function GO(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var WO=UD(GO([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),qO={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},XO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},YO={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function QO(e,t){var n,r=function(e){for(var t=[],n=CD(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(XO),i=[];i[i.length]=XD,i[i.length]=uk("Types",null,{xmlns:dk.CT,"xmlns:xsd":dk.xsd,"xmlns:xsi":dk.xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return uk("Default",null,{Extension:e[0],ContentType:e[1]})})));var a=function(r){e[r]&&e[r].length>0&&(n=e[r][0],i[i.length]=uk("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:YO[r][t.bookType]||YO[r].xlsx}))},o=function(n){(e[n]||[]).forEach((function(e){i[i.length]=uk("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:YO[n][t.bookType]||YO[n].xlsx})}))},s=function(t){(e[t]||[]).forEach((function(e){i[i.length]=uk("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})}))};return a("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var KO={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ZO(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function JO(e){var t=[XD,uk("Relationships",null,{xmlns:dk.RELS})];return CD(e["!id"]).forEach((function(n){t[t.length]=uk("Relationship",null,e["!id"][n])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function $O(e,t,n,r,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,a?i.TargetMode=a:[KO.HLINK,KO.XPATH,KO.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function eI(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function tI(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+oP.version+"</meta:generator></office:meta></office:document-meta>"}var nI=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function rI(e,t,n,r,i){null==i[e]&&null!=t&&""!==t&&(i[e]=t,t=ZD(t),r[r.length]=n?uk(e,t,n):lk(e,t))}function iI(e,t){var n=t||{},r=[XD,uk("cp:coreProperties",null,{"xmlns:cp":dk.CORE_PROPS,"xmlns:dc":dk.dc,"xmlns:dcterms":dk.dcterms,"xmlns:dcmitype":dk.dcmitype,"xmlns:xsi":dk.xsi})],i={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&rI("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:hk(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=e.ModifiedDate&&rI("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:hk(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=nI.length;++a){var o=nI[a],s=n.Props&&null!=n.Props[o[1]]?n.Props[o[1]]:e?e[o[1]]:null;!0===s?s="1":!1===s?s="0":"number"==typeof s&&(s=String(s)),null!=s&&rI(o[0],s,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var aI=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],oI=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function sI(e){var t=[],n=uk;return e||(e={}),e.Application="SheetJS",t[t.length]=XD,t[t.length]=uk("Properties",null,{xmlns:dk.EXT_PROPS,"xmlns:vt":dk.vt}),aI.forEach((function(r){if(void 0!==e[r[1]]){var i;switch(r[2]){case"string":i=ZD(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false"}void 0!==i&&(t[t.length]=n(r[0],i))}})),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+ZD(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function lI(e){var t=[XD,uk("Properties",null,{xmlns:dk.CUST_PROPS,"xmlns:vt":dk.vt})];if(!e)return t.join("");var n=1;return CD(e).forEach((function(r){++n,t[t.length]=uk("property",function(e,t){switch(typeof e){case"string":var n=uk("vt:lpwstr",ZD(e));return n=n.replace(/&quot;/g,"_x0022_");case"number":return uk((0|e)==e?"vt:i4":"vt:r8",ZD(String(e)));case"boolean":return uk("vt:bool",e?"true":"false")}if(e instanceof Date)return uk("vt:filetime",hk(e));throw new Error("Unable to serialize "+e)}(e[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:ZD(r)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var cI={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function uI(e,t){var n=Kk(4),r=Kk(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=Kk(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var i=(n*=1e7)/Math.pow(2,32)|0;i>0&&(n%=Math.pow(2,32),r+=i);var a=Kk(8);return a.write_shift(4,n),a.write_shift(4,r),a}(t);break;case 31:case 80:for((r=Kk(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return TP([n,r])}var hI=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function dI(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function fI(e,t,n){var r=Kk(8),i=[],a=[],o=8,s=0,l=Kk(8),c=Kk(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),i.push(c),o+=8+l.length,!t){(c=Kk(8)).write_shift(4,0),i.unshift(c);var u=[Kk(4)];for(u[0].write_shift(4,e.length),s=0;s<e.length;++s){var h=e[s][0];for((l=Kk(8+2*(h.length+1)+(h.length%2?0:2))).write_shift(4,s+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=TP(u),a.unshift(l),o+=8+l.length}for(s=0;s<e.length;++s)if((!t||t[e[s][0]])&&!(hI.indexOf(e[s][0])>-1||oI.indexOf(e[s][0])>-1)&&null!=e[s][1]){var d=e[s][1],f=0;if(t){var p=n[f=+t[e[s][0]]];if("version"==p.p&&"string"==typeof d){var m=d.split(".");d=(+m[0]<<16)+(+m[1]||0)}l=uI(p.t,d)}else{var g=dI(d);-1==g&&(g=31,d=String(d)),l=uI(g,d)}a.push(l),(c=Kk(8)).write_shift(4,t?f:2+s),i.push(c),o+=8+l.length}var v=8*(a.length+1);for(s=0;s<a.length;++s)i[s].write_shift(4,v),v+=a[s].length;return r.write_shift(4,o),r.write_shift(4,a.length),TP([r].concat(i).concat(a))}function pI(e,t,n,r,i,a){var o=Kk(i?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,xD.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var l=fI(e,n,r);if(s.push(l),i){var c=fI(i,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+l.length),s.push(c)}return TP(s)}function mI(e,t){return t||(t=Kk(2)),t.write_shift(2,+!!e),t}function gI(e){return e.read_shift(2,"u")}function vI(e,t){return t||(t=Kk(2)),t.write_shift(2,e),t}function yI(e,t,n){return n||(n=Kk(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function wI(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont",a=sP;n&&n.biff>=8&&(sP=1200),n&&8!=n.biff?12==n.biff&&(i="wstr"):e.read_shift(1)&&(i="dbcs-cont"),n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?e.read_shift(r,i):"";return sP=a,o}function bI(e){var t=e.t||"",n=Kk(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=Kk(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),TP([n,r])}function xI(e,t,n){return n||(n=Kk(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function _I(e,t){t||(t=Kk(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function SI(e){var t=Kk(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(28==a)_I(r=r.slice(1),t);else if(2&a){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var s=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(s.length+1)),n=0;n<s.length;++n)t.write_shift(2,s.charCodeAt(n));t.write_shift(2,0),8&a&&_I(i>-1?r.slice(i+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var l=0;"../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,255&r.charCodeAt(n+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function EI(e,t,n,r){return r||(r=Kk(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function CI(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function AI(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function TI(e,t){return t||(t=Kk(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function MI(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;default:throw new Error("unsupported BIFF version")}var a=Kk(i);return a.write_shift(2,r),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function PI(e,t){var n=!t||t.biff>=8?2:1,r=Kk(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function DI(e,t,n,r){var i=n&&5==n.biff;r||(r=Kk(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return null==a.l&&(a.l=a.length),a}function kI(e,t,n,r){var i=n&&5==n.biff;r||(r=Kk(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function OI(e){var t=Kk(24),n=sO(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return TP([t,SI(e[1])])}function II(e){var t=e[1].Tooltip,n=Kk(10+2*(t.length+1));n.write_shift(2,2048);var r=sO(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}var RI=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=TD({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var i=mO(function(t,n){var r=[],i=_P(1);switch(n.type){case"base64":i=EP(wP(t));break;case"binary":i=EP(t);break;case"buffer":case"array":i=t}Yk(i,0);var a=i.read_shift(1),o=!!(136&a),s=!1,l=!1;switch(a){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:s=!0,o=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+a.toString(16))}var c=0,u=521;2==a&&(c=i.read_shift(2)),i.l+=3,2!=a&&(c=i.read_shift(4)),c>1048576&&(c=1e6),2!=a&&(u=i.read_shift(2));var h=i.read_shift(2),d=n.codepage||1252;2!=a&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(d=e[i[i.l]]),i.l+=1,i.l+=2),l&&(i.l+=36);for(var f=[],p={},m=Math.min(i.length,2==a?521:u-10-(s?264:0)),g=l?32:11;i.l<m&&13!=i[i.l];)switch((p={}).name=fP.utils.decode(d,i.slice(i.l,i.l+g)).replace(/[\u0000\r\n].*$/g,""),i.l+=g,p.type=String.fromCharCode(i.read_shift(1)),2==a||l||(p.offset=i.read_shift(4)),p.len=i.read_shift(1),2==a&&(p.offset=i.read_shift(2)),p.dec=i.read_shift(1),p.name.length&&f.push(p),2!=a&&(i.l+=l?13:14),p.type){case"B":s&&8==p.len||!n.WTF||console.log("Skipping "+p.name+":"+p.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+p.name+":"+p.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==i[i.l]&&(i.l=u-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=u;var v=0,y=0;for(r[0]=[],y=0;y!=f.length;++y)r[0][y]=f[y].name;for(;c-- >0;)if(42!==i[i.l])for(++i.l,r[++v]=[],y=0,y=0;y!=f.length;++y){var w=i.slice(i.l,i.l+f[y].len);i.l+=f[y].len,Yk(w,0);var b=fP.utils.decode(d,w);switch(f[y].type){case"C":b.trim().length&&(r[v][y]=b.replace(/\s+$/,""));break;case"D":8===b.length?r[v][y]=new Date(+b.slice(0,4),+b.slice(4,6)-1,+b.slice(6,8)):r[v][y]=b;break;case"F":r[v][y]=parseFloat(b.trim());break;case"+":case"I":r[v][y]=l?2147483648^w.read_shift(-4,"i"):w.read_shift(4,"i");break;case"L":switch(b.trim().toUpperCase()){case"Y":case"T":r[v][y]=!0;break;case"N":case"F":r[v][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+b+"|")}break;case"M":if(!o)throw new Error("DBF Unexpected MEMO for type "+a.toString(16));r[v][y]="##MEMO##"+(l?parseInt(b.trim(),10):w.read_shift(4));break;case"N":(b=b.replace(/\u0000/g,"").trim())&&"."!=b&&(r[v][y]=+b||0);break;case"@":r[v][y]=new Date(w.read_shift(-8,"f")-621356832e5);break;case"T":r[v][y]=new Date(864e5*(w.read_shift(4)-2440588)+w.read_shift(4));break;case"Y":r[v][y]=w.read_shift(4,"i")/1e4+w.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[v][y]=-w.read_shift(-8,"f");break;case"B":if(s&&8==f[y].len){r[v][y]=w.read_shift(8,"f");break}case"G":case"P":w.l+=f[y].len;break;case"0":if("_NullFlags"===f[y].name)break;default:throw new Error("DBF Unsupported data type "+f[y].type)}}else i.l+=h;if(2!=a&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=f,r}(t,r),r);return i["!cols"]=r.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete r.DBF,i}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return fO(n(e,t),t)}catch(e){if(t&&t.WTF)throw e}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var i=n||{};if(+i.codepage>=0&&dP(+i.codepage),"string"==i.type)throw new Error("Cannot write DBF to JS string");var a=Zk(),o=EN(e,{header:1,raw:!0,cellDates:!0}),s=o[0],l=o.slice(1),c=e["!cols"]||[],u=0,h=0,d=0,f=1;for(u=0;u<s.length;++u)if(((c[u]||{}).DBF||{}).name)s[u]=c[u].DBF.name,++d;else if(null!=s[u]){if(++d,"number"==typeof s[u]&&(s[u]=s[u].toString(10)),"string"!=typeof s[u])throw new Error("DBF Invalid column name "+s[u]+" |"+typeof s[u]+"|");if(s.indexOf(s[u])!==u)for(h=0;h<1024;++h)if(-1==s.indexOf(s[u]+"_"+h)){s[u]+="_"+h;break}}var p=hO(e["!ref"]),m=[],g=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var y="",w="",b=0,x=[];for(h=0;h<l.length;++h)null!=l[h][u]&&x.push(l[h][u]);if(0!=x.length&&null!=s[u]){for(h=0;h<x.length;++h){switch(typeof x[h]){case"number":w="B";break;case"string":default:w="C";break;case"boolean":w="L";break;case"object":w=x[h]instanceof Date?"D":"C"}b=Math.max(b,String(x[h]).length),y=y&&y!=w?"C":w}b>250&&(b=250),"C"==(w=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>b&&(b=c[u].DBF.len),"B"==y&&"N"==w&&(y="N",v[u]=c[u].DBF.dec,b=c[u].DBF.len),g[u]="C"==y||"N"==w?b:r[y]||0,f+=g[u],m[u]=y}else m[u]="?"}var _=a.next(32);for(_.write_shift(4,318902576),_.write_shift(4,l.length),_.write_shift(2,296+32*d),_.write_shift(2,f),u=0;u<4;++u)_.write_shift(4,0);for(_.write_shift(4,0|(+t[lP]||3)<<8),u=0,h=0;u<s.length;++u)if(null!=s[u]){var S=a.next(32),E=(s[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);S.write_shift(1,E,"sbcs"),S.write_shift(1,"?"==m[u]?"C":m[u],"sbcs"),S.write_shift(4,h),S.write_shift(1,g[u]||r[m[u]]||0),S.write_shift(1,v[u]||0),S.write_shift(1,2),S.write_shift(4,0),S.write_shift(1,0),S.write_shift(4,0),S.write_shift(4,0),h+=g[u]||r[m[u]]||0}var C=a.next(264);for(C.write_shift(4,13),u=0;u<65;++u)C.write_shift(4,0);for(u=0;u<l.length;++u){var A=a.next(f);for(A.write_shift(1,0),h=0;h<s.length;++h)if(null!=s[h])switch(m[h]){case"L":A.write_shift(1,null==l[u][h]?63:l[u][h]?84:70);break;case"B":A.write_shift(8,l[u][h]||0,"f");break;case"N":var T="0";for("number"==typeof l[u][h]&&(T=l[u][h].toFixed(v[h]||0)),d=0;d<g[h]-T.length;++d)A.write_shift(1,32);A.write_shift(1,T,"sbcs");break;case"D":l[u][h]?(A.write_shift(4,("0000"+l[u][h].getFullYear()).slice(-4),"sbcs"),A.write_shift(2,("00"+(l[u][h].getMonth()+1)).slice(-2),"sbcs"),A.write_shift(2,("00"+l[u][h].getDate()).slice(-2),"sbcs")):A.write_shift(8,"00000000","sbcs");break;case"C":var M=String(null!=l[u][h]?l[u][h]:"").slice(0,g[h]);for(A.write_shift(1,M,"sbcs"),d=0;d<g[h]-M.length;++d)A.write_shift(1,32)}}return a.next(1).write_shift(1,26),a.end()}}}(),LI=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+CD(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?mP(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:mP(r)};function i(e,i){var a,o=e.split(/[\n\r]+/),s=-1,l=-1,c=0,u=0,h=[],d=[],f=null,p={},m=[],g=[],v=[],y=0;for(+i.codepage>=0&&dP(+i.codepage);c!==o.length;++c){y=0;var w,b=o[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),x=b.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),_=x[0];if(b.length>0)switch(_){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==x[1].charAt(0)&&d.push(b.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,E=!1,C=!1,A=!1,T=-1,M=-1;for(u=1;u<x.length;++u)switch(x[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(x[u].slice(1))-1,E=!0;break;case"Y":for(s=parseInt(x[u].slice(1))-1,E||(l=0),a=h.length;a<=s;++a)h[a]=[];break;case"K":'"'===(w=x[u].slice(1)).charAt(0)?w=w.slice(1,w.length-1):"TRUE"===w?w=!0:"FALSE"===w?w=!1:isNaN(VD(w))?isNaN(GD(w).getDate())||(w=BD(w)):(w=VD(w),null!==f&&dD(f)&&(w=RD(w))),void 0!==fP&&"string"==typeof w&&"string"!=(i||{}).type&&(i||{}).codepage&&(w=fP.utils.decode(i.codepage,w)),S=!0;break;case"E":A=!0;var P=xR(x[u].slice(1),{r:s,c:l});h[s][l]=[h[s][l],P];break;case"S":C=!0,h[s][l]=[h[s][l],"S5S"];break;case"R":T=parseInt(x[u].slice(1))-1;break;case"C":M=parseInt(x[u].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}if(S&&(h[s][l]&&2==h[s][l].length?h[s][l][0]=w:h[s][l]=w,f=null),C){if(A)throw new Error("SYLK shared formula cannot have own formula");var D=T>-1&&h[T][M];if(!D||!D[1])throw new Error("SYLK shared formula cannot find base");h[s][l][1]=ER(D[1],{r:s-T,c:l-M})}break;case"F":var k=0;for(u=1;u<x.length;++u)switch(x[u].charAt(0)){case"X":l=parseInt(x[u].slice(1))-1,++k;break;case"Y":for(s=parseInt(x[u].slice(1))-1,a=h.length;a<=s;++a)h[a]=[];break;case"M":y=parseInt(x[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":f=d[parseInt(x[u].slice(1))];break;case"W":for(v=x[u].slice(1).split(" "),a=parseInt(v[0],10);a<=parseInt(v[1],10);++a)y=parseInt(v[2],10),g[a-1]=0===y?{hidden:!0}:{wch:y},ZI(g[a-1]);break;case"C":g[l=parseInt(x[u].slice(1))-1]||(g[l]={});break;case"R":m[s=parseInt(x[u].slice(1))-1]||(m[s]={}),y>0?(m[s].hpt=y,m[s].hpx=eR(y)):0===y&&(m[s].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}k<1&&(f=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}}return m.length>0&&(p["!rows"]=m),g.length>0&&(p["!cols"]=g),i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),[h,p]}function a(e,t){var n=function(e,t){switch(t.type){case"base64":return i(wP(e),t);case"binary":return i(e,t);case"buffer":return i(bP&&Buffer.isBuffer(e)?e.toString("binary"):AP(e),t);case"array":return i(FD(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],a=n[1],o=mO(r,t);return CD(a).forEach((function(e){o[e]=a[e]})),o}function o(e,t,n,r){var i="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+SR(e.f,{r:n,c:r}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return i}return e["|"]=254,{to_workbook:function(e,t){return fO(a(e,t),t)},to_sheet:a,from_sheet:function(e,t){var n,r,i=["ID;PWXL;N;E"],a=[],s=hO(e["!ref"]),l=Array.isArray(e),c="\r\n";i.push("P;PGeneral"),i.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=i,e["!cols"].forEach((function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=YI(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=QI(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)}))),e["!rows"]&&function(e,t){t.forEach((function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*$I(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))}))}(i,e["!rows"]),i.push("B;Y"+(s.e.r-s.s.r+1)+";X"+(s.e.c-s.s.c+1)+";D"+[s.s.c,s.s.r,s.e.c,s.e.r].join(" "));for(var u=s.s.r;u<=s.e.r;++u)for(var h=s.s.c;h<=s.e.c;++h){var d=lO({r:u,c:h});(n=l?(e[u]||[])[h]:e[d])&&(null!=n.v||n.f&&!n.F)&&a.push(o(n,0,u,h))}return i.join(c)+c+a.join(c)+c+"E"+c}}}(),NI=function(){function e(e,t){for(var n=e.split("\n"),r=-1,i=-1,a=0,o=[];a!==n.length;++a)if("BOT"!==n[a].trim()){if(!(r<0)){for(var s=n[a].trim().split(","),l=s[0],c=s[1],u=n[++a]||"";1&(u.match(/["]/g)||[]).length&&a<n.length-1;)u+="\n"+n[++a];switch(u=u.trim(),+l){case-1:if("BOT"===u){o[++r]=[],i=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?o[r][i]=!0:"FALSE"===u?o[r][i]=!1:isNaN(VD(c))?isNaN(GD(c).getDate())?o[r][i]=c:o[r][i]=BD(c):o[r][i]=VD(c),++i;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),o[r][i++]=""!==u?u:null}if("EOD"===u)break}}else o[++r]=[],i=0;return t&&t.sheetRows&&(o=o.slice(0,t.sheetRows)),o}function t(t,n){return mO(function(t,n){switch(n.type){case"base64":return e(wP(t),n);case"binary":return e(t,n);case"buffer":return e(bP&&Buffer.isBuffer(t)?t.toString("binary"):AP(t),n);case"array":return e(FD(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}var n=function(){var e=function(e,t,n,r,i){e.push(t),e.push(n+","+r),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,i=[],a=hO(n["!ref"]),o=Array.isArray(n);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,a.e.r-a.s.r+1,""),e(i,"TUPLES",0,a.e.c-a.s.c+1,""),e(i,"DATA",0,0,"");for(var s=a.s.r;s<=a.e.r;++s){t(i,-1,0,"BOT");for(var l=a.s.c;l<=a.e.c;++l){var c=lO({r:s,c:l});if(r=o?(n[s]||[])[l]:n[c])switch(r.t){case"n":var u=r.w;u||null==r.v||(u=r.v),null==u?r.f&&!r.F?t(i,1,0,"="+r.f):t(i,1,0,""):t(i,0,u,"V");break;case"b":t(i,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(i,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=mD(r.z||FP[14],DD(BD(r.v)))),t(i,0,r.w,"V");break;default:t(i,1,0,"")}else t(i,1,0,"")}}return t(i,-1,0,"EOD"),i.join("\r\n")}}();return{to_workbook:function(e,n){return fO(t(e,n),n)},to_sheet:t,from_sheet:n}}(),zI=function(){function e(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(e,t){return mO(function(e,t){for(var n=e.split("\n"),r=-1,i=-1,a=0,o=[];a!==n.length;++a){var s=n[a].trim().split(":");if("cell"===s[0]){var l=sO(s[1]);if(o.length<=l.r)for(r=o.length;r<=l.r;++r)o[r]||(o[r]=[]);switch(r=l.r,i=l.c,s[2]){case"t":o[r][i]=s[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n");break;case"v":o[r][i]=+s[3];break;case"vtf":var c=s[s.length-1];case"vtc":"nl"===s[3]?o[r][i]=!!+s[4]:o[r][i]=+s[4],"vtf"==s[2]&&(o[r][i]=[o[r][i],c])}}}return t&&t.sheetRows&&(o=o.slice(0,t.sheetRows)),o}(e,t),t)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),r=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",i=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),a="--SocialCalcSpreadsheetControlSave--";function o(t){if(!t||!t["!ref"])return"";for(var n,r=[],i=[],a="",o=cO(t["!ref"]),s=Array.isArray(t),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c)if(a=lO({r:l,c:c}),(n=s?(t[l]||[])[c]:t[a])&&null!=n.v&&"z"!==n.t){switch(i=["cell",a,"t"],n.t){case"s":case"str":i.push(e(n.v));break;case"n":n.f?(i[2]="vtf",i[3]="n",i[4]=n.v,i[5]=e(n.f)):(i[2]="v",i[3]=n.v);break;case"b":i[2]="vt"+(n.f?"f":"c"),i[3]="nl",i[4]=n.v?"1":"0",i[5]=e(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var u=DD(BD(n.v));i[2]="vtc",i[3]="nd",i[4]=""+u,i[5]=n.w||mD(n.z||FP[14],u);break;case"e":continue}r.push(i.join(":"))}return r.push("sheet:c:"+(o.e.c-o.s.c+1)+":r:"+(o.e.r-o.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,n){return fO(t(e,n),n)},to_sheet:t,from_sheet:function(e){return[n,r,i,r,o(e),a].join("\n")}}}(),BI=function(){function e(e,t,n,r,i){i.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(VD(e))?isNaN(GD(e).getDate())?t[n][r]=e:t[n][r]=BD(e):t[n][r]=VD(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},i=!1,a=0,o=0;a<e.length;++a)34==(o=e.charCodeAt(a))?i=!i:!i&&o in t&&(r[o]=(r[o]||0)+1);for(a in o=[],r)Object.prototype.hasOwnProperty.call(r,a)&&o.push([r[a],a]);if(!o.length)for(a in r=n)Object.prototype.hasOwnProperty.call(r,a)&&o.push([r[a],a]);return o.sort((function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]})),t[o.pop()[1]]||44}function i(e,t){var n=t||{},i="";null!=gP&&null==n.dense&&(n.dense=gP);var a=n.dense?[]:{},o={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(i=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(i=e.charAt(4),e=e.slice(6)):i=r(e.slice(0,1024)):i=n&&n.FS?n.FS:r(e.slice(0,1024));var s=0,l=0,c=0,u=0,h=0,d=i.charCodeAt(0),f=!1,p=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g,v,y=null!=n.dateNF?(v=(v="number"==typeof(g=n.dateNF)?FP[g]:g).replace(wD,"(\\d+)"),new RegExp("^"+v+"$")):null;function w(){var t=e.slice(u,h),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):function(e){return 1!=e.length}(t)?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(c=VD(t)))if(!isNaN(GD(t).getDate())||y&&t.match(y)){r.z=n.dateNF||FP[14];var i=0;y&&t.match(y)&&(t=function(e,t,n){var r=-1,i=-1,a=-1,o=-1,s=-1,l=-1;(t.match(wD)||[]).forEach((function(e,t){var c=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=c;break;case"d":a=c;break;case"h":o=c;break;case"s":l=c;break;case"m":o>=0?s=c:i=c}})),l>=0&&-1==s&&i>=0&&(s=i,i=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==o&&-1==s&&-1==l?c:-1==r&&-1==i&&-1==a?u:c+"T"+u}(0,n.dateNF,t.match(y)||[]),i=1),n.cellDates?(r.t="d",r.v=BD(t,i)):(r.t="n",r.v=DD(BD(t,i))),!1!==n.cellText&&(r.w=mD(r.z,r.v instanceof Date?DD(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=c;if("z"==r.t||(n.dense?(a[s]||(a[s]=[]),a[s][l]=r):a[lO({c:l,r:s})]=r),u=h+1,m=e.charCodeAt(u),o.e.c<l&&(o.e.c=l),o.e.r<s&&(o.e.r=s),p==d)++l;else if(l=0,++s,n.sheetRows&&n.sheetRows<=s)return!0}e:for(;h<e.length;++h)switch(p=e.charCodeAt(h)){case 34:34===m&&(f=!f);break;case d:case 10:case 13:if(!f&&w())break e}return h-u>0&&w(),a["!ref"]=uO(o),a}function a(t,n){var r="",a="string"==n.type?[0,0,0,0]:function(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=wP(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}(t,n);switch(n.type){case"base64":r=wP(t);break;case"binary":case"string":r=t;break;case"buffer":r=65001==n.codepage?t.toString("utf8"):n.codepage&&void 0!==fP?fP.utils.decode(n.codepage,t):bP&&Buffer.isBuffer(t)?t.toString("binary"):AP(t);break;case"array":r=FD(t);break;default:throw new Error("Unrecognized type "+n.type)}return 239==a[0]&&187==a[1]&&191==a[2]?r=ik(r.slice(3)):"string"!=n.type&&"buffer"!=n.type&&65001==n.codepage?r=ik(r):"binary"==n.type&&void 0!==fP&&n.codepage&&(r=fP.utils.decode(n.codepage,fP.utils.encode(28591,r))),"socialcalc:version:"==r.slice(0,19)?zI.to_sheet("string"==n.type?r:ik(r),n):function(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?i(t,n):mO(function(t,n){var r=n||{},i=[];if(!t||0===t.length)return i;for(var a=t.split(/[\r\n]/),o=a.length-1;o>=0&&0===a[o].length;)--o;for(var s=10,l=0,c=0;c<=o;++c)-1==(l=a[c].indexOf(" "))?l=a[c].length:l++,s=Math.max(s,l);for(c=0;c<=o;++c){i[c]=[];var u=0;for(e(a[c].slice(0,s).trim(),i,c,u,r),u=1;u<=(a[c].length-s)/10+1;++u)e(a[c].slice(s+10*(u-1),s+10*u).trim(),i,c,u,r)}return r.sheetRows&&(i=i.slice(0,r.sheetRows)),i}(t,n),n):i(t,n)}(r,n)}return{to_workbook:function(e,t){return fO(a(e,t),t)},to_sheet:a,from_sheet:function(e){for(var t,n=[],r=hO(e["!ref"]),i=Array.isArray(e),a=r.s.r;a<=r.e.r;++a){for(var o=[],s=r.s.c;s<=r.e.c;++s){var l=lO({r:a,c:s});if((t=i?(e[a]||[])[s]:e[l])&&null!=t.v){for(var c=(t.w||(dO(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";o.push(c+(0===s?" ":""))}else o.push("          ")}n.push(o.join(""))}return n.join("\n")}}}(),FI=function(){function e(e,t,n){if(e){Yk(e,e.l||0);for(var r=n.Enum||v;e.l<e.length;){var i=e.read_shift(2),a=r[i]||r[65535],o=e.read_shift(2),s=e.l+o,l=a.f&&a.f(e,o,n);if(e.l=s,t(l,a,i))return}}}function t(t,n){if(!t)return t;var r=n||{};null!=gP&&null==r.dense&&(r.dense=gP);var i=r.dense?[]:{},a="Sheet1",o="",s=0,l={},c=[],u=[],h={s:{r:0,c:0},e:{r:0,c:0}},d=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=v,e(t,(function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:h=e;break;case 204:e&&(o=e);break;case 222:o=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||FP[14],r.cellDates&&(e[1].t="d",e[1].v=RD(e[1].v))),r.qpro&&e[3]>s&&(i["!ref"]=uO(h),l[a]=i,c.push(a),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],a=o||"Sheet"+(s+1),o="");var u=r.dense?(i[e[0].r]||[])[e[0].c]:i[lO(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[lO(e[0])]=e[1]}}),r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=y,14==t[2]&&(r.qpro=!0,t.l=0),e(t,(function(e,t,n){switch(n){case 204:a=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>s&&(i["!ref"]=uO(h),l[a]=i,c.push(a),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],a="Sheet"+(s+1)),d>0&&e[0].r>=d)break;r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[lO(e[0])]=e[1],h.e.c<e[0].c&&(h.e.c=e[0].c),h.e.r<e[0].r&&(h.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==s&&(a=e[1])}}),r)}if(i["!ref"]=uO(h),l[o||a]=i,c.push(o||a),!u.length)return{SheetNames:c,Sheets:l};for(var f={},p=[],m=0;m<u.length;++m)l[c[m]]?(p.push(u[m]||c[m]),f[u[m]]=l[u[m]]||l[c[m]]):(p.push(u[m]),f[u[m]]={"!ref":"A1"});return{SheetNames:p,Sheets:f}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var i=e.l+t,a=n(e,0,r);if(a[1].t="s",20768==r.vers){e.l++;var o=e.read_shift(1);return a[1].v=e.read_shift(o,"utf8"),a}return r.qpro&&e.l++,a[1].v=e.read_shift(i-e.l,"cstr"),a}function i(e,t,n){var r=Kk(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var i=0;i<r.length;++i){var a=n.charCodeAt(i);r.write_shift(1,a>=128?95:a)}return r.write_shift(1,0),r}function a(e,t,n){var r=Kk(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function o(e,t,n){var r=Kk(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function s(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?oO(t):iO(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function h(e,t,n,r){var i=Kk(6+r.length);i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),i.write_shift(1,39);for(var a=0;a<r.length;++a){var o=r.charCodeAt(a);i.write_shift(1,o>=128?95:o)}return i.write_shift(1,0),i}function d(e,t){var n=u(e),r=e.read_shift(4),i=e.read_shift(4),a=e.read_shift(2);if(65535==a)return 0===r&&3221225472===i?(n[1].t="e",n[1].v=15):0===r&&3489660928===i?(n[1].t="e",n[1].v=42):n[1].v=0,n;var o=32768&a;return a=(32767&a)-16446,n[1].v=(1-2*o)*(i*Math.pow(2,a+32)+r*Math.pow(2,a)),n}function f(e,t,n,r){var i=Kk(14);if(i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),0==r)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var a,o=0,s=0,l=0;return r<0&&(o=1,r=-r),s=0|Math.log2(r),0==(2147483648&(l=(r/=Math.pow(2,s-31))>>>0))&&(++s,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,a=(r*=Math.pow(2,32))>>>0,i.write_shift(4,a),i.write_shift(4,l),s+=16383+(o?32768:0),i.write_shift(2,s),i}function p(e,t){var n=u(e),r=e.read_shift(8,"f");return n[1].v=r,n}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var n=Kk(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);n[n.l++]=i>127?95:i}return n[n.l++]=0,n}var v={0:{n:"BOF",f:gI},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(2,"i"),i}},14:{n:"NUMBER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(8,"f"),i}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var i=e.l+t,a=n(e,0,r);if(a[1].v=e.read_shift(8,"f"),r.qpro)e.l=i;else{var o=e.read_shift(2);!function(e,t){Yk(e,0);for(var n=[],r=0,i="",a="",o="",u="";e.l<e.length;){var h=e[e.l++];switch(h){case 0:n.push(e.read_shift(8,"f"));break;case 1:a=s(t[0].c,e.read_shift(2),!0),i=s(t[0].r,e.read_shift(2),!1),n.push(a+i);break;case 2:var d=s(t[0].c,e.read_shift(2),!0),f=s(t[0].r,e.read_shift(2),!1);a=s(t[0].c,e.read_shift(2),!0),i=s(t[0].r,e.read_shift(2),!1),n.push(d+f+":"+a+i);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var p="";h=e[e.l++];)p+=String.fromCharCode(h);n.push('"'+p.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:u=n.pop(),o=n.pop(),n.push(["AND","OR"][h-20]+"("+o+","+u+")");break;default:if(h<32&&c[h])u=n.pop(),o=n.pop(),n.push(o+c[h]+u);else{if(!l[h])return h<=7?console.error("WK1 invalid opcode "+h.toString(16)):h<=24?console.error("WK1 unsupported op "+h.toString(16)):h<=30?console.error("WK1 invalid opcode "+h.toString(16)):h<=115?console.error("WK1 unsupported function opcode "+h.toString(16)):console.error("WK1 unrecognized opcode "+h.toString(16));if(69==(r=l[h][1])&&(r=e[e.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+h.toString(16)+":|"+n.join("|")+"|");var m=n.slice(-r);n.length-=r,n.push(l[h][0]+"("+m.join(",")+")")}}}1==n.length?t[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}(e.slice(e.l,e.l+o),a),e.l+=o}return a}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=u(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:d},24:{n:"NUMBER18",f:function(e,t){var n=u(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=d(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var i=e.read_shift(2);if(14e3==i){for(n[i]=[0,""],n[i][0]=e.read_shift(2);e[e.l];)n[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=u(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var n=p(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&dP(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r,s=Zk(),l=hO(e["!ref"]),c=Array.isArray(e),u=[];zL(s,0,((r=Kk(2)).write_shift(2,1030),r)),zL(s,6,function(e){var t=Kk(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(l));for(var h=Math.min(l.e.r,8191),d=l.s.r;d<=h;++d)for(var f=iO(d),p=l.s.c;p<=l.e.c;++p){d===l.s.r&&(u[p]=oO(p));var m=u[p]+f,g=c?(e[d]||[])[p]:e[m];g&&"z"!=g.t&&("n"==g.t?(0|g.v)==g.v&&g.v>=-32768&&g.v<=32767?zL(s,13,a(d,p,g.v)):zL(s,14,o(d,p,g.v)):zL(s,15,i(d,p,dO(g).slice(0,239))))}return zL(s,1),s.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&dP(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=Zk();zL(r,0,function(e){var t=Kk(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,i=0,a=0;a<e.SheetNames.length;++a){var o=e.SheetNames[a],s=e.Sheets[o];if(s&&s["!ref"]){++i;var l=cO(s["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}return n>8191&&(n=8191),t.write_shift(2,n),t.write_shift(1,i),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var i=0,a=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})["!ref"]&&zL(r,27,g(e.SheetNames[i],a++));var o=0;for(i=0;i<e.SheetNames.length;++i){var s=e.Sheets[e.SheetNames[i]];if(s&&s["!ref"]){for(var l=hO(s["!ref"]),c=Array.isArray(s),u=[],d=Math.min(l.e.r,8191),p=l.s.r;p<=d;++p)for(var m=iO(p),v=l.s.c;v<=l.e.c;++v){p===l.s.r&&(u[v]=oO(v));var y=u[v]+m,w=c?(s[p]||[])[v]:s[y];w&&"z"!=w.t&&("n"==w.t?zL(r,23,f(p,v,o,w.v)):zL(r,22,h(p,v,o,dO(w).slice(0,239))))}++o}}return zL(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(EP(wP(e)),n);case"binary":return t(EP(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}(),UI=/^\s|\s$|[\t\n\r]/;function jI(e,t){if(!t.bookSST)return"";var n=[XD];n[n.length]=uk("sst",null,{xmlns:fk[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var i=e[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(UI)&&(a+=' xml:space="preserve"'),a+=">"+ZD(i.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var VI=function(e,t){var n=!1;return null==t&&(n=!0,t=Kk(15+4*e.t.length)),t.write_shift(1,0),yO(e.t,t),n?t.slice(0,t.l):t};function HI(e){var t=Zk();Jk(t,159,function(e,t){return t||(t=Kk(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)Jk(t,19,VI(e[n]));return Jk(t,160),t.end()}function GI(e){var t,n,r=0,i=function(e){if(void 0!==fP)return fP.utils.encode(lP,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}(e),a=i.length+1;for((t=_P(a))[0]=i.length,n=1;n!=a;++n)t[n]=i[n-1];for(n=a-1;n>=0;--n)r=((0==(16384&r)?0:1)|r<<1&32767)^t[n];return 52811^r}var WI=function(){function e(e,n){switch(n.type){case"base64":return t(wP(e),n);case"binary":return t(e,n);case"buffer":return t(bP&&Buffer.isBuffer(e)?e.toString("binary"):AP(e),n);case"array":return t(FD(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach((function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,a=/\\\w+\b/g,o=0,s=-1;r=a.exec(e);){if("\\cell"===r[0]){var l=e.slice(o,a.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++s,l.length){var c={v:l,t:"s"};Array.isArray(n)?n[t][s]=c:n[lO({r:t,c:s})]=c}}o=a.lastIndex}s>i.e.c&&(i.e.c=s)})),n["!ref"]=uO(i),n}return{to_workbook:function(t,n){return fO(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=hO(e["!ref"]),i=Array.isArray(e),a=r.s.r;a<=r.e.r;++a){n.push("\\trowd\\trautofit1");for(var o=r.s.c;o<=r.e.c;++o)n.push("\\cellx"+(o+1));for(n.push("\\pard\\intbl"),o=r.s.c;o<=r.e.c;++o){var s=lO({r:a,c:o});(t=i?(e[a]||[])[o]:e[s])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(dO(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function qI(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var XI=6;function YI(e){return Math.floor((e+Math.round(128/XI)/256)*XI)}function QI(e){return Math.floor((e-5)/XI*100+.5)/100}function KI(e){return Math.round((e*XI+5)/XI*256)/256}function ZI(e){e.width?(e.wpx=YI(e.width),e.wch=QI(e.wpx),e.MDW=XI):e.wpx?(e.wch=QI(e.wpx),e.width=KI(e.wch),e.MDW=XI):"number"==typeof e.wch&&(e.width=KI(e.wch),e.wpx=YI(e.width),e.MDW=XI),e.customWidth&&delete e.customWidth}var JI=96;function $I(e){return 96*e/JI}function eR(e){return e*JI/96}function tR(e,t){var n,r=[XD,uk("styleSheet",null,{xmlns:fk[0],"xmlns:vt":dk.vt})];return e.SSF&&null!=(n=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=uk("numFmt",null,{numFmtId:r,formatCode:ZD(e[r])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=uk("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function(e){var t=[];return t[t.length]=uk("cellXfs",null),e.forEach((function(e){t[t.length]=uk("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=uk("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function nR(e,t,n){n||(n=Kk(6+4*t.length)),n.write_shift(2,e),yO(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}var rR,iR=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],aR=Qk;function oR(e,t){t||(t=Kk(84)),rR||(rR=TD(iR));var n=rR[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(UO({auto:1},t),UO({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function sR(e,t,n){return n||(n=Kk(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function lR(e,t){return t||(t=Kk(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var cR=Qk;function uR(e,t){var n=Zk();return Jk(n,278),function(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n})),0!=n&&(Jk(e,615,gO(n)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&Jk(e,44,nR(r,t[r]))})),Jk(e,616))}}(n,e.SSF),function(e){Jk(e,611,gO(1)),Jk(e,43,function(e,t){t||(t=Kk(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=Kk(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,n),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),UO(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),yO(e.name,t),t.length>t.l?t.slice(0,t.l):t}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Jk(e,612)}(n),function(e){Jk(e,603,gO(2)),Jk(e,45,oR({patternType:"none"})),Jk(e,45,oR({patternType:"gray125"})),Jk(e,604)}(n),function(e){var t;Jk(e,613,gO(1)),Jk(e,46,(t||(t=Kk(51)),t.write_shift(1,0),lR(0,t),lR(0,t),lR(0,t),lR(0,t),lR(0,t),t.length>t.l?t.slice(0,t.l):t)),Jk(e,614)}(n),function(e){Jk(e,626,gO(1)),Jk(e,47,sR({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Jk(e,627)}(n),function(e,t){Jk(e,617,gO(t.length)),t.forEach((function(t){Jk(e,47,sR(t,0))})),Jk(e,618)}(n,t.cellXfs),function(e){Jk(e,619,gO(1)),Jk(e,48,function(e,t){return t||(t=Kk(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),PO(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}({xfId:0,builtinId:0,name:"Normal"})),Jk(e,620)}(n),function(e){Jk(e,505,gO(0)),Jk(e,506)}(n),function(e){var t;Jk(e,508,((t=Kk(2052)).write_shift(4,0),PO("TableStyleMedium9",t),PO("PivotStyleMedium4",t),t.length>t.l?t.slice(0,t.l):t)),Jk(e,509)}(n),Jk(n,279),n.end()}function hR(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[XD];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function dR(){var e,t,n=Zk();return Jk(n,332),Jk(n,334,gO(1)),Jk(n,335,((t=Kk(12+2*(e={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,e.flags),t.write_shift(4,e.version),yO(e.name,t),t.slice(0,t.l))),Jk(n,336),Jk(n,339,function(e,t){var n=Kk(8+2*t.length);return n.write_shift(4,1),yO(t,n),n.slice(0,n.l)}(0,"XLDAPR")),Jk(n,52),Jk(n,35,gO(514)),Jk(n,4096,gO(0)),Jk(n,4097,vI(1)),Jk(n,36),Jk(n,53),Jk(n,340),Jk(n,337,function(e,t){var n=Kk(8);return n.write_shift(4,1),n.write_shift(4,1),n}()),Jk(n,51,function(e){var t=Kk(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),Jk(n,338),Jk(n,333),n.end()}function fR(){var e=[XD];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var pR=1024;function mR(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[uk("xml",null,{"xmlns:v":pk.v,"xmlns:o":pk.o,"xmlns:x":pk.x,"xmlns:mv":pk.mv}).replace(/\/>/,">"),uk("o:shapelayout",uk("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),uk("v:shapetype",[uk("v:stroke",null,{joinstyle:"miter"}),uk("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];pR<1e3*e;)pR+=1e3;return t.forEach((function(e){var t=sO(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?uk("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,a=uk("v:fill",r,n);++pR,i=i.concat(["<v:shape"+ck({id:"_x0000_s"+pR,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",a,uk("v:shadow",null,{on:"t",obscured:"t"}),uk("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",lk("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),lk("x:AutoFill","False"),lk("x:Row",String(t.r)),lk("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),i.push("</xml>"),i.join("")}function gR(e){var t=[XD,uk("comments",null,{xmlns:fk[0]})],n=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var r=ZD(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var r=0,i=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(r=n.indexOf(ZD(e.a))),i.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),i.length<=1)t.push(lk("t",ZD(i[0]||"")));else{for(var a="Comment:\n    "+i[0]+"\n",o=1;o<i.length;++o)a+="Reply:\n    "+i[o]+"\n";t.push(lk("t",ZD(a)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function vR(e,t,n){var r=[XD,uk("ThreadedComments",null,{xmlns:dk.TCMNT}).replace(/[\/]>/,">")];return e.forEach((function(e){var i="";(e[1]||[]).forEach((function(a,o){if(a.T){a.a&&-1==t.indexOf(a.a)&&t.push(a.a);var s={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==o?i=s.id:s.parentId=i,a.ID=s.id,a.a&&(s.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),r.push(uk("threadedComment",lk("text",a.t||""),s))}else delete a.ID}))})),r.push("</ThreadedComments>"),r.join("")}var yR=vO;function wR(e){var t=Zk(),n=[];return Jk(t,628),Jk(t,630),e.forEach((function(e){e[1].forEach((function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),Jk(t,632,function(e){return yO(e.slice(0,54))}(e.a)))}))})),Jk(t,631),Jk(t,633),e.forEach((function(e){e[1].forEach((function(r){r.iauthor=n.indexOf(r.a);var i,a,o,s={s:sO(e[0]),e:sO(e[0])};Jk(t,635,function(e,t){return null==t&&(t=Kk(36)),t.write_shift(4,e[1].iauthor),zO(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([s,r])),r.t&&r.t.length>0&&Jk(t,637,(i=r,o=!1,null==a&&(o=!0,a=Kk(23+4*i.t.length)),a.write_shift(1,1),yO(i.t,a),a.write_shift(4,1),function(e,t){t||(t=Kk(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},a),o?a.slice(0,a.l):a)),Jk(t,636),delete r.iauthor}))})),Jk(t,634),Jk(t,629),t.end()}var bR=["xlsb","xlsm","xlam","biff8","xla"],xR=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,i){var a=!1,o=!1;0==r.length?o=!0:"["==r.charAt(0)&&(o=!0,r=r.slice(1,-1)),0==i.length?a=!0:"["==i.charAt(0)&&(a=!0,i=i.slice(1,-1));var s=r.length>0?0|parseInt(r,10):0,l=i.length>0?0|parseInt(i,10):0;return a?l+=t.c:--l,o?s+=t.r:--s,n+(a?"":"$")+oO(l)+(o?"":"$")+iO(s)}return function(r,i){return t=i,r.replace(e,n)}}(),_R=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,SR=function(){return function(e,t){return e.replace(_R,(function(e,n,r,i,a,o){var s=aO(i)-(r?0:t.c),l=rO(o)-(a?0:t.r);return n+"R"+(0==l?"":a?l+1:"["+l+"]")+"C"+(0==s?"":r?s+1:"["+s+"]")}))}}();function ER(e,t){return e.replace(_R,(function(e,n,r,i,a,o){return n+("$"==r?r+i:oO(aO(i)+t.c))+("$"==a?a+o:iO(rO(o)+t.r))}))}function CR(e){e.l+=1}function AR(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function TR(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return MR(e);12==n.biff&&(r=4)}var i=e.read_shift(r),a=e.read_shift(r),o=AR(e,2),s=AR(e,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function MR(e){var t=AR(e,2),n=AR(e,2),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function PR(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=AR(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),i=AR(e,2);return{r:r,c:i[0],cRel:i[1],rRel:i[2]}}function DR(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function kR(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function OR(e){return[e.read_shift(1),e.read_shift(1)]}function IR(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=function(e,t){return 1===e.read_shift(t)}(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=qO[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=BO(e);break;case 2:n[1]=function(e,t,n){if(n.biff>5)return function(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):function(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}(e,r,n)}(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function RR(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),i=[],a=0;a!=r;++a)i.push((12==n.biff?NO:AI)(e,8));return i}function LR(e,t,n){var r=0,i=0;12==n.biff?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--i&&(i=256));for(var a=0,o=[];a!=r&&(o[a]=[]);++a)for(var s=0;s!=i;++s)o[a][s]=IR(e,n.biff);return o}function NR(e,t,n){return e.l+=2,[DR(e)]}function zR(e){return e.l+=6,[]}function BR(e){return e.l+=2,[gI(e),1&e.read_shift(2)]}var FR=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],UR={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:Qk},3:{n:"PtgAdd",f:CR},4:{n:"PtgSub",f:CR},5:{n:"PtgMul",f:CR},6:{n:"PtgDiv",f:CR},7:{n:"PtgPower",f:CR},8:{n:"PtgConcat",f:CR},9:{n:"PtgLt",f:CR},10:{n:"PtgLe",f:CR},11:{n:"PtgEq",f:CR},12:{n:"PtgGe",f:CR},13:{n:"PtgGt",f:CR},14:{n:"PtgNe",f:CR},15:{n:"PtgIsect",f:CR},16:{n:"PtgUnion",f:CR},17:{n:"PtgRange",f:CR},18:{n:"PtgUplus",f:CR},19:{n:"PtgUminus",f:CR},20:{n:"PtgPercent",f:CR},21:{n:"PtgParen",f:CR},22:{n:"PtgMissArg",f:CR},23:{n:"PtgStr",f:function(e,t,n){return e.l++,wI(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,qO[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,BO(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[rL[i],nL[i],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],i=e.read_shift(1),a=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[i,(0===a[0]?nL:tL)[a[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,a]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,PR(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,TR(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:Qk},40:{n:"PtgMemNoMem",f:Qk},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&n>=128&&(n-=256),{r:t,c:n,cRel:i,rRel:r}}(e);var i=e.read_shift(r>=12?4:2),a=e.read_shift(2),o=(16384&a)>>14,s=(32768&a)>>15;if(a&=16383,1==s)for(;i>524287;)i-=1048576;if(1==o)for(;a>8191;)a-=16384;return{r:i,c:a,cRel:o,rRel:s}}(e,0,n);return[r,i]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=function(e,t,n){if(n.biff<8)return MR(e);var r=e.read_shift(12==n.biff?4:2),i=e.read_shift(12==n.biff?4:2),a=AR(e,2),o=AR(e,2);return{s:{r:r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}(e,0,n);return[r,i]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,i,PR(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2,"i");if(n&&5===n.biff)e.l+=12;return[r,i,TR(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6}return e.l+=a,[r,i]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12}return e.l+=a,[r,i]}},255:{}},jR={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},VR={1:{n:"PtgElfLel",f:BR},2:{n:"PtgElfRw",f:NR},3:{n:"PtgElfCol",f:NR},6:{n:"PtgElfRwV",f:NR},7:{n:"PtgElfColV",f:NR},10:{n:"PtgElfRadical",f:NR},11:{n:"PtgElfRadicalS",f:zR},13:{n:"PtgElfColS",f:zR},15:{n:"PtgElfColSV",f:zR},16:{n:"PtgElfRadicalLel",f:BR},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2);return{ixti:t,coltype:3&n,rt:FR[n>>2&31],idx:r,c:i,C:a}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},HR={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),i=[],a=0;a<=r;++a)i.push(e.read_shift(n&&2==n.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:kR},33:{n:"PtgAttrBaxcel",f:kR},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),OR(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),OR(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function GR(e,t,n,r){if(r.biff<8)return Qk(e,t);for(var i=e.l+t,a=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=LR(e,0,r),a.push(n[o][1]);break;case"PtgMemArea":n[o][2]=RR(e,n[o][1],r),a.push(n[o][2]);break;case"PtgExp":r&&12==r.biff&&(n[o][1][1]=e.read_shift(4),a.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return 0!=(t=i-e.l)&&a.push(Qk(e,t)),a}function WR(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],a=0;a<r.length;++a){var o=r[a];o?2===o[0]?i.push('"'+o[1].replace(/"/g,'""')+'"'):i.push(o[1]):i.push("")}t.push(i.join(","))}return t.join(";")}var qR={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function XR(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[r[0]][0][3]?(i=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function YR(e,t,n){var r=XR(e,t,n);return"#REF"==r?r:function(e,t){if(!(e||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function QR(e,t,n,r,i){var a,o,s,l,c=i&&i.biff||8,u={s:{c:0,r:0},e:{c:0,r:0}},h=[],d=0,f=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",v=0,y=e[0].length;v<y;++v){var w=e[0][v];switch(w[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(a=h.pop(),o=h.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=jD(" ",e[0][m][1][1]);break;case 1:g=jD("\r",e[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}o+=g,m=-1}h.push(o+qR[w[0]]+a);break;case"PtgIsect":a=h.pop(),o=h.pop(),h.push(o+" "+a);break;case"PtgUnion":a=h.pop(),o=h.pop(),h.push(o+","+a);break;case"PtgRange":a=h.pop(),o=h.pop(),h.push(o+":"+a);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":s=$k(w[1][1],u,i),h.push(tO(s,c));break;case"PtgRefN":s=n?$k(w[1][1],n,i):w[1][1],h.push(tO(s,c));break;case"PtgRef3d":d=w[1][1],s=$k(w[1][2],u,i),p=YR(r,d,i),h.push(p+"!"+tO(s,c));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],x=w[1][1];b||(b=0);var _=0==(b&=127)?[]:h.slice(-b);h.length-=b,"User"===x&&(x=_.shift()),h.push(x+"("+_.join(",")+")");break;case"PtgBool":h.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":h.push(w[1]);break;case"PtgNum":h.push(String(w[1]));break;case"PtgStr":h.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=eO(w[1][1],n?{s:n}:u,i),h.push(nO(l,i));break;case"PtgArea":l=eO(w[1][1],u,i),h.push(nO(l,i));break;case"PtgArea3d":d=w[1][1],l=w[1][2],p=YR(r,d,i),h.push(p+"!"+nO(l,i));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgName":f=w[1][2];var S=(r.names||[])[f-1]||(r[0]||[])[f],E=S?S.Name:"SH33TJSNAME"+String(f);E&&"_xlfn."==E.slice(0,6)&&!i.xlfn&&(E=E.slice(6)),h.push(E);break;case"PtgNameX":var C,A=w[1][1];if(f=w[1][2],!(i.biff<=5)){var T="";if(14849==((r[A]||[])[0]||[])[0]||(1025==((r[A]||[])[0]||[])[0]?r[A][f]&&r[A][f].itab>0&&(T=r.SheetNames[r[A][f].itab-1]+"!"):T=r.SheetNames[f-1]+"!"),r[A]&&r[A][f])T+=r[A][f].Name;else if(r[0]&&r[0][f])T+=r[0][f].Name;else{var M=(XR(r,A,i)||"").split(";;");M[f-1]?T=M[f-1]:T+="SH33TJSERRX"}h.push(T);break}A<0&&(A=-A),r[A]&&(C=r[A][f]),C||(C={Name:"SH33TJSERRY"}),h.push(C.Name);break;case"PtgParen":var P="(",D=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:P=jD(" ",e[0][m][1][1])+P;break;case 3:P=jD("\r",e[0][m][1][1])+P;break;case 4:D=jD(" ",e[0][m][1][1])+D;break;case 5:D=jD("\r",e[0][m][1][1])+D;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}h.push(P+h.pop()+D);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":h.push("#REF!");break;case"PtgExp":s={c:w[1][1],r:w[1][0]};var k={c:n.c,r:n.r};if(r.sharedf[lO(s)]){var O=r.sharedf[lO(s)];h.push(QR(O,0,k,r,i))}else{var I=!1;for(a=0;a!=r.arrayf.length;++a)if(o=r.arrayf[a],!(s.c<o[0].s.c||s.c>o[0].e.c||s.r<o[0].s.r||s.r>o[0].e.r)){h.push(QR(o[1],0,k,r,i)),I=!0;break}I||h.push(w[1])}break;case"PtgArray":h.push("{"+WR(w[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgMissArg":h.push("");break;case"PtgList":h.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(w))}if(3!=i.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var R=!0;switch((w=e[0][m])[1][0]){case 4:R=!1;case 0:g=jD(" ",w[1][1]);break;case 5:R=!1;case 1:g=jD("\r",w[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}h.push((R?g:"")+h.pop()+(R?"":g)),m=-1}}if(h.length>1&&i.WTF)throw new Error("bad formula stack");return h[0]}function KR(e,t,n){var r=e.read_shift(4),i=function(e,t,n){for(var r,i,a=e.l+t,o=[];a!=e.l;)t=a-e.l,i=e[e.l],r=UR[i]||UR[jR[i]],24!==i&&25!==i||(r=(24===i?VR:HR)[e[e.l+1]]),r&&r.f?o.push([r.n,r.f(e,t,n)]):Qk(e,t);return o}(e,r,n),a=e.read_shift(4);return[i,a>0?GR(e,a,i,n):null]}var ZR=KR,JR=KR,$R=KR,eL=KR,tL={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},nL={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},rL={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function iL(e){return("of:="+e.replace(_R,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}var aL="undefined"!=typeof Map;function oL(e,t,n){var r=0,i=e.length;if(n){if(aL?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var a=aL?n.get(t):n[t];r<a.length;++r)if(e[a[r]].t===t)return e.Count++,a[r]}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t:t},e.Count++,e.Unique++,n&&(aL?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function sL(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(XI=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=QI(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=KI(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function lL(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function cL(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],i=60,a=e.length;if(null==r&&n.ssf)for(;i<392;++i)if(null==n.ssf[i]){gD(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}for(i=0;i!=a;++i)if(e[i].numFmtId===r)return i;return e[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function uL(e,t,n){if(e&&e["!ref"]){var r=hO(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var hL=["objects","scenarios","selectLockedCells","selectUnlockedCells"],dL=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function fL(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var i="",a=e.t,o=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=qO[e.v];break;case"d":r&&r.cellDates?i=BD(e.v,-1).toISOString():((e=UD(e)).t="n",i=""+(e.v=DD(BD(e.v)))),void 0===e.z&&(e.z=FP[14]);break;default:i=e.v}var s=lk("v",ZD(i)),l={r:t},c=cL(r.cellXfs,e,r);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){s=lk("v",""+oL(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str"}if(e.t!=a&&(e.t=a,e.v=o),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=uk("f",ZD(e.f),u)+(null!=e.v?s:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),uk("c",s,l)}function pL(e,t,n,r){var i,a=[XD,uk("worksheet",null,{xmlns:fk[0],"xmlns:r":dk.r})],o=n.SheetNames[e],s="",l=n.Sheets[o];null==l&&(l={});var c=l["!ref"]||"A1",u=hO(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=uO(u)}r||(r={}),l["!comments"]=[];var h=[];!function(e,t,n,r,i){var a=!1,o={},s=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(e){}a=!0,o.codeName=ak(ZD(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),s=(s||"")+uk("outlinePr",null,c)}(a||s)&&(i[i.length]=uk("sheetPr",s,o))}(l,n,e,t,a),a[a.length]=uk("dimension",null,{ref:c}),a[a.length]=function(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),uk("sheetViews",uk("sheetView",null,i),{})}(0,0,0,n),t.sheetFormat&&(a[a.length]=uk("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(a[a.length]=function(e,t){for(var n,r=["<cols>"],i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=uk("col",null,sL(i,n)));return r[r.length]="</cols>",r.join("")}(0,l["!cols"])),a[i=a.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(s=function(e,t,n,r){var i,a,o=[],s=[],l=hO(e["!ref"]),c="",u="",h=[],d=0,f=0,p=e["!rows"],m=Array.isArray(e),g={r:u},v=-1;for(f=l.s.c;f<=l.e.c;++f)h[f]=oO(f);for(d=l.s.r;d<=l.e.r;++d){for(s=[],u=iO(d),f=l.s.c;f<=l.e.c;++f){i=h[f]+u;var y=m?(e[d]||[])[f]:e[i];void 0!==y&&null!=(c=fL(y,i,e,t))&&s.push(c)}(s.length>0||p&&p[d])&&(g={r:u},p&&p[d]&&((a=p[d]).hidden&&(g.hidden=1),v=-1,a.hpx?v=$I(a.hpx):a.hpt&&(v=a.hpt),v>-1&&(g.ht=v,g.customHeight=1),a.level&&(g.outlineLevel=a.level)),o[o.length]=uk("row",s.join(""),g))}if(p)for(;d<p.length;++d)p&&p[d]&&(g={r:d+1},(a=p[d]).hidden&&(g.hidden=1),v=-1,a.hpx?v=$I(a.hpx):a.hpt&&(v=a.hpt),v>-1&&(g.ht=v,g.customHeight=1),a.level&&(g.outlineLevel=a.level),o[o.length]=uk("row","",g));return o.join("")}(l,t),s.length>0&&(a[a.length]=s)),a.length>i+1&&(a[a.length]="</sheetData>",a[i]=a[i].replace("/>",">")),l["!protect"]&&(a[a.length]=function(e){var t={sheet:1};return hL.forEach((function(n){null!=e[n]&&e[n]&&(t[n]="1")})),dL.forEach((function(n){null==e[n]||e[n]||(t[n]="0")})),e.password&&(t.password=GI(e.password).toString(16).toUpperCase()),uk("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(a[a.length]=function(e,t,n,r){var i="string"==typeof e.ref?e.ref:uO(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=cO(i);o.s.r==o.e.r&&(o.e.r=cO(t["!ref"]).e.r,i=uO(o));for(var s=0;s<a.length;++s){var l=a[s];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return s==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),uk("autoFilter",null,{ref:i})}(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(a[a.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+uO(e[n])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var d,f,p=-1,m=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(d={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(m=$O(r,-1,ZD(e[1].Target).replace(/#.*$/,""),KO.HLINK),d["r:id"]="rId"+m),(p=e[1].Target.indexOf("#"))>-1&&(d.location=ZD(e[1].Target.slice(p+1))),e[1].Tooltip&&(d.tooltip=ZD(e[1].Tooltip)),a[a.length]=uk("hyperlink",null,d))})),a[a.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(a[a.length]=(lL(f=l["!margins"]),uk("pageMargins",null,f))),t&&!t.ignoreEC&&null!=t.ignoreEC||(a[a.length]=lk("ignoredErrors",uk("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(m=$O(r,-1,"../drawings/drawing"+(e+1)+".xml",KO.DRAW),a[a.length]=uk("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=h),l["!comments"].length>0&&(m=$O(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",KO.VML),a[a.length]=uk("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function mL(e,t,n,r){var i=function(e,t,n){var r=Kk(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var a=320;i.hpx?a=20*$I(i.hpx):i.hpt&&(a=20*i.hpt),r.write_shift(2,a),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var s=0,l=r.l;r.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,d=-1,f=u<<10;f<u+1<<10;++f)c.c=f,(Array.isArray(n)?(n[c.r]||[])[c.c]:n[lO(c)])&&(h<0&&(h=f),d=f);h<0||(++s,r.write_shift(4,h),r.write_shift(4,d))}var p=r.l;return r.l=l,r.write_shift(4,s),r.l=p,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&Jk(e,0,i)}var gL=NO,vL=zO;var yL=NO,wL=zO,bL=["left","right","top","bottom","header","footer"];function xL(e,t,n,r,i,a,o){if(void 0===t.v)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":(t=UD(t)).z=t.z||FP[14],t.v=DD(BD(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v}var l={r:n,c:r};switch(l.s=cL(i.cellXfs,t,i),t.l&&a["!links"].push([lO(l),t.l]),t.c&&a["!comments"].push([lO(l),t.c]),t.t){case"s":case"str":return i.bookSST?(s=oL(i.Strings,t.v,i.revStrings),l.t="s",l.v=s,o?Jk(e,18,function(e,t,n){return null==n&&(n=Kk(8)),CO(t,n),n.write_shift(4,t.v),n}(0,l)):Jk(e,7,function(e,t,n){return null==n&&(n=Kk(12)),SO(t,n),n.write_shift(4,t.v),n}(0,l))):(l.t="str",o?Jk(e,17,function(e,t,n){return null==n&&(n=Kk(8+4*e.v.length)),CO(t,n),yO(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l)):Jk(e,6,function(e,t,n){return null==n&&(n=Kk(12+4*e.v.length)),SO(t,n),yO(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?o?Jk(e,13,function(e,t,n){return null==n&&(n=Kk(8)),CO(t,n),RO(e.v,n),n}(t,l)):Jk(e,2,function(e,t,n){return null==n&&(n=Kk(12)),SO(t,n),RO(e.v,n),n}(t,l)):o?Jk(e,16,function(e,t,n){return null==n&&(n=Kk(12)),CO(t,n),FO(e.v,n),n}(t,l)):Jk(e,5,function(e,t,n){return null==n&&(n=Kk(16)),SO(t,n),FO(e.v,n),n}(t,l)),!0;case"b":return l.t="b",o?Jk(e,15,function(e,t,n){return null==n&&(n=Kk(5)),CO(t,n),n.write_shift(1,e.v?1:0),n}(t,l)):Jk(e,4,function(e,t,n){return null==n&&(n=Kk(9)),SO(t,n),n.write_shift(1,e.v?1:0),n}(t,l)),!0;case"e":return l.t="e",o?Jk(e,14,function(e,t,n){return null==n&&(n=Kk(8)),CO(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,l)):Jk(e,3,function(e,t,n){return null==n&&(n=Kk(9)),SO(t,n),n.write_shift(1,e.v),n}(t,l)),!0}return o?Jk(e,12,function(e,t,n){return null==n&&(n=Kk(4)),CO(t,n)}(0,l)):Jk(e,1,function(e,t,n){return null==n&&(n=Kk(8)),SO(t,n)}(0,l)),!0}function _L(e,t,n,r){var i=Zk(),a=n.SheetNames[e],o=n.Sheets[a]||{},s=a;try{n&&n.Workbook&&(s=n.Workbook.Sheets[e].CodeName||s)}catch(e){}var l,c,u=hO(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Jk(i,129),(n.vbaraw||o["!outline"])&&Jk(i,147,function(e,t,n){null==n&&(n=Kk(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return UO({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),TO(e,n),n.slice(0,n.l)}(s,o["!outline"])),Jk(i,148,vL(u)),function(e,t,n){Jk(e,133),Jk(e,137,function(e,t,n){null==n&&(n=Kk(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),Jk(e,138),Jk(e,134)}(i,0,n.Workbook),function(e,t){t&&t["!cols"]&&(Jk(e,390),t["!cols"].forEach((function(t,n){t&&Jk(e,60,function(e,t,n){null==n&&(n=Kk(18));var r=sL(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}(n,t))})),Jk(e,391))}(i,o),function(e,t,n,r){var i,a=hO(t["!ref"]||"A1"),o="",s=[];Jk(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=c;++u){o=iO(u),mL(e,t,a,u);var h=!1;if(u<=a.e.r)for(var d=a.s.c;d<=a.e.c;++d){u===a.s.r&&(s[d]=oO(d)),i=s[d]+o;var f=l?(t[u]||[])[d]:t[i];h=!!f&&xL(e,f,u,d,r,t,h)}}Jk(e,146)}(i,o,0,t),function(e,t){t["!protect"]&&Jk(e,535,function(e,t){return null==t&&(t=Kk(66)),t.write_shift(2,e.password?GI(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(n){n[1]?t.write_shift(4,null==e[n[0]]||e[n[0]]?0:1):t.write_shift(4,null!=e[n[0]]&&e[n[0]]?0:1)})),t}(t["!protect"]))}(i,o),function(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],a="string"==typeof i.ref?i.ref:uO(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,s=cO(a);s.s.r==s.e.r&&(s.e.r=cO(t["!ref"]).e.r,a=uO(s));for(var l=0;l<o.length;++l){var c=o[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+a;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),Jk(e,161,zO(hO(a))),Jk(e,162)}}(i,o,n,e),function(e,t){var n,r;t&&t["!merges"]&&(Jk(e,177,(n=t["!merges"].length,null==r&&(r=Kk(4)),r.write_shift(4,n),r)),t["!merges"].forEach((function(t){Jk(e,176,wL(t))})),Jk(e,178))}(i,o),function(e,t,n){t["!links"].forEach((function(t){if(t[1].Target){var r=$O(n,-1,t[1].Target.replace(/#.*$/,""),KO.HLINK);Jk(e,494,function(e,t){var n=Kk(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));zO({s:sO(e[0]),e:sO(e[0])},n),OO("rId"+t,n);var r=e[1].Target.indexOf("#");return yO((-1==r?"":e[1].Target.slice(r+1))||"",n),yO(e[1].Tooltip||"",n),yO("",n),n.slice(0,n.l)}(t,r))}})),delete t["!links"]}(i,o,r),o["!margins"]&&Jk(i,476,(l=o["!margins"],null==c&&(c=Kk(48)),lL(l),bL.forEach((function(e){FO(l[e],c)})),c)),t&&!t.ignoreEC&&null!=t.ignoreEC||function(e,t){var n,r;t&&t["!ref"]&&(Jk(e,648),Jk(e,649,(n=hO(t["!ref"]),(r=Kk(24)).write_shift(4,4),r.write_shift(4,1),zO(n,r),r)),Jk(e,650))}(i,o),function(e,t,n,r){if(t["!comments"].length>0){var i=$O(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",KO.VML);Jk(e,551,OO("rId"+i)),t["!legacy"]=i}}(i,o,e,r),Jk(i,130),i.end()}var SL=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],EL="][*?/\\".split("");function CL(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return EL.forEach((function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}})),n}function AL(e){var t=[XD];t[t.length]=uk("workbook",null,{xmlns:fk[0],"xmlns:r":dk.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(SL.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=uk("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&i[a]&&i[a].Hidden;++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var o={name:ZD(e.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden"}t[t.length]=uk("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=uk("definedName",ZD(e.Ref),n))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function TL(e,t){var n=Zk();return Jk(n,131),Jk(n,128,function(e,t){t||(t=Kk(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return yO("SheetJS",t),yO(oP.version,t),yO(oP.version,t),yO("7262",t),t.length>t.l?t.slice(0,t.l):t}()),Jk(n,153,function(e,t){t||(t=Kk(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),TO(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),function(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n=t.Workbook.Sheets,r=0,i=-1,a=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&-1==i?i=r:1==n[r].Hidden&&-1==a&&(a=r);a>i||(Jk(e,135),Jk(e,158,(o=i,s||(s=Kk(29)),s.write_shift(-4,0),s.write_shift(-4,460),s.write_shift(4,28800),s.write_shift(4,17600),s.write_shift(4,500),s.write_shift(4,o),s.write_shift(4,o),s.write_shift(1,120),s.length>s.l?s.slice(0,s.l):s)),Jk(e,136))}var o,s}(n,e),function(e,t){Jk(e,143);for(var n=0;n!=t.SheetNames.length;++n)Jk(e,156,(r={Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]},(i=void 0)||(i=Kk(127)),i.write_shift(4,r.Hidden),i.write_shift(4,r.iTabID),OO(r.strRelID,i),yO(r.name.slice(0,31),i),i.length>i.l?i.slice(0,i.l):i));var r,i;Jk(e,144)}(n,e),Jk(n,132),n.end()}function ML(e,t,n,r,i){return(".bin"===t.slice(-4)?_L:pL)(e,n,r,i)}function PL(e,t,n){return(".bin"===t.slice(-4)?wR:gR)(e,n)}function DL(e){return uk("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+SR(e.Ref,{r:0,c:0})})}function kL(e,t,n,r,i,a,o){if(!e||null==e.v&&null==e.f)return"";var s={};if(e.f&&(s["ss:Formula"]="="+ZD(SR(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=sO(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=ZD(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=ZD(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c==o.c&&c[u].s.r==o.r&&(c[u].e.c>c[u].s.c&&(s["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(s["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",d="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",d=String(e.v);break;case"b":h="Boolean",d=e.v?"1":"0";break;case"e":h="Error",d=qO[e.v];break;case"d":h="DateTime",d=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||FP[14]);break;case"s":h="String",d=((e.v||"")+"").replace(QD,(function(e){return YD[e]})).replace($D,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var f=cL(r.cellXfs,e,r);s["ss:StyleID"]="s"+(21+f),s["ss:Index"]=o.c+1;var p=null!=e.v?d:"",m="z"==e.t?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map((function(e){var t=uk("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return uk("Comment",t,{"ss:Author":e.a})})).join("")),uk("Cell",m,s)}function OL(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=eR(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function IL(e,t,n){var r=[],i=n.SheetNames[e],a=n.Sheets[i],o=a?function(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],o=0;o<i.length;++o){var s=i[o];s.Sheet==n&&(s.Name.match(/^_xlfn\./)||a.push(DL(s)))}return a.join("")}(a,0,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=a?function(e,t,n,r){if(!e["!ref"])return"";var i=hO(e["!ref"]),a=e["!merges"]||[],o=0,s=[];e["!cols"]&&e["!cols"].forEach((function(e,t){ZI(e);var n=!!e.width,r=sL(t,e),i={"ss:Index":t+1};n&&(i["ss:Width"]=YI(r.width)),e.hidden&&(i["ss:Hidden"]="1"),s.push(uk("Column",null,i))}));for(var l=Array.isArray(e),c=i.s.r;c<=i.e.r;++c){for(var u=[OL(c,(e["!rows"]||[])[c])],h=i.s.c;h<=i.e.c;++h){var d=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>h||a[o].s.r>c||a[o].e.c<h||a[o].e.r<c)){a[o].s.c==h&&a[o].s.r==c||(d=!0);break}if(!d){var f={r:c,c:h},p=lO(f),m=l?(e[c]||[])[h]:e[p];u.push(kL(m,p,e,t,0,0,f))}}u.push("</Row>"),u.length>2&&s.push(u.join(""))}return s.join("")}(a,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(function(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(uk("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(uk("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(uk("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(uk("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&(!r.Workbook.Sheets[a]||r.Workbook.Sheets[a].Hidden);++a);a==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(lk("ProtectContents","True")),e["!protect"].objects&&i.push(lk("ProtectObjects","True")),e["!protect"].scenarios&&i.push(lk("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||i.push(lk("EnableSelection","UnlockedCells")):i.push(lk("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&i.push("<"+t[1]+"/>")}))),0==i.length?"":uk("WorksheetOptions",i.join(""),{xmlns:pk.x})}(a,0,e,n)),r.join("")}function RL(e,t){t||(t={}),e.SSF||(e.SSF=UD(FP)),e.SSF&&(yD(),vD(e.SSF),t.revssf=MD(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],cL(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(function(e,t){var n=[];return e.Props&&n.push(function(e,t){var n=[];return CD(cI).map((function(e){for(var t=0;t<nI.length;++t)if(nI[t][1]==e)return nI[t];for(t=0;t<aI.length;++t)if(aI[t][1]==e)return aI[t];throw e})).forEach((function(r){if(null!=e[r[1]]){var i=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(lk(cI[r[1]]||r[1],i))}})),uk("DocumentProperties",n.join(""),{xmlns:pk.o})}(e.Props,t)),e.Custprops&&n.push(function(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&CD(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<nI.length;++r)if(t==nI[r][1])return;for(r=0;r<aI.length;++r)if(t==aI[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var a=e[t],o="string";"number"==typeof a?(o="float",a=String(a)):!0===a||!1===a?(o="boolean",a=a?"1":"0"):a=String(a),i.push(uk(JD(t),a,{"dt:dt":o}))}})),t&&CD(t).forEach((function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],a="string";"number"==typeof r?(a="float",r=String(r)):!0===r||!1===r?(a="boolean",r=r?"1":"0"):r instanceof Date?(a="dateTime.tz",r=r.toISOString()):r=String(r),i.push(uk(JD(n),r,{"dt:dt":a}))}})),"<"+r+' xmlns="'+pk.o+'">'+i.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(uk("Worksheet",IL(r,t,e),{"ss:Name":ZD(e.SheetNames[r])}));return n[2]=function(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var r=[];r.push(uk("NumberFormat",null,{"ss:Format":ZD(FP[e.numFmtId])}));var i={"ss:ID":"s"+(21+t)};n.push(uk("Style",r.join(""),i))})),uk("Styles",n.join(""))}(0,t),n[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||n.push(DL(i)))}return uk("Names",n.join(""))}(e),XD+uk("Workbook",n.join(""),{xmlns:pk.ss,"xmlns:o":pk.o,"xmlns:x":pk.x,"xmlns:ss":pk.ss,"xmlns:dt":pk.dt,"xmlns:html":pk.html})}var LL={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};var NL={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=r,7&a&&(n.level=7&a),16&a&&(n.hidden=!0),32&a&&(n.hpt=i/20),n}},1:{f:function(e){return[_O(e)]}},2:{f:function(e){return[_O(e),IO(e),"n"]}},3:{f:function(e){return[_O(e),e.read_shift(1),"e"]}},4:{f:function(e){return[_O(e),e.read_shift(1),"b"]}},5:{f:function(e){return[_O(e),BO(e),"n"]}},6:{f:function(e){return[_O(e),vO(e),"str"]}},7:{f:function(e){return[_O(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,i=_O(e);i.r=n["!row"];var a=[i,vO(e),"str"];if(n.cellFormula){e.l+=2;var o=JR(e,r-e.l,n);a[3]=QR(o,0,i,n.supbooks,n)}else e.l=r;return a}},9:{f:function(e,t,n){var r=e.l+t,i=_O(e);i.r=n["!row"];var a=[i,BO(e),"n"];if(n.cellFormula){e.l+=2;var o=JR(e,r-e.l,n);a[3]=QR(o,0,i,n.supbooks,n)}else e.l=r;return a}},10:{f:function(e,t,n){var r=e.l+t,i=_O(e);i.r=n["!row"];var a=[i,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var o=JR(e,r-e.l,n);a[3]=QR(o,0,i,n.supbooks,n)}else e.l=r;return a}},11:{f:function(e,t,n){var r=e.l+t,i=_O(e);i.r=n["!row"];var a=[i,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var o=JR(e,r-e.l,n);a[3]=QR(o,0,i,n.supbooks,n)}else e.l=r;return a}},12:{f:function(e){return[EO(e)]}},13:{f:function(e){return[EO(e),IO(e),"n"]}},14:{f:function(e){return[EO(e),e.read_shift(1),"e"]}},15:{f:function(e){return[EO(e),e.read_shift(1),"b"]}},16:{f:function(e){return[EO(e),BO(e),"n"]}},17:{f:function(e){return[EO(e),vO(e),"str"]}},18:{f:function(e){return[EO(e),e.read_shift(4),"s"]}},19:{f:bO},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=DO(e),o=$R(e,0,n),s=MO(e);e.l=r;var l={Name:a,Ptg:o};return i<268435455&&(l.Sheet=i),s&&(l.Comment=s),l}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var a=e.read_shift(1);0!=a&&(r.underline=a);var o=e.read_shift(1);o>0&&(r.family=o);var s=e.read_shift(1);switch(s>0&&(r.charset=s),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),i=e.read_shift(2,"i"),a=e.read_shift(1),o=e.read_shift(1),s=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=WO[r];l&&(t.rgb=qI(l));break;case 2:t.rgb=qI([a,o,s]);break;case 3:t.theme=r}return 0!=i&&(t.tint=i>0?i/32767:i/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=vO(e),r}},44:{f:function(e,t){return[e.read_shift(2),vO(e)]}},45:{f:aR},46:{f:cR},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function(e,t,n){if(!n.cellStyles)return Qk(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),a=e.read_shift(r),o=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var c={s:i,e:a,w:o,ixfe:s,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}},62:{f:function(e){return[_O(e),bO(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=lO(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Qk,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=AO(e,t-19),n}},148:{f:gL,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?vO(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=kO(e,t-8),n.name=vO(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:NO},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:yL},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:vO(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:kO},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=wI(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],i=e.l+t,a=e.read_shift(n.biff>8?4:2);0!=a--;)r.push(CI(e,n.biff,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,i=LO(e),a=e.read_shift(1),o=[i];if(o[2]=a,n.cellFormula){var s=ZR(e,r-e.l,n);o[1]=s}else e.l=r;return o}},427:{f:function(e,t,n){var r=e.l+t,i=[NO(e,16)];if(n.cellFormula){var a=eL(e,r-e.l,n);i[1]=a,e.l=r}else e.l=r;return i}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return bL.forEach((function(n){t[n]=BO(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=NO(e,16),i=MO(e),a=vO(e),o=vO(e),s=vO(e);e.l=n;var l={rfx:r,relId:i,loc:a,display:s};return o&&(l.Tooltip=o),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:kO},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:yR},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=NO(e,16);return t.rfx=n.s,t.ref=lO(n.s),e.l+=16,t}},636:{T:-1},637:{f:xO},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:vO(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function zL(e,t,n,r){var i=t;if(!isNaN(i)){var a=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&Lk(n)&&e.push(n)}}function BL(e,t,n){return e||(e=Kk(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function FL(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?DD(BD(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?zL(e,2,function(e,t,n){var r=Kk(9);return BL(r,e,t),r.write_shift(2,n),r}(n,r,i)):zL(e,3,function(e,t,n){var r=Kk(15);return BL(r,e,t),r.write_shift(8,n,"f"),r}(n,r,i)));case"b":case"e":return void zL(e,5,function(e,t,n,r){var i=Kk(9);return BL(i,e,t),yI(n,r||"b",i),i}(n,r,t.v,t.t));case"s":case"str":return void zL(e,4,function(e,t,n){var r=Kk(8+2*n.length);return BL(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}zL(e,1,BL(null,n,r))}function UL(e,t,n,r,i){var a=16+cL(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)zL(e,6,function(e,t,n,r,i){var a=EI(t,n,i),o=function(e){if(null==e){var t=Kk(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return FO("number"==typeof e?e:0)}(e.v),s=Kk(6);s.write_shift(2,33),s.write_shift(4,0);for(var l=Kk(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return TP([a,o,s,l])}(t,n,r,0,a));else switch(t.t){case"d":case"n":zL(e,515,function(e,t,n,r){var i=Kk(14);return EI(e,t,r,i),FO(n,i),i}(n,r,"d"==t.t?DD(BD(t.v)):t.v,a));break;case"b":case"e":zL(e,517,function(e,t,n,r,i,a){var o=Kk(8);return EI(e,t,r,o),yI(n,a,o),o}(n,r,t.v,a,0,t.t));break;case"s":case"str":i.bookSST?zL(e,253,function(e,t,n,r){var i=Kk(10);return EI(e,t,r,i),i.write_shift(4,n),i}(n,r,oL(i.Strings,t.v,i.revStrings),a)):zL(e,516,function(e,t,n,r,i){var a=!i||8==i.biff,o=Kk(+a+8+(1+a)*n.length);return EI(e,t,r,o),o.write_shift(2,n.length),a&&o.write_shift(1,1),o.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),o}(n,r,(t.v||"").slice(0,255),a,i));break;default:zL(e,513,EI(n,r,a))}else zL(e,513,EI(n,r,a))}function jL(e,t,n){var r,i,a,o=Zk(),s=n.SheetNames[e],l=n.Sheets[s]||{},c=(n||{}).Workbook||{},u=(c.Sheets||[])[e]||{},h=Array.isArray(l),d=8==t.biff,f="",p=[],m=hO(l["!ref"]||"A1"),g=d?65536:16384;if(m.e.c>255||m.e.r>=g){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,g-1)}zL(o,2057,MI(0,16,t)),zL(o,13,vI(1)),zL(o,12,vI(100)),zL(o,15,mI(!0)),zL(o,17,mI(!1)),zL(o,16,FO(.001)),zL(o,95,mI(!0)),zL(o,42,mI(!1)),zL(o,43,mI(!1)),zL(o,130,vI(1)),zL(o,128,(i=[0,0],(a=Kk(8)).write_shift(4,0),a.write_shift(2,i[0]?i[0]+1:0),a.write_shift(2,i[1]?i[1]+1:0),a)),zL(o,131,mI(!1)),zL(o,132,mI(!1)),d&&function(e,t){if(t){var n=0;t.forEach((function(t,r){++n<=256&&t&&zL(e,125,function(e,t){var n=Kk(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}(sL(r,t),r))}))}}(o,l["!cols"]),zL(o,512,function(e,t){var n=8!=t.biff&&t.biff?2:4,r=Kk(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(m,t)),d&&(l["!links"]=[]);for(var v=m.s.r;v<=m.e.r;++v){f=iO(v);for(var y=m.s.c;y<=m.e.c;++y){v===m.s.r&&(p[y]=oO(y)),r=p[y]+f;var w=h?(l[v]||[])[y]:l[r];w&&(UL(o,w,v,y,t),d&&w.l&&l["!links"].push([r,w.l]))}}var b=u.CodeName||u.name||s;return d&&zL(o,574,function(e){var t=Kk(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((c.Views||[])[0])),d&&(l["!merges"]||[]).length&&zL(o,229,function(e){var t=Kk(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)TI(e[n],t);return t}(l["!merges"])),d&&function(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];zL(e,440,OI(r)),r[1].Tooltip&&zL(e,2048,II(r))}delete t["!links"]}(o,l),zL(o,442,xI(b)),d&&function(e,t){var n=Kk(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),zL(e,2151,n),(n=Kk(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),TI(hO(t["!ref"]||"A1"),n),n.write_shift(4,4),zL(e,2152,n)}(o,l),zL(o,10),o.end()}function VL(e,t,n){var r,i=Zk(),a=(e||{}).Workbook||{},o=a.Sheets||[],s=a.WBProps||{},l=8==n.biff,c=5==n.biff;zL(i,2057,MI(0,5,n)),"xla"==n.bookType&&zL(i,135),zL(i,225,l?vI(1200):null),zL(i,193,function(e,t){t||(t=Kk(2));for(var n=0;n<2;++n)t.write_shift(1,0);return t}()),c&&zL(i,191),c&&zL(i,192),zL(i,226),zL(i,92,function(e,t){var n=!t||8==t.biff,r=Kk(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),zL(i,66,vI(l?1200:1252)),l&&zL(i,353,vI(0)),l&&zL(i,448),zL(i,317,function(e){for(var t=Kk(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),l&&e.vbaraw&&zL(i,211),l&&e.vbaraw&&zL(i,442,xI(s.CodeName||"ThisWorkbook")),zL(i,156,vI(17)),zL(i,25,mI(!1)),zL(i,18,mI(!1)),zL(i,19,vI(0)),l&&zL(i,431,mI(!1)),l&&zL(i,444,vI(0)),zL(i,61,((r=Kk(18)).write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r)),zL(i,64,mI(!1)),zL(i,141,vI(0)),zL(i,34,mI("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&function(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),zL(i,14,mI(!0)),l&&zL(i,439,mI(!1)),zL(i,218,vI(0)),function(e,t,n){zL(e,49,function(e,t){var n=e.name||"Arial",r=t&&5==t.biff,i=Kk(r?15+n.length:16+2*n.length);return i.write_shift(2,20*(e.sz||12)),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}(i,0,n),function(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&zL(e,1054,DI(i,t[i],n))}))}(i,e.SSF,n),function(e,t){for(var n=0;n<16;++n)zL(e,224,kI({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(n){zL(e,224,kI(n,0,t))}))}(i,n),l&&zL(i,352,mI(!1));var u=i.end(),h=Zk();l&&zL(h,140,function(e){return e||(e=Kk(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),l&&n.Strings&&function(e,t,n,r){var i=(n||[]).length||0;if(i<=8224)return zL(e,252,n,i);if(!isNaN(252)){for(var a=n.parts||[],o=0,s=0,l=0;l+(a[o]||8224)<=8224;)l+=a[o]||8224,o++;var c=e.next(4);for(c.write_shift(2,252),c.write_shift(2,l),e.push(n.slice(s,s+l)),s+=l;s<i;){for((c=e.next(4)).write_shift(2,60),l=0;l+(a[o]||8224)<=8224;)l+=a[o]||8224,o++;c.write_shift(2,l),e.push(n.slice(s,s+l)),s+=l}}}(h,0,function(e,t){var n=Kk(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],i=0;i<e.length;++i)r[i]=bI(e[i]);var a=TP([n].concat(r));return a.parts=[n.length].concat(r.map((function(e){return e.length}))),a}(n.Strings)),zL(h,10);var d=h.end(),f=Zk(),p=0,m=0;for(m=0;m<e.SheetNames.length;++m)p+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var g=u.length+p+d.length;for(m=0;m<e.SheetNames.length;++m)zL(f,133,PI({pos:g,hs:(o[m]||{}).Hidden||0,dt:0,name:e.SheetNames[m]},n)),g+=t[m].length;var v=f.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var y=[];return u.length&&y.push(u),v.length&&y.push(v),d.length&&y.push(d),TP(y)}function HL(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];r&&r["!ref"]&&cO(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}var i=t||{};switch(i.biff||2){case 8:case 5:return function(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=UD(FP)),e&&e.SSF&&(yD(),vD(e.SSF),n.revssf=MD(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,vN(n),n.cellXfs=[],cL(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=jL(i,n,e);return r.unshift(VL(e,r,n)),TP(r)}(e,t);case 4:case 3:case 2:return function(e,t){var n=t||{};null!=gP&&null==n.dense&&(n.dense=gP);for(var r=Zk(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==n.sheet&&(i=a);if(0==i&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return zL(r,4==n.biff?1033:3==n.biff?521:9,MI(0,16,n)),function(e,t,n,r){var i,a=Array.isArray(t),o=hO(t["!ref"]||"A1"),s="",l=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),i=uO(o)}for(var c=o.s.r;c<=o.e.r;++c){s=iO(c);for(var u=o.s.c;u<=o.e.c;++u){c===o.s.r&&(l[u]=oO(u)),i=l[u]+s;var h=a?(t[c]||[])[u]:t[i];h&&FL(e,h,c,u)}}}(r,e.Sheets[e.SheetNames[i]],0,n),zL(r,10),r.end()}(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function GL(e,t,n,r){for(var i=e["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var s=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>o||i[c].e.r<n||i[c].e.c<o)){if(i[c].s.r<n||i[c].s.c<o){s=-1;break}s=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(s<0)){var u=lO({r:n,c:o}),h=r.dense?(e[n]||[])[o]:e[u],d=h&&null!=h.v&&(h.h||((h.w||(dO(h),h.w)||"")+"").replace(QD,(function(e){return YD[e]})).replace(/\n/g,"<br/>").replace($D,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})))||"",f={};s>1&&(f.rowspan=s),l>1&&(f.colspan=l),r.editable?d='<span contenteditable="true">'+d+"</span>":h&&(f["data-t"]=h&&h.t||"z",null!=h.v&&(f["data-v"]=h.v),null!=h.z&&(f["data-z"]=h.z),h.l&&"#"!=(h.l.Target||"#").charAt(0)&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),f.id=(r.id||"sjs")+"-"+u,a.push(uk("td",d,f))}}return"<tr>"+a.join("")+"</tr>"}var WL='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',qL="</body></html>";function XL(e,t){var n=t||{},r=null!=n.header?n.header:WL,i=null!=n.footer?n.footer:qL,a=[r],o=cO(e["!ref"]);n.dense=Array.isArray(e),a.push(function(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}(0,0,n));for(var s=o.s.r;s<=o.e.r;++s)a.push(GL(e,o,s,n));return a.push("</table>"+i),a.join("")}function YL(e,t,n){var r=n||{};null!=gP&&(r.dense=gP);var i=0,a=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var o="string"==typeof r.origin?sO(r.origin):r.origin;i=o.r,a=o.c}var s=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var u=cO(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==i&&(c.e.r=i=u.e.r+1)}var h=[],d=0,f=e["!rows"]||(e["!rows"]=[]),p=0,m=0,g=0,v=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&m<l;++p){var b=s[p];if(KL(b)){if(r.display)continue;f[m]={hidden:!0}}var x=b.children;for(g=v=0;g<x.length;++g){var _=x[g];if(!r.display||!KL(_)){var S=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):ok(_.innerHTML),E=_.getAttribute("data-z")||_.getAttribute("z");for(d=0;d<h.length;++d){var C=h[d];C.s.c==v+a&&C.s.r<m+i&&m+i<=C.e.r&&(v=C.e.c+1-a,d=-1)}w=+_.getAttribute("colspan")||1,((y=+_.getAttribute("rowspan")||1)>1||w>1)&&h.push({s:{r:m+i,c:v+a},e:{r:m+i+(y||1)-1,c:v+a+(w||1)-1}});var A={t:"s",v:S},T=_.getAttribute("data-t")||_.getAttribute("t")||"";null!=S&&(0==S.length?A.t=T||"z":r.raw||0==S.trim().length||"s"==T||("TRUE"===S?A={t:"b",v:!0}:"FALSE"===S?A={t:"b",v:!1}:isNaN(VD(S))?isNaN(GD(S).getDate())||(A={t:"d",v:BD(S)},r.cellDates||(A={t:"n",v:DD(A.v)}),A.z=r.dateNF||FP[14]):A={t:"n",v:VD(S)})),void 0===A.z&&null!=E&&(A.z=E);var M="",P=_.getElementsByTagName("A");if(P&&P.length)for(var D=0;D<P.length&&(!P[D].hasAttribute("href")||"#"==(M=P[D].getAttribute("href")).charAt(0));++D);M&&"#"!=M.charAt(0)&&(A.l={Target:M}),r.dense?(e[m+i]||(e[m+i]=[]),e[m+i][v+a]=A):e[lO({c:v+a,r:m+i})]=A,c.e.c<v+a&&(c.e.c=v+a),v+=w}}++m}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,m-1+i),e["!ref"]=uO(c),m>=l&&(e["!fullref"]=uO((c.e.r=s.length-p+m-1+i,c))),e}function QL(e,t){return YL((t||{}).dense?[]:{},e,t)}function KL(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var ZL=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+ck({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return XD+t}}(),JL=function(){var e="          <table:table-cell />\n",t=function(t,n,r){var i=[];i.push('      <table:table table:name="'+ZD(n.SheetNames[r])+'" table:style-name="ta1">\n');var a=0,o=0,s=cO(t["!ref"]||"A1"),l=t["!merges"]||[],c=0,u=Array.isArray(t);if(t["!cols"])for(o=0;o<=s.e.c;++o)i.push("        <table:table-column"+(t["!cols"][o]?' table:style-name="co'+t["!cols"][o].ods+'"':"")+"></table:table-column>\n");var h,d="",f=t["!rows"]||[];for(a=0;a<s.s.r;++a)d=f[a]?' table:style-name="ro'+f[a].ods+'"':"",i.push("        <table:table-row"+d+"></table:table-row>\n");for(;a<=s.e.r;++a){for(d=f[a]?' table:style-name="ro'+f[a].ods+'"':"",i.push("        <table:table-row"+d+">\n"),o=0;o<s.s.c;++o)i.push(e);for(;o<=s.e.c;++o){var p=!1,m={},g="";for(c=0;c!=l.length;++c)if(!(l[c].s.c>o||l[c].s.r>a||l[c].e.c<o||l[c].e.r<a)){l[c].s.c==o&&l[c].s.r==a||(p=!0),m["table:number-columns-spanned"]=l[c].e.c-l[c].s.c+1,m["table:number-rows-spanned"]=l[c].e.r-l[c].s.r+1;break}if(p)i.push("          <table:covered-table-cell/>\n");else{var v=lO({r:a,c:o}),y=u?(t[a]||[])[o]:t[v];if(y&&y.f&&(m["table:formula"]=ZD(iL(y.f)),y.F&&y.F.slice(0,v.length)==v)){var w=cO(y.F);m["table:number-matrix-columns-spanned"]=w.e.c-w.s.c+1,m["table:number-matrix-rows-spanned"]=w.e.r-w.s.r+1}if(y){switch(y.t){case"b":g=y.v?"TRUE":"FALSE",m["office:value-type"]="boolean",m["office:boolean-value"]=y.v?"true":"false";break;case"n":g=y.w||String(y.v||0),m["office:value-type"]="float",m["office:value"]=y.v||0;break;case"s":case"str":g=null==y.v?"":y.v,m["office:value-type"]="string";break;case"d":g=y.w||BD(y.v).toISOString(),m["office:value-type"]="date",m["office:date-value"]=BD(y.v).toISOString(),m["table:style-name"]="ce1";break;default:i.push(e);continue}var b=ZD(g).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(y.l&&y.l.Target){var x=y.l.Target;"#"==(x="#"==x.charAt(0)?"#"+(h=x.slice(1),h.replace(/\./,"!")):x).charAt(0)||x.match(/^\w+:/)||(x="../"+x),b=uk("text:a",b,{"xlink:href":x.replace(/&/g,"&amp;")})}i.push("          "+uk("table:table-cell",uk("text:p",b,{}),m)+"\n")}else i.push(e)}}i.push("        </table:table-row>\n")}return i.push("      </table:table>\n"),i.join("")};return function(e,n){var r=[XD],i=ck({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),a=ck({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==n.bookType?(r.push("<office:document"+i+a+">\n"),r.push(tI().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+i+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var i=t["!cols"][r];if(null==i.width&&null==i.wpx&&null==i.wch)continue;ZI(i),i.ods=n;var a=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+a+'"/>\n'),e.push("  </style:style>\n"),++n}}));var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var i=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+i+'"/>\n'),e.push("  </style:style>\n"),++r}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var o=0;o!=e.SheetNames.length;++o)r.push(t(e.Sheets[e.SheetNames[o]],e,o));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==n.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function $L(e,t){if("fods"==t.bookType)return JL(e,t);var n=qD(),r="",i=[],a=[];return WD(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),WD(n,r="content.xml",JL(e,t)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),WD(n,r="styles.xml",ZL(e,t)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),WD(n,r="meta.xml",XD+tI()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),WD(n,r="manifest.rdf",function(e){var t=[XD];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var n=0;n!=e.length;++n)t.push(eI(e[n][0],e[n][1])),t.push(("",['  <rdf:Description rdf:about="">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e[n][0]+'"/>\n',"  </rdf:Description>\n"].join("")));return t.push(eI("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(a)),i.push([r,"application/rdf+xml"]),WD(n,r="META-INF/manifest.xml",function(e){var t=[XD];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(i)),n}function eN(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function tN(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):EP(ak(e))}function nN(e){var t=e.reduce((function(e,t){return e+t.length}),0),n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(e,r),r+=e.length})),n}function rN(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function iN(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function aN(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function oN(e){for(var t=[],n=[0];n[0]<e.length;){var r,i=n[0],a=rN(e,n),o=7&a,s=0;if(0==(a=Math.floor(a/8)))break;switch(o){case 0:for(var l=n[0];e[n[0]++]>=128;);r=e.slice(l,n[0]);break;case 5:s=4,r=e.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,r=e.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=rN(e,n),r=e.slice(n[0],n[0]+s),n[0]+=s;break;default:throw new Error("PB Type ".concat(o," for Field ").concat(a," at offset ").concat(i))}var c={data:r,type:o};null==t[a]?t[a]=[c]:t[a].push(c)}return t}function sN(e){var t=[];return e.forEach((function(e,n){e.forEach((function(e){e.data&&(t.push(iN(8*n+e.type)),2==e.type&&t.push(iN(e.data.length)),t.push(e.data))}))})),nN(t)}function lN(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=rN(e,r),a=oN(e.slice(r[0],r[0]+i));r[0]+=i;var o={id:aN(a[1][0].data),messages:[]};a[2].forEach((function(t){var n=oN(t.data),i=aN(n[3][0].data);o.messages.push({meta:n,data:e.slice(r[0],r[0]+i)}),r[0]+=i})),(null==(t=a[3])?void 0:t[0])&&(o.merge=aN(a[3][0].data)>>>0>0),n.push(o)}return n}function cN(e){var t=[];return e.forEach((function(e){var n=[];n[1]=[{data:iN(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:iN(+!!e.merge),type:0}]);var r=[];e.messages.forEach((function(e){r.push(e.data),e.meta[3]=[{type:0,data:iN(e.data.length)}],n[2].push({data:sN(e.meta),type:2})}));var i=sN(n);t.push(iN(i.length)),t.push(i),r.forEach((function(e){return t.push(e)}))})),nN(t)}function uN(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=rN(t,n),i=[];n[0]<t.length;){var a=3&t[n[0]];if(0!=a){var o=0,s=0;if(1==a?(s=4+(t[n[0]]>>2&7),o=(224&t[n[0]++])<<3,o|=t[n[0]++]):(s=1+(t[n[0]++]>>2),2==a?(o=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(o=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[nN(i)],0==o)throw new Error("Invalid offset 0");if(o>i[0].length)throw new Error("Invalid offset beyond length");if(s>=o)for(i.push(i[0].slice(-o)),s-=o;s>=i[i.length-1].length;)i.push(i[i.length-1]),s-=i[i.length-1].length;i.push(i[0].slice(-o,-o+s))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[n[0]],c>1&&(l|=t[n[0]+1]<<8),c>2&&(l|=t[n[0]+2]<<16),c>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}i.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var u=nN(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function hN(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(uN(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return nN(t)}function dN(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var a=iN(r),o=a.length;t.push(a),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,i[0]=0,i[1]=255&o,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return nN(t)}function fN(e,t){var n=new Uint8Array(32),r=eN(n),i=12,a=0;switch(n[0]=5,e.t){case"n":n[1]=2,function(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=255&i;e[t+15]|=n>=0?0:128}(n,i,e.v),a|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,a,!0),n.slice(0,i)}function pN(e,t){var n=new Uint8Array(32),r=eN(n),i=12,a=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,a,!0),n.slice(0,i)}function mN(e){return rN(oN(e)[1][0].data)}function gN(e,t,n){var r,i,a,o;if(!(null==(r=e[6])?void 0:r[0])||!(null==(i=e[7])?void 0:i[0]))throw"Mutation only works on post-BNC storages!";if((null==(o=null==(a=e[8])?void 0:a[0])?void 0:o.data)&&aN(e[8][0].data)>0)throw"Math only works with normal offsets";for(var s=0,l=eN(e[7][0].data),c=0,u=[],h=eN(e[4][0].data),d=0,f=[],p=0;p<t.length;++p)if(null!=t[p]){var m,g;switch(l.setUint16(2*p,c,!0),h.setUint16(2*p,d,!0),typeof t[p]){case"string":m=fN({t:"s",v:t[p]},n),g=pN({t:"s",v:t[p]},n);break;case"number":m=fN({t:"n",v:t[p]},n),g=pN({t:"n",v:t[p]},n);break;case"boolean":m=fN({t:"b",v:t[p]},n),g=pN({t:"b",v:t[p]},n);break;default:throw new Error("Unsupported value "+t[p])}u.push(m),c+=m.length,f.push(g),d+=g.length,++s}else l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535);for(e[2][0].data=iN(s);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535,!0);return e[6][0].data=nN(u),e[3][0].data=nN(f),s}function vN(e){!function(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function yN(e,t){return"ods"==t.bookType?$L(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=cO(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(uO(r)));var a=EN(n,{range:r,header:1}),o=["~Sh33tJ5~"];a.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&o.push(e)}))}));var s={},l=[],c=xD.read(t.numbers,{type:"base64"});c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0],n=e[1];2==t.type&&t.name.match(/\.iwa/)&&lN(hN(t.content)).forEach((function(e){l.push(e.id),s[e.id]={deps:[],location:n,type:aN(e.messages[0].meta[1][0].data)}}))})),l.sort((function(e,t){return e-t}));var u=l.filter((function(e){return e>1})).map((function(e){return[e,iN(e)]}));c.FileIndex.map((function(e,t){return[e,c.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&lN(hN(t.content)).forEach((function(e){e.messages.forEach((function(t){u.forEach((function(t){e.messages.some((function(e){return 11006!=aN(e.meta[1][0].data)&&function(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])}))&&s[t[0]].deps.push(e.id)}))}))}))}));for(var h,d=xD.find(c,s[1].location),f=lN(hN(d.content)),p=0;p<f.length;++p){var m=f[p];1==m.id&&(h=m)}var g=mN(oN(h.messages[0].data)[1][0].data);for(f=lN(hN((d=xD.find(c,s[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(h=m);for(g=mN(oN(h.messages[0].data)[2][0].data),f=lN(hN((d=xD.find(c,s[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(h=m);for(g=mN(oN(h.messages[0].data)[2][0].data),f=lN(hN((d=xD.find(c,s[g].location)).content)),p=0;p<f.length;++p)(m=f[p]).id==g&&(h=m);var v=oN(h.messages[0].data);v[6][0].data=iN(r.e.r+1),v[7][0].data=iN(r.e.c+1);for(var y=mN(v[46][0].data),w=xD.find(c,s[y].location),b=lN(hN(w.content)),x=0;x<b.length&&b[x].id!=y;++x);if(b[x].id!=y)throw"Bad ColumnRowUIDMapArchive";var _=oN(b[x].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var S=0;S<=r.e.c;++S){var E=[];E[1]=E[2]=[{type:0,data:iN(S+420690)}],_[1].push({type:2,data:sN(E)}),_[2].push({type:0,data:iN(S)}),_[3].push({type:0,data:iN(S)})}_[4]=[],_[5]=[],_[6]=[];for(var C=0;C<=r.e.r;++C)(E=[])[1]=E[2]=[{type:0,data:iN(C+726270)}],_[4].push({type:2,data:sN(E)}),_[5].push({type:0,data:iN(C)}),_[6].push({type:0,data:iN(C)});b[x].messages[0].data=sN(_),w.content=dN(cN(b)),w.size=w.content.length,delete v[46];var A=oN(v[4][0].data);A[7][0].data=iN(r.e.r+1);var T=mN(oN(A[1][0].data)[2][0].data);if((b=lN(hN((w=xD.find(c,s[T].location)).content)))[0].id!=T)throw"Bad HeaderStorageBucket";var M=oN(b[0].messages[0].data);for(C=0;C<a.length;++C){var P=oN(M[2][0].data);P[1][0].data=iN(C),P[4][0].data=iN(a[C].length),M[2][C]={type:M[2][0].type,data:sN(P)}}b[0].messages[0].data=sN(M),w.content=dN(cN(b)),w.size=w.content.length;var D=mN(A[2][0].data);if((b=lN(hN((w=xD.find(c,s[D].location)).content)))[0].id!=D)throw"Bad HeaderStorageBucket";for(M=oN(b[0].messages[0].data),S=0;S<=r.e.c;++S)(P=oN(M[2][0].data))[1][0].data=iN(S),P[4][0].data=iN(r.e.r+1),M[2][S]={type:M[2][0].type,data:sN(P)};b[0].messages[0].data=sN(M),w.content=dN(cN(b)),w.size=w.content.length;var k=mN(A[4][0].data);!function(){for(var e,t=xD.find(c,s[k].location),n=lN(hN(t.content)),r=0;r<n.length;++r){var i=n[r];i.id==k&&(e=i)}var a=oN(e.messages[0].data);a[3]=[];var l=[];o.forEach((function(e,t){l[1]=[{type:0,data:iN(t)}],l[2]=[{type:0,data:iN(1)}],l[3]=[{type:2,data:tN(e)}],a[3].push({type:2,data:sN(l)})})),e.messages[0].data=sN(a);var u=dN(cN(n));t.content=u,t.size=t.content.length}();var O=oN(A[3][0].data),I=O[1][0];delete O[2];var R=oN(I.data),L=mN(R[2][0].data);!function(){for(var e,t=xD.find(c,s[L].location),n=lN(hN(t.content)),i=0;i<n.length;++i){var l=n[i];l.id==L&&(e=l)}var u=oN(e.messages[0].data);delete u[6],delete O[7];var h=new Uint8Array(u[5][0].data);u[5]=[];for(var d=0,f=0;f<=r.e.r;++f){var p=oN(h);d+=gN(p,a[f],o),p[1][0].data=iN(f),u[5].push({data:sN(p),type:2})}u[1]=[{type:0,data:iN(r.e.c+1)}],u[2]=[{type:0,data:iN(r.e.r+1)}],u[3]=[{type:0,data:iN(d)}],u[4]=[{type:0,data:iN(r.e.r+1)}],e.messages[0].data=sN(u);var m=dN(cN(n));t.content=m,t.size=t.content.length}(),I.data=sN(R),A[3][0].data=sN(O),v[4][0].data=sN(A),h.messages[0].data=sN(v);var N=dN(cN(f));return d.content=N,d.size=d.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){pR=1024,e&&!e.SSF&&(e.SSF=UD(FP)),e&&e.SSF&&(yD(),vD(e.SSF),t.revssf=MD(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,aL?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=bR.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};vN(t=t||{});var a=qD(),o="",s=0;if(t.cellXfs=[],cL(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),WD(a,o="docProps/core.xml",iI(e.Props,t)),i.coreprops.push(o),$O(t.rels,2,o,KO.CORE_PROPS),o="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;for(e.Props.Worksheets=e.Props.SheetNames.length,WD(a,o,sI(e.Props)),i.extprops.push(o),$O(t.rels,3,o,KO.EXT_PROPS),e.Custprops!==e.Props&&CD(e.Custprops||{}).length>0&&(WD(a,o="docProps/custom.xml",lI(e.Custprops)),i.custprops.push(o),$O(t.rels,4,o,KO.CUST_PROPS)),s=1;s<=e.SheetNames.length;++s){var u={"!id":{}},h=e.Sheets[e.SheetNames[s-1]];if((h||{})["!type"],WD(a,o="xl/worksheets/sheet"+s+"."+n,ML(s-1,o,t,e,u)),i.sheets.push(o),$O(t.wbrels,-1,"worksheets/sheet"+s+"."+n,KO.WS[0]),h){var d=h["!comments"],f=!1,p="";d&&d.length>0&&(WD(a,p="xl/comments"+s+"."+n,PL(d,p,t)),i.comments.push(p),$O(u,-1,"../comments"+s+"."+n,KO.CMNT),f=!0),h["!legacy"]&&f&&WD(a,"xl/drawings/vmlDrawing"+s+".vml",mR(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&WD(a,ZO(o),JO(u))}return null!=t.Strings&&t.Strings.length>0&&(WD(a,o="xl/sharedStrings."+n,function(e,t,n){return(".bin"===t.slice(-4)?HI:jI)(e,n)}(t.Strings,o,t)),i.strs.push(o),$O(t.wbrels,-1,"sharedStrings."+n,KO.SST)),WD(a,o="xl/workbook."+n,function(e,t,n){return(".bin"===t.slice(-4)?TL:AL)(e,n)}(e,o,t)),i.workbooks.push(o),$O(t.rels,1,o,KO.WB),WD(a,o="xl/theme/theme1.xml",hR(e.Themes,t)),i.themes.push(o),$O(t.wbrels,-1,"theme/theme1.xml",KO.THEME),WD(a,o="xl/styles."+n,function(e,t,n){return(".bin"===t.slice(-4)?uR:tR)(e,n)}(e,o,t)),i.styles.push(o),$O(t.wbrels,-1,"styles."+n,KO.STY),e.vbaraw&&r&&(WD(a,o="xl/vbaProject.bin",e.vbaraw),i.vba.push(o),$O(t.wbrels,-1,"vbaProject.bin",KO.VBA)),WD(a,o="xl/metadata."+n,(".bin"===o.slice(-4)?dR:fR)()),i.metadata.push(o),$O(t.wbrels,-1,"metadata."+n,KO.XLMETA),WD(a,"[Content_Types].xml",QO(i,t)),WD(a,"_rels/.rels",JO(t.rels)),WD(a,"xl/_rels/workbook."+n+".rels",JO(t.wbrels)),delete t.revssf,delete t.ssf,a}(e,t):function(e,t){pR=1024,e&&!e.SSF&&(e.SSF=UD(FP)),e&&e.SSF&&(yD(),vD(e.SSF),t.revssf=MD(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,aL?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=bR.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};vN(t=t||{});var a=qD(),o="",s=0;if(t.cellXfs=[],cL(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),WD(a,o="docProps/core.xml",iI(e.Props,t)),i.coreprops.push(o),$O(t.rels,2,o,KO.CORE_PROPS),o="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,WD(a,o,sI(e.Props)),i.extprops.push(o),$O(t.rels,3,o,KO.EXT_PROPS),e.Custprops!==e.Props&&CD(e.Custprops||{}).length>0&&(WD(a,o="docProps/custom.xml",lI(e.Custprops)),i.custprops.push(o),$O(t.rels,4,o,KO.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var h={"!id":{}},d=e.Sheets[e.SheetNames[s-1]];if((d||{})["!type"],WD(a,o="xl/worksheets/sheet"+s+"."+n,pL(s-1,t,e,h)),i.sheets.push(o),$O(t.wbrels,-1,"worksheets/sheet"+s+"."+n,KO.WS[0]),d){var f=d["!comments"],p=!1,m="";if(f&&f.length>0){var g=!1;f.forEach((function(e){e[1].forEach((function(e){1==e.T&&(g=!0)}))})),g&&(WD(a,m="xl/threadedComments/threadedComment"+s+"."+n,vR(f,u,t)),i.threadedcomments.push(m),$O(h,-1,"../threadedComments/threadedComment"+s+"."+n,KO.TCMNT)),WD(a,m="xl/comments"+s+"."+n,gR(f)),i.comments.push(m),$O(h,-1,"../comments"+s+"."+n,KO.CMNT),p=!0}d["!legacy"]&&p&&WD(a,"xl/drawings/vmlDrawing"+s+".vml",mR(s,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&WD(a,ZO(o),JO(h))}return null!=t.Strings&&t.Strings.length>0&&(WD(a,o="xl/sharedStrings."+n,jI(t.Strings,t)),i.strs.push(o),$O(t.wbrels,-1,"sharedStrings."+n,KO.SST)),WD(a,o="xl/workbook."+n,AL(e)),i.workbooks.push(o),$O(t.rels,1,o,KO.WB),WD(a,o="xl/theme/theme1.xml",hR(e.Themes,t)),i.themes.push(o),$O(t.wbrels,-1,"theme/theme1.xml",KO.THEME),WD(a,o="xl/styles."+n,tR(e,t)),i.styles.push(o),$O(t.wbrels,-1,"styles."+n,KO.STY),e.vbaraw&&r&&(WD(a,o="xl/vbaProject.bin",e.vbaraw),i.vba.push(o),$O(t.wbrels,-1,"vbaProject.bin",KO.VBA)),WD(a,o="xl/metadata."+n,fR()),i.metadata.push(o),$O(t.wbrels,-1,"metadata."+n,KO.XLMETA),u.length>1&&(WD(a,o="xl/persons/person.xml",function(e){var t=[XD,uk("personList",null,{xmlns:dk.TCMNT,"xmlns:x":fk[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,n){t.push(uk("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}(u)),i.people.push(o),$O(t.wbrels,-1,"persons/person.xml",KO.PEOPLE)),WD(a,"[Content_Types].xml",QO(i,t)),WD(a,"_rels/.rels",JO(t.rels)),WD(a,"xl/_rels/workbook.xml.rels",JO(t.wbrels)),delete t.revssf,delete t.ssf,a}(e,t)}function wN(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return ED(t.file,xD.write(e,{type:bP?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return xD.write(e,t)}function bN(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return yP(ak(r));case"binary":return ak(r);case"string":return e;case"file":return ED(t.file,r,"utf8");case"buffer":return bP?xP(r,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(r):bN(r,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function xN(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?yP(n):"string"==t.type?ik(n):n;case"file":return ED(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function _N(e,t){dP(1200),hP(1252),function(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];!function(e,t,n){e.forEach((function(r,i){CL(r);for(var a=0;a<i;++a)if(r==e[a])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[i]&&t[i].CodeName||r;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}}))}(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)uL(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}(e);var n=UD(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=_N(e,n);return n.type="array",CP(r)}var i=0;if(n.sheet&&(i="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return bN(RL(e,n),n);case"slk":case"sylk":return bN(LI.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return bN(XL(e.Sheets[e.SheetNames[i]],n),n);case"txt":return function(e,t){switch(t.type){case"base64":return yP(e);case"binary":case"string":return e;case"file":return ED(t.file,e,"binary");case"buffer":return bP?xP(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}(MN(e.Sheets[e.SheetNames[i]],n),n);case"csv":return bN(TN(e.Sheets[e.SheetNames[i]],n),n,"\ufeff");case"dif":return bN(NI.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return xN(RI.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return bN(BI.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return bN(WI.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return bN(zI.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return bN($L(e,n),n);case"wk1":return xN(FI.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return xN(FI.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),xN(HL(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function(e,t){var n=t||{};return wN(function(e,t){var n=t||{},r=xD.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return xD.utils.cfb_add(r,i,HL(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function(e,t){var n,r=[],i=[],a=[],o=0,s=AD(VO,"n"),l=AD(HO,"n");if(e.Props)for(n=CD(e.Props),o=0;o<n.length;++o)(Object.prototype.hasOwnProperty.call(s,n[o])?r:Object.prototype.hasOwnProperty.call(l,n[o])?i:a).push([n[o],e.Props[n[o]]]);if(e.Custprops)for(n=CD(e.Custprops),o=0;o<n.length;++o)Object.prototype.hasOwnProperty.call(e.Props||{},n[o])||(Object.prototype.hasOwnProperty.call(s,n[o])?r:Object.prototype.hasOwnProperty.call(l,n[o])?i:a).push([n[o],e.Custprops[n[o]]]);var c=[];for(o=0;o<a.length;++o)hI.indexOf(a[o][0])>-1||oI.indexOf(a[o][0])>-1||null!=a[o][1]&&c.push(a[o]);i.length&&xD.utils.cfb_add(t,"/SummaryInformation",pI(i,LL.SI,l,HO)),(r.length||c.length)&&xD.utils.cfb_add(t,"/DocumentSummaryInformation",pI(r,LL.DSI,s,VO,c.length?c:null,LL.UDI))}(e,r),8==n.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach((function(n,r){if(0!=r){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&xD.utils.cfb_add(e,i,t.FileIndex[r].content)}}))}(r,xD.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var n=UD(t||{});return function(e,t){var n={},r=bP?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?xD.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!=typeof Deno&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(CP(i))}return t.password&&"undefined"!=typeof encrypt_agile?wN(encrypt_agile(i,t.password),t):"file"===t.type?ED(t.file,i):"string"==t.type?ik(i):i}(yN(e,n),n)}(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function SN(e,t,n,r,i,a,o,s){var l=iO(n),c=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),h=!0,d=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:n,enumerable:!1})}catch(e){d.__rowNum__=n}else d.__rowNum__=n;if(!o||e[n])for(var f=t.s.c;f<=t.e.c;++f){var p=o?e[n][f]:e[r[f]+l];if(void 0!==p&&void 0!==p.t){var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=a[f]){if(null==m)if("e"==p.t&&null===m)d[a[f]]=null;else if(void 0!==c)d[a[f]]=c;else{if(!u||null!==m)continue;d[a[f]]=null}else d[a[f]]=u&&("n"!==p.t||"n"===p.t&&!1!==s.rawNumbers)?m:dO(p,m,s);null!=m&&(h=!1)}}else{if(void 0===c)continue;null!=a[f]&&(d[a[f]]=c)}}return{row:d,isempty:h}}function EN(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,i=1,a=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof u){case"string":l=hO(u);break;case"number":(l=hO(e["!ref"])).s.r=u;break;default:l=u}r>0&&(i=0);var h=iO(l.s.r),d=[],f=[],p=0,m=0,g=Array.isArray(e),v=l.s.r,y=0,w={};g&&!e[v]&&(e[v]=[]);var b=c.skipHidden&&e["!cols"]||[],x=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(b[y]||{}).hidden)switch(d[y]=oO(y),n=g?e[v][y]:e[d[y]+h],r){case 1:a[y]=y-l.s.c;break;case 2:a[y]=d[y];break;case 3:a[y]=c.header[y-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),s=o=dO(n,null,c),m=w[o]||0){do{s=o+"_"+m++}while(w[s]);w[o]=m,w[s]=1}else w[o]=1;a[y]=s}for(v=l.s.r+i;v<=l.e.r;++v)if(!(x[v]||{}).hidden){var _=SN(e,l,v,d,r,a,g,c);(!1===_.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(f[p++]=_.row)}return f.length=p,f}var CN=/"/g;function AN(e,t,n,r,i,a,o,s){for(var l=!0,c=[],u="",h=iO(n),d=t.s.c;d<=t.e.c;++d)if(r[d]){var f=s.dense?(e[n]||[])[d]:e[r[d]+h];if(null==f)u="";else if(null!=f.v){l=!1,u=""+(s.rawNumbers&&"n"==f.t?f.v:dO(f,null,s));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===i||m===a||34===m||s.forceQuotes){u='"'+u.replace(CN,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==f.f||f.F?u="":(l=!1,(u="="+f.f).indexOf(",")>=0&&(u='"'+u.replace(CN,'""')+'"'));c.push(u)}return!1===s.blankrows&&l?null:c.join(o)}function TN(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=hO(e["!ref"]),a=void 0!==r.FS?r.FS:",",o=a.charCodeAt(0),s=void 0!==r.RS?r.RS:"\n",l=s.charCodeAt(0),c=new RegExp(("|"==a?"\\|":a)+"+$"),u="",h=[];r.dense=Array.isArray(e);for(var d=r.skipHidden&&e["!cols"]||[],f=r.skipHidden&&e["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(d[p]||{}).hidden||(h[p]=oO(p));for(var m=0,g=i.s.r;g<=i.e.r;++g)(f[g]||{}).hidden||null!=(u=AN(e,i,g,h,o,l,a,r))&&(r.strip&&(u=u.replace(c,"")),(u||!1!==r.blankrows)&&n.push((m++?s:"")+u));return delete r.dense,n.join("")}function MN(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=TN(e,t);if(void 0===fP||"string"==t.type)return n;var r=fP.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function PN(e,t,n){var r,i=n||{},a=+!i.skipHeader,o=e||{},s=0,l=0;if(o&&null!=i.origin)if("number"==typeof i.origin)s=i.origin;else{var c="string"==typeof i.origin?sO(i.origin):i.origin;s=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:s+t.length-1+a}};if(o["!ref"]){var h=hO(o["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),-1==s&&(s=h.e.r+1,u.e.r=s+t.length-1+a)}else-1==s&&(s=0,u.e.r=t.length-1+a);var d=i.header||[],f=0;t.forEach((function(e,t){CD(e).forEach((function(n){-1==(f=d.indexOf(n))&&(d[f=d.length]=n);var c=e[n],u="z",h="",p=lO({c:l+f,r:s+t+a});r=DN(o,p),!c||"object"!=typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",i.cellDates||(u="n",c=DD(c)),h=i.dateNF||FP[14]):null===c&&i.nullError&&(u="e",c=0),r?(r.t=u,r.v=c,delete r.w,delete r.R,h&&(r.z=h)):o[p]=r={t:u,v:c},h&&(r.z=h)):o[p]=c}))})),u.e.c=Math.max(u.e.c,l+d.length-1);var p=iO(s);if(a)for(f=0;f<d.length;++f)o[oO(f+l)+p]={t:"s",v:d[f]};return o["!ref"]=uO(u),o}function DN(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=sO(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return DN(e,lO("number"!=typeof t?t:{r:t,c:n||0}))}function kN(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var ON={encode_col:oO,encode_row:iO,encode_cell:lO,encode_range:uO,decode_col:aO,decode_row:rO,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:sO,decode_range:cO,format_cell:dO,sheet_add_aoa:pO,sheet_add_json:PN,sheet_add_dom:YL,aoa_to_sheet:mO,json_to_sheet:function(e,t){return PN(null,e,t)},table_to_sheet:QL,table_to_book:function(e,t){return fO(QL(e,t),t)},sheet_to_csv:TN,sheet_to_txt:MN,sheet_to_json:EN,sheet_to_html:XL,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var i,a=hO(e["!ref"]),o="",s=[],l=[],c=Array.isArray(e);for(i=a.s.c;i<=a.e.c;++i)s[i]=oO(i);for(var u=a.s.r;u<=a.e.r;++u)for(o=iO(u),i=a.s.c;i<=a.e.c;++i)if(n=s[i]+o,r="",void 0!==(t=c?(e[u]||[])[i]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:EN,sheet_get_cell:DN,book_new:function(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function(e,t,n,r){var i=1;if(!n)for(;i<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+i);++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||n;for(++i;i<=65535&&-1!=e.SheetNames.indexOf(n=o+i);++i);}if(CL(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n},book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:kN,cell_set_internal_link:function(e,t,n){return kN(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var i="string"!=typeof t?t:hO(t),a="string"==typeof t?t:uO(t),o=i.s.r;o<=i.e.r;++o)for(var s=i.s.c;s<=i.e.c;++s){var l=DN(e,o,s);l.t="n",l.F=a,delete l.v,o==i.s.r&&s==i.s.c&&(l.f=n,r&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};oP.version;var IN=function(e,t){var n=ON.book_new(),r=ON.json_to_sheet(e);ON.book_append_sheet(n,r,"Sheet1");var i=_N(n,{bookType:"xlsx",type:"array"}),a=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});(0,aP.saveAs)(a,t||"table.xlsx")};function RN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return LN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NN(){var t=(0,Sp.useClipboard)(),n=me(),r=(0,e.useRef)(null),i=(0,e.useRef)(null),a=(0,e.useRef)(null),o=(0,e.useRef)(null),s=(0,e.useRef)(null),l=RN((0,e.useState)(0),2),c=(l[0],l[1]),u=RN((0,e.useState)(""),2),h=u[0],d=u[1],f=RN((0,e.useState)(""),2),p=f[0],m=f[1],g=RN((0,e.useState)(""),2),v=g[0],y=g[1],w=RN((0,e.useState)(""),2),b=w[0],x=w[1],_=RN((0,e.useState)(""),2),S=_[0],E=_[1],C=RN((0,e.useState)(""),2),A=C[0],T=C[1],M=RN((0,e.useState)(!1),2),P=M[0],D=M[1],k=RN((0,e.useState)(!1),2),O=k[0],I=k[1],R=RN((0,e.useState)(!1),2),L=R[0],N=R[1],z=RN((0,e.useState)(!1),2),B=z[0],F=z[1],U=RN((0,e.useState)(!1),2),j=U[0],V=U[1],H=RN((0,e.useState)(!1),2),G=H[0],W=H[1],q=RN((0,e.useState)(!1),2),X=q[0],Y=q[1],Q=RN((0,e.useState)(!1),2),K=Q[0],Z=Q[1],J=RN((0,e.useState)(!1),2),$=J[0],ee=J[1],te=RN((0,e.useState)(!1),2),ne=te[0],re=te[1],ie=RN((0,e.useState)(!1),2),ae=ie[0],oe=ie[1],se=RN((0,e.useState)(!1),2),le=se[0],ce=se[1],ue=RN((0,e.useState)(!1),2),he=ue[0],de=ue[1],fe=RN((0,e.useState)(null),2),pe=fe[0],ge=fe[1],ve=RN((0,e.useState)(null),2),ye=ve[0],we=ve[1],be=["ID","Time","InsID","Type","State","E-log"],xe=(0,e.useCallback)((function(e){m(e.target.value),ee(!1)}),[]),_e=(0,e.useCallback)((function(e){y(e.target.value),re(!1)}),[]),Se=(0,e.useCallback)((function(e){x(e.target.value),oe(!1)}),[]),Ee=(0,e.useCallback)((function(e){E(e.target.value),ce(!1)}),[]),Ce=(0,e.useCallback)((function(e){T(e.target.value),de(!1)}),[]),Ae=(0,e.useCallback)((function(e){"Enter"===e.key&&(o.current.click(),o.current.focus())}),[]),Te=(0,e.useCallback)((function(e){"Enter"===e.key&&(i.current.click(),i.current.focus())}),[]),Me=(0,e.useCallback)((function(e){"Enter"===e.key&&(a.current.click(),a.current.focus())}),[]),Pe=function(){if(""===h)return"Error: No apiUrl !";var e=h+"/queryInstruction";Yf.get(e,{}).then((function(e){if("0"!==e.data.code){if("1"===e.data.code)return ge([]),Qv("数据库为空，请先插入语句 !","query_empty"),void Y(!0);ge(e.data.data),Y(!0),Kv("查询指令序列成功 !","query_success")}else Qv("数据库内部错误，请练习管理员 !","query_backend_error")})).catch((function(e){console.error("Error: ",e),Qv("查询指令序列失败，请重试 !","query_error")}))},De=function(){if(""===h)return"Error: No apiUrl !";var e=h+"/queryLog";Yf.get(e,{}).then((function(e){if("0"!==e.data.code){if("1"===e.data.code)return we([]),Qv("日志为空，请先执行测试 !","query2_empty"),void Z(!0);we(e.data.data),Z(!0),Kv("查询日志成功 !","query2_success")}else Qv("数据库内部错误，请练习管理员 !","query2_backend_error")})).catch((function(e){console.error("Error: ",e),Qv("查询日志失败，请重试 !","query2_error")}))};return Ue((function(){X&&sessionStorage.setItem("selenium_states",JSON.stringify({text:p,text2:v,text3:b,text4:S,text5:A,data:pe,log:ye,apiUrl:h,loading:P,loading2:O,loading3:L,loading4:B,loading5:j,loading6:G,finished:X,finished2:K,invalid:$,invalid2:ne,invalid3:ae,invalid4:le,invalid5:he}))})),(0,e.useEffect)((function(){null!==pe&&X&&sessionStorage.setItem("selenium_states",JSON.stringify({text:p,text2:v,text3:b,text4:S,text5:A,data:pe,log:ye,apiUrl:h,loading:P,loading2:O,loading3:L,loading4:B,loading5:j,loading6:G,finished:X,finished2:K,invalid:$,invalid2:ne,invalid3:ae,invalid4:le,invalid5:he}))}),[p,v,b,S,A,pe,ye,h,P,O,L,B,j,G,X,K,$,ne,ae,le,he]),(0,e.useEffect)((function(){if(sessionStorage.getItem("selenium_states")){var e=JSON.parse(sessionStorage.getItem("selenium_states"));m(e.text?e.text:""),y(e.text2?e.text2:""),x(e.text3?e.text3:""),E(e.text4?e.text4:""),T(e.text5?e.text5:""),ge(e.data?e.data:null),we(e.log?e.log:null),d(e.apiUrl?e.apiUrl:null),D(e.loading),I(e.loading2),N(e.loading3),F(e.loading4),V(e.loading5),W(e.loading6),Y(e.finished),Z(e.finished2),ee(e.invalid),re(e.invalid2),oe(e.invalid3),ce(e.invalid4),de(e.invalid5)}Pe(),De()}),[]),e.createElement(zN,null,e.createElement(nP,null,e.createElement(tP,null,e.createElement(Zp,{onClick:function(){n("/tools"),window.scroll(0,0)}},e.createElement(BN,{icon:V_.ac}))),e.createElement(Dh,null,"Selenium")),e.createElement(FN,null,e.createElement(rP,null,e.createElement(iP,null,e.createElement(UN,null,"初始化",X?pe&&pe.length>0?e.createElement(jN,{icon:Mn.t5}):e.createElement(VN,{icon:Mn.t5}):e.createElement(HN,{icon:Mn.t5}),"数据库")),e.createElement(iP,null,e.createElement(p_,{icon:e.createElement(xo,{icon:Ib.bL}),placeholder:" ",desc:"输入服务端根地址",id:"input_text",onChange:xe,onKeyPress:Ae,invalid:$,text:p,setText:m,iconOnClick:function(){m&&m("")},data_tooltip_id:"url_tooltip",data_tooltip_content:"e.g. https://api.qiuyedx.com:8085",data_tooltip_variant:"info"})),e.createElement(GN,{id:"url_tooltip",offset:20,openOnClick:!0,place:"top",hidden:!!p}),e.createElement(WN,null,e.createElement(qN,{disabled:P,h:"36px",w:"140px",onClick:function(e){if(!p)return ee(!0),void Qv("请输入服务端根地址 !","init_error");if(!p.match(/https?:\/\/[^\s/$.?#]*[^\s/$.$].[^\s]*/gi))return ee(!0),void Qv("请输入有效的URL !","init_error_2");var t=p;"/"===t[t.length-1]&&t.slice(0,-1),d(t),D(!0);var n=t+"/initialTable";Yf.post(n,{params:{}}).then((function(e){"0"!==e.data.code?(Kv("数据库初始化成功 !","init_success"),Pe(),De(),tp.awaitCountAPI("PUT","selenium").then((function(e){c(e.data[0].count)})).catch((function(e){return console.warn("Failed to put selenium count")}))):Qv("服务器内部错误，请练习管理员 !","insert_backend_error")})).catch((function(e){console.error("Error: ",e),Qv("数据库初始化失败，请重试 !","init_error")})).finally((function(){D(!1)}))},ref:r},P?e.createElement(e.Fragment,null,"执行中",e.createElement(XN,{icon:eP.gr,spin:!0})):e.createElement(e.Fragment,null,"初始化",e.createElement(YN,{icon:eP.gr,fade:!0}))),e.createElement(QN,{disabled:j,h:"36px",w:"140px",onClick:function(){if(!p)return ee(!0),void Qv("请输入服务端根地址 !","init_error");if(!p.match(/https?:\/\/[^\s/$.?#]*[^\s/$.$].[^\s]*/gi))return ee(!0),void Qv("请输入有效的URL !","init_error_2");var e=p;"/"===e[e.length-1]&&(e=e.slice(0,-1)),d(e),V(!0);var t=e+"/queryInstruction";Yf.get(t,{}).then((function(e){if("0"!==e.data.code){if("1"===e.data.code)return ge([]),Qv("数据库为空，请先插入语句 !","query_empty"),void Y(!0);ge(e.data.data),Y(!0),Kv("查询指令序列成功 !","query_success")}else Qv("数据库内部错误，请练习管理员 !","query_backend_error")})).catch((function(e){console.error("Error: ",e),ee(!0),Qv("查询指令序列失败，请重试 !","query_error")})).finally((function(){V(!1)}));var n=e+"/queryLog";Yf.get(n,{}).then((function(e){if("0"!==e.data.code){if("1"===e.data.code)return we([]),Qv("日志为空，请先执行测试 !","query2_empty"),void Z(!0);we(e.data.data),Z(!0),Kv("查询日志成功 !","query2_success")}else Qv("数据库内部错误，请练习管理员 !","query2_backend_error")})).catch((function(e){console.error("Error: ",e),Qv("查询日志失败，请重试 !","query2_error")}))},ref:o},j?e.createElement(e.Fragment,null,"查询中",e.createElement(KN,{icon:_n.Y$,bounce:!0})):e.createElement(e.Fragment,null,"查询状态",e.createElement(ZN,{icon:_n.Y$,fade:!0}))))),e.createElement(rP,null,e.createElement(iP,null,e.createElement(JN,null,"批量插入指令")),e.createElement(iP,null,e.createElement(p_,{icon:e.createElement(xo,{icon:Ib.bL}),placeholder:" ",desc:"输入selenium指令",id:"input_text2",onChange:_e,onKeyPress:Te,invalid:ne,text:v,setText:y,iconOnClick:function(){y&&y("")},data_tooltip_id:"input2_tooltip",data_tooltip_content:"指令间用井号加空格分隔 e.g. jump http://39.99.243.8:8688/# wait /html/body/div/form/div[4]/button# input /html/body/div/form/div[1]/input tea",data_tooltip_variant:"info"})),e.createElement($N,{id:"input2_tooltip",offset:20,openOnClick:!0,place:"top",hidden:!!p}),e.createElement(ez,null,e.createElement(tz,{disabled:O,h:"36px",w:"140px",onClick:function(e){if(!v)return re(!0),void Qv("请输入测试语句 !","insert_input_error");I(!0);var t=h+"/insertInstruction";Yf.post(t,v).then((function(e){"0"!==e.data.code?(Kv("插入测试语句成功 !","insert_success"),Pe()):Qv("服务器内部错误，请练习管理员 !","insert_backend_error")})).catch((function(e){console.error("Error generating QR code:",e),Qv("插入测试语句失败，请重试 !","insert_error")})).finally((function(){I(!1)}))},ref:i},O?e.createElement(e.Fragment,null,"执行中",e.createElement(nz,{icon:Mh.LM,spin:!0})):e.createElement(e.Fragment,null,"插入指令",e.createElement(rz,{icon:$M.EQ,fade:!0})))))),e.createElement(rP,null,e.createElement(iP,null,e.createElement(iz,null,"编写单条指令")),e.createElement(iP,null,e.createElement(b_,{icon:e.createElement(xo,{icon:Ib.bL}),placeholder:" ",desc:"选择指令类型",id:"input_text5",onChange:Ce,onKeyPress:Me,invalid:he,text:A,setText:T,iconOnClick:function(){T&&T("")},selectList:["jump","wait","click","input"],closeClassName:"closeClassName",animate:"tr.3"})),e.createElement(iP,null,e.createElement(p_,{icon:e.createElement(xo,{icon:Ib.bL}),placeholder:" ",desc:"输入full xPath元素定位路径",id:"input_text3",onChange:Se,onKeyPress:Me,invalid:ae,text:b,setText:x,iconOnClick:function(){x&&x("")}})),e.createElement(iP,null,e.createElement(p_,{icon:e.createElement(xo,{icon:Ib.bL}),placeholder:" ",desc:"输入参数（可选）",id:"input_text4",onChange:Ee,onKeyPress:Me,invalid:le,text:S,setText:E,iconOnClick:function(){E&&E("")}})),e.createElement(az,null,e.createElement(oz,{disabled:B,h:"36px",w:"140px",onClick:function(e){if(!A)return de(!0),void Qv("请选择指令类型 !","insert_input4_error");if(!b)return oe(!0),void Qv("请输入xPath元素定位路径 !","insert_input3_error");F(!0);var t=h+"/insertInstruction",n="".concat(A," ").concat(b," ").concat(S).trim();Yf.post(t,n).then((function(e){"0"!==e.data.code?(Kv("插入指令成功 !","insert2_success"),Pe()):Qv("服务器内部错误，请练习管理员 !","insert2_backend_error")})).catch((function(e){console.error("Error:",e),Qv("插入指令失败，请重试 !","insert2_error"),de(!0),oe(!0)})).finally((function(){F(!1)}))},ref:a},B?e.createElement(e.Fragment,null,"执行中",e.createElement(sz,{icon:Mh.LM,spin:!0})):e.createElement(e.Fragment,null,"插入指令",e.createElement(lz,{icon:$M.EQ,fade:!0}))))),e.createElement(cz,null,e.createElement(iP,null,e.createElement(Rh,{tw:""},"开始测试")),e.createElement(iP,{tw:""},e.createElement(uz,{disabled:L||!X||!pe||pe&&0===pe.length,h:"36px",w:"140px",onClick:function(){N(!0),Yf.post(h+"/executeTest",{}).then((function(e){"0"!==e.data.code?(Kv("测试完毕 !","test_success"),De(),setTimeout((function(){s.current.scrollIntoView({behavior:"smooth"})}),100)):Qv("数据库内部错误，请练习管理员 !","query_backend_error")})).finally((function(){N(!1)}))}},L?e.createElement(e.Fragment,null,"测试中",e.createElement(hz,{icon:Mh.LM,spin:!0})):e.createElement(e.Fragment,null,"开始测试",e.createElement(dz,{icon:JM.zc,fade:!0}))))),X?e.createElement(e.Fragment,null,e.createElement(fz,null),e.createElement(i_,{title:"指令序列",data:pe||[],headers:["ID","Type","Element","Param"]}),e.createElement(pz,null),e.createElement(mz,null,e.createElement(iP,null,e.createElement(Rh,{tw:""},"复制指令")),e.createElement(iP,{tw:""},e.createElement(gz,{disabled:null===pe||pe&&0===pe.length,h:"36px",w:"140px",onClick:function(){var e=pe.reduce((function(e,t,n){return n>0&&(e+="# "),e+=t.reduce((function(e,t,n){return n>0&&t&&""!==t&&(n>1&&(e+=" "),e+=t),e}),"")}),"");t.copy(e),Kv("指令序列Copied !","copy_success")}},"复制指令",e.createElement(vz,{icon:bS.kZ,fade:!0}))))):"",K?e.createElement(e.Fragment,null,e.createElement(yz,{ref:s}),e.createElement(i_,{title:"测试日志",data:ye||[],headers:be}),e.createElement(wz,null),e.createElement(bz,null,e.createElement(iP,null,e.createElement(Rh,{tw:""},"导出日志")),e.createElement(iP,{tw:""},e.createElement(xz,{disabled:G||null===ye||ye&&0===ye.length,h:"36px",w:"140px",onClick:function(){var e,t,n,r,i,a,o,s=ye.reduce((function(e,t,n){return e[n]=be.reduce((function(e,n,r){return e[n]=t[r],e}),{}),e}),[]);IN(s,"log_"+(t=(e=new Date).getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0"),"".concat(t,"-").concat(n,"-").concat(r,"-").concat(i,"h").concat(a,"m").concat(o,"s"))),Kv("导出成功 !","export_success")}},G?e.createElement(e.Fragment,null,"导出中",e.createElement(_z,{icon:Mh.LM,spin:!0})):e.createElement(e.Fragment,null,"下载数据",e.createElement(Sz,{icon:ZM.c,fade:!0})))))):"")}var zN=bn(In).withConfig({displayName:"SeleniumPage___StyledPaddingWrapper",componentId:"sc-1kd70ub-0"})({gridColumn:"span 4 / span 4",display:"flex",flexDirection:"column",alignItems:"stretch"}),BN=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon",componentId:"sc-1kd70ub-1"})({position:"relative",top:"-1px",verticalAlign:"middle","@media (min-width: 768px)":{paddingRight:"1rem"}}),FN=bn("div").withConfig({displayName:"SeleniumPage___StyledDiv",componentId:"sc-1kd70ub-2"})({display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",columnGap:"1.25rem"}),UN=bn(Rh).withConfig({displayName:"SeleniumPage___StyledInLineTitle",componentId:"sc-1kd70ub-3"})({marginBottom:"0.5rem"}),jN=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon2",componentId:"sc-1kd70ub-4"})({paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgb(74 222 128 / var(--tw-text-opacity))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}),VN=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon3",componentId:"sc-1kd70ub-5"})({paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgb(251 146 60 / var(--tw-text-opacity))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}),HN=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon4",componentId:"sc-1kd70ub-6"})({paddingLeft:"0.25rem",paddingRight:"0.25rem","--tw-text-opacity":"1",color:"rgb(248 113 113 / var(--tw-text-opacity))",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}),GN=bn(r_).withConfig({displayName:"SeleniumPage___StyledTooltip",componentId:"sc-1kd70ub-7"})({position:"absolute",zIndex:"200",maxWidth:"20rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","@media (min-width: 768px)":{maxWidth:"32rem"}}),WN=bn(iP).withConfig({displayName:"SeleniumPage___StyledLineWrapper",componentId:"sc-1kd70ub-8"})({marginTop:"0.5rem"}),qN=bn(Qp).withConfig({displayName:"SeleniumPage___StyledMButton",componentId:"sc-1kd70ub-9"})({borderRadius:"9999px"}),XN=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon5",componentId:"sc-1kd70ub-10"})({marginLeft:"0.25rem"}),YN=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon6",componentId:"sc-1kd70ub-11"})({marginLeft:"0.25rem"}),QN=bn(Qp).withConfig({displayName:"SeleniumPage___StyledMButton2",componentId:"sc-1kd70ub-12"})({borderRadius:"9999px"}),KN=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon7",componentId:"sc-1kd70ub-13"})({marginLeft:"0.25rem"}),ZN=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon8",componentId:"sc-1kd70ub-14"})({marginLeft:"0.25rem"}),JN=bn(Rh).withConfig({displayName:"SeleniumPage___StyledInLineTitle2",componentId:"sc-1kd70ub-15"})({marginBottom:"0.5rem"}),$N=bn(r_).withConfig({displayName:"SeleniumPage___StyledTooltip2",componentId:"sc-1kd70ub-16"})({position:"absolute",zIndex:"200",maxWidth:"20rem",borderRadius:"1rem","--tw-bg-opacity":"1",backgroundColor:"rgb(96 165 250 / var(--tw-bg-opacity))","@media (min-width: 768px)":{maxWidth:"32rem"}}),ez=bn(iP).withConfig({displayName:"SeleniumPage___StyledLineWrapper2",componentId:"sc-1kd70ub-17"})({marginTop:"0.5rem"}),tz=bn(Qp).withConfig({displayName:"SeleniumPage___StyledMButton3",componentId:"sc-1kd70ub-18"})({borderRadius:"9999px"}),nz=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon9",componentId:"sc-1kd70ub-19"})({marginLeft:"0.25rem"}),rz=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon10",componentId:"sc-1kd70ub-20"})({marginLeft:"0.25rem"}),iz=bn(Rh).withConfig({displayName:"SeleniumPage___StyledInLineTitle3",componentId:"sc-1kd70ub-21"})({marginBottom:"0.5rem"}),az=bn(iP).withConfig({displayName:"SeleniumPage___StyledLineWrapper3",componentId:"sc-1kd70ub-22"})({marginTop:"0.5rem"}),oz=bn(Qp).withConfig({displayName:"SeleniumPage___StyledMButton4",componentId:"sc-1kd70ub-23"})({borderRadius:"9999px"}),sz=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon11",componentId:"sc-1kd70ub-24"})({marginLeft:"0.25rem"}),lz=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon12",componentId:"sc-1kd70ub-25"})({marginLeft:"0.25rem"}),cz=bn(rP).withConfig({displayName:"SeleniumPage___StyledContentWrapper",componentId:"sc-1kd70ub-26"})({height:"8rem",minHeight:"0px"}),uz=bn(Qp).withConfig({displayName:"SeleniumPage___StyledMButton5",componentId:"sc-1kd70ub-27"})({borderRadius:"9999px"}),hz=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon13",componentId:"sc-1kd70ub-28"})({marginLeft:"0.25rem"}),dz=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon14",componentId:"sc-1kd70ub-29"})({marginLeft:"0.25rem"}),fz=bn(Lh).withConfig({displayName:"SeleniumPage___StyledGap",componentId:"sc-1kd70ub-30"})({visibility:"hidden"}),pz=bn(Lh).withConfig({displayName:"SeleniumPage___StyledGap2",componentId:"sc-1kd70ub-31"})({visibility:"hidden"}),mz=bn(rP).withConfig({displayName:"SeleniumPage___StyledContentWrapper2",componentId:"sc-1kd70ub-32"})({height:"8rem",minHeight:"0px"}),gz=bn(Qp).withConfig({displayName:"SeleniumPage___StyledMButton6",componentId:"sc-1kd70ub-33"})({borderRadius:"9999px"}),vz=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon15",componentId:"sc-1kd70ub-34"})({marginLeft:"0.25rem"}),yz=bn(Lh).withConfig({displayName:"SeleniumPage___StyledGap3",componentId:"sc-1kd70ub-35"})({visibility:"hidden"}),wz=bn(Lh).withConfig({displayName:"SeleniumPage___StyledGap4",componentId:"sc-1kd70ub-36"})({visibility:"hidden"}),bz=bn(rP).withConfig({displayName:"SeleniumPage___StyledContentWrapper3",componentId:"sc-1kd70ub-37"})({height:"8rem",minHeight:"0px"}),xz=bn(Qp).withConfig({displayName:"SeleniumPage___StyledMButton7",componentId:"sc-1kd70ub-38"})({borderRadius:"9999px"}),_z=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon16",componentId:"sc-1kd70ub-39"})({marginLeft:"0.25rem"}),Sz=bn(xo).withConfig({displayName:"SeleniumPage___StyledFontAwesomeIcon17",componentId:"sc-1kd70ub-40"})({marginLeft:"0.25rem"});function Ez(){var t,n=pe(),r=ge(),i={QRPage:e.createElement($_,null),bilibili:e.createElement(CT,null),tiktok:e.createElement(dM,null),Selenium:e.createElement(NN,null)};return e.createElement(Bn,null,(t=r.toolId,i[t]||"/tools"===n.pathname?e.createElement(Ch,null):""),e.createElement(Rn,null,e.createElement(Nn,null),function(t){return i[t]||Qv("未找到该工具！","error_notFindToolPage"),e.createElement(Ln,null,i[t]?i[t]:e.createElement(Pb,null))}(r.toolId),e.createElement(zn,null)),e.createElement(up,null))}var Cz=o(8055),Az=o(4797),Tz=o(3461),Mz=o(7992),Pz=o(7749),Dz=o(6065),kz=o(6686),Oz=o(7319),Iz=o(1303),Rz=o(959),Lz=o(8512),Nz=o(426),zz=o(7080),Bz=o(4495),Fz=o(1775),Uz=o(5061),jz=o(1746),Vz=o(7780),Hz=(bn.div.withConfig({displayName:"Styledtwin__Wrapper",componentId:"sc-1xtz35u-0"})(["margin:0 auto 0 auto;max-width:1000px;display:flex;flex-direction:column;padding:0 5px 0 5px;",";"],{marginTop:"0.5rem","@media (min-width: 768px)":{marginTop:"0px"}}),bn.div.withConfig({displayName:"Styledtwin__ButtonWrapper",componentId:"sc-1xtz35u-1"})([""]),bn.div.withConfig({displayName:"Styledtwin__HeaderWrapper",componentId:"sc-1xtz35u-2"})(["display:flex;flex-direction:row;justify-content:space-between;"]),bn(Ep).withConfig({displayName:"Styledtwin__ContentWrapper",componentId:"sc-1xtz35u-3"})(["margin:20px 0 0 0;padding:20px 12px;position:relative;background-color:white;text-align:center;gap:10px;&::-webkit-scrollbar{display:none;}"]));function Gz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wz(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qz(){var t=Gz((0,e.useState)(!1),2),n=t[0],r=t[1],i=Gz((0,e.useState)(!1),2),a=i[0],o=i[1],s=Gz((0,e.useState)(!1),2),l=s[0],c=s[1],u=Gz((0,e.useState)(!1),2),h=u[0],d=u[1],f=Gz((0,e.useState)(!1),2),p=f[0],m=f[1],g=Gz((0,e.useState)(!1),2),v=g[0],y=g[1];return e.createElement(Xz,null,e.createElement(Dh,null,"SwitchButtonX"),e.createElement(Yz,null,e.createElement(hy,{size:"tiny",duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:n,onChange:function(e){return r(e)}}),e.createElement(Qz,null),e.createElement(hy,{size:"tiny",duration:"300ms",isOn:n,onChange:function(e){return r(e)}}),e.createElement(Kz,null),e.createElement(hy,{size:"tiny",duration:"300ms",disabled:!0,isOn:n,onChange:function(e){return r(e)}}),e.createElement(Zz,null),e.createElement(hy,{size:"tiny",duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:n,onChange:function(e){return r(e)}})),e.createElement(Jz,null,e.createElement(hy,{size:"small",duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:n,onChange:function(e){return r(e)}}),e.createElement($z,null),e.createElement(hy,{size:"small",duration:"300ms",isOn:n,onChange:function(e){return r(e)}}),e.createElement(eB,null),e.createElement(hy,{size:"small",duration:"300ms",disabled:!0,isOn:n,onChange:function(e){return r(e)}}),e.createElement(tB,null),e.createElement(hy,{size:"small",duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:n,onChange:function(e){return r(e)}})),e.createElement(nB,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:n,onChange:function(e){return r(e)}}),e.createElement(rB,null),e.createElement(hy,{duration:"300ms",isOn:n,onChange:function(e){return r(e)}}),e.createElement(iB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:n,onChange:function(e){return r(e)}}),e.createElement(aB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:n,onChange:function(e){return r(e)}})),e.createElement(oB,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Iz.W3}),rightBackgroundIcon:e.createElement(xo,{icon:Vz.W3})}),e.createElement(sB,null),e.createElement(hy,{duration:"300ms",isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Iz.W3}),rightBackgroundIcon:e.createElement(xo,{icon:Vz.W3})}),e.createElement(lB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Iz.W3}),rightBackgroundIcon:e.createElement(xo,{icon:Vz.W3})}),e.createElement(cB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Iz.W3}),rightBackgroundIcon:e.createElement(xo,{icon:Vz.W3})})),e.createElement(uB,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Oz.di}),rightBackgroundIcon:e.createElement(xo,{icon:jz.di})}),e.createElement(hB,null),e.createElement(hy,{duration:"300ms",isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Oz.di}),rightBackgroundIcon:e.createElement(xo,{icon:jz.di})}),e.createElement(dB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Oz.di}),rightBackgroundIcon:e.createElement(xo,{icon:jz.di})}),e.createElement(fB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Oz.di}),rightBackgroundIcon:e.createElement(xo,{icon:jz.di})})),e.createElement(pB,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Th.m6}),rightBackgroundIcon:e.createElement(xo,{icon:Uz.m6})}),e.createElement(mB,null),e.createElement(hy,{duration:"300ms",isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Th.m6}),rightBackgroundIcon:e.createElement(xo,{icon:Uz.m6})}),e.createElement(gB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Th.m6}),rightBackgroundIcon:e.createElement(xo,{icon:Uz.m6})}),e.createElement(vB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:a,onChange:function(e){return o(e)},leftBackgroundIcon:e.createElement(xo,{icon:Th.m6}),rightBackgroundIcon:e.createElement(xo,{icon:Uz.m6})})),e.createElement(yB,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:Ng.DB}),rightBackgroundIcon:e.createElement(xo,{icon:Lg.en})}),e.createElement(wB,null),e.createElement(hy,{duration:"300ms",isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:Ng.DB}),rightBackgroundIcon:e.createElement(xo,{icon:Lg.en})}),e.createElement(bB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:Ng.DB}),rightBackgroundIcon:e.createElement(xo,{icon:Lg.en})}),e.createElement(xB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:Ng.DB}),rightBackgroundIcon:e.createElement(xo,{icon:Lg.en})})),e.createElement(_B,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:kz.fV}),rightBackgroundIcon:e.createElement(xo,{icon:Fz.fV})}),e.createElement(SB,null),e.createElement(hy,{duration:"300ms",isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:kz.fV}),rightBackgroundIcon:e.createElement(xo,{icon:Fz.fV})}),e.createElement(EB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:kz.fV}),rightBackgroundIcon:e.createElement(xo,{icon:Fz.fV})}),e.createElement(CB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:kz.fV}),rightBackgroundIcon:e.createElement(xo,{icon:Fz.fV})})),e.createElement(AB,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:Dz.Rr}),rightBackgroundIcon:e.createElement(xo,{icon:Bz.Rr})}),e.createElement(TB,null),e.createElement(hy,{duration:"300ms",isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:Dz.Rr}),rightBackgroundIcon:e.createElement(xo,{icon:Bz.Rr})}),e.createElement(MB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:Dz.Rr}),rightBackgroundIcon:e.createElement(xo,{icon:Bz.Rr})}),e.createElement(PB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:l,onChange:function(e){return c(e)},leftBackgroundIcon:e.createElement(xo,{icon:Dz.Rr}),rightBackgroundIcon:e.createElement(xo,{icon:Bz.Rr})})),e.createElement(DB,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:ww.u8}),rightBackgroundIcon:e.createElement(xo,{icon:zz.u8})}),e.createElement(kB,null),e.createElement(hy,{duration:"300ms",isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:ww.u8}),rightBackgroundIcon:e.createElement(xo,{icon:zz.u8})}),e.createElement(OB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:ww.u8}),rightBackgroundIcon:e.createElement(xo,{icon:zz.u8})}),e.createElement(IB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:ww.u8}),rightBackgroundIcon:e.createElement(xo,{icon:zz.u8})})),e.createElement(RB,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:Pz.Dh}),rightBackgroundIcon:e.createElement(xo,{icon:Pz.Dh,rotation:180})}),e.createElement(LB,null),e.createElement(hy,{duration:"300ms",isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:Pz.Dh}),rightBackgroundIcon:e.createElement(xo,{icon:Pz.Dh,rotation:180})}),e.createElement(NB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:Pz.Dh}),rightBackgroundIcon:e.createElement(xo,{icon:Pz.Dh,rotation:180})}),e.createElement(zB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:Pz.Dh}),rightBackgroundIcon:e.createElement(xo,{icon:Pz.Dh,rotation:180})})),e.createElement(BB,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:Mz.qm}),rightBackgroundIcon:e.createElement(xo,{icon:Nz.qm})}),e.createElement(FB,null),e.createElement(hy,{duration:"300ms",isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:Mz.qm}),rightBackgroundIcon:e.createElement(xo,{icon:Nz.qm})}),e.createElement(UB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:Mz.qm}),rightBackgroundIcon:e.createElement(xo,{icon:Nz.qm})}),e.createElement(jB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:h,onChange:function(e){return d(e)},leftBackgroundIcon:e.createElement(xo,{icon:Mz.qm}),rightBackgroundIcon:e.createElement(xo,{icon:Nz.qm})})),e.createElement(VB,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:p,onChange:function(e){return m(e)},leftBackgroundIcon:e.createElement(xo,{icon:Tz.T}),rightBackgroundIcon:e.createElement(xo,{icon:Lz.T})}),e.createElement(HB,null),e.createElement(hy,{duration:"300ms",isOn:p,onChange:function(e){return m(e)},leftBackgroundIcon:e.createElement(xo,{icon:Tz.T}),rightBackgroundIcon:e.createElement(xo,{icon:Lz.T})}),e.createElement(GB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:p,onChange:function(e){return m(e)},leftBackgroundIcon:e.createElement(xo,{icon:Tz.T}),rightBackgroundIcon:e.createElement(xo,{icon:Lz.T})}),e.createElement(WB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:p,onChange:function(e){return m(e)},leftBackgroundIcon:e.createElement(xo,{icon:Tz.T}),rightBackgroundIcon:e.createElement(xo,{icon:Lz.T})})),e.createElement(qB,null,e.createElement(hy,{duration:"300ms",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:p,onChange:function(e){return m(e)},leftBackgroundIcon:e.createElement(xo,{icon:Az.pk}),rightBackgroundIcon:e.createElement(xo,{icon:Rz.pk})}),e.createElement(XB,null),e.createElement(hy,{duration:"300ms",isOn:p,onChange:function(e){return m(e)},leftBackgroundIcon:e.createElement(xo,{icon:Az.pk}),rightBackgroundIcon:e.createElement(xo,{icon:Rz.pk})}),e.createElement(YB,null),e.createElement(hy,{duration:"300ms",disabled:!0,isOn:p,onChange:function(e){return m(e)},leftBackgroundIcon:e.createElement(xo,{icon:Az.pk}),rightBackgroundIcon:e.createElement(xo,{icon:Rz.pk})}),e.createElement(QB,null),e.createElement(hy,{duration:"300ms",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:p,onChange:function(e){return m(e)},leftBackgroundIcon:e.createElement(xo,{icon:Az.pk}),rightBackgroundIcon:e.createElement(xo,{icon:Rz.pk})})),e.createElement(KB,null,e.createElement(hy,{duration:"300ms",onColor:"pink",offColor:"orange",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:p,onChange:function(e){return m(e)}}),e.createElement(ZB,null),e.createElement(hy,{duration:"300ms",onColor:"pink",offColor:"orange",isOn:p,onChange:function(e){return m(e)}}),e.createElement(JB,null),e.createElement(hy,{duration:"300ms",onColor:"pink",offColor:"orange",disabled:!0,isOn:p,onChange:function(e){return m(e)}}),e.createElement($B,null),e.createElement(hy,{duration:"300ms",onColor:"pink",offColor:"orange",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:p,onChange:function(e){return m(e)}})),e.createElement(eF,null,e.createElement(hy,{duration:"300ms",onColor:"green",offColor:"red",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:v,onChange:function(e){return y(e)}}),e.createElement(tF,null),e.createElement(hy,{duration:"300ms",onColor:"green",offColor:"red",isOn:v,onChange:function(e){return y(e)}}),e.createElement(nF,null),e.createElement(hy,{duration:"300ms",onColor:"green",offColor:"red",disabled:!0,isOn:v,onChange:function(e){return y(e)}}),e.createElement(rF,null),e.createElement(hy,{duration:"300ms",onColor:"green",offColor:"red",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:v,onChange:function(e){return y(e)}})),e.createElement(iF,null,e.createElement(hy,{size:"large",duration:"300ms",onColor:"green",offColor:"red",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:v,onChange:function(e){return y(e)}}),e.createElement(aF,null),e.createElement(hy,{size:"large",duration:"300ms",onColor:"green",offColor:"red",isOn:v,onChange:function(e){return y(e)}}),e.createElement(oF,null),e.createElement(hy,{size:"large",duration:"300ms",onColor:"green",offColor:"red",disabled:!0,isOn:v,onChange:function(e){return y(e)}}),e.createElement(sF,null),e.createElement(hy,{size:"large",duration:"300ms",onColor:"green",offColor:"red",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:v,onChange:function(e){return y(e)}})),e.createElement(lF,null,e.createElement(hy,{size:"huge",duration:"300ms",onColor:"green",offColor:"red",onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:v,onChange:function(e){return y(e)}}),e.createElement(cF,null),e.createElement(hy,{size:"huge",duration:"300ms",onColor:"green",offColor:"red",isOn:v,onChange:function(e){return y(e)}}),e.createElement(uF,null),e.createElement(hy,{size:"huge",duration:"300ms",onColor:"green",offColor:"red",disabled:!0,isOn:v,onChange:function(e){return y(e)}}),e.createElement(hF,null),e.createElement(hy,{size:"huge",duration:"300ms",onColor:"green",offColor:"red",loading:!0,onIcon:e.createElement(xo,{icon:Cz.LE}),offIcon:e.createElement(xo,{icon:Cn.g8}),isOn:v,onChange:function(e){return y(e)}})))}bn.div.withConfig({displayName:"Styledtwin__LineWrapper",componentId:"sc-1xtz35u-4"})(["display:flex;flex-direction:row;justify-content:space-around;gap:18px;flex-grow:1;flex-shrink:1;min-width:60%;&>*{margin-left:auto;margin-right:auto;}"]);var Xz=bn(Hz).withConfig({displayName:"CompDisplay___StyledContentWrapper",componentId:"sc-pr3ism-0"})({gridColumn:"span 4 / span 4",height:"fit-content",overflow:"hidden"}),Yz=bn("div").withConfig({displayName:"CompDisplay___StyledDiv",componentId:"sc-pr3ism-1"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),Qz=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap",componentId:"sc-pr3ism-2"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),Kz=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap2",componentId:"sc-pr3ism-3"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),Zz=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap3",componentId:"sc-pr3ism-4"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),Jz=bn("div").withConfig({displayName:"CompDisplay___StyledDiv2",componentId:"sc-pr3ism-5"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),$z=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap4",componentId:"sc-pr3ism-6"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),eB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap5",componentId:"sc-pr3ism-7"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),tB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap6",componentId:"sc-pr3ism-8"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),nB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv3",componentId:"sc-pr3ism-9"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),rB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap7",componentId:"sc-pr3ism-10"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),iB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap8",componentId:"sc-pr3ism-11"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),aB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap9",componentId:"sc-pr3ism-12"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),oB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv4",componentId:"sc-pr3ism-13"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),sB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap10",componentId:"sc-pr3ism-14"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),lB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap11",componentId:"sc-pr3ism-15"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),cB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap12",componentId:"sc-pr3ism-16"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),uB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv5",componentId:"sc-pr3ism-17"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),hB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap13",componentId:"sc-pr3ism-18"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),dB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap14",componentId:"sc-pr3ism-19"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),fB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap15",componentId:"sc-pr3ism-20"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),pB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv6",componentId:"sc-pr3ism-21"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),mB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap16",componentId:"sc-pr3ism-22"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),gB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap17",componentId:"sc-pr3ism-23"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),vB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap18",componentId:"sc-pr3ism-24"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),yB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv7",componentId:"sc-pr3ism-25"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),wB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap19",componentId:"sc-pr3ism-26"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),bB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap20",componentId:"sc-pr3ism-27"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),xB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap21",componentId:"sc-pr3ism-28"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),_B=bn("div").withConfig({displayName:"CompDisplay___StyledDiv8",componentId:"sc-pr3ism-29"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),SB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap22",componentId:"sc-pr3ism-30"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),EB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap23",componentId:"sc-pr3ism-31"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),CB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap24",componentId:"sc-pr3ism-32"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),AB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv9",componentId:"sc-pr3ism-33"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),TB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap25",componentId:"sc-pr3ism-34"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),MB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap26",componentId:"sc-pr3ism-35"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),PB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap27",componentId:"sc-pr3ism-36"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),DB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv10",componentId:"sc-pr3ism-37"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),kB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap28",componentId:"sc-pr3ism-38"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),OB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap29",componentId:"sc-pr3ism-39"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),IB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap30",componentId:"sc-pr3ism-40"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),RB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv11",componentId:"sc-pr3ism-41"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),LB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap31",componentId:"sc-pr3ism-42"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),NB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap32",componentId:"sc-pr3ism-43"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),zB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap33",componentId:"sc-pr3ism-44"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),BB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv12",componentId:"sc-pr3ism-45"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),FB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap34",componentId:"sc-pr3ism-46"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),UB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap35",componentId:"sc-pr3ism-47"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),jB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap36",componentId:"sc-pr3ism-48"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),VB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv13",componentId:"sc-pr3ism-49"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),HB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap37",componentId:"sc-pr3ism-50"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),GB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap38",componentId:"sc-pr3ism-51"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),WB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap39",componentId:"sc-pr3ism-52"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),qB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv14",componentId:"sc-pr3ism-53"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),XB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap40",componentId:"sc-pr3ism-54"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),YB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap41",componentId:"sc-pr3ism-55"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),QB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap42",componentId:"sc-pr3ism-56"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),KB=bn("div").withConfig({displayName:"CompDisplay___StyledDiv15",componentId:"sc-pr3ism-57"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),ZB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap43",componentId:"sc-pr3ism-58"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),JB=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap44",componentId:"sc-pr3ism-59"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),$B=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap45",componentId:"sc-pr3ism-60"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),eF=bn("div").withConfig({displayName:"CompDisplay___StyledDiv16",componentId:"sc-pr3ism-61"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),tF=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap46",componentId:"sc-pr3ism-62"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),nF=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap47",componentId:"sc-pr3ism-63"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),rF=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap48",componentId:"sc-pr3ism-64"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),iF=bn("div").withConfig({displayName:"CompDisplay___StyledDiv17",componentId:"sc-pr3ism-65"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),aF=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap49",componentId:"sc-pr3ism-66"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),oF=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap50",componentId:"sc-pr3ism-67"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),sF=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap51",componentId:"sc-pr3ism-68"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),lF=bn("div").withConfig({displayName:"CompDisplay___StyledDiv18",componentId:"sc-pr3ism-69"})({gridColumn:"span 4 / span 4",marginLeft:"1rem",marginRight:"1rem",display:"flex",height:"3rem",width:"100%",alignItems:"center",justifyContent:"space-between",overflowX:"auto",transitionDuration:"300ms","@media (min-width: 768px)":{marginLeft:"4rem",marginRight:"4rem",paddingLeft:"4rem",paddingRight:"4rem"}}),cF=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap52",componentId:"sc-pr3ism-70"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),uF=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap53",componentId:"sc-pr3ism-71"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"}),hF=bn(Lh).withConfig({displayName:"CompDisplay___StyledGap54",componentId:"sc-pr3ism-72"})({visibility:"hidden",display:"none",width:"2.5rem",flexGrow:"0"});function dF(){var t,n=pe(),r=ge(),i={CompDisplay:e.createElement(qz,null)};return e.createElement(In,null,(t=r.resourceId,i[t]||"/resources"===n.pathname?e.createElement(Ch,null):""),e.createElement(Rn,null,e.createElement(Nn,null),function(t){return i[t]||Qv("未找到该资源！","error_notFindResourcePage"),e.createElement(Ln,null,i[t]?i[t]:e.createElement(Pb,null))}(r.resourceId),e.createElement(zn,null)),e.createElement(up,null))}var fF=o(8099),pF=Object.create,mF=Object.defineProperty,gF=Object.getOwnPropertyDescriptor,vF=Object.getOwnPropertyNames,yF=Object.getPrototypeOf,wF=Object.prototype.hasOwnProperty,bF=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),xF=(e,t,n)=>(n=null!=e?pF(yF(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of vF(t))!wF.call(e,n)&&undefined!==n&&mF(e,n,{get:()=>t[n],enumerable:!(r=gF(t,n))||r.enumerable});return e})(!t&&e&&e.__esModule?n:mF(n,"default",{value:e,enumerable:!0}),e)),_F=(e,t,n)=>(((e,t,n)=>{t in e?mF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),SF=bF(((e,t)=>{!function(n,r){"object"==typeof e?t.exports=r():"function"==typeof define&&define.amd?define(r):n.Alea=r()}(e,(function(){return e.importState=function(t){var n=new e;return n.importState(t),n},e;function e(){return function(e){var t=0,n=0,r=0,i=1;0==e.length&&(e=[+new Date]);var a=function(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}();t=a(" "),n=a(" "),r=a(" ");for(var o=0;o<e.length;o++)(t-=a(e[o]))<0&&(t+=1),(n-=a(e[o]))<0&&(n+=1),(r-=a(e[o]))<0&&(r+=1);a=null;var s=function(){var e=2091639*t+2.3283064365386963e-10*i;return t=n,n=r,r=e-(i=0|e)};return s.next=s,s.uint32=function(){return 4294967296*s()},s.fract53=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.version="Alea 0.9",s.args=e,s.exportState=function(){return[t,n,r,i]},s.importState=function(e){t=+e[0]||0,n=+e[1]||0,r=+e[2]||0,i=+e[3]||0},s}(Array.prototype.slice.call(arguments))}}))})),EF=bF(((e,t)=>{!function(n,r){"object"==typeof e&&typeof t<"u"?r(e):"function"==typeof define&&define.amd?define(["exports"],r):r((n=typeof globalThis<"u"?globalThis:n||self).SVDJS={})}(e,(function(e){e.SVD=function(e,t,n,r,i){if(t=void 0===t||t,n=void 0===n||n,i=1e-64/(r=r||Math.pow(2,-52)),!e)throw new TypeError("Matrix a is not defined");var a,o,s,l,c,u,h,d,f,p,m,g,v=e[0].length,y=e.length;if(y<v)throw new TypeError("Invalid matrix: m < n");for(var w=[],b=[],x=[],_="f"===t?y:v,S=p=h=0;S<y;S++)b[S]=new Array(_).fill(0);for(S=0;S<v;S++)x[S]=new Array(v).fill(0);var E,C=new Array(v).fill(0);for(S=0;S<y;S++)for(a=0;a<v;a++)b[S][a]=e[S][a];for(S=0;S<v;S++){for(w[S]=h,f=0,s=S+1,a=S;a<y;a++)f+=Math.pow(b[a][S],2);if(f<i)h=0;else for(d=(u=b[S][S])*(h=u<0?Math.sqrt(f):-Math.sqrt(f))-f,b[S][S]=u-h,a=s;a<v;a++){for(f=0,o=S;o<y;o++)f+=b[o][S]*b[o][a];for(u=f/d,o=S;o<y;o++)b[o][a]=b[o][a]+u*b[o][S]}for(C[S]=h,f=0,a=s;a<v;a++)f+=Math.pow(b[S][a],2);if(f<i)h=0;else{for(d=(u=b[S][S+1])*(h=u<0?Math.sqrt(f):-Math.sqrt(f))-f,b[S][S+1]=u-h,a=s;a<v;a++)w[a]=b[S][a]/d;for(a=s;a<y;a++){for(f=0,o=s;o<v;o++)f+=b[a][o]*b[S][o];for(o=s;o<v;o++)b[a][o]=b[a][o]+f*w[o]}}p<(m=Math.abs(C[S])+Math.abs(w[S]))&&(p=m)}if(n)for(S=v-1;0<=S;S--){if(0!==h){for(d=b[S][S+1]*h,a=s;a<v;a++)x[a][S]=b[S][a]/d;for(a=s;a<v;a++){for(f=0,o=s;o<v;o++)f+=b[S][o]*x[o][a];for(o=s;o<v;o++)x[o][a]=x[o][a]+f*x[o][S]}}for(a=s;a<v;a++)x[S][a]=0,x[a][S]=0;x[S][S]=1,h=w[S],s=S}if(t){if("f"===t)for(S=v;S<y;S++){for(a=v;a<y;a++)b[S][a]=0;b[S][S]=1}for(S=v-1;0<=S;S--){for(s=S+1,h=C[S],a=s;a<_;a++)b[S][a]=0;if(0!==h){for(d=b[S][S]*h,a=s;a<_;a++){for(f=0,o=s;o<y;o++)f+=b[o][S]*b[o][a];for(u=f/d,o=S;o<y;o++)b[o][a]=b[o][a]+u*b[o][S]}for(a=S;a<y;a++)b[a][S]=b[a][S]/h}else for(a=S;a<y;a++)b[a][S]=0;b[S][S]=b[S][S]+1}}for(r*=p,o=v-1;0<=o;o--)for(var A=0;A<50;A++){for(E=!1,s=o;0<=s;s--){if(Math.abs(w[s])<=r){E=!0;break}if(Math.abs(C[s-1])<=r)break}if(!E)for(c=0,l=s-(f=1),S=s;S<o+1&&(u=f*w[S],w[S]=c*w[S],!(Math.abs(u)<=r));S++)if(h=C[S],C[S]=Math.sqrt(u*u+h*h),c=h/(d=C[S]),f=-u/d,t)for(a=0;a<y;a++)m=b[a][l],g=b[a][S],b[a][l]=m*c+g*f,b[a][S]=-m*f+g*c;if(g=C[o],s===o){if(g<0&&(C[o]=-g,n))for(a=0;a<v;a++)x[a][o]=-x[a][o];break}for(p=C[s],u=(((m=C[o-1])-g)*(m+g)+((h=w[o-1])-(d=w[o]))*(h+d))/(2*d*m),h=Math.sqrt(u*u+1),u=((p-g)*(p+g)+d*(m/(u<0?u-h:u+h)-d))/p,S=s+(f=c=1);S<o+1;S++){if(h=w[S],m=C[S],d=f*h,h*=c,g=Math.sqrt(u*u+d*d),u=p*(c=u/(w[S-1]=g))+h*(f=d/g),h=-p*f+h*c,d=m*f,m*=c,n)for(a=0;a<v;a++)p=x[a][S-1],g=x[a][S],x[a][S-1]=p*c+g*f,x[a][S]=-p*f+g*c;if(g=Math.sqrt(u*u+d*d),u=(c=u/(C[S-1]=g))*h+(f=d/g)*m,p=-f*h+c*m,t)for(a=0;a<y;a++)m=b[a][S-1],g=b[a][S],b[a][S-1]=m*c+g*f,b[a][S]=-m*f+g*c}w[s]=0,w[o]=u,C[o]=p}for(S=0;S<v;S++)C[S]<r&&(C[S]=0);return{u:b,q:C,v:x}},e.VERSION="1.1.1",Object.defineProperty(e,"__esModule",{value:!0})}))})),CF=bF(((e,t)=>{!function(n,r){"object"==typeof e&&typeof t<"u"?t.exports=r():"function"==typeof define&&define.amd?define(r):(n=n||self).TinyQueue=r()}(e,(function(){var e=function(e,n){if(void 0===e&&(e=[]),void 0===n&&(n=t),this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function t(e,t){return e<t?-1:e>t?1:0}return e.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},e.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},e.prototype.peek=function(){return this.data[0]},e.prototype._up=function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,a=t[i];if(n(r,a)>=0)break;t[e]=a,e=i}t[e]=r},e.prototype._down=function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var a=1+(e<<1),o=t[a],s=a+1;if(s<this.length&&n(t[s],o)<0&&(a=s,o=t[s]),n(o,i)>=0)break;t[e]=o,e=a}t[e]=i},e}))})),AF=bF(((e,t)=>{var n=CF();function r(e,t,r){t=t||1;for(var o,s,l,c,u=0;u<e[0].length;u++){var h=e[0][u];(!u||h[0]<o)&&(o=h[0]),(!u||h[1]<s)&&(s=h[1]),(!u||h[0]>l)&&(l=h[0]),(!u||h[1]>c)&&(c=h[1])}var d=l-o,f=c-s,p=Math.min(d,f),m=p/2;if(0===p){var g=[o,s];return g.distance=0,g}for(var v=new n(void 0,i),y=o;y<l;y+=p)for(var w=s;w<c;w+=p)v.push(new a(y+m,w+m,m,e));var b=function(e){for(var t=0,n=0,r=0,i=e[0],o=0,s=i.length,l=s-1;o<s;l=o++){var c=i[o],u=i[l],h=c[0]*u[1]-u[0]*c[1];n+=(c[0]+u[0])*h,r+=(c[1]+u[1])*h,t+=3*h}return 0===t?new a(i[0][0],i[0][1],0,e):new a(n/t,r/t,0,e)}(e),x=new a(o+d/2,s+f/2,0,e);x.d>b.d&&(b=x);for(var _=v.length;v.length;){var S=v.pop();S.d>b.d&&(b=S,r&&console.log("found best %d after %d probes",Math.round(1e4*S.d)/1e4,_)),!(S.max-b.d<=t)&&(m=S.h/2,v.push(new a(S.x-m,S.y-m,m,e)),v.push(new a(S.x+m,S.y-m,m,e)),v.push(new a(S.x-m,S.y+m,m,e)),v.push(new a(S.x+m,S.y+m,m,e)),_+=4)}r&&(console.log("num probes: "+_),console.log("best distance: "+b.d));var E=[b.x,b.y];return E.distance=b.d,E}function i(e,t){return t.max-e.max}function a(e,t,n,r){this.x=e,this.y=t,this.h=n,this.d=function(e,t,n){for(var r=!1,i=1/0,a=0;a<n.length;a++)for(var s=n[a],l=0,c=s.length,u=c-1;l<c;u=l++){var h=s[l],d=s[u];h[1]>t!=d[1]>t&&e<(d[0]-h[0])*(t-h[1])/(d[1]-h[1])+h[0]&&(r=!r),i=Math.min(i,o(e,t,h,d))}return 0===i?0:(r?1:-1)*Math.sqrt(i)}(e,t,r),this.max=this.d+this.h*Math.SQRT2}function o(e,t,n,r){var i=n[0],a=n[1],o=r[0]-i,s=r[1]-a;if(0!==o||0!==s){var l=((e-i)*o+(t-a)*s)/(o*o+s*s);l>1?(i=r[0],a=r[1]):l>0&&(i+=o*l,a+=s*l)}return(o=e-i)*o+(s=t-a)*s}n.default&&(n=n.default),t.exports=r,t.exports.default=r})),TF=bF(((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)},t.exports=e.default})),MF=bF(((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()},t.exports=e.default})),PF=bF((e=>{!function(){var t=function(){this.init()};t.prototype={init:function(){var e=this||n;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||n;if(e=parseFloat(e),t.ctx||u(),typeof e<"u"&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var i=t._howls[r]._getSoundIds(),a=0;a<i.length;a++){var o=t._howls[r]._soundById(i[a]);o&&o._node&&(o._node.volume=o._volume*e)}return t}return t._volume},mute:function(e){var t=this||n;t.ctx||u(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,n.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var i=t._howls[r]._getSoundIds(),a=0;a<i.length;a++){var o=t._howls[r]._soundById(i[a]);o&&o._node&&(o._node.muted=!!e||o._muted)}return t},stop:function(){for(var e=this||n,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||n,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,u()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||n;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{typeof(new Audio).oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,t=null;try{t=typeof Audio<"u"?new Audio:null}catch{return e}if(!t||"function"!=typeof t.canPlayType)return e;var r=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator?e._navigator.userAgent:"",a=i.match(/OPR\/([0-6].)/g),o=a&&parseInt(a[0].split("/")[1],10)<33,s=-1!==i.indexOf("Safari")&&-1===i.indexOf("Chrome"),l=i.match(/Version\/(.*?) /),c=s&&l&&parseInt(l[1],10)<15;return e._codecs={mp3:!(o||!r&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||n;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&44100!==e.ctx.sampleRate&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch{e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var a=e._howls[i]._getSoundIds(),o=0;o<a.length;o++){var s=e._howls[i]._soundById(a[o]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),typeof l.start>"u"?l.noteOn(0):l.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||n;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&typeof Promise<"u"&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||n;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&!(typeof e.ctx.suspend>"u")&&n.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var r=0;r<e._howls[t]._sounds.length;r++)if(!e._howls[t]._sounds[r]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&!(typeof e.ctx.resume>"u")&&n.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new t,r=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};r.prototype={init:function(e){var t=this;return n.ctx||u(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=n.usingWebAudio&&!t._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(n.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var a,s;if(e._format&&e._format[r])a=e._format[r];else{if("string"!=typeof(s=e._src[r])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(a=/^data:audio\/([^;,]+);/i.exec(s))||(a=/\.([^.]+)$/.exec(s.split("?",1)[0])),a&&(a=a[1].toLowerCase())}if(a||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),a&&n.codecs(a)){t=e._src[r];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&o(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var r=this,i=null;if("number"==typeof e)i=e,e=null;else{if("string"==typeof e&&"loaded"===r._state&&!r._sprite[e])return null;if(typeof e>"u"&&(e="__default",!r._playLock)){for(var a=0,o=0;o<r._sounds.length;o++)r._sounds[o]._paused&&!r._sounds[o]._ended&&(a++,i=r._sounds[o]._id);1===a?e=null:i=null}}var s=i?r._soundById(i):r._inactiveSound();if(!s)return null;if(i&&!e&&(e=s._sprite||"__default"),"loaded"!==r._state){s._sprite=e,s._ended=!1;var l=s._id;return r._queue.push({event:"play",action:function(){r.play(l)}}),l}if(i&&!s._paused)return t||r._loadQueue("play"),s._id;r._webAudio&&n._autoResume();var c=Math.max(0,s._seek>0?s._seek:r._sprite[e][0]/1e3),u=Math.max(0,(r._sprite[e][0]+r._sprite[e][1])/1e3-c),h=1e3*u/Math.abs(s._rate),d=r._sprite[e][0]/1e3,f=(r._sprite[e][0]+r._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var p=function(){s._paused=!1,s._seek=c,s._start=d,s._stop=f,s._loop=!(!s._loop&&!r._sprite[e][2])};if(!(c>=f)){var m=s._node;if(r._webAudio){var g=function(){r._playLock=!1,p(),r._refreshBuffer(s);var e=s._muted||r._muted?0:s._volume;m.gain.setValueAtTime(e,n.ctx.currentTime),s._playStart=n.ctx.currentTime,typeof m.bufferSource.start>"u"?s._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,u):s._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,u),h!==1/0&&(r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),h)),t||setTimeout((function(){r._emit("play",s._id),r._loadQueue()}),0)};"running"===n.state&&"interrupted"!==n.ctx.state?g():(r._playLock=!0,r.once("resume",g),r._clearTimer(s._id))}else{var v=function(){m.currentTime=c,m.muted=s._muted||r._muted||n._muted||m.muted,m.volume=s._volume*n.volume(),m.playbackRate=s._rate;try{var i=m.play();if(i&&typeof Promise<"u"&&(i instanceof Promise||"function"==typeof i.then)?(r._playLock=!0,p(),i.then((function(){r._playLock=!1,m._unlocked=!0,t?r._loadQueue():r._emit("play",s._id)})).catch((function(){r._playLock=!1,r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(r._playLock=!1,p(),r._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),h):(r._endTimers[s._id]=function(){r._ended(s),m.removeEventListener("ended",r._endTimers[s._id],!1)},m.addEventListener("ended",r._endTimers[s._id],!1))}catch(e){r._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=r._src,m.load());var y=window&&window.ejecta||!m.readyState&&n._navigator.isCocoonJS;if(m.readyState>=3||y)v();else{r._playLock=!0,r._state="loading";var w=function(){r._state="loaded",v(),m.removeEventListener(n._canPlayEvent,w,!1)};m.addEventListener(n._canPlayEvent,w,!1),r._clearTimer(s._id)}}return s._id}r._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;typeof i._node.bufferSource.stop>"u"?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else(!isNaN(i._node.duration)||i._node.duration===1/0)&&i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var a=n._soundById(r[i]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(r[i]),a._node&&(n._webAudio?a._node.bufferSource&&(typeof a._node.bufferSource.stop>"u"?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):(!isNaN(a._node.duration)||a._node.duration===1/0)&&(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&n._clearSound(a._node))),t||n._emit("stop",a._id))}return n},mute:function(e,t){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(e,t)}}),r;if(typeof t>"u"){if("boolean"!=typeof e)return r._muted;r._muted=e}for(var i=r._getSoundIds(t),a=0;a<i.length;a++){var o=r._soundById(i[a]);o&&(o._muted=e,o._interval&&r._stopFade(o._id),r._webAudio&&o._node?o._node.gain.setValueAtTime(e?0:o._volume,n.ctx.currentTime):o._node&&(o._node.muted=!!n._muted||e),r._emit("mute",o._id))}return r},volume:function(){var e,t,r,i=this,a=arguments;if(0===a.length)return i._volume;if(1===a.length||2===a.length&&typeof a[1]>"u"?i._getSoundIds().indexOf(a[0])>=0?t=parseInt(a[0],10):e=parseFloat(a[0]):a.length>=2&&(e=parseFloat(a[0]),t=parseInt(a[1],10)),!(typeof e<"u"&&e>=0&&e<=1))return(r=t?i._soundById(t):i._sounds[0])?r._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,a)}}),i;typeof t>"u"&&(i._volume=e),t=i._getSoundIds(t);for(var o=0;o<t.length;o++)(r=i._soundById(t[o]))&&(r._volume=e,a[2]||i._stopFade(t[o]),i._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(e,n.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=e*n.volume()),i._emit("volume",r._id));return i},fade:function(e,t,r,i){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,t,r,i)}}),a;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),r=parseFloat(r),a.volume(e,i);for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var l=a._soundById(o[s]);if(l){if(i||a._stopFade(o[s]),a._webAudio&&!l._muted){var c=n.ctx.currentTime,u=c+r/1e3;l._volume=e,l._node.gain.setValueAtTime(e,c),l._node.gain.linearRampToValueAtTime(t,u)}a._startFadeInterval(l,e,t,r,o[s],typeof i>"u")}}return a},_startFadeInterval:function(e,t,n,r,i,a){var o=this,s=t,l=n-t,c=Math.abs(l/.01),u=Math.max(4,c>0?r/c:r),h=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var i=(Date.now()-h)/r;h=Date.now(),s+=l*i,s=Math.round(100*s)/100,s=l<0?Math.max(n,s):Math.min(n,s),o._webAudio?e._volume=s:o.volume(s,e._id,!0),a&&(o._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,o.volume(n,e._id),o._emit("fade",e._id))}),u)},_stopFade:function(e){var t=this,r=t._soundById(e);return r&&r._interval&&(t._webAudio&&r._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(r._interval),r._interval=null,t.volume(r._fadeTo,e),r._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],r._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var a=r._getSoundIds(t),o=0;o<a.length;o++)(n=r._soundById(a[o]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(a[o])&&(r.pause(a[o],!0),r.play(a[o],!0)))));return r},rate:function(){var e,t,r,i=this,a=arguments;if(0===a.length?t=i._sounds[0]._id:1===a.length?i._getSoundIds().indexOf(a[0])>=0?t=parseInt(a[0],10):e=parseFloat(a[0]):2===a.length&&(e=parseFloat(a[0]),t=parseInt(a[1],10)),"number"!=typeof e)return(r=i._soundById(t))?r._rate:i._rate;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,a)}}),i;typeof t>"u"&&(i._rate=e),t=i._getSoundIds(t);for(var o=0;o<t.length;o++)if(r=i._soundById(t[o])){i.playing(t[o])&&(r._rateSeek=i.seek(t[o]),r._playStart=i._webAudio?n.ctx.currentTime:r._playStart),r._rate=e,i._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(e,n.ctx.currentTime):r._node&&(r._node.playbackRate=e);var s=i.seek(t[o]),l=1e3*((i._sprite[r._sprite][0]+i._sprite[r._sprite][1])/1e3-s)/Math.abs(r._rate);(i._endTimers[t[o]]||!r._paused)&&(i._clearTimer(t[o]),i._endTimers[t[o]]=setTimeout(i._ended.bind(i,r),l)),i._emit("rate",r._id)}return i},seek:function(){var e,t,r=this,i=arguments;if(0===i.length?r._sounds.length&&(t=r._sounds[0]._id):1===i.length?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):r._sounds.length&&(t=r._sounds[0]._id,e=parseFloat(i[0])):2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),typeof t>"u")return 0;if("number"==typeof e&&("loaded"!==r._state||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,i)}}),r;var a=r._soundById(t);if(a){if(!("number"==typeof e&&e>=0)){if(r._webAudio){var o=r.playing(t)?n.ctx.currentTime-a._playStart:0,s=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(s+o*Math.abs(a._rate))}return a._node.currentTime}var l=r.playing(t);l&&r.pause(t,!0),a._seek=e,a._ended=!1,r._clearTimer(t),!r._webAudio&&a._node&&!isNaN(a._node.duration)&&(a._node.currentTime=e);var c=function(){l&&r.play(t,!0),r._emit("seek",t)};if(l&&!r._webAudio){var u=function(){r._playLock?setTimeout(u,0):c()};setTimeout(u,0)}else c()}return r},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,r=0;r<t.length;r++)t[r]._paused||e.stop(t[r]._id),e._webAudio||(e._clearSound(t[r]._node),t[r]._node.removeEventListener("error",t[r]._errorFn,!1),t[r]._node.removeEventListener(n._canPlayEvent,t[r]._loadFn,!1),t[r]._node.removeEventListener("ended",t[r]._endFn,!1),n._releaseHtml5Audio(t[r]._node)),delete t[r]._node,e._clearTimer(t[r]._id);var i=n._howls.indexOf(e);i>=0&&n._howls.splice(i,1);var o=!0;for(r=0;r<n._howls.length;r++)if(n._howls[r]._src===e._src||e._src.indexOf(n._howls[r]._src)>=0){o=!1;break}return a&&o&&delete a[e._src],n.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this["_on"+e];return"function"==typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,i=r["_on"+e],a=0;if("number"==typeof t&&(n=t,t=null),t||n)for(a=0;a<i.length;a++){var o=n===i[a].id;if(t===i[a].fn&&o||!t&&o){i.splice(a,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(a=0;a<s.length;a++)0===s[a].indexOf("_on")&&Array.isArray(r[s[a]])&&(r[s[a]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,i=r["_on"+e],a=i.length-1;a>=0;a--)(!i[a].id||i[a].id===t||"load"===e)&&(setTimeout(function(e){e.call(this,t,n)}.bind(r,i[a].fn),0),i[a].once&&r.off(e,i[a].fn,i[a].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,r=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var i=!(!e._loop&&!t._sprite[r][2]);if(t._emit("end",e._id),!t._webAudio&&i&&t.stop(e._id,!0).play(e._id),t._webAudio&&i){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),n._autoSuspend()),!t._webAudio&&!i&&t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(typeof e>"u"){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=a[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),this},_cleanBuffer:function(e){var t=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=n._scratchBuffer}catch{}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,r=n._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(r,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):n.noAudio||(e._node=n._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=r*n.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var a={},o=function(e){var t=e._src;if(a[t])return e._duration=a[t].duration,void c(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);l(r.buffer,e)}else{var o=new XMLHttpRequest;o.open(e._xhr.method,t,!0),o.withCredentials=e._xhr.withCredentials,o.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){o.setRequestHeader(t,e._xhr.headers[t])})),o.onload=function(){var t=(o.status+"")[0];"0"===t||"2"===t||"3"===t?l(o.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete a[t],e.load())},s(o)}},s=function(e){try{e.send()}catch{e.onerror()}},l=function(e,t){var r=function(){t._emit("loaderror",null,"Decoding audio data failed.")},i=function(e){e&&t._sounds.length>0?(a[t._src]=e,c(t,e)):r()};typeof Promise<"u"&&1===n.ctx.decodeAudioData.length?n.ctx.decodeAudioData(e).then(i).catch(r):n.ctx.decodeAudioData(e,i,r)},c=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},u=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),t=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=t?parseInt(t[1],10):null;if(e&&r&&r<9){var i=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!i&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};"function"==typeof define&&define.amd&&define([],(function(){return{Howler:n,Howl:r}})),typeof e<"u"&&(e.Howler=n,e.Howl=r),typeof global<"u"?(global.HowlerGlobal=t,global.Howler=n,global.Howl=r,global.Sound=i):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=i)}(),function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],typeof r.ctx.listener.positionX<"u"?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,a){var o=this;if(!o.ctx||!o.ctx.listener)return o;var s=o._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,i="number"!=typeof i?s[4]:i,a="number"!=typeof a?s[5]:a,"number"!=typeof e?s:(o._orientation=[e,t,n,r,i,a],typeof o.ctx.listener.forwardX<"u"?(o.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),o.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),o.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),o.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),o.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),o.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):o.ctx.listener.setOrientation(e,t,n,r,i,a),o)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:typeof t.coneInnerAngle<"u"?t.coneInnerAngle:360,coneOuterAngle:typeof t.coneOuterAngle<"u"?t.coneOuterAngle:360,coneOuterGain:typeof t.coneOuterGain<"u"?t.coneOuterGain:0,distanceModel:typeof t.distanceModel<"u"?t.distanceModel:"inverse",maxDistance:typeof t.maxDistance<"u"?t.maxDistance:1e4,panningModel:typeof t.panningModel<"u"?t.panningModel:"HRTF",refDistance:typeof t.refDistance<"u"?t.refDistance:1,rolloffFactor:typeof t.rolloffFactor<"u"?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u"){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",(!s._panner||!s._panner.pan)&&e(s,i),"spatial"===i?typeof s._panner.positionX<"u"?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(t,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"pos",action:function(){a.pos(t,n,r,i)}}),a;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,typeof i>"u"){if("number"!=typeof t)return a._pos;a._pos=[t,n,r]}for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var l=a._soundById(o[s]);if(l){if("number"!=typeof t)return l._pos;l._pos=[t,n,r],l._node&&((!l._panner||l._panner.pan)&&e(l,"spatial"),typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setPosition(t,n,r)),a._emit("pos",l._id)}}return a},Howl.prototype.orientation=function(t,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"orientation",action:function(){a.orientation(t,n,r,i)}}),a;if(n="number"!=typeof n?a._orientation[1]:n,r="number"!=typeof r?a._orientation[2]:r,typeof i>"u"){if("number"!=typeof t)return a._orientation;a._orientation=[t,n,r]}for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var l=a._soundById(o[s]);if(l){if("number"!=typeof t)return l._orientation;l._orientation=[t,n,r],l._node&&(l._panner||(l._pos||(l._pos=a._pos||[0,0,-.5]),e(l,"spatial")),typeof l._panner.orientationX<"u"?(l._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setOrientation(t,n,r)),a._emit("orientation",l._id)}}return a},Howl.prototype.pannerAttr=function(){var t,n,r,i=this,a=arguments;if(!i._webAudio)return i;if(0===a.length)return i._pannerAttr;if(1===a.length){if("object"!=typeof a[0])return(r=i._soundById(parseInt(a[0],10)))?r._pannerAttr:i._pannerAttr;t=a[0],typeof n>"u"&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),i._pannerAttr={coneInnerAngle:typeof t.pannerAttr.coneInnerAngle<"u"?t.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:typeof t.pannerAttr.coneOuterAngle<"u"?t.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:typeof t.pannerAttr.coneOuterGain<"u"?t.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:typeof t.pannerAttr.distanceModel<"u"?t.pannerAttr.distanceModel:i._distanceModel,maxDistance:typeof t.pannerAttr.maxDistance<"u"?t.pannerAttr.maxDistance:i._maxDistance,refDistance:typeof t.pannerAttr.refDistance<"u"?t.pannerAttr.refDistance:i._refDistance,rolloffFactor:typeof t.pannerAttr.rolloffFactor<"u"?t.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:typeof t.pannerAttr.panningModel<"u"?t.pannerAttr.panningModel:i._panningModel})}else 2===a.length&&(t=a[0],n=parseInt(a[1],10));for(var o=i._getSoundIds(n),s=0;s<o.length;s++)if(r=i._soundById(o[s])){var l=r._pannerAttr;l={coneInnerAngle:typeof t.coneInnerAngle<"u"?t.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:typeof t.coneOuterAngle<"u"?t.coneOuterAngle:l.coneOuterAngle,coneOuterGain:typeof t.coneOuterGain<"u"?t.coneOuterGain:l.coneOuterGain,distanceModel:typeof t.distanceModel<"u"?t.distanceModel:l.distanceModel,maxDistance:typeof t.maxDistance<"u"?t.maxDistance:l.maxDistance,refDistance:typeof t.refDistance<"u"?t.refDistance:l.refDistance,rolloffFactor:typeof t.rolloffFactor<"u"?t.rolloffFactor:l.rolloffFactor,panningModel:typeof t.panningModel<"u"?t.panningModel:l.panningModel};var c=r._panner;c?(c.coneInnerAngle=l.coneInnerAngle,c.coneOuterAngle=l.coneOuterAngle,c.coneOuterGain=l.coneOuterGain,c.distanceModel=l.distanceModel,c.maxDistance=l.maxDistance,c.refDistance=l.refDistance,c.rolloffFactor=l.rolloffFactor,c.panningModel=l.panningModel):(r._pos||(r._pos=i._pos||[0,0,-.5]),e(r,"spatial"))}return i},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var e=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()})),DF=bF(((e,t)=>{t.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}})),kF=bF(((e,t)=>{function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}})),OF=bF(((e,t)=>{var n=DF(),r=kF(),i=typeof Float64Array<"u";function a(e,t){return e[0]-t[0]}function o(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(a);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function s(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var i="generic"===e;if(-1===t){var a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(a)()}if(0===t)return a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",new Function("TrivialArray",a)(l[e][0]);a=["'use strict'"];var s=n(t),c=s.map((function(e){return"i"+e})),u="this.offset+"+s.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),h=s.map((function(e){return"b"+e})).join(","),d=s.map((function(e){return"c"+e})).join(",");a.push("function "+r+"(a,"+h+","+d+",d){this.data=a","this.shape=["+h+"]","this.stride=["+d+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+s.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+r+"_order(){"),2===t?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+c.join(",")+",v){"),i?a.push("return this.data.set("+u+",v)}"):a.push("return this.data["+u+"]=v}"),a.push("proto.get=function "+r+"_get("+c.join(",")+"){"),i?a.push("return this.data.get("+u+")}"):a.push("return this.data["+u+"]}"),a.push("proto.index=function "+r+"_index(",c.join(),"){return "+u+"}"),a.push("proto.hi=function "+r+"_hi("+c.join(",")+"){return new "+r+"(this.data,"+s.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+s.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var f=s.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=s.map((function(e){return"c"+e+"=this.stride["+e+"]"}));a.push("proto.lo=function "+r+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+f.join(",")+","+p.join(","));for(var m=0;m<t;++m)a.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");for(a.push("return new "+r+"(this.data,"+s.map((function(e){return"a"+e})).join(",")+","+s.map((function(e){return"c"+e})).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+c.join(",")+"){var "+s.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+s.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),m=0;m<t;++m)a.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");a.push("return new "+r+"(this.data,"+s.map((function(e){return"a"+e})).join(",")+","+s.map((function(e){return"b"+e})).join(",")+",c)}");var g=new Array(t),v=new Array(t);for(m=0;m<t;++m)g[m]="a[i"+m+"]",v[m]="b[i"+m+"]";for(a.push("proto.transpose=function "+r+"_transpose("+c+"){"+c.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+v.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+c+"){var a=[],b=[],c=this.offset"),m=0;m<t;++m)a.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map((function(e){return"shape["+e+"]"})).join(",")+","+s.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",a.join("\n"))(l[e],o)}var l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(e,t,n,a){if(void 0===e)return(0,l.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var o=t.length;if(void 0===n){n=new Array(o);for(var c=o-1,u=1;c>=0;--c)n[c]=u,u*=t[c]}if(void 0===a)for(a=0,c=0;c<o;++c)n[c]<0&&(a-=(t[c]-1)*n[c]);for(var h=function(e){if(r(e))return"buffer";if(i)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}(e),d=l[h];d.length<=o+1;)d.push(s(h,d.length-1));return(0,d[o+1])(e,t,n,a)}})),IF=bF(((e,t)=>{t.exports=function(e,t,n){return 0===e.length?e:t?(n||e.sort(t),function(e,t){for(var n=1,r=e.length,i=e[0],a=e[0],o=1;o<r;++o)if(a=i,t(i=e[o],a)){if(o===n){n++;continue}e[n++]=i}return e.length=n,e}(e,t)):(n||e.sort(),function(e){for(var t=1,n=e.length,r=e[0],i=e[0],a=1;a<n;++a,i=r)if(i=r,(r=e[a])!==i){if(a===t){t++;continue}e[t++]=r}return e.length=t,e}(e))}})),RF=bF(((e,t)=>{var n=IF();function r(e,t,n){var r,i,a=e.length,o=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],c=[],u=0,h=0;for(r=0;r<a;++r)c.push(["i",r,"=0"].join(""));for(i=0;i<o;++i)for(r=0;r<a;++r)h=u,u=e[r],0===r?c.push(["d",i,"s",r,"=t",i,"p",u].join("")):c.push(["d",i,"s",r,"=(t",i,"p",u,"-s",h,"*t",i,"p",h,")"].join(""));for(c.length>0&&l.push("var "+c.join(",")),r=a-1;r>=0;--r)u=e[r],l.push(["for(i",r,"=0;i",r,"<s",u,";++i",r,"){"].join(""));for(l.push(n),r=0;r<a;++r){for(h=u,u=e[r],i=0;i<o;++i)l.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&l.push(["index[",h,"]-=s",h].join("")),l.push(["++index[",u,"]"].join(""))),l.push("}")}return l.join("\n")}function i(e,t,n){for(var r=e.body,i=[],a=[],o=0;o<e.args.length;++o){var s=e.args[o];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),c="",u=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var h=t.offsetArgIndex.indexOf(o);u=t.offsetArgs[h].array,c="+q"+h;case"array":c="p"+u+c;var d="l"+o,f="a"+u;if(0===t.arrayBlockIndices[u])1===s.count?"generic"===n[u]?s.lvalue?(i.push(["var ",d,"=",f,".get(",c,")"].join("")),r=r.replace(l,d),a.push([f,".set(",c,",",d,")"].join(""))):r=r.replace(l,[f,".get(",c,")"].join("")):r=r.replace(l,[f,"[",c,"]"].join("")):"generic"===n[u]?(i.push(["var ",d,"=",f,".get(",c,")"].join("")),r=r.replace(l,d),s.lvalue&&a.push([f,".set(",c,",",d,")"].join(""))):(i.push(["var ",d,"=",f,"[",c,"]"].join("")),r=r.replace(l,d),s.lvalue&&a.push([f,"[",c,"]=",d].join("")));else{for(var p=[s.name],m=[c],g=0;g<Math.abs(t.arrayBlockIndices[u]);g++)p.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(g+1)+"*t"+u+"b"+g);if(l=new RegExp(p.join(""),"g"),c=m.join("+"),"generic"===n[u])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[f,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+t.scalarArgs.indexOf(o));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[i.join("\n"),r,a.join("\n")].join("\n").trim()}function a(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var i=e[r],a=i.match(/\d+/);a=a?a[0]:"",0===i.charAt(0)?t[r]="u"+i.charAt(1)+a:t[r]=i.charAt(0)+a,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}t.exports=function(e,t){for(var o=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,s=new Array(e.arrayArgs.length),l=new Array(e.arrayArgs.length),c=0;c<e.arrayArgs.length;++c)l[c]=t[2*c],s[c]=t[2*c+1];var u=[],h=[],d=[],f=[],p=[];for(c=0;c<e.arrayArgs.length;++c){e.arrayBlockIndices[c]<0?(d.push(0),f.push(o),u.push(o),h.push(o+e.arrayBlockIndices[c])):(d.push(e.arrayBlockIndices[c]),f.push(e.arrayBlockIndices[c]+o),u.push(0),h.push(e.arrayBlockIndices[c]));for(var m=[],g=0;g<s[c].length;g++)d[c]<=s[c][g]&&s[c][g]<f[c]&&m.push(s[c][g]-d[c]);p.push(m)}var v=["SS"],y=["'use strict'"],w=[];for(g=0;g<o;++g)w.push(["s",g,"=SS[",g,"]"].join(""));for(c=0;c<e.arrayArgs.length;++c){for(v.push("a"+c),v.push("t"+c),v.push("p"+c),g=0;g<o;++g)w.push(["t",c,"p",g,"=t",c,"[",d[c]+g,"]"].join(""));for(g=0;g<Math.abs(e.arrayBlockIndices[c]);++g)w.push(["t",c,"b",g,"=t",c,"[",u[c]+g,"]"].join(""))}for(c=0;c<e.scalarArgs.length;++c)v.push("Y"+c);if(e.shapeArgs.length>0&&w.push("shape=SS.slice(0)"),e.indexArgs.length>0){var b=new Array(o);for(c=0;c<o;++c)b[c]="0";w.push(["index=[",b.join(","),"]"].join(""))}for(c=0;c<e.offsetArgs.length;++c){var x=e.offsetArgs[c],_=[];for(g=0;g<x.offset.length;++g)0!==x.offset[g]&&(1===x.offset[g]?_.push(["t",x.array,"p",g].join("")):_.push([x.offset[g],"*t",x.array,"p",g].join("")));0===_.length?w.push("q"+c+"=0"):w.push(["q",c,"=",_.join("+")].join(""))}var S=n([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((w=w.concat(S)).length>0&&y.push("var "+w.join(",")),c=0;c<e.arrayArgs.length;++c)y.push("p"+c+"|=0");e.pre.body.length>3&&y.push(i(e.pre,e,l));var E=i(e.body,e,l),C=function(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}(p);C<o?y.push(function(e,t,n,i){for(var a=t.length,o=n.arrayArgs.length,s=n.blockSize,l=n.indexArgs.length>0,c=[],u=0;u<o;++u)c.push(["var offset",u,"=p",u].join(""));for(u=e;u<a;++u)c.push(["for(var j"+u+"=SS[",t[u],"]|0;j",u,">0;){"].join("")),c.push(["if(j",u,"<",s,"){"].join("")),c.push(["s",t[u],"=j",u].join("")),c.push(["j",u,"=0"].join("")),c.push(["}else{s",t[u],"=",s].join("")),c.push(["j",u,"-=",s,"}"].join("")),l&&c.push(["index[",t[u],"]=j",u].join(""));for(u=0;u<o;++u){for(var h=["offset"+u],d=e;d<a;++d)h.push(["j",d,"*t",u,"p",t[d]].join(""));c.push(["p",u,"=(",h.join("+"),")"].join(""))}for(c.push(r(t,n,i)),u=e;u<a;++u)c.push("}");return c.join("\n")}(C,p[0],e,E)):y.push(r(p[0],e,E)),e.post.body.length>3&&y.push(i(e.post,e,l)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+y.join("\n")+"\n----------");var A=[e.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",C,a(l)].join("");return new Function(["function ",A,"(",v.join(","),"){",y.join("\n"),"} return ",A].join(""))()}})),LF=bF(((e,t)=>{var n=RF();t.exports=function(e){var t=["'use strict'","var CACHED={}"],r=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var a=[],o=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],c=[],u=0;u<e.arrayArgs.length;++u){var h=e.arrayArgs[u];r.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),a.push("t"+h),a.push("r"+h),o.push("t"+h),o.push("r"+h+".join()"),s.push("array"+h+".data"),s.push("array"+h+".stride"),s.push("array"+h+".offset|0"),u>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[u]))),c.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[u])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),u=0;u<e.scalarArgs.length;++u)s.push("scalar"+e.scalarArgs[u]);return r.push(["type=[",o.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(n.bind(void 0,e))}})),NF=bF(((e,t)=>{var n=LF();function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(e){var t=new r;t.pre=e.pre,t.body=e.body,t.post=e.post;var i=e.args.slice(0);t.argTypes=i;for(var a=0;a<i.length;++a){var o=i[a];if("array"===o||"object"==typeof o&&o.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===o){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+i[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>i.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>i.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>i.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,n(t)}})),zF=bF((e=>{var t=NF(),n={body:"",args:[],thisVars:[],localVars:[]};function r(e){if(!e)return n;for(var t=0;t<e.args.length;++t){var r=e.args[t];e.args[t]=0===t?{name:r,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function i(e){for(var n=[],i=0;i<e.args.length;++i)n.push("a"+i);return new Function("P",["return function ",e.funcName,"_ndarrayops(",n.join(","),") {P(",n.join(","),");return a0}"].join(""))(function(e){return t({args:e.args,pre:r(e.pre),body:r(e.body),post:r(e.proc),funcName:e.funcName})}(e))}var a={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in a){var n=a[t];e[t]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var o={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in o){var n=o[t];e[t]=i({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=i({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var s={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in s){var n=s[t];e[t]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var n=l[t];e[n]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=i({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var c=["max","min","atan2","pow"];!function(){for(var t=0;t<c.length;++t){var n=c[t];e[n]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var u=["atan2","pow"];!function(){for(var t=0;t<u.length;++t){var n=u[t];e[n+"op"]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=t({args:["array"],pre:n,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=t({args:["array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=t({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=t({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=t({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=t({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=i({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=i({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=i({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=t({args:["array","array"],pre:n,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})),BF=bF(((e,t)=>{t.exports=function(e,t){for(var n=e.split("."),r=t.split("."),i=0;i<3;i++){var a=Number(n[i]),o=Number(r[i]);if(a>o)return 1;if(o>a)return-1;if(!isNaN(a)&&isNaN(o))return 1;if(isNaN(a)&&!isNaN(o))return-1}return 0}})),FF="149",UF=0,jF=1,VF=2,HF=1,GF=2,WF=3,qF=0,XF=1,YF=2,QF=0,KF=1,ZF=2,JF=3,$F=4,eU=5,tU=100,nU=101,rU=102,iU=103,aU=104,oU=200,sU=201,lU=202,cU=203,uU=204,hU=205,dU=206,fU=207,pU=208,mU=209,gU=210,vU=0,yU=1,wU=2,bU=3,xU=4,_U=5,SU=6,EU=7,CU=0,AU=1,TU=2,MU=0,PU=1,DU=2,kU=3,OU=4,IU=5,RU=301,LU=302,NU=303,zU=304,BU=306,FU=1e3,UU=1001,jU=1002,VU=1003,HU=1004,GU=1005,WU=1006,qU=1007,XU=1008,YU=1009,QU=1010,KU=1011,ZU=1012,JU=1013,$U=1014,ej=1015,tj=1016,nj=1017,rj=1018,ij=1020,aj=1021,oj=1023,sj=1024,lj=1025,cj=1026,uj=1027,hj=1028,dj=1029,fj=1030,pj=1031,mj=1033,gj=33776,vj=33777,yj=33778,wj=33779,bj=35840,xj=35841,_j=35842,Sj=35843,Ej=36196,Cj=37492,Aj=37496,Tj=37808,Mj=37809,Pj=37810,Dj=37811,kj=37812,Oj=37813,Ij=37814,Rj=37815,Lj=37816,Nj=37817,zj=37818,Bj=37819,Fj=37820,Uj=37821,jj=36492,Vj=36283,Hj=36284,Gj=36285,Wj=36286,qj=2202,Xj=2300,Yj=2301,Qj=2302,Kj=2400,Zj=2401,Jj=2402,$j=3e3,eV=3001,tV=3200,nV=3201,rV=0,iV=1,aV="srgb",oV="srgb-linear",sV=7680,lV=35044,cV="300 es",uV=1035,hV=class{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;let n=this._listeners[e];if(void 0!==n){let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}},dV=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],fV=1234567,pV=Math.PI/180,mV=180/Math.PI;function gV(){let e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(dV[255&e]+dV[e>>8&255]+dV[e>>16&255]+dV[e>>24&255]+"-"+dV[255&t]+dV[t>>8&255]+"-"+dV[t>>16&15|64]+dV[t>>24&255]+"-"+dV[63&n|128]+dV[n>>8&255]+"-"+dV[n>>16&255]+dV[n>>24&255]+dV[255&r]+dV[r>>8&255]+dV[r>>16&255]+dV[r>>24&255]).toLowerCase()}function vV(e,t,n){return Math.max(t,Math.min(n,e))}function yV(e,t){return(e%t+t)%t}function wV(e,t,n){return(1-n)*e+n*t}function bV(e){return 0==(e&e-1)&&0!==e}function xV(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function _V(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function SV(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function EV(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var CV=Object.freeze({__proto__:null,DEG2RAD:pV,RAD2DEG:mV,ceilPowerOfTwo:xV,clamp:vV,damp:function(e,t,n,r){return wV(e,t,1-Math.exp(-n*r))},degToRad:function(e){return e*pV},denormalize:SV,euclideanModulo:yV,floorPowerOfTwo:_V,generateUUID:gV,inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},isPowerOfTwo:bV,lerp:wV,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},normalize:EV,pingpong:function(e,t=1){return t-Math.abs(yV(e,2*t)-t)},radToDeg:function(e){return e*mV},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},seededRandom:function(e){void 0!==e&&(fV=e);let t=fV+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},setQuaternionFromProperEuler:function(e,t,n,r,i){let a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+r)/2),u=o((t+r)/2),h=a((t-r)/2),d=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*u,l*h,l*d,s*c);break;case"YZY":e.set(l*d,s*u,l*h,s*c);break;case"ZXZ":e.set(l*h,l*d,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}}),AV=class{constructor(e=0,t=0){AV.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},TV=class{constructor(){TV.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,i,a,o,s,l){let c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],w=r[7],b=r[2],x=r[5],_=r[8];return i[0]=a*p+o*v+s*b,i[3]=a*m+o*y+s*x,i[6]=a*g+o*w+s*_,i[1]=l*p+c*v+u*b,i[4]=l*m+c*y+u*x,i[7]=l*g+c*w+u*_,i[2]=h*p+d*v+f*b,i[5]=h*m+d*y+f*x,i[8]=h*g+d*w+f*_,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*i*c+n*o*s+r*i*l-r*a*s}invert(){let e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,h=o*s-c*i,d=l*i-a*s,f=t*u+n*h+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);let p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(c*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){let s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(MV.makeScale(e,t)),this}rotate(e){return this.premultiply(MV.makeRotation(-e)),this}translate(e,t){return this.premultiply(MV.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}},MV=new TV;function PV(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var DV={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function kV(e,t){return new DV[e](t)}function OV(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function IV(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function RV(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var LV={[aV]:{[oV]:IV},[oV]:{[aV]:RV}},NV={legacyMode:!0,get workingColorSpace(){return oV},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(LV[t]&&void 0!==LV[t][n]){let r=LV[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},zV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},BV={r:0,g:0,b:0},FV={h:0,s:0,l:0},UV={h:0,s:0,l:0};function jV(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function VV(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var HV=class{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=aV){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,NV.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=NV.workingColorSpace){return this.r=e,this.g=t,this.b=n,NV.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=NV.workingColorSpace){if(e=yV(e,1),t=vV(t,0,1),n=vV(n,0,1),0===t)this.r=this.g=this.b=n;else{let r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=jV(i,r,e+1/3),this.g=jV(i,r,e),this.b=jV(i,r,e-1/3)}return NV.toWorkingColorSpace(this,r),this}setStyle(e,t=aV){function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e,i=r[1],a=r[2];switch(i){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,NV.toWorkingColorSpace(this,t),n(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,NV.toWorkingColorSpace(this,t),n(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){let r=parseFloat(e[1])/360,i=parseFloat(e[2])/100,a=parseFloat(e[3])/100;return n(e[4]),this.setHSL(r,i,a,t)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let e=r[1],n=e.length;if(3===n)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,NV.toWorkingColorSpace(this,t),this;if(6===n)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,NV.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=aV){let n=zV[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=IV(e.r),this.g=IV(e.g),this.b=IV(e.b),this}copyLinearToSRGB(e){return this.r=RV(e.r),this.g=RV(e.g),this.b=RV(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=aV){return NV.fromWorkingColorSpace(VV(this,BV),e),vV(255*BV.r,0,255)<<16^vV(255*BV.g,0,255)<<8^vV(255*BV.b,0,255)<<0}getHexString(e=aV){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=NV.workingColorSpace){NV.fromWorkingColorSpace(VV(this,BV),t);let n,r,i=BV.r,a=BV.g,o=BV.b,s=Math.max(i,a,o),l=Math.min(i,a,o),c=(l+s)/2;if(l===s)n=0,r=0;else{let e=s-l;switch(r=c<=.5?e/(s+l):e/(2-s-l),s){case i:n=(a-o)/e+(a<o?6:0);break;case a:n=(o-i)/e+2;break;case o:n=(i-a)/e+4}n/=6}return e.h=n,e.s=r,e.l=c,e}getRGB(e,t=NV.workingColorSpace){return NV.fromWorkingColorSpace(VV(this,BV),t),e.r=BV.r,e.g=BV.g,e.b=BV.b,e}getStyle(e=aV){return NV.fromWorkingColorSpace(VV(this,BV),e),e!==aV?`color(${e} ${BV.r} ${BV.g} ${BV.b})`:`rgb(${255*BV.r|0},${255*BV.g|0},${255*BV.b|0})`}offsetHSL(e,t,n){return this.getHSL(FV),FV.h+=e,FV.s+=t,FV.l+=n,this.setHSL(FV.h,FV.s,FV.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(FV),e.getHSL(UV);let n=wV(FV.h,UV.h,t),r=wV(FV.s,UV.s,t),i=wV(FV.l,UV.l,t);return this.setHSL(n,r,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};HV.NAMES=zV;var GV,WV=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===GV&&(GV=OV("canvas")),GV.width=e.width,GV.height=e.height;let n=GV.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=GV}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=OV("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);let r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*IV(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){let t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*IV(t[e]/255)):t[e]=IV(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},qV=class{constructor(e=null){this.isSource=!0,this.uuid=gV(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];let n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(XV(r[t].image)):e.push(XV(r[t]))}else e=XV(r);n.url=e}return t||(e.images[this.uuid]=n),n}};function XV(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?WV.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var YV=0,QV=class extends hV{constructor(e=QV.DEFAULT_IMAGE,t=QV.DEFAULT_MAPPING,n=UU,r=UU,i=WU,a=XU,o=oj,s=YU,l=QV.DEFAULT_ANISOTROPY,c=$j){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:YV++}),this.uuid=gV(),this.name="",this.source=new qV(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new AV(0,0),this.repeat=new AV(1,1),this.center=new AV(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new TV,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];let n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case FU:e.x=e.x-Math.floor(e.x);break;case UU:e.x=e.x<0?0:1;break;case jU:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case FU:e.y=e.y-Math.floor(e.y);break;case UU:e.y=e.y<0?0:1;break;case jU:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}};QV.DEFAULT_IMAGE=null,QV.DEFAULT_MAPPING=300,QV.DEFAULT_ANISOTROPY=1;var KV=class{constructor(e=0,t=0,n=0,r=1){KV.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i,a=e.elements,o=a[0],s=a[4],l=a[8],c=a[1],u=a[5],h=a[9],d=a[2],f=a[6],p=a[10];if(Math.abs(s-c)<.01&&Math.abs(l-d)<.01&&Math.abs(h-f)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+d)<.1&&Math.abs(h+f)<.1&&Math.abs(o+u+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let e=(o+1)/2,a=(u+1)/2,m=(p+1)/2,g=(s+c)/4,v=(l+d)/4,y=(h+f)/4;return e>a&&e>m?e<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=g/n,i=v/n):a>m?a<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(a),n=g/r,i=y/r):m<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(m),n=v/i,r=y/i),this.set(n,r,i,t),this}let m=Math.sqrt((f-h)*(f-h)+(l-d)*(l-d)+(c-s)*(c-s));return Math.abs(m)<.001&&(m=1),this.x=(f-h)/m,this.y=(l-d)/m,this.z=(c-s)/m,this.w=Math.acos((o+u+p-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},ZV=class extends hV{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new KV(0,0,e,t),this.scissorTest=!1,this.viewport=new KV(0,0,e,t);let r={width:e,height:t,depth:1};this.texture=new QV(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:WU,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new qV(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},JV=class extends QV{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=VU,this.minFilter=VU,this.wrapR=UU,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},$V=class extends ZV{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;let i=this.texture;this.texture=[];for(let e=0;e<n;e++)this.texture[e]=i.clone(),this.texture[e].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},eH=class{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3],h=i[a+0],d=i[a+1],f=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(u!==p||s!==h||l!==d||c!==f){let e=1-o,t=s*h+l*d+c*f+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){let i=Math.sqrt(r),a=Math.atan2(i,t*n);e=Math.sin(e*a)/i,o=Math.sin(o*a)/i}let i=o*n;if(s=s*e+h*i,l=l*e+d*i,c=c*e+f*i,u=u*e+p*i,e===1-o){let e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,a){let o=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[a],h=i[a+1],d=i[a+2],f=i[a+3];return e[t]=o*f+c*u+s*d-l*h,e[t+1]=s*f+c*h+l*u-o*d,e[t+2]=l*f+c*d+o*h-s*u,e[t+3]=c*f-o*u-s*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(r/2),u=o(i/2),h=s(n/2),d=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"YXZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"ZXY":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"ZYX":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"YZX":this._x=h*c*u+l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u-h*d*f;break;case"XZY":this._x=h*c*u-l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],h=n+o+u;if(h>0){let e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>o&&n>u){let e=2*Math.sqrt(1+n-o-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(o>u){let e=2*Math.sqrt(1+o-n-u);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+c)/e}else{let e=2*Math.sqrt(1+u-n-o);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(vV(this.dot(e),-1,1)))}rotateTowards(e,t){let n=this.angleTo(e);if(0===n)return this;let r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+r*l-i*s,this._y=r*c+a*s+i*o-n*l,this._z=i*c+a*l+n*s-r*o,this._w=a*c-n*o-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);let n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;let s=1-o*o;if(s<=Number.EPSILON){let e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}let l=Math.sqrt(s),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=a*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){let e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},tH=class{constructor(e=0,t=0,n=0){tH.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(rH.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(rH.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){let t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,c=s*n+o*t-i*r,u=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this.x=l*s+h*-i+c*-o-u*-a,this.y=c*s+h*-a+u*-i-l*-o,this.z=u*s+h*-o+l*-a-c*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){let n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){let t=e.lengthSq();if(0===t)return this.set(0,0,0);let n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return nH.copy(this).projectOnVector(e),this.sub(nH)}reflect(e){return this.sub(nH.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;let n=this.dot(e)/t;return Math.acos(vV(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){let r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},nH=new tH,rH=new eH,iH=class{constructor(e=new tH(1/0,1/0,1/0),t=new tH(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0;for(let s=0,l=e.length;s<l;s+=3){let l=e[s],c=e[s+1],u=e[s+2];l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>a&&(a=c),u>o&&(o=u)}return this.min.set(t,n,r),this.max.set(i,a,o),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0;for(let s=0,l=e.count;s<l;s++){let l=e.getX(s),c=e.getY(s),u=e.getZ(s);l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>a&&(a=c),u>o&&(o=u)}return this.min.set(t,n,r),this.max.set(i,a,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=oH.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position){let t=n.attributes.position;for(let n=0,r=t.count;n<r;n++)oH.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(oH)}else null===n.boundingBox&&n.computeBoundingBox(),sH.copy(n.boundingBox),sH.applyMatrix4(e.matrixWorld),this.union(sH);let r=e.children;for(let e=0,n=r.length;e<n;e++)this.expandByObject(r[e],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,oH),oH.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(pH),mH.subVectors(this.max,pH),lH.subVectors(e.a,pH),cH.subVectors(e.b,pH),uH.subVectors(e.c,pH),hH.subVectors(cH,lH),dH.subVectors(uH,cH),fH.subVectors(lH,uH);let t=[0,-hH.z,hH.y,0,-dH.z,dH.y,0,-fH.z,fH.y,hH.z,0,-hH.x,dH.z,0,-dH.x,fH.z,0,-fH.x,-hH.y,hH.x,0,-dH.y,dH.x,0,-fH.y,fH.x,0];return!(!yH(t,lH,cH,uH,mH)||(t=[1,0,0,0,1,0,0,0,1],!yH(t,lH,cH,uH,mH)))&&(gH.crossVectors(hH,dH),t=[gH.x,gH.y,gH.z],yH(t,lH,cH,uH,mH))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return oH.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(oH).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(aH[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),aH[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),aH[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),aH[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),aH[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),aH[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),aH[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),aH[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(aH)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},aH=[new tH,new tH,new tH,new tH,new tH,new tH,new tH,new tH],oH=new tH,sH=new iH,lH=new tH,cH=new tH,uH=new tH,hH=new tH,dH=new tH,fH=new tH,pH=new tH,mH=new tH,gH=new tH,vH=new tH;function yH(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){vH.fromArray(e,a);let o=i.x*Math.abs(vH.x)+i.y*Math.abs(vH.y)+i.z*Math.abs(vH.z),s=t.dot(vH),l=n.dot(vH),c=r.dot(vH);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}var wH=new iH,bH=new tH,xH=new tH,_H=class{constructor(e=new tH,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let n=this.center;void 0!==t?n.copy(t):wH.setFromPoints(e).getCenter(n);let r=0;for(let t=0,i=e.length;t<i;t++)r=Math.max(r,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;bH.subVectors(e,this.center);let t=bH.lengthSq();if(t>this.radius*this.radius){let e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(bH,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(xH.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(bH.copy(e.center).add(xH)),this.expandByPoint(bH.copy(e.center).sub(xH))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}},SH=new tH,EH=new tH,CH=new tH,AH=new tH,TH=new tH,MH=new tH,PH=new tH,DH=class{constructor(e=new tH,t=new tH(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,SH)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=SH.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(SH.copy(this.direction).multiplyScalar(t).add(this.origin),SH.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){EH.copy(e).add(t).multiplyScalar(.5),CH.copy(t).sub(e).normalize(),AH.copy(this.origin).sub(EH);let i,a,o,s,l=.5*e.distanceTo(t),c=-this.direction.dot(CH),u=AH.dot(this.direction),h=-AH.dot(CH),d=AH.lengthSq(),f=Math.abs(1-c*c);if(f>0)if(i=c*h-u,a=c*u-h,s=l*f,i>=0)if(a>=-s)if(a<=s){let e=1/f;i*=e,a*=e,o=i*(i+c*a+2*u)+a*(c*i+a+2*h)+d}else a=l,i=Math.max(0,-(c*a+u)),o=-i*i+a*(a+2*h)+d;else a=-l,i=Math.max(0,-(c*a+u)),o=-i*i+a*(a+2*h)+d;else a<=-s?(i=Math.max(0,-(-c*l+u)),a=i>0?-l:Math.min(Math.max(-l,-h),l),o=-i*i+a*(a+2*h)+d):a<=s?(i=0,a=Math.min(Math.max(-l,-h),l),o=a*(a+2*h)+d):(i=Math.max(0,-(c*l+u)),a=i>0?l:Math.min(Math.max(-l,-h),l),o=-i*i+a*(a+2*h)+d);else a=c>0?-l:l,i=Math.max(0,-(c*a+u)),o=-i*i+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(CH).multiplyScalar(a).add(EH),o}intersectSphere(e,t){SH.subVectors(e.center,this.origin);let n=SH.dot(this.direction),r=SH.dot(SH)-n*n,i=e.radius*e.radius;if(r>i)return null;let a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){let n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,a,o,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),c>=0?(i=(e.min.y-h.y)*c,a=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,a=(e.min.y-h.y)*c),n>a||i>r||((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),u>=0?(o=(e.min.z-h.z)*u,s=(e.max.z-h.z)*u):(o=(e.max.z-h.z)*u,s=(e.min.z-h.z)*u),n>s||o>r)||((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return null!==this.intersectBox(e,SH)}intersectTriangle(e,t,n,r,i){TH.subVectors(t,e),MH.subVectors(n,e),PH.crossVectors(TH,MH);let a,o=this.direction.dot(PH);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}AH.subVectors(this.origin,e);let s=a*this.direction.dot(MH.crossVectors(AH,MH));if(s<0)return null;let l=a*this.direction.dot(TH.cross(AH));if(l<0||s+l>o)return null;let c=-a*AH.dot(PH);return c<0?null:this.at(c/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}},kH=class{constructor(){kH.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,i,a,o,s,l,c,u,h,d,f,p,m){let g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new kH).fromArray(this.elements)}copy(e){let t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){let t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,n=e.elements,r=1/OH.setFromMatrixColumn(e,0).length(),i=1/OH.setFromMatrixColumn(e,1).length(),a=1/OH.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){let e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-o*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*s}else if("YXZ"===e.order){let e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){let e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*o,t[4]=-a*u,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*c,t[9]=i-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){let e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){let e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){let e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=a*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=o*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(RH,e,LH)}lookAt(e,t,n){let r=this.elements;return BH.subVectors(e,t),0===BH.lengthSq()&&(BH.z=1),BH.normalize(),NH.crossVectors(n,BH),0===NH.lengthSq()&&(1===Math.abs(n.z)?BH.x+=1e-4:BH.z+=1e-4,BH.normalize(),NH.crossVectors(n,BH)),NH.normalize(),zH.crossVectors(BH,NH),r[0]=NH.x,r[4]=zH.x,r[8]=BH.x,r[1]=NH.y,r[5]=zH.y,r[9]=BH.y,r[2]=NH.z,r[6]=zH.z,r[10]=BH.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],w=n[11],b=n[15],x=r[0],_=r[4],S=r[8],E=r[12],C=r[1],A=r[5],T=r[9],M=r[13],P=r[2],D=r[6],k=r[10],O=r[14],I=r[3],R=r[7],L=r[11],N=r[15];return i[0]=a*x+o*C+s*P+l*I,i[4]=a*_+o*A+s*D+l*R,i[8]=a*S+o*T+s*k+l*L,i[12]=a*E+o*M+s*O+l*N,i[1]=c*x+u*C+h*P+d*I,i[5]=c*_+u*A+h*D+d*R,i[9]=c*S+u*T+h*k+d*L,i[13]=c*E+u*M+h*O+d*N,i[2]=f*x+p*C+m*P+g*I,i[6]=f*_+p*A+m*D+g*R,i[10]=f*S+p*T+m*k+g*L,i[14]=f*E+p*M+m*O+g*N,i[3]=v*x+y*C+w*P+b*I,i[7]=v*_+y*A+w*D+b*R,i[11]=v*S+y*T+w*k+b*L,i[15]=v*E+y*M+w*O+b*N,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+i*s*u-r*l*u-i*o*h+n*l*h+r*o*d-n*s*d)+e[7]*(+t*s*d-t*l*h+i*a*h-r*a*d+r*l*c-i*s*c)+e[11]*(+t*l*u-t*o*d-i*a*u+n*a*d+i*o*c-n*l*c)+e[15]*(-r*o*c-t*s*u+t*o*h+r*a*u-n*a*h+n*s*c)}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(e,t,n){let r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){let e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*h*l+p*s*d-o*m*d-u*s*g+o*h*g,y=f*h*l-c*m*l-f*s*d+a*m*d+c*s*g-a*h*g,w=c*p*l-f*u*l+f*o*d-a*p*d-c*o*g+a*u*g,b=f*u*s-c*p*s-f*o*h+a*p*h+c*o*m-a*u*m,x=t*v+n*y+r*w+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let _=1/x;return e[0]=v*_,e[1]=(p*h*i-u*m*i-p*r*d+n*m*d+u*r*g-n*h*g)*_,e[2]=(o*m*i-p*s*i+p*r*l-n*m*l-o*r*g+n*s*g)*_,e[3]=(u*s*i-o*h*i-u*r*l+n*h*l+o*r*d-n*s*d)*_,e[4]=y*_,e[5]=(c*m*i-f*h*i+f*r*d-t*m*d-c*r*g+t*h*g)*_,e[6]=(f*s*i-a*m*i-f*r*l+t*m*l+a*r*g-t*s*g)*_,e[7]=(a*h*i-c*s*i+c*r*l-t*h*l-a*r*d+t*s*d)*_,e[8]=w*_,e[9]=(f*u*i-c*p*i-f*n*d+t*p*d+c*n*g-t*u*g)*_,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*g+t*o*g)*_,e[11]=(c*o*i-a*u*i-c*n*l+t*u*l+a*n*d-t*o*d)*_,e[12]=b*_,e[13]=(c*p*r-f*u*r+f*n*h-t*p*h-c*n*m+t*u*m)*_,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*m-t*o*m)*_,e[15]=(a*u*r-c*o*r+c*n*s-t*u*s-a*n*h+t*o*h)*_,this}scale(e){let t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,c=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+n,c*s-r*a,0,l*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){let r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,c=a+a,u=o+o,h=i*l,d=i*c,f=i*u,p=a*c,m=a*u,g=o*u,v=s*l,y=s*c,w=s*u,b=n.x,x=n.y,_=n.z;return r[0]=(1-(p+g))*b,r[1]=(d+w)*b,r[2]=(f-y)*b,r[3]=0,r[4]=(d-w)*x,r[5]=(1-(h+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(f+y)*_,r[9]=(m-v)*_,r[10]=(1-(h+p))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){let r=this.elements,i=OH.set(r[0],r[1],r[2]).length(),a=OH.set(r[4],r[5],r[6]).length(),o=OH.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],IH.copy(this);let s=1/i,l=1/a,c=1/o;return IH.elements[0]*=s,IH.elements[1]*=s,IH.elements[2]*=s,IH.elements[4]*=l,IH.elements[5]*=l,IH.elements[6]*=l,IH.elements[8]*=c,IH.elements[9]*=c,IH.elements[10]*=c,t.setFromRotationMatrix(IH),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a){let o=this.elements,s=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),h=-(a+i)/(a-i),d=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,r,i,a){let o=this.elements,s=1/(t-e),l=1/(n-r),c=1/(a-i),u=(t+e)*s,h=(n+r)*l,d=(a+i)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){let t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){let n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},OH=new tH,IH=new kH,RH=new tH(0,0,0),LH=new tH(1,1,1),NH=new tH,zH=new tH,BH=new tH,FH=new kH,UH=new eH,jH=class{constructor(e=0,t=0,n=0,r=jH.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){let r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],c=r[9],u=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(vV(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-vV(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(vV(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-vV(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(vV(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-vV(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return FH.makeRotationFromQuaternion(e),this.setFromRotationMatrix(FH,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return UH.setFromEuler(this),this.setFromQuaternion(UH,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};jH.DEFAULT_ORDER="XYZ";var VH=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}},HH=0,GH=new tH,WH=new eH,qH=new kH,XH=new tH,YH=new tH,QH=new tH,KH=new eH,ZH=new tH(1,0,0),JH=new tH(0,1,0),$H=new tH(0,0,1),eG={type:"added"},tG={type:"removed"},nG=class extends hV{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:HH++}),this.uuid=gV(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=nG.DEFAULT_UP.clone();let e=new tH,t=new jH,n=new eH,r=new tH(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new kH},normalMatrix:{value:new TV}}),this.matrix=new kH,this.matrixWorld=new kH,this.matrixAutoUpdate=nG.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=nG.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new VH,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return WH.setFromAxisAngle(e,t),this.quaternion.multiply(WH),this}rotateOnWorldAxis(e,t){return WH.setFromAxisAngle(e,t),this.quaternion.premultiply(WH),this}rotateX(e){return this.rotateOnAxis(ZH,e)}rotateY(e){return this.rotateOnAxis(JH,e)}rotateZ(e){return this.rotateOnAxis($H,e)}translateOnAxis(e,t){return GH.copy(e).applyQuaternion(this.quaternion),this.position.add(GH.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(ZH,e)}translateY(e){return this.translateOnAxis(JH,e)}translateZ(e){return this.translateOnAxis($H,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(qH.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?XH.copy(e):XH.set(e,t,n);let r=this.parent;this.updateWorldMatrix(!0,!1),YH.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?qH.lookAt(YH,XH,this.up):qH.lookAt(XH,YH,this.up),this.quaternion.setFromRotationMatrix(qH),r&&(qH.extractRotation(r.matrixWorld),WH.setFromRotationMatrix(qH),this.quaternion.premultiply(WH.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(eG)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}let t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(tG)),this}removeFromParent(){let e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(tG)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),qH.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),qH.multiply(e.parent.matrixWorld)),e.applyMatrix4(qH),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){let r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,i=this.children.length;r<i;r++){let i=this.children[r].getObjectsByProperty(e,t);i.length>0&&(n=n.concat(i))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(YH,e,QH),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(YH,KH,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);let t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){let t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let n=0,r=t.length;n<r;n++){let r=t[n];(!0===r.matrixWorldAutoUpdate||!0===e)&&r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){let e=this.children;for(let t=0,n=e.length;t<n;t++){let n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);let t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){let n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){let r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){let t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){let n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){let t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),c=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function a(e){let t=[];for(let n in e){let r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){let n=e.children[t];this.add(n.clone())}return this}};nG.DEFAULT_UP=new tH(0,1,0),nG.DEFAULT_MATRIX_AUTO_UPDATE=!0,nG.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var rG=new tH,iG=new tH,aG=new tH,oG=new tH,sG=new tH,lG=new tH,cG=new tH,uG=new tH,hG=new tH,dG=new tH,fG=class{constructor(e=new tH,t=new tH,n=new tH){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),rG.subVectors(e,t),r.cross(rG);let i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){rG.subVectors(r,t),iG.subVectors(n,t),aG.subVectors(e,t);let a=rG.dot(rG),o=rG.dot(iG),s=rG.dot(aG),l=iG.dot(iG),c=iG.dot(aG),u=a*l-o*o;if(0===u)return i.set(-2,-1,-1);let h=1/u,d=(l*s-o*c)*h,f=(a*c-o*s)*h;return i.set(1-d-f,f,d)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,oG),oG.x>=0&&oG.y>=0&&oG.x+oG.y<=1}static getUV(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,oG),s.set(0,0),s.addScaledVector(i,oG.x),s.addScaledVector(a,oG.y),s.addScaledVector(o,oG.z),s}static isFrontFacing(e,t,n,r){return rG.subVectors(n,t),iG.subVectors(e,t),rG.cross(iG).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return rG.subVectors(this.c,this.b),iG.subVectors(this.a,this.b),.5*rG.cross(iG).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return fG.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return fG.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return fG.getUV(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return fG.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return fG.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let n,r,i=this.a,a=this.b,o=this.c;sG.subVectors(a,i),lG.subVectors(o,i),uG.subVectors(e,i);let s=sG.dot(uG),l=lG.dot(uG);if(s<=0&&l<=0)return t.copy(i);hG.subVectors(e,a);let c=sG.dot(hG),u=lG.dot(hG);if(c>=0&&u<=c)return t.copy(a);let h=s*u-c*l;if(h<=0&&s>=0&&c<=0)return n=s/(s-c),t.copy(i).addScaledVector(sG,n);dG.subVectors(e,o);let d=sG.dot(dG),f=lG.dot(dG);if(f>=0&&d<=f)return t.copy(o);let p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(i).addScaledVector(lG,r);let m=c*f-d*u;if(m<=0&&u-c>=0&&d-f>=0)return cG.subVectors(o,a),r=(u-c)/(u-c+(d-f)),t.copy(a).addScaledVector(cG,r);let g=1/(m+p+h);return n=p*g,r=h*g,t.copy(i).addScaledVector(sG,n).addScaledVector(lG,r)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},pG=0,mG=class extends hV{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:pG++}),this.uuid=gV(),this.name="",this.type="Material",this.blending=KF,this.side=qF,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=uU,this.blendDst=hU,this.blendEquation=tU,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=bU,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=sV,this.stencilZFail=sV,this.stencilZPass=sV,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(let t in e){let n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}let r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){let t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});let n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){let t=[];for(let n in e){let r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==KF&&(n.blending=this.blending),this.side!==qF&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){let t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,n=null;if(null!==t){let e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}},gG=class extends mG{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new HV(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=CU,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},vG=new tH,yG=new AV,wG=class{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=lV,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)yG.fromBufferAttribute(this,t),yG.applyMatrix3(e),this.setXY(t,yG.x,yG.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)vG.fromBufferAttribute(this,t),vG.applyMatrix3(e),this.setXYZ(t,vG.x,vG.y,vG.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)vG.fromBufferAttribute(this,t),vG.applyMatrix4(e),this.setXYZ(t,vG.x,vG.y,vG.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)vG.fromBufferAttribute(this,t),vG.applyNormalMatrix(e),this.setXYZ(t,vG.x,vG.y,vG.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)vG.fromBufferAttribute(this,t),vG.transformDirection(e),this.setXYZ(t,vG.x,vG.y,vG.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=SV(t,this.array)),t}setX(e,t){return this.normalized&&(t=EV(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=SV(t,this.array)),t}setY(e,t){return this.normalized&&(t=EV(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=SV(t,this.array)),t}setZ(e,t){return this.normalized&&(t=EV(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=SV(t,this.array)),t}setW(e,t){return this.normalized&&(t=EV(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=EV(t,this.array),n=EV(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=EV(t,this.array),n=EV(n,this.array),r=EV(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=EV(t,this.array),n=EV(n,this.array),r=EV(r,this.array),i=EV(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==lV&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}},bG=class extends wG{constructor(e,t,n){super(new Uint16Array(e),t,n)}},xG=class extends wG{constructor(e,t,n){super(new Uint32Array(e),t,n)}},_G=class extends wG{constructor(e,t,n){super(new Float32Array(e),t,n)}},SG=0,EG=new kH,CG=new nG,AG=new tH,TG=new iH,MG=new iH,PG=new tH,DG=class extends hV{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:SG++}),this.uuid=gV(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(PV(e)?xG:bG)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);let n=this.attributes.normal;if(void 0!==n){let t=(new TV).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}let r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return EG.makeRotationFromQuaternion(e),this.applyMatrix4(EG),this}rotateX(e){return EG.makeRotationX(e),this.applyMatrix4(EG),this}rotateY(e){return EG.makeRotationY(e),this.applyMatrix4(EG),this}rotateZ(e){return EG.makeRotationZ(e),this.applyMatrix4(EG),this}translate(e,t,n){return EG.makeTranslation(e,t,n),this.applyMatrix4(EG),this}scale(e,t,n){return EG.makeScale(e,t,n),this.applyMatrix4(EG),this}lookAt(e){return CG.lookAt(e),CG.updateMatrix(),this.applyMatrix4(CG.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(AG).negate(),this.translate(AG.x,AG.y,AG.z),this}setFromPoints(e){let t=[];for(let n=0,r=e.length;n<r;n++){let r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new _G(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new iH);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new tH(-1/0,-1/0,-1/0),new tH(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){let n=t[e];TG.setFromBufferAttribute(n),this.morphTargetsRelative?(PG.addVectors(this.boundingBox.min,TG.min),this.boundingBox.expandByPoint(PG),PG.addVectors(this.boundingBox.max,TG.max),this.boundingBox.expandByPoint(PG)):(this.boundingBox.expandByPoint(TG.min),this.boundingBox.expandByPoint(TG.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new _H);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new tH,1/0);if(e){let n=this.boundingSphere.center;if(TG.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){let n=t[e];MG.setFromBufferAttribute(n),this.morphTargetsRelative?(PG.addVectors(TG.min,MG.min),TG.expandByPoint(PG),PG.addVectors(TG.max,MG.max),TG.expandByPoint(PG)):(TG.expandByPoint(MG.min),TG.expandByPoint(MG.max))}TG.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)PG.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(PG));if(t)for(let i=0,a=t.length;i<a;i++){let a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)PG.fromBufferAttribute(a,t),o&&(AG.fromBufferAttribute(e,t),PG.add(AG)),r=Math.max(r,n.distanceToSquared(PG))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");let n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new wG(new Float32Array(4*o),4));let s=this.getAttribute("tangent").array,l=[],c=[];for(let e=0;e<o;e++)l[e]=new tH,c[e]=new tH;let u=new tH,h=new tH,d=new tH,f=new AV,p=new AV,m=new AV,g=new tH,v=new tH;function y(e,t,n){u.fromArray(r,3*e),h.fromArray(r,3*t),d.fromArray(r,3*n),f.fromArray(a,2*e),p.fromArray(a,2*t),m.fromArray(a,2*n),h.sub(u),d.sub(u),p.sub(f),m.sub(f);let i=1/(p.x*m.y-m.x*p.y);!isFinite(i)||(g.copy(h).multiplyScalar(m.y).addScaledVector(d,-p.y).multiplyScalar(i),v.copy(d).multiplyScalar(p.x).addScaledVector(h,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),c[e].add(v),c[t].add(v),c[n].add(v))}let w=this.groups;0===w.length&&(w=[{start:0,count:n.length}]);for(let e=0,t=w.length;e<t;++e){let t=w[e],r=t.start;for(let e=r,i=r+t.count;e<i;e+=3)y(n[e+0],n[e+1],n[e+2])}let b=new tH,x=new tH,_=new tH,S=new tH;function E(e){_.fromArray(i,3*e),S.copy(_);let t=l[e];b.copy(t),b.sub(_.multiplyScalar(_.dot(t))).normalize(),x.crossVectors(S,t);let n=x.dot(c[e])<0?-1:1;s[4*e]=b.x,s[4*e+1]=b.y,s[4*e+2]=b.z,s[4*e+3]=n}for(let e=0,t=w.length;e<t;++e){let t=w[e],r=t.start;for(let e=r,i=r+t.count;e<i;e+=3)E(n[e+0]),E(n[e+1]),E(n[e+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new wG(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);let r=new tH,i=new tH,a=new tH,o=new tH,s=new tH,l=new tH,c=new tH,u=new tH;if(e)for(let h=0,d=e.count;h<d;h+=3){let d=e.getX(h+0),f=e.getX(h+1),p=e.getX(h+2);r.fromBufferAttribute(t,d),i.fromBufferAttribute(t,f),a.fromBufferAttribute(t,p),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),o.fromBufferAttribute(n,d),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),o.add(c),s.add(c),l.add(c),n.setXYZ(d,o.x,o.y,o.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,o=t.count;e<o;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)PG.fromBufferAttribute(e,t),PG.normalize(),e.setXYZ(t,PG.x,PG.y,PG.z)}toNonIndexed(){function e(e,t){let n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0;for(let i=0,l=t.length;i<l;i++){o=e.isInterleavedBufferAttribute?t[i]*e.data.stride+e.offset:t[i]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new wG(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new DG,n=this.index.array,r=this.attributes;for(let i in r){let a=e(r[i],n);t.setAttribute(i,a)}let i=this.morphAttributes;for(let r in i){let a=[],o=i[r];for(let t=0,r=o.length;t<r;t++){let r=e(o[t],n);a.push(r)}t.morphAttributes[r]=a}t.morphTargetsRelative=this.morphTargetsRelative;let a=this.groups;for(let e=0,n=a.length;e<n;e++){let n=a[e];t.addGroup(n.start,n.count,n.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){let t=this.parameters;for(let n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};let t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let n=this.attributes;for(let t in n){let r=n[t];e.data.attributes[t]=r.toJSON(e.data)}let r={},i=!1;for(let t in this.morphAttributes){let n=this.morphAttributes[t],a=[];for(let t=0,r=n.length;t<r;t++){let r=n[t];a.push(r.toJSON(e.data))}a.length>0&&(r[t]=a,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);let a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));let o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let n=e.index;null!==n&&this.setIndex(n.clone(t));let r=e.attributes;for(let e in r){let n=r[e];this.setAttribute(e,n.clone(t))}let i=e.morphAttributes;for(let e in i){let n=[],r=i[e];for(let e=0,i=r.length;e<i;e++)n.push(r[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;let a=e.groups;for(let e=0,t=a.length;e<t;e++){let t=a[e];this.addGroup(t.start,t.count,t.materialIndex)}let o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());let s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},kG=new kH,OG=new DH,IG=new _H,RG=new tH,LG=new tH,NG=new tH,zG=new tH,BG=new tH,FG=new AV,UG=new AV,jG=new AV,VG=new tH,HG=new tH,GG=class extends nG{constructor(e=new DG,t=new gG){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){let t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){let n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);let o=this.morphTargetInfluences;if(i&&o){BG.set(0,0,0);for(let n=0,r=i.length;n<r;n++){let r=o[n],s=i[n];0!==r&&(zG.fromBufferAttribute(s,e),a?BG.addScaledVector(zG,r):BG.addScaledVector(zG.sub(t),r))}t.add(BG)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){let n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r||(null===n.boundingSphere&&n.computeBoundingSphere(),IG.copy(n.boundingSphere),IG.applyMatrix4(i),!1===e.ray.intersectsSphere(IG))||(kG.copy(i).invert(),OG.copy(e.ray).applyMatrix4(kG),null!==n.boundingBox&&!1===OG.intersectsBox(n.boundingBox)))return;let a,o=n.index,s=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv2,u=n.groups,h=n.drawRange;if(null!==o)if(Array.isArray(r))for(let n=0,i=u.length;n<i;n++){let i=u[n],s=r[i.materialIndex];for(let n=Math.max(i.start,h.start),r=Math.min(o.count,Math.min(i.start+i.count,h.start+h.count));n<r;n+=3){let r=o.getX(n),u=o.getX(n+1),h=o.getX(n+2);a=WG(this,s,e,OG,l,c,r,u,h),a&&(a.faceIndex=Math.floor(n/3),a.face.materialIndex=i.materialIndex,t.push(a))}}else for(let n=Math.max(0,h.start),i=Math.min(o.count,h.start+h.count);n<i;n+=3){let i=o.getX(n),s=o.getX(n+1),u=o.getX(n+2);a=WG(this,r,e,OG,l,c,i,s,u),a&&(a.faceIndex=Math.floor(n/3),t.push(a))}else if(void 0!==s)if(Array.isArray(r))for(let n=0,i=u.length;n<i;n++){let i=u[n],o=r[i.materialIndex];for(let n=Math.max(i.start,h.start),r=Math.min(s.count,Math.min(i.start+i.count,h.start+h.count));n<r;n+=3)a=WG(this,o,e,OG,l,c,n,n+1,n+2),a&&(a.faceIndex=Math.floor(n/3),a.face.materialIndex=i.materialIndex,t.push(a))}else for(let n=Math.max(0,h.start),i=Math.min(s.count,h.start+h.count);n<i;n+=3)a=WG(this,r,e,OG,l,c,n,n+1,n+2),a&&(a.faceIndex=Math.floor(n/3),t.push(a))}};function WG(e,t,n,r,i,a,o,s,l){e.getVertexPosition(o,RG),e.getVertexPosition(s,LG),e.getVertexPosition(l,NG);let c=function(e,t,n,r,i,a,o,s){let l;if(l=t.side===XF?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===qF,s),null===l)return null;HG.copy(s),HG.applyMatrix4(e.matrixWorld);let c=n.ray.origin.distanceTo(HG);return c<n.near||c>n.far?null:{distance:c,point:HG.clone(),object:e}}(e,t,n,r,RG,LG,NG,VG);if(c){i&&(FG.fromBufferAttribute(i,o),UG.fromBufferAttribute(i,s),jG.fromBufferAttribute(i,l),c.uv=fG.getUV(VG,RG,LG,NG,FG,UG,jG,new AV)),a&&(FG.fromBufferAttribute(a,o),UG.fromBufferAttribute(a,s),jG.fromBufferAttribute(a,l),c.uv2=fG.getUV(VG,RG,LG,NG,FG,UG,jG,new AV));let e={a:o,b:s,c:l,normal:new tH,materialIndex:0};fG.getNormal(RG,LG,NG,e.normal),c.face=e}return c}var qG=class extends DG{constructor(e=1,t=1,n=1,r=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};let o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);let s=[],l=[],c=[],u=[],h=0,d=0;function f(e,t,n,r,i,a,f,p,m,g,v){let y=a/m,w=f/g,b=a/2,x=f/2,_=p/2,S=m+1,E=g+1,C=0,A=0,T=new tH;for(let a=0;a<E;a++){let o=a*w-x;for(let s=0;s<S;s++){let h=s*y-b;T[e]=h*r,T[t]=o*i,T[n]=_,l.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=p>0?1:-1,c.push(T.x,T.y,T.z),u.push(s/m),u.push(1-a/g),C+=1}}for(let e=0;e<g;e++)for(let t=0;t<m;t++){let n=h+t+S*e,r=h+t+S*(e+1),i=h+(t+1)+S*(e+1),a=h+(t+1)+S*e;s.push(n,r,a),s.push(r,i,a),A+=6}o.addGroup(d,A,v),d+=A,h+=C}f("z","y","x",-1,-1,n,t,e,a,i,0),f("z","y","x",1,-1,n,t,-e,a,i,1),f("x","z","y",1,1,e,n,t,r,a,2),f("x","z","y",1,-1,e,n,-t,r,a,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new _G(l,3)),this.setAttribute("normal",new _G(c,3)),this.setAttribute("uv",new _G(u,2))}static fromJSON(e){return new qG(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function XG(e){let t={};for(let n in e){t[n]={};for(let r in e[n]){let i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function YG(e){let t={};for(let n=0;n<e.length;n++){let r=XG(e[n]);for(let e in r)t[e]=r[e]}return t}function QG(e){return null===e.getRenderTarget()&&e.outputEncoding===eV?aV:oV}var KG={clone:XG,merge:YG},ZG=class extends mG{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=XG(e.uniforms),this.uniformsGroups=function(e){let t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let n in this.uniforms){let r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let n={};for(let e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}},JG=class extends nG{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new kH,this.projectionMatrix=new kH,this.projectionMatrixInverse=new kH}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}},$G=class extends JG{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=2*mV*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(.5*pV*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*mV*Math.atan(Math.tan(.5*pV*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(.5*pV*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){let e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}let o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}},eW=-90,tW=class extends nG{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;let r=new $G(eW,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);let i=new $G(eW,1,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(-1,0,0),this.add(i);let a=new $G(eW,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);let o=new $G(eW,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(0,-1,0),this.add(o);let s=new $G(eW,1,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(0,0,1),this.add(s);let l=new $G(eW,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();let n=this.renderTarget,[r,i,a,o,s,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,h=e.xr.enabled;e.toneMapping=MU,e.xr.enabled=!1;let d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}},nW=class extends QV{constructor(e,t,n,r,i,a,o,s,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:RU,n,r,i,a,o,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},rW=class extends ZV{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new nW(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:WU}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new qG(5,5,5),o=new ZG({name:"CubemapFromEquirect",uniforms:XG(n),vertexShader:r,fragmentShader:i,side:XF,blending:QF});o.uniforms.tEquirect.value=t;let s=new GG(a,o),l=t.minFilter;return t.minFilter===XU&&(t.minFilter=WU),new tW(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,r){let i=e.getRenderTarget();for(let i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(i)}},iW=new tH,aW=new tH,oW=new TV,sW=class{constructor(e=new tH(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){let r=iW.subVectors(n,t).cross(aW.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let n=e.delta(iW),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;let i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let n=t||oW.getNormalMatrix(e),r=this.coplanarPoint(iW).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}},lW=new _H,cW=new tH,uW=class{constructor(e=new sW,t=new sW,n=new sW,r=new sW,i=new sW,a=new sW){this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){let o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){let t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(o-r,u-s,p-h,y-m).normalize(),t[1].setComponents(o+r,u+s,p+h,y+m).normalize(),t[2].setComponents(o+i,u+l,p+d,y+g).normalize(),t[3].setComponents(o-i,u-l,p-d,y-g).normalize(),t[4].setComponents(o-a,u-c,p-f,y-v).normalize(),t[5].setComponents(o+a,u+c,p+f,y+v).normalize(),this}intersectsObject(e){let t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),lW.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(lW)}intersectsSprite(e){return lW.center.set(0,0,0),lW.radius=.7071067811865476,lW.applyMatrix4(e.matrixWorld),this.intersectsSphere(lW)}intersectsSphere(e){let t=this.planes,n=e.center,r=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){let t=this.planes;for(let n=0;n<6;n++){let r=t[n];if(cW.x=r.normal.x>0?e.max.x:e.min.x,cW.y=r.normal.y>0?e.max.y:e.min.y,cW.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(cW)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}};function hW(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function dW(e,t){let n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);let n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){let e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);let a=r.get(t);void 0===a?r.set(t,function(t,r){let i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(a instanceof Int16Array)i=5122;else if(a instanceof Uint32Array)i=5125;else if(a instanceof Int32Array)i=5124;else if(a instanceof Int8Array)i=5120;else if(a instanceof Uint8Array)i=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=5121}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(function(t,r,i){let a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(a.buffer,t,i),a.version=t.version)}}}var fW=class extends DG{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};let i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),l=o+1,c=s+1,u=e/o,h=t/s,d=[],f=[],p=[],m=[];for(let e=0;e<c;e++){let t=e*h-a;for(let n=0;n<l;n++){let r=n*u-i;f.push(r,-t,0),p.push(0,0,1),m.push(n/o),m.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<o;t++){let n=t+l*e,r=t+l*(e+1),i=t+1+l*(e+1),a=t+1+l*e;d.push(n,r,a),d.push(r,i,a)}this.setIndex(d),this.setAttribute("position",new _G(f,3)),this.setAttribute("normal",new _G(p,3)),this.setAttribute("uv",new _G(m,2))}static fromJSON(e){return new fW(e.width,e.height,e.widthSegments,e.heightSegments)}},pW={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},mW={common:{diffuse:{value:new HV(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new TV},uv2Transform:{value:new TV},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new AV(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new HV(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new HV(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new TV}},sprite:{diffuse:{value:new HV(16777215)},opacity:{value:1},center:{value:new AV(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new TV}}},gW={basic:{uniforms:YG([mW.common,mW.specularmap,mW.envmap,mW.aomap,mW.lightmap,mW.fog]),vertexShader:pW.meshbasic_vert,fragmentShader:pW.meshbasic_frag},lambert:{uniforms:YG([mW.common,mW.specularmap,mW.envmap,mW.aomap,mW.lightmap,mW.emissivemap,mW.bumpmap,mW.normalmap,mW.displacementmap,mW.fog,mW.lights,{emissive:{value:new HV(0)}}]),vertexShader:pW.meshlambert_vert,fragmentShader:pW.meshlambert_frag},phong:{uniforms:YG([mW.common,mW.specularmap,mW.envmap,mW.aomap,mW.lightmap,mW.emissivemap,mW.bumpmap,mW.normalmap,mW.displacementmap,mW.fog,mW.lights,{emissive:{value:new HV(0)},specular:{value:new HV(1118481)},shininess:{value:30}}]),vertexShader:pW.meshphong_vert,fragmentShader:pW.meshphong_frag},standard:{uniforms:YG([mW.common,mW.envmap,mW.aomap,mW.lightmap,mW.emissivemap,mW.bumpmap,mW.normalmap,mW.displacementmap,mW.roughnessmap,mW.metalnessmap,mW.fog,mW.lights,{emissive:{value:new HV(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:pW.meshphysical_vert,fragmentShader:pW.meshphysical_frag},toon:{uniforms:YG([mW.common,mW.aomap,mW.lightmap,mW.emissivemap,mW.bumpmap,mW.normalmap,mW.displacementmap,mW.gradientmap,mW.fog,mW.lights,{emissive:{value:new HV(0)}}]),vertexShader:pW.meshtoon_vert,fragmentShader:pW.meshtoon_frag},matcap:{uniforms:YG([mW.common,mW.bumpmap,mW.normalmap,mW.displacementmap,mW.fog,{matcap:{value:null}}]),vertexShader:pW.meshmatcap_vert,fragmentShader:pW.meshmatcap_frag},points:{uniforms:YG([mW.points,mW.fog]),vertexShader:pW.points_vert,fragmentShader:pW.points_frag},dashed:{uniforms:YG([mW.common,mW.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:pW.linedashed_vert,fragmentShader:pW.linedashed_frag},depth:{uniforms:YG([mW.common,mW.displacementmap]),vertexShader:pW.depth_vert,fragmentShader:pW.depth_frag},normal:{uniforms:YG([mW.common,mW.bumpmap,mW.normalmap,mW.displacementmap,{opacity:{value:1}}]),vertexShader:pW.meshnormal_vert,fragmentShader:pW.meshnormal_frag},sprite:{uniforms:YG([mW.sprite,mW.fog]),vertexShader:pW.sprite_vert,fragmentShader:pW.sprite_frag},background:{uniforms:{uvTransform:{value:new TV},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:pW.background_vert,fragmentShader:pW.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:pW.backgroundCube_vert,fragmentShader:pW.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:pW.cube_vert,fragmentShader:pW.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:pW.equirect_vert,fragmentShader:pW.equirect_frag},distanceRGBA:{uniforms:YG([mW.common,mW.displacementmap,{referencePosition:{value:new tH},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:pW.distanceRGBA_vert,fragmentShader:pW.distanceRGBA_frag},shadow:{uniforms:YG([mW.lights,mW.fog,{color:{value:new HV(0)},opacity:{value:1}}]),vertexShader:pW.shadow_vert,fragmentShader:pW.shadow_frag}};gW.physical={uniforms:YG([gW.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new AV(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new HV(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new AV},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new HV(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new HV(1,1,1)},specularColorMap:{value:null}}]),vertexShader:pW.meshphysical_vert,fragmentShader:pW.meshphysical_frag};var vW={r:0,b:0,g:0};function yW(e,t,n,r,i,a,o){let s,l,c=new HV(0),u=!0===a?0:1,h=null,d=0,f=null;function p(t,n){t.getRGB(vW,QG(e)),r.buffers.color.setClear(vW.r,vW.g,vW.b,n,o)}return{getClearColor:function(){return c},setClearColor:function(e,t=1){c.set(e),u=t,p(c,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,p(c,u)},render:function(r,a){let o=!1,m=!0===a.isScene?a.background:null;m&&m.isTexture&&(m=(a.backgroundBlurriness>0?n:t).get(m));let g=e.xr,v=g.getSession&&g.getSession();v&&"additive"===v.environmentBlendMode&&(m=null),null===m?p(c,u):m&&m.isColor&&(p(m,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.mapping===BU)?(void 0===l&&(l=new GG(new qG(1,1,1),new ZG({name:"BackgroundCubeMaterial",uniforms:XG(gW.backgroundCube.uniforms),vertexShader:gW.backgroundCube.vertexShader,fragmentShader:gW.backgroundCube.fragmentShader,side:XF,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=m,l.material.uniforms.flipEnvMap.value=m.isCubeTexture&&!1===m.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=a.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,l.material.toneMapped=m.encoding!==eV,(h!==m||d!==m.version||f!==e.toneMapping)&&(l.material.needsUpdate=!0,h=m,d=m.version,f=e.toneMapping),l.layers.enableAll(),r.unshift(l,l.geometry,l.material,0,0,null)):m&&m.isTexture&&(void 0===s&&(s=new GG(new fW(2,2),new ZG({name:"BackgroundMaterial",uniforms:XG(gW.background.uniforms),vertexShader:gW.background.vertexShader,fragmentShader:gW.background.fragmentShader,side:qF,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=m,s.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,s.material.toneMapped=m.encoding!==eV,!0===m.matrixAutoUpdate&&m.updateMatrix(),s.material.uniforms.uvTransform.value.copy(m.matrix),(h!==m||d!==m.version||f!==e.toneMapping)&&(s.material.needsUpdate=!0,h=m,d=m.version,f=e.toneMapping),s.layers.enableAll(),r.unshift(s,s.geometry,s.material,0,0,null))}}}function wW(e,t,n,r){let i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=f(null),c=l,u=!1;function h(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function f(e){let t=[],n=[],r=[];for(let e=0;e<i;e++)t[e]=0,n[e]=0,r[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){let e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function m(e){g(e,0)}function g(n,i){let a=c.newAttributes,o=c.enabledAttributes,s=c.attributeDivisors;a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){let t=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function w(){b(),u=!0,c!==l&&(c=l,h(c.object))}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,w,b){let x=!1;if(o){let t=function(t,n,i){let o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[o];return void 0===u&&(u=f(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),c[o]=u),u}(w,d,l);c!==t&&(c=t,h(c.object)),x=function(e,t,n,r){let i=c.attributes,a=t.attributes,o=0,s=n.getAttributes();for(let t in s)if(s[t].location>=0){let n=i[t],r=a[t];if(void 0===r&&("instanceMatrix"===t&&e.instanceMatrix&&(r=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(r=e.instanceColor)),void 0===n||n.attribute!==r||r&&n.data!==r.data)return!0;o++}return c.attributesNum!==o||c.index!==r}(i,w,d,b),x&&function(e,t,n,r){let i={},a=t.attributes,o=0,s=n.getAttributes();for(let t in s)if(s[t].location>=0){let n=a[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));let r={};r.attribute=n,n&&n.data&&(r.data=n.data),i[t]=r,o++}c.attributes=i,c.attributesNum=o,c.index=r}(i,w,d,b)}else{let e=!0===l.wireframe;(c.geometry!==w.id||c.program!==d.id||c.wireframe!==e)&&(c.geometry=w.id,c.program=d.id,c.wireframe=e,x=!0)}null!==b&&n.update(b,34963),(x||u)&&(u=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();let l=s.attributes,c=o.getAttributes(),u=a.defaultAttributeValues;for(let t in c){let r=c[t];if(r.location>=0){let a=l[t];if(void 0===a&&("instanceMatrix"===t&&i.instanceMatrix&&(a=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(a=i.instanceColor)),void 0!==a){let t=a.normalized,o=a.itemSize,l=n.get(a);if(void 0===l)continue;let c=l.buffer,u=l.type,h=l.bytesPerElement;if(a.isInterleavedBufferAttribute){let n=a.data,l=n.stride,d=a.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)g(r.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<r.locationSize;e++)m(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)y(r.location+e,o/r.locationSize,u,t,l*h,(d+o/r.locationSize*e)*h)}else{if(a.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)g(r.location+e,a.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let e=0;e<r.locationSize;e++)m(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)y(r.location+e,o/r.locationSize,u,t,o*h,o/r.locationSize*e*h)}}else if(void 0!==u){let n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(r.location,n);break;case 3:e.vertexAttrib3fv(r.location,n);break;case 4:e.vertexAttrib4fv(r.location,n);break;default:e.vertexAttrib1fv(r.location,n)}}}}v()}(i,l,d,w),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:w,resetDefaultState:b,dispose:function(){w();for(let e in s){let t=s[e];for(let e in t){let n=t[e];for(let e in n)d(n[e].object),delete n[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;let t=s[e.id];for(let e in t){let n=t[e];for(let e in n)d(n[e].object),delete n[e];delete t[e]}delete s[e.id]},releaseStatesOfProgram:function(e){for(let t in s){let n=s[t];if(void 0===n[e.id])continue;let r=n[e.id];for(let e in r)d(r[e].object),delete r[e];delete n[e.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:v}}function bW(e,t,n,r){let i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0===s)return;let l,c;if(a)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](i,r,o,s),n.update(o,i,s)}}function xW(e,t,n){let r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let a=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);let l=a||t.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,u=e.getParameter(34930),h=e.getParameter(35660),d=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),m=e.getParameter(36347),g=e.getParameter(36348),v=e.getParameter(36349),y=h>0,w=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){let n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:w,floatVertexTextures:y&&w,maxSamples:a?e.getParameter(36183):0}}function _W(e){let t=this,n=null,r=0,i=!1,a=!1,o=new sW,s=new TV,l={value:null,needsUpdate:!1};function c(e,n,r,i){let a=null!==e?e.length:0,c=null;if(0!==a){if(c=l.value,!0!==i||null===c){let t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let t=0,n=r;t!==a;++t,n+=4)o.copy(e[t]).applyMatrix4(i,s),o.normal.toArray(c,n),c[n+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){let n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(o,s,u){let h=o.clippingPlanes,d=o.clipIntersection,f=o.clipShadows,p=e.get(o);if(!i||null===h||0===h.length||a&&!f)a?c(null):(l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0);else{let e=a?0:r,t=4*e,i=p.clippingState||null;l.value=i,i=c(h,s,t,u);for(let e=0;e!==t;++e)i[e]=n[e];p.clippingState=i,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function SW(e){let t=new WeakMap;function n(e,t){return t===NU?e.mapping=RU:t===zU&&(e.mapping=LU),e}function r(e){let n=e.target;n.removeEventListener("dispose",r);let i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){let a=i.mapping;if(a===NU||a===zU){if(t.has(i))return n(t.get(i).texture,i.mapping);{let a=i.image;if(a&&a.height>0){let o=new rW(a.height/2);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}var EW=class extends JG{constructor(e=-1,t=1,n=1,r=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){let e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}},CW=[.125,.215,.35,.446,.526,.582],AW=20,TW=new EW,MW=new HV,PW=null,DW=(1+Math.sqrt(5))/2,kW=1/DW,OW=[new tH(1,1,1),new tH(-1,1,1),new tH(1,1,-1),new tH(-1,1,-1),new tH(0,DW,kW),new tH(0,DW,-kW),new tH(kW,0,DW),new tH(-kW,0,DW),new tH(DW,kW,0),new tH(-DW,kW,0)],IW=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){PW=this._renderer.getRenderTarget(),this._setSize(256);let i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=zW(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=NW(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(PW),e.scissorTest=!1,LW(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===RU||e.mapping===LU?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),PW=this._renderer.getRenderTarget();let n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:WU,minFilter:WU,generateMipmaps:!1,type:tj,format:oj,encoding:$j,depthBuffer:!1},r=RW(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=RW(e,t,n);let{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){let t=[],n=[],r=[],i=e,a=e-4+1+CW.length;for(let o=0;o<a;o++){let a=Math.pow(2,i);n.push(a);let s=1/a;o>e-4?s=CW[o-e+4-1]:0===o&&(s=0),r.push(s);let l=1/(a-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],d=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*d),y=new Float32Array(m*f*d),w=new Float32Array(g*f*d);for(let e=0;e<d;e++){let t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*f*e),y.set(h,m*f*e);let i=[e,e,e,e,e,e];w.set(i,g*f*e)}let b=new DG;b.setAttribute("position",new wG(v,p)),b.setAttribute("uv",new wG(y,m)),b.setAttribute("faceIndex",new wG(w,g)),t.push(b),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){let r=new Float32Array(AW),i=new tH(0,1,0);return new ZG({name:"SphericalGaussianBlur",defines:{n:AW,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:QF,depthTest:!1,depthWrite:!1})}(r,e,t)}return r}_compileMaterial(e){let t=new GG(this._lodPlanes[0],e);this._renderer.compile(t,TW)}_sceneToCubeUV(e,t,n,r){let i=new $G(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(MW),s.toneMapping=MU,s.autoClear=!1;let u=new gG({name:"PMREM.Background",side:XF,depthWrite:!1,depthTest:!1}),h=new GG(new qG,u),d=!1,f=e.background;f?f.isColor&&(u.color.copy(f),e.background=null,d=!0):(u.color.copy(MW),d=!0);for(let t=0;t<6;t++){let n=t%3;0===n?(i.up.set(0,a[t],0),i.lookAt(o[t],0,0)):1===n?(i.up.set(0,0,a[t]),i.lookAt(0,o[t],0)):(i.up.set(0,a[t],0),i.lookAt(0,0,o[t]));let l=this._cubeSize;LW(r,n*l,t>2?l:0,l,l),s.setRenderTarget(r),d&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=c,s.autoClear=l,e.background=f}_textureToCubeUV(e,t){let n=this._renderer,r=e.mapping===RU||e.mapping===LU;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=zW()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=NW());let i=r?this._cubemapMaterial:this._equirectMaterial,a=new GG(this._lodPlanes[0],i);i.uniforms.envMap.value=e;let o=this._cubeSize;LW(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,TW)}_applyPMREM(e){let t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let t=1;t<this._lodPlanes.length;t++){let n=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),r=OW[(t-1)%OW.length];this._blur(e,t-1,t,n,r)}t.autoClear=n}_blur(e,t,n,r,i){let a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){let s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");let c=new GG(this._lodPlanes[r],l),u=l.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/d,p=isFinite(i)?1+Math.floor(3*f):AW;p>AW&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);let m=[],g=0;for(let e=0;e<AW;++e){let t=e/f,n=Math.exp(-t*t/2);m.push(n),0===e?g+=n:e<p&&(g+=2*n)}for(let e=0;e<m.length;e++)m[e]=m[e]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===a,o&&(u.poleAxis.value=o);let{_lodMax:v}=this;u.dTheta.value=d,u.mipInt.value=v-n;let y=this._sizeLods[r];LW(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(c,TW)}};function RW(e,t,n){let r=new ZV(e,t,n);return r.texture.mapping=BU,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function LW(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function NW(){return new ZG({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:QF,depthTest:!1,depthWrite:!1})}function zW(){return new ZG({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:QF,depthTest:!1,depthWrite:!1})}function BW(e){let t=new WeakMap,n=null;function r(e){let n=e.target;n.removeEventListener("dispose",r);let i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){let a=i.mapping,o=a===NU||a===zU,s=a===RU||a===LU;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=t.get(i);return null===n&&(n=new IW(e)),r=o?n.fromEquirectangular(i,r):n.fromCubemap(i,r),t.set(i,r),r.texture}if(t.has(i))return t.get(i).texture;{let a=i.image;if(o&&a&&a.height>0||s&&a&&function(e){let t=0;for(let n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(a)){null===n&&(n=new IW(e));let a=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,a),i.addEventListener("dispose",r),a.texture}return null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function FW(e){let t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){let t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function UW(e,t,n,r){let i={},a=new WeakMap;function o(e){let s=e.target;null!==s.index&&t.remove(s.index);for(let e in s.attributes)t.remove(s.attributes[e]);s.removeEventListener("dispose",o),delete i[s.id];let l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){let n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){let e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){let r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{let e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){let e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}let s=new(PV(n)?xG:bG)(n,1);s.version=o;let l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){let n=e.attributes;for(let e in n)t.update(n[e],34962);let r=e.morphAttributes;for(let e in r){let n=r[e];for(let e=0,r=n.length;e<r;e++)t.update(n[e],34962)}},getWireframeAttribute:function(e){let t=a.get(e);if(t){let n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function jW(e,t,n,r){let i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,c){if(0===c)return;let u,h;if(s)u=e,h="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](i,l,a,r*o,c),n.update(l,i,c)}}function VW(e){let t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function HW(e,t){return e[0]-t[0]}function GW(e,t){return Math.abs(t[1])-Math.abs(e[1])}function WW(e,t,n){let r={},i=new Float32Array(8),a=new WeakMap,o=new KV,s=[];for(let e=0;e<8;e++)s[e]=[e,0];return{update:function(l,c,u,h){let d=l.morphTargetInfluences;if(!0===t.isWebGL2){let r=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,i=void 0!==r?r.length:0,s=a.get(c);if(void 0===s||s.count!==i){let e=function(){v.dispose(),a.delete(c),c.removeEventListener("dispose",e)};void 0!==s&&s.texture.dispose();let n=void 0!==c.morphAttributes.position,r=void 0!==c.morphAttributes.normal,l=void 0!==c.morphAttributes.color,u=c.morphAttributes.position||[],h=c.morphAttributes.normal||[],d=c.morphAttributes.color||[],f=0;!0===n&&(f=1),!0===r&&(f=2),!0===l&&(f=3);let p=c.attributes.position.count*f,m=1;p>t.maxTextureSize&&(m=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);let g=new Float32Array(p*m*4*i),v=new JV(g,p,m,i);v.type=ej,v.needsUpdate=!0;let y=4*f;for(let e=0;e<i;e++){let t=u[e],i=h[e],a=d[e],s=p*m*4*e;for(let e=0;e<t.count;e++){let c=e*y;!0===n&&(o.fromBufferAttribute(t,e),g[s+c+0]=o.x,g[s+c+1]=o.y,g[s+c+2]=o.z,g[s+c+3]=0),!0===r&&(o.fromBufferAttribute(i,e),g[s+c+4]=o.x,g[s+c+5]=o.y,g[s+c+6]=o.z,g[s+c+7]=0),!0===l&&(o.fromBufferAttribute(a,e),g[s+c+8]=o.x,g[s+c+9]=o.y,g[s+c+10]=o.z,g[s+c+11]=4===a.itemSize?o.w:1)}}s={count:i,texture:v,size:new AV(p,m)},a.set(c,s),c.addEventListener("dispose",e)}let l=0;for(let e=0;e<d.length;e++)l+=d[e];let u=c.morphTargetsRelative?1:1-l;h.getUniforms().setValue(e,"morphTargetBaseInfluence",u),h.getUniforms().setValue(e,"morphTargetInfluences",d),h.getUniforms().setValue(e,"morphTargetsTexture",s.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",s.size)}else{let t=void 0===d?0:d.length,n=r[c.id];if(void 0===n||n.length!==t){n=[];for(let e=0;e<t;e++)n[e]=[e,0];r[c.id]=n}for(let e=0;e<t;e++){let t=n[e];t[0]=e,t[1]=d[e]}n.sort(GW);for(let e=0;e<8;e++)e<t&&n[e][1]?(s[e][0]=n[e][0],s[e][1]=n[e][1]):(s[e][0]=Number.MAX_SAFE_INTEGER,s[e][1]=0);s.sort(HW);let a=c.morphAttributes.position,o=c.morphAttributes.normal,l=0;for(let e=0;e<8;e++){let t=s[e],n=t[0],r=t[1];n!==Number.MAX_SAFE_INTEGER&&r?(a&&c.getAttribute("morphTarget"+e)!==a[n]&&c.setAttribute("morphTarget"+e,a[n]),o&&c.getAttribute("morphNormal"+e)!==o[n]&&c.setAttribute("morphNormal"+e,o[n]),i[e]=r,l+=r):(a&&!0===c.hasAttribute("morphTarget"+e)&&c.deleteAttribute("morphTarget"+e),o&&!0===c.hasAttribute("morphNormal"+e)&&c.deleteAttribute("morphNormal"+e),i[e]=0)}let u=c.morphTargetsRelative?1:1-l;h.getUniforms().setValue(e,"morphTargetBaseInfluence",u),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function qW(e,t,n,r){let i=new WeakMap;function a(e){let t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){let o=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==o&&(t.update(l),i.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}var XW=new QV,YW=new JV,QW=new class extends QV{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=VU,this.minFilter=VU,this.wrapR=UU,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},KW=new nW,ZW=[],JW=[],$W=new Float32Array(16),eq=new Float32Array(9),tq=new Float32Array(4);function nq(e,t,n){let r=e[0];if(r<=0||r>0)return e;let i=t*n,a=ZW[i];if(void 0===a&&(a=new Float32Array(i),ZW[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function rq(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function iq(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function aq(e,t){let n=JW[t];void 0===n&&(n=new Int32Array(t),JW[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function oq(e,t){let n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function sq(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(rq(n,t))return;e.uniform2fv(this.addr,t),iq(n,t)}}function lq(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(rq(n,t))return;e.uniform3fv(this.addr,t),iq(n,t)}}function cq(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(rq(n,t))return;e.uniform4fv(this.addr,t),iq(n,t)}}function uq(e,t){let n=this.cache,r=t.elements;if(void 0===r){if(rq(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),iq(n,t)}else{if(rq(n,r))return;tq.set(r),e.uniformMatrix2fv(this.addr,!1,tq),iq(n,r)}}function hq(e,t){let n=this.cache,r=t.elements;if(void 0===r){if(rq(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),iq(n,t)}else{if(rq(n,r))return;eq.set(r),e.uniformMatrix3fv(this.addr,!1,eq),iq(n,r)}}function dq(e,t){let n=this.cache,r=t.elements;if(void 0===r){if(rq(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),iq(n,t)}else{if(rq(n,r))return;$W.set(r),e.uniformMatrix4fv(this.addr,!1,$W),iq(n,r)}}function fq(e,t){let n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function pq(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(rq(n,t))return;e.uniform2iv(this.addr,t),iq(n,t)}}function mq(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(rq(n,t))return;e.uniform3iv(this.addr,t),iq(n,t)}}function gq(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(rq(n,t))return;e.uniform4iv(this.addr,t),iq(n,t)}}function vq(e,t){let n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function yq(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(rq(n,t))return;e.uniform2uiv(this.addr,t),iq(n,t)}}function wq(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(rq(n,t))return;e.uniform3uiv(this.addr,t),iq(n,t)}}function bq(e,t){let n=this.cache;if(void 0!==t.x)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(rq(n,t))return;e.uniform4uiv(this.addr,t),iq(n,t)}}function xq(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||XW,i)}function _q(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||QW,i)}function Sq(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||KW,i)}function Eq(e,t,n){let r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||YW,i)}function Cq(e,t){e.uniform1fv(this.addr,t)}function Aq(e,t){let n=nq(t,this.size,2);e.uniform2fv(this.addr,n)}function Tq(e,t){let n=nq(t,this.size,3);e.uniform3fv(this.addr,n)}function Mq(e,t){let n=nq(t,this.size,4);e.uniform4fv(this.addr,n)}function Pq(e,t){let n=nq(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Dq(e,t){let n=nq(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function kq(e,t){let n=nq(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Oq(e,t){e.uniform1iv(this.addr,t)}function Iq(e,t){e.uniform2iv(this.addr,t)}function Rq(e,t){e.uniform3iv(this.addr,t)}function Lq(e,t){e.uniform4iv(this.addr,t)}function Nq(e,t){e.uniform1uiv(this.addr,t)}function zq(e,t){e.uniform2uiv(this.addr,t)}function Bq(e,t){e.uniform3uiv(this.addr,t)}function Fq(e,t){e.uniform4uiv(this.addr,t)}function Uq(e,t,n){let r=this.cache,i=t.length,a=aq(n,i);rq(r,a)||(e.uniform1iv(this.addr,a),iq(r,a));for(let e=0;e!==i;++e)n.setTexture2D(t[e]||XW,a[e])}function jq(e,t,n){let r=this.cache,i=t.length,a=aq(n,i);rq(r,a)||(e.uniform1iv(this.addr,a),iq(r,a));for(let e=0;e!==i;++e)n.setTexture3D(t[e]||QW,a[e])}function Vq(e,t,n){let r=this.cache,i=t.length,a=aq(n,i);rq(r,a)||(e.uniform1iv(this.addr,a),iq(r,a));for(let e=0;e!==i;++e)n.setTextureCube(t[e]||KW,a[e])}function Hq(e,t,n){let r=this.cache,i=t.length,a=aq(n,i);rq(r,a)||(e.uniform1iv(this.addr,a),iq(r,a));for(let e=0;e!==i;++e)n.setTexture2DArray(t[e]||YW,a[e])}var Gq=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return oq;case 35664:return sq;case 35665:return lq;case 35666:return cq;case 35674:return uq;case 35675:return hq;case 35676:return dq;case 5124:case 35670:return fq;case 35667:case 35671:return pq;case 35668:case 35672:return mq;case 35669:case 35673:return gq;case 5125:return vq;case 36294:return yq;case 36295:return wq;case 36296:return bq;case 35678:case 36198:case 36298:case 36306:case 35682:return xq;case 35679:case 36299:case 36307:return _q;case 35680:case 36300:case 36308:case 36293:return Sq;case 36289:case 36303:case 36311:case 36292:return Eq}}(t.type)}},Wq=class{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Cq;case 35664:return Aq;case 35665:return Tq;case 35666:return Mq;case 35674:return Pq;case 35675:return Dq;case 35676:return kq;case 5124:case 35670:return Oq;case 35667:case 35671:return Iq;case 35668:case 35672:return Rq;case 35669:case 35673:return Lq;case 5125:return Nq;case 36294:return zq;case 36295:return Bq;case 36296:return Fq;case 35678:case 36198:case 36298:case 36306:case 35682:return Uq;case 35679:case 36299:case 36307:return jq;case 35680:case 36300:case 36308:case 36293:return Vq;case 36289:case 36303:case 36311:case 36292:return Hq}}(t.type)}},qq=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){let r=this.seq;for(let i=0,a=r.length;i!==a;++i){let a=r[i];a.setValue(e,t[a.id],n)}}},Xq=/(\w+)(\])?(\[|\.)?/g;function Yq(e,t){e.seq.push(t),e.map[t.id]=t}function Qq(e,t,n){let r=e.name,i=r.length;for(Xq.lastIndex=0;;){let a=Xq.exec(r),o=Xq.lastIndex,s=a[1],l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===i){Yq(n,void 0===c?new Gq(s,e,t):new Wq(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new qq(s),Yq(n,e)),n=e}}}var Kq=class{constructor(e,t){this.seq=[],this.map={};let n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){let n=e.getActiveUniform(t,r);Qq(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){let i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){let r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){let a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){let n=[];for(let r=0,i=e.length;r!==i;++r){let i=e[r];i.id in t&&n.push(i)}return n}};function Zq(e,t,n){let r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var Jq=0;function $q(e,t,n){let r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";let a=/ERROR: 0:(\d+)/.exec(i);if(a){let r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){let n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let e=i;e<a;e++){let i=e+1;r.push(`${i===t?">":" "} ${i}: ${n[e]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function eX(e,t){let n=function(e){switch(e){case $j:return["Linear","( value )"];case eV:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function tX(e,t){let n;switch(t){case PU:n="Linear";break;case DU:n="Reinhard";break;case kU:n="OptimizedCineon";break;case OU:n="ACESFilmic";break;case IU:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function nX(e){return""!==e}function rX(e,t){let n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function iX(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var aX=/^[ \t]*#include +<([\w\d./]+)>/gm;function oX(e){return e.replace(aX,sX)}function sX(e,t){let n=pW[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return oX(n)}var lX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cX(e){return e.replace(lX,uX)}function uX(e,t,n,r){let i="";for(let e=parseInt(t);e<parseInt(n);e++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return i}function hX(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function dX(e,t,n,r){let i,a,o=e.getContext(),s=n.defines,l=n.vertexShader,c=n.fragmentShader,u=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===HF?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===GF?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===WF&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case RU:case LU:t="ENVMAP_TYPE_CUBE";break;case BU:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){let t="ENVMAP_MODE_REFLECTION";return e.envMap&&e.envMapMode===LU&&(t="ENVMAP_MODE_REFRACTION"),t}(n),f=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case CU:t="ENVMAP_BLENDING_MULTIPLY";break;case AU:t="ENVMAP_BLENDING_MIX";break;case TU:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){let t=e.envMapCubeUVHeight;if(null===t)return null;let n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),m=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(nX).join("\n")}(n),g=function(e){let t=[];for(let n in e){let r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),v=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(i=[g].filter(nX).join("\n"),i.length>0&&(i+="\n"),a=[m,g].filter(nX).join("\n"),a.length>0&&(a+="\n")):(i=[hX(n),"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(nX).join("\n"),a=[m,hX(n),"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==MU?"#define TONE_MAPPING":"",n.toneMapping!==MU?pW.tonemapping_pars_fragment:"",n.toneMapping!==MU?tX("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",pW.encodings_pars_fragment,eX("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(nX).join("\n")),l=oX(l),l=rX(l,n),l=iX(l,n),c=oX(c),c=rX(c,n),c=iX(c,n),l=cX(l),c=cX(c),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===cV?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===cV?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);let w,b,x=y+a+c,_=Zq(o,35633,y+i+l),S=Zq(o,35632,x);if(o.attachShader(v,_),o.attachShader(v,S),void 0!==n.index0AttributeName?o.bindAttribLocation(v,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(v,0,"position"),o.linkProgram(v),e.debug.checkShaderErrors){let e=o.getProgramInfoLog(v).trim(),t=o.getShaderInfoLog(_).trim(),n=o.getShaderInfoLog(S).trim(),r=!0,s=!0;if(!1===o.getProgramParameter(v,35714)){r=!1;let t=$q(o,_,"vertex"),n=$q(o,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(v,35715)+"\n\nProgram Info Log: "+e+"\n"+t+"\n"+n)}else""!==e?console.warn("THREE.WebGLProgram: Program Info Log:",e):(""===t||""===n)&&(s=!1);s&&(this.diagnostics={runnable:r,programLog:e,vertexShader:{log:t,prefix:i},fragmentShader:{log:n,prefix:a}})}return o.deleteShader(_),o.deleteShader(S),this.getUniforms=function(){return void 0===w&&(w=new Kq(o,v)),w},this.getAttributes=function(){return void 0===b&&(b=function(e,t){let n={},r=e.getProgramParameter(t,35721);for(let i=0;i<r;i++){let r=e.getActiveAttrib(t,i),a=r.name,o=1;35674===r.type&&(o=2),35675===r.type&&(o=3),35676===r.type&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(o,v)),b},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=Jq++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=_,this.fragmentShader=S,this}var fX=0,pX=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){let t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new mX(e),t.set(e,n)),n}},mX=class{constructor(e){this.id=fX++,this.code=e,this.usedTimes=0}};function gX(e,t,n,r,i,a,o){let s=new VH,l=new pX,c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures,f=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,c,m,g){let v=m.fog,y=g.geometry,w=a.isMeshStandardMaterial?m.environment:null,b=(a.isMeshStandardMaterial?n:t).get(a.envMap||w),x=b&&b.mapping===BU?b.image.height:null,_=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision),f!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",f,"instead."));let S,E,C,A,T=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,M=void 0!==T?T.length:0,P=0;if(void 0!==y.morphAttributes.position&&(P=1),void 0!==y.morphAttributes.normal&&(P=2),void 0!==y.morphAttributes.color&&(P=3),_){let e=gW[_];S=e.vertexShader,E=e.fragmentShader}else S=a.vertexShader,E=a.fragmentShader,l.update(a),C=l.getVertexShaderID(a),A=l.getFragmentShaderID(a);let D=e.getRenderTarget(),k=a.alphaTest>0,O=a.clearcoat>0,I=a.iridescence>0;return{isWebGL2:u,shaderID:_,shaderName:a.type,vertexShader:S,fragmentShader:E,defines:a.defines,customVertexShaderID:C,customFragmentShaderID:A,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:d,outputEncoding:null===D?e.outputEncoding:!0===D.isXRRenderTarget?D.texture.encoding:$j,map:!!a.map,matcap:!!a.matcap,envMap:!!b,envMapMode:b&&b.mapping,envMapCubeUVHeight:x,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===iV,tangentSpaceNormalMap:a.normalMapType===rV,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===eV,clearcoat:O,clearcoatMap:O&&!!a.clearcoatMap,clearcoatRoughnessMap:O&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:O&&!!a.clearcoatNormalMap,iridescence:I,iridescenceMap:I&&!!a.iridescenceMap,iridescenceThicknessMap:I&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===KF,alphaMap:!!a.alphaMap,alphaTest:k,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!y.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUvs:!!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatMap||a.clearcoatRoughnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.displacementMap||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheenColorMap||a.sheenRoughnessMap),uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap||!a.displacementMap),fog:!!v,useFog:!0===a.fog,fogExp2:v&&v.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:M,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:MU,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===YF,flipSided:a.side===XF,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){let n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(let e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0),t.supportsVertexTextures&&s.enable(1),t.instancing&&s.enable(2),t.instancingColor&&s.enable(3),t.map&&s.enable(4),t.matcap&&s.enable(5),t.envMap&&s.enable(6),t.lightMap&&s.enable(7),t.aoMap&&s.enable(8),t.emissiveMap&&s.enable(9),t.bumpMap&&s.enable(10),t.normalMap&&s.enable(11),t.objectSpaceNormalMap&&s.enable(12),t.tangentSpaceNormalMap&&s.enable(13),t.clearcoat&&s.enable(14),t.clearcoatMap&&s.enable(15),t.clearcoatRoughnessMap&&s.enable(16),t.clearcoatNormalMap&&s.enable(17),t.iridescence&&s.enable(18),t.iridescenceMap&&s.enable(19),t.iridescenceThicknessMap&&s.enable(20),t.displacementMap&&s.enable(21),t.specularMap&&s.enable(22),t.roughnessMap&&s.enable(23),t.metalnessMap&&s.enable(24),t.gradientMap&&s.enable(25),t.alphaMap&&s.enable(26),t.alphaTest&&s.enable(27),t.vertexColors&&s.enable(28),t.vertexAlphas&&s.enable(29),t.vertexUvs&&s.enable(30),t.vertexTangents&&s.enable(31),t.uvsVertexOnly&&s.enable(32),e.push(s.mask),s.disableAll(),t.fog&&s.enable(0),t.useFog&&s.enable(1),t.flatShading&&s.enable(2),t.logarithmicDepthBuffer&&s.enable(3),t.skinning&&s.enable(4),t.morphTargets&&s.enable(5),t.morphNormals&&s.enable(6),t.morphColors&&s.enable(7),t.premultipliedAlpha&&s.enable(8),t.shadowMapEnabled&&s.enable(9),t.physicallyCorrectLights&&s.enable(10),t.doubleSided&&s.enable(11),t.flipSided&&s.enable(12),t.useDepthPacking&&s.enable(13),t.dithering&&s.enable(14),t.specularIntensityMap&&s.enable(15),t.specularColorMap&&s.enable(16),t.transmission&&s.enable(17),t.transmissionMap&&s.enable(18),t.thicknessMap&&s.enable(19),t.sheen&&s.enable(20),t.sheenColorMap&&s.enable(21),t.sheenRoughnessMap&&s.enable(22),t.decodeVideoTexture&&s.enable(23),t.opaque&&s.enable(24),e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){let t,n=p[e.type];if(n){let e=gW[n];t=KG.clone(e.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){let r;for(let e=0,t=c.length;e<t;e++){let t=c[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new dX(e,n,t,a),c.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){let t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function vX(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function yX(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function wX(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function bX(){let e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,c){let u=a(e,t,o,s,l,c);o.transmission>0?r.push(u):!0===o.transparent?i.push(u):n.push(u)},unshift:function(e,t,o,s,l,c){let u=a(e,t,o,s,l,c);o.transmission>0?r.unshift(u):!0===o.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){let t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||yX),r.length>1&&r.sort(t||wX),i.length>1&&i.sort(t||wX)}}}function xX(){let e=new WeakMap;return{get:function(t,n){let r,i=e.get(t);return void 0===i?(r=new bX,e.set(t,[r])):n>=i.length?(r=new bX,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function _X(){let e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new tH,color:new HV};break;case"SpotLight":n={position:new tH,direction:new tH,color:new HV,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new tH,color:new HV,distance:0,decay:0};break;case"HemisphereLight":n={direction:new tH,skyColor:new HV,groundColor:new HV};break;case"RectAreaLight":n={color:new HV,position:new tH,halfWidth:new tH,halfHeight:new tH}}return e[t.id]=n,n}}}var SX=0;function EX(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function CX(e,t){let n=new _X,r=function(){let e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new AV};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new AV,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let e=0;e<9;e++)i.probe.push(new tH);let a=new tH,o=new kH,s=new kH;return{setup:function(a,o){let s=0,l=0,c=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let u=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,y=0,w=0;a.sort(EX);let b=!0!==o?Math.PI:1;for(let e=0,t=a.length;e<t;e++){let t=a[e],o=t.color,x=t.intensity,_=t.distance,S=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=o.r*x*b,l+=o.g*x*b,c+=o.b*x*b;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],x);else if(t.isDirectionalLight){let e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),t.castShadow){let e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[u]=n,i.directionalShadowMap[u]=S,i.directionalShadowMatrix[u]=t.shadow.matrix,m++}i.directional[u]=e,u++}else if(t.isSpotLight){let e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(o).multiplyScalar(x*b),e.distance=_,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,i.spot[d]=e;let a=t.shadow;if(t.map&&(i.spotLightMap[y]=t.map,y++,a.updateMatrices(t),t.castShadow&&w++),i.spotLightMatrix[d]=a.matrix,t.castShadow){let e=r.get(t);e.shadowBias=a.bias,e.shadowNormalBias=a.normalBias,e.shadowRadius=a.radius,e.shadowMapSize=a.mapSize,i.spotShadow[d]=e,i.spotShadowMap[d]=S,v++}d++}else if(t.isRectAreaLight){let e=n.get(t);e.color.copy(o).multiplyScalar(x),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[f]=e,f++}else if(t.isPointLight){let e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),e.distance=t.distance,e.decay=t.decay,t.castShadow){let e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[h]=n,i.pointShadowMap[h]=S,i.pointShadowMatrix[h]=t.shadow.matrix,g++}i.point[h]=e,h++}else if(t.isHemisphereLight){let e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(x*b),e.groundColor.copy(t.groundColor).multiplyScalar(x*b),i.hemi[p]=e,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=mW.LTC_FLOAT_1,i.rectAreaLTC2=mW.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=mW.LTC_HALF_1,i.rectAreaLTC2=mW.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=c;let x=i.hash;(x.directionalLength!==u||x.pointLength!==h||x.spotLength!==d||x.rectAreaLength!==f||x.hemiLength!==p||x.numDirectionalShadows!==m||x.numPointShadows!==g||x.numSpotShadows!==v||x.numSpotMaps!==y)&&(i.directional.length=u,i.spot.length=d,i.rectArea.length=f,i.point.length=h,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=v,i.spotShadowMap.length=v,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=v+y-w,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=w,x.directionalLength=u,x.pointLength=h,x.spotLength=d,x.rectAreaLength=f,x.hemiLength=p,x.numDirectionalShadows=m,x.numPointShadows=g,x.numSpotShadows=v,x.numSpotMaps=y,i.version=SX++)},setupView:function(e,t){let n=0,r=0,l=0,c=0,u=0,h=t.matrixWorldInverse;for(let t=0,d=e.length;t<d;t++){let d=e[t];if(d.isDirectionalLight){let e=i.directional[n];e.direction.setFromMatrixPosition(d.matrixWorld),a.setFromMatrixPosition(d.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(h),n++}else if(d.isSpotLight){let e=i.spot[l];e.position.setFromMatrixPosition(d.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(d.matrixWorld),a.setFromMatrixPosition(d.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(h),l++}else if(d.isRectAreaLight){let e=i.rectArea[c];e.position.setFromMatrixPosition(d.matrixWorld),e.position.applyMatrix4(h),s.identity(),o.copy(d.matrixWorld),o.premultiply(h),s.extractRotation(o),e.halfWidth.set(.5*d.width,0,0),e.halfHeight.set(0,.5*d.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(d.isPointLight){let e=i.point[r];e.position.setFromMatrixPosition(d.matrixWorld),e.position.applyMatrix4(h),r++}else if(d.isHemisphereLight){let e=i.hemi[u];e.direction.setFromMatrixPosition(d.matrixWorld),e.direction.transformDirection(h),u++}}},state:i}}function AX(e,t){let n=new CX(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function TX(e,t){let n=new WeakMap;return{get:function(r,i=0){let a,o=n.get(r);return void 0===o?(a=new AX(e,t),n.set(r,[a])):i>=o.length?(a=new AX(e,t),o.push(a)):a=o[i],a},dispose:function(){n=new WeakMap}}}var MX=class extends mG{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=tV,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},PX=class extends mG{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new tH,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},DX="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",kX="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function OX(e,t,n){let r=new uW,i=new AV,a=new AV,o=new KV,s=new MX({depthPacking:nV}),l=new PX,c={},u=n.maxTextureSize,h={[qF]:XF,[XF]:qF,[YF]:YF},d=new ZG({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new AV},radius:{value:4}},vertexShader:DX,fragmentShader:kX}),f=d.clone();f.defines.HORIZONTAL_PASS=1;let p=new DG;p.setAttribute("position",new wG(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let m=new GG(p,d),g=this;function v(n,r){let a=t.update(m);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new ZV(i.x,i.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,d,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,m,null)}function y(t,n,r,i,a,o){let u=null,d=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==d)u=d;else if(u=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){let e=u.uuid,t=n.uuid,r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=u.clone(),r[t]=i),u=i}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=o===WF?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],u.alphaMap=n.alphaMap,u.alphaTest=n.alphaTest,u.map=n.map,u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.displacementMap=n.displacementMap,u.displacementScale=n.displacementScale,u.displacementBias=n.displacementBias,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,!0===r.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(r.matrixWorld),u.nearDistance=i,u.farDistance=a),u}function w(n,i,a,o,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===WF)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);let r=t.update(n),i=n.material;if(Array.isArray(i)){let t=r.groups;for(let l=0,c=t.length;l<c;l++){let c=t[l],u=i[c.materialIndex];if(u&&u.visible){let t=y(n,u,o,a.near,a.far,s);e.renderBufferDirect(a,null,r,t,n,c)}}}else if(i.visible){let t=y(n,i,o,a.near,a.far,s);e.renderBufferDirect(a,null,r,t,n,null)}}let l=n.children;for(let e=0,t=l.length;e<t;e++)w(l[e],i,a,o,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=HF,this.render=function(t,n,s){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===t.length)return;let l=e.getRenderTarget(),c=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(QF),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let l=0,c=t.length;l<c;l++){let c=t[l],h=c.shadow;if(void 0===h){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===h.autoUpdate&&!1===h.needsUpdate)continue;i.copy(h.mapSize);let f=h.getFrameExtents();if(i.multiply(f),a.copy(h.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/f.x),i.x=a.x*f.x,h.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/f.y),i.y=a.y*f.y,h.mapSize.y=a.y)),null===h.map){let e=this.type!==WF?{minFilter:VU,magFilter:VU}:{};h.map=new ZV(i.x,i.y,e),h.map.texture.name=c.name+".shadowMap",h.camera.updateProjectionMatrix()}e.setRenderTarget(h.map),e.clear();let p=h.getViewportCount();for(let e=0;e<p;e++){let t=h.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),d.viewport(o),h.updateMatrices(c,e),r=h.getFrustum(),w(n,s,h.camera,c,this.type)}!0!==h.isPointLightShadow&&this.type===WF&&v(h,s),h.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(l,c,h)}}function IX(e,t,n){let r=n.isWebGL2,i=new function(){let t=!1,n=new KV,r=null,i=new KV(0,0,0,0);return{setMask:function(n){r!==n&&!t&&(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(e){e?U(2929):j(2929)},setMask:function(r){n!==r&&!t&&(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case vU:e.depthFunc(512);break;case yU:e.depthFunc(519);break;case wU:e.depthFunc(513);break;case bU:e.depthFunc(515);break;case xU:e.depthFunc(514);break;case _U:e.depthFunc(518);break;case SU:e.depthFunc(516);break;case EU:e.depthFunc(517);break;default:e.depthFunc(515)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},o=new function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?U(2960):j(2960))},setMask:function(r){n!==r&&!t&&(e.stencilMask(r),n=r)},setFunc:function(t,n,o){(r!==t||i!==n||a!==o)&&(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){(o!==t||s!==n||l!==r)&&(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null}}},s=new WeakMap,l=new WeakMap,c={},u={},h=new WeakMap,d=[],f=null,p=!1,m=null,g=null,v=null,y=null,w=null,b=null,x=null,_=!1,S=null,E=null,C=null,A=null,T=null,M=e.getParameter(35661),P=!1,D=0,k=e.getParameter(7938);-1!==k.indexOf("WebGL")?(D=parseFloat(/^WebGL (\d)/.exec(k)[1]),P=D>=1):-1!==k.indexOf("OpenGL ES")&&(D=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),P=D>=2);let O=null,I={},R=e.getParameter(3088),L=e.getParameter(2978),N=(new KV).fromArray(R),z=(new KV).fromArray(L);function B(t,n,r){let i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let t=0;t<r;t++)e.texImage2D(n+t,0,6408,1,1,0,6408,5121,i);return a}let F={};function U(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function j(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}F[3553]=B(3553,3553,1),F[34067]=B(34067,34069,6),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),U(2929),a.setFunc(bU),W(!1),q(jF),U(2884),G(QF);let V={[tU]:32774,[nU]:32778,[rU]:32779};if(r)V[iU]=32775,V[aU]=32776;else{let e=t.get("EXT_blend_minmax");null!==e&&(V[iU]=e.MIN_EXT,V[aU]=e.MAX_EXT)}let H={[oU]:0,[sU]:1,[lU]:768,[uU]:770,[gU]:776,[pU]:774,[dU]:772,[cU]:769,[hU]:771,[mU]:775,[fU]:773};function G(t,n,r,i,a,o,s,l){if(t!==QF){if(!1===p&&(U(3042),p=!0),t===eU)a=a||n,o=o||r,s=s||i,(n!==g||a!==w)&&(e.blendEquationSeparate(V[n],V[a]),g=n,w=a),(r!==v||i!==y||o!==b||s!==x)&&(e.blendFuncSeparate(H[r],H[i],H[o],H[s]),v=r,y=i,b=o,x=s),m=t,_=!1;else if(t!==m||l!==_){if((g!==tU||w!==tU)&&(e.blendEquation(32774),g=tU,w=tU),l)switch(t){case KF:e.blendFuncSeparate(1,771,1,771);break;case ZF:e.blendFunc(1,1);break;case JF:e.blendFuncSeparate(0,769,0,1);break;case $F:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case KF:e.blendFuncSeparate(770,771,1,771);break;case ZF:e.blendFunc(770,1);break;case JF:e.blendFuncSeparate(0,769,0,1);break;case $F:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}v=null,y=null,b=null,x=null,m=t,_=l}}else!0===p&&(j(3042),p=!1)}function W(t){S!==t&&(t?e.frontFace(2304):e.frontFace(2305),S=t)}function q(t){t!==UF?(U(2884),t!==E&&(t===jF?e.cullFace(1029):t===VF?e.cullFace(1028):e.cullFace(1032))):j(2884),E=t}function X(t,n,r){t?(U(32823),(A!==n||T!==r)&&(e.polygonOffset(n,r),A=n,T=r)):j(32823)}return{buffers:{color:i,depth:a,stencil:o},enable:U,disable:j,bindFramebuffer:function(t,n){return u[t]!==n&&(e.bindFramebuffer(t,n),u[t]=n,r&&(36009===t&&(u[36160]=n),36160===t&&(u[36009]=n)),!0)},drawBuffers:function(r,i){let a=d,o=!1;if(r)if(a=h.get(i),void 0===a&&(a=[],h.set(i,a)),r.isWebGLMultipleRenderTargets){let e=r.texture;if(a.length!==e.length||36064!==a[0]){for(let t=0,n=e.length;t<n;t++)a[t]=36064+t;a.length=e.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:G,setMaterial:function(e,t){e.side===YF?j(2884):U(2884);let n=e.side===XF;t&&(n=!n),W(n),e.blending===KF&&!1===e.transparent?G(QF):G(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),i.setMask(e.colorWrite);let r=e.stencilWrite;o.setTest(r),r&&(o.setMask(e.stencilWriteMask),o.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),o.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),X(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?U(32926):j(32926)},setFlipSided:W,setCullFace:q,setLineWidth:function(t){t!==C&&(P&&e.lineWidth(t),C=t)},setPolygonOffset:X,setScissorTest:function(e){e?U(3089):j(3089)},activeTexture:function(t){void 0===t&&(t=33984+M-1),O!==t&&(e.activeTexture(t),O=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===O?33984+M-1:O);let i=I[r];void 0===i&&(i={type:void 0,texture:void 0},I[r]=i),(i.type!==t||i.texture!==n)&&(O!==r&&(e.activeTexture(r),O=r),e.bindTexture(t,n||F[t]),i.type=t,i.texture=n)},unbindTexture:function(){let t=I[O];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(t,n){let r=l.get(n);void 0===r&&(r=new WeakMap,l.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){let r=l.get(n).get(t);s.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),s.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===N.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),N.copy(t))},viewport:function(t){!1===z.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),z.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===r&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),c={},O=null,I={},u={},h=new WeakMap,d=[],f=null,p=!1,m=null,g=null,v=null,y=null,w=null,b=null,x=null,_=!1,S=null,E=null,C=null,A=null,T=null,N.set(0,0,e.canvas.width,e.canvas.height),z.set(0,0,e.canvas.width,e.canvas.height),i.reset(),a.reset(),o.reset()}}}function RX(e,t,n,r,i,a,o){let s,l=i.isWebGL2,c=i.maxTextures,u=i.maxCubemapSize,h=i.maxTextureSize,d=i.maxSamples,f=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,g=new WeakMap,v=!1;try{v=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function y(e,t){return v?new OffscreenCanvas(e,t):OV("canvas")}function w(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let r=t?_V:Math.floor,a=r(i*e.width),o=r(i*e.height);void 0===s&&(s=y(a,o));let l=n?y(a,o):s;return l.width=a,l.height=o,l.getContext("2d").drawImage(e,0,0,a,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+o+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return bV(e.width)&&bV(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==VU&&e.minFilter!==WU}function _(t){e.generateMipmap(t)}function S(n,r,i,a,o=!1){if(!1===l)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=r;return 6403===r&&(5126===i&&(s=33326),5131===i&&(s=33325),5121===i&&(s=33321)),33319===r&&(5126===i&&(s=33328),5131===i&&(s=33327),5121===i&&(s=33323)),6408===r&&(5126===i&&(s=34836),5131===i&&(s=34842),5121===i&&(s=a===eV&&!1===o?35907:32856),32819===i&&(s=32854),32820===i&&(s=32855)),(33325===s||33326===s||33327===s||33328===s||34842===s||34836===s)&&t.get("EXT_color_buffer_float"),s}function E(e,t,n){return!0===x(e,n)||e.isFramebufferTexture&&e.minFilter!==VU&&e.minFilter!==WU?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function C(e){return e===VU||e===HU||e===GU?9728:9729}function A(e){let t=e.target;t.removeEventListener("dispose",A),function(e){let t=r.get(e);if(void 0===t.__webglInit)return;let n=e.source,i=g.get(n);if(i){let r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&M(e),0===Object.keys(i).length&&g.delete(n)}r.remove(e)}(t),t.isVideoTexture&&m.delete(t)}function T(t){let n=t.target;n.removeEventListener("dispose",T),function(t){let n=t.texture,i=r.get(t),a=r.get(n);if(void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(i.__webglFramebuffer[t]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[t]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let t=0;t<i.__webglColorRenderbuffer.length;t++)i.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[t]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let t=0,i=n.length;t<i;t++){let i=r.get(n[t]);i.__webglTexture&&(e.deleteTexture(i.__webglTexture),o.memory.textures--),r.remove(n[t])}r.remove(n),r.remove(t)}(n)}function M(t){let n=r.get(t);e.deleteTexture(n.__webglTexture);let i=t.source;delete g.get(i)[n.__cacheKey],o.memory.textures--}let P=0;function D(e,t){let i=r.get(e);if(e.isVideoTexture&&function(e){let t=o.render.frame;m.get(e)!==t&&(m.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){let n=e.image;if(null===n)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==n.complete)return void L(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,i.__webglTexture,33984+t)}let k={[FU]:10497,[UU]:33071,[jU]:33648},O={[VU]:9728,[HU]:9984,[GU]:9986,[WU]:9729,[qU]:9985,[XU]:9987};function I(n,a,o){if(o?(e.texParameteri(n,10242,k[a.wrapS]),e.texParameteri(n,10243,k[a.wrapT]),(32879===n||35866===n)&&e.texParameteri(n,32882,k[a.wrapR]),e.texParameteri(n,10240,O[a.magFilter]),e.texParameteri(n,10241,O[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),(32879===n||35866===n)&&e.texParameteri(n,32882,33071),(a.wrapS!==UU||a.wrapT!==UU)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,C(a.magFilter)),e.texParameteri(n,10241,C(a.minFilter)),a.minFilter!==VU&&a.minFilter!==WU&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){let o=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===VU||a.minFilter!==GU&&a.minFilter!==XU||a.type===ej&&!1===t.has("OES_texture_float_linear")||!1===l&&a.type===tj&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function R(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",A));let i=n.source,a=g.get(i);void 0===a&&(a={},g.set(i,a));let s=function(e){let t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;let i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&M(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function L(t,i,o){let s=3553;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=35866),i.isData3DTexture&&(s=32879);let c=R(t,i),u=i.source;n.bindTexture(s,t.__webglTexture,33984+o);let d=r.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);let t=function(e){return!l&&(e.wrapS!==UU||e.wrapT!==UU||e.minFilter!==VU&&e.minFilter!==WU)}(i)&&!1===b(i.image),r=w(i.image,t,!1,h);r=j(i,r);let f=b(r)||l,p=a.convert(i.format,i.encoding),m=a.convert(i.type),g=S(i.internalFormat,p,m,i.encoding,i.isVideoTexture);I(s,i,f);let v,y=i.mipmaps,C=l&&!0!==i.isVideoTexture,A=void 0===d.__version||!0===c,T=E(i,r,f);if(i.isDepthTexture)g=6402,l?g=i.type===ej?36012:i.type===$U?33190:i.type===ij?35056:33189:i.type===ej&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===cj&&6402===g&&i.type!==ZU&&i.type!==$U&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=$U,m=a.convert(i.type)),i.format===uj&&6402===g&&(g=34041,i.type!==ij&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=ij,m=a.convert(i.type))),A&&(C?n.texStorage2D(3553,1,g,r.width,r.height):n.texImage2D(3553,0,g,r.width,r.height,0,p,m,null));else if(i.isDataTexture)if(y.length>0&&f){C&&A&&n.texStorage2D(3553,T,g,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)v=y[e],C?n.texSubImage2D(3553,e,0,0,v.width,v.height,p,m,v.data):n.texImage2D(3553,e,g,v.width,v.height,0,p,m,v.data);i.generateMipmaps=!1}else C?(A&&n.texStorage2D(3553,T,g,r.width,r.height),n.texSubImage2D(3553,0,0,0,r.width,r.height,p,m,r.data)):n.texImage2D(3553,0,g,r.width,r.height,0,p,m,r.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){C&&A&&n.texStorage3D(35866,T,g,y[0].width,y[0].height,r.depth);for(let e=0,t=y.length;e<t;e++)v=y[e],i.format!==oj?null!==p?C?n.compressedTexSubImage3D(35866,e,0,0,0,v.width,v.height,r.depth,p,v.data,0,0):n.compressedTexImage3D(35866,e,g,v.width,v.height,r.depth,0,v.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C?n.texSubImage3D(35866,e,0,0,0,v.width,v.height,r.depth,p,m,v.data):n.texImage3D(35866,e,g,v.width,v.height,r.depth,0,p,m,v.data)}else{C&&A&&n.texStorage2D(3553,T,g,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)v=y[e],i.format!==oj?null!==p?C?n.compressedTexSubImage2D(3553,e,0,0,v.width,v.height,p,v.data):n.compressedTexImage2D(3553,e,g,v.width,v.height,0,v.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):C?n.texSubImage2D(3553,e,0,0,v.width,v.height,p,m,v.data):n.texImage2D(3553,e,g,v.width,v.height,0,p,m,v.data)}else if(i.isDataArrayTexture)C?(A&&n.texStorage3D(35866,T,g,r.width,r.height,r.depth),n.texSubImage3D(35866,0,0,0,0,r.width,r.height,r.depth,p,m,r.data)):n.texImage3D(35866,0,g,r.width,r.height,r.depth,0,p,m,r.data);else if(i.isData3DTexture)C?(A&&n.texStorage3D(32879,T,g,r.width,r.height,r.depth),n.texSubImage3D(32879,0,0,0,0,r.width,r.height,r.depth,p,m,r.data)):n.texImage3D(32879,0,g,r.width,r.height,r.depth,0,p,m,r.data);else if(i.isFramebufferTexture){if(A)if(C)n.texStorage2D(3553,T,g,r.width,r.height);else{let e=r.width,t=r.height;for(let r=0;r<T;r++)n.texImage2D(3553,r,g,e,t,0,p,m,null),e>>=1,t>>=1}}else if(y.length>0&&f){C&&A&&n.texStorage2D(3553,T,g,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)v=y[e],C?n.texSubImage2D(3553,e,0,0,p,m,v):n.texImage2D(3553,e,g,p,m,v);i.generateMipmaps=!1}else C?(A&&n.texStorage2D(3553,T,g,r.width,r.height),n.texSubImage2D(3553,0,0,0,p,m,r)):n.texImage2D(3553,0,g,p,m,r);x(i,f)&&_(s),d.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function N(t,i,o,s,l){let c=a.convert(o.format,o.encoding),u=a.convert(o.type),h=S(o.internalFormat,c,u,o.encoding);r.get(i).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,i.width,i.height,i.depth,0,c,u,null):n.texImage2D(l,0,h,i.width,i.height,0,c,u,null)),n.bindFramebuffer(36160,t),U(i)?f.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(o).__webglTexture,0,F(i)):(3553===l||l>=34069&&l<=34074)&&e.framebufferTexture2D(36160,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function z(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r||U(n)){let t=n.depthTexture;t&&t.isDepthTexture&&(t.type===ej?i=36012:t.type===$U&&(i=33190));let r=F(n);U(n)?f.renderbufferStorageMultisampleEXT(36161,r,i,n.width,n.height):e.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){let i=F(n);r&&!1===U(n)?e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height):U(n)?f.renderbufferStorageMultisampleEXT(36161,i,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{let t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<t.length;i++){let o=t[i],s=a.convert(o.format,o.encoding),l=a.convert(o.type),c=S(o.internalFormat,s,l,o.encoding),u=F(n);r&&!1===U(n)?e.renderbufferStorageMultisample(36161,u,c,n.width,n.height):U(n)?f.renderbufferStorageMultisampleEXT(36161,u,c,n.width,n.height):e.renderbufferStorage(36161,c,n.width,n.height)}}e.bindRenderbuffer(36161,null)}function B(t){let i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(i.depthTexture).__webglTexture||i.depthTexture.image.width!==i.width||i.depthTexture.image.height!==i.height)&&(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),D(i.depthTexture,0);let a=r.get(i.depthTexture).__webglTexture,o=F(i);if(i.depthTexture.format===cj)U(i)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==uj)throw new Error("Unknown depthTexture format");U(i)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(36160,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),z(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),z(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function F(e){return Math.min(d,e.samples)}function U(e){let n=r.get(e);return l&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function j(e,n){let r=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===uV||r!==$j&&(r===eV?!1===l?!0===t.has("EXT_sRGB")&&i===oj?(e.format=uV,e.minFilter=WU,e.generateMipmaps=!1):n=WV.sRGBToLinear(n):(i!==oj||a!==YU)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){let e=P;return e>=c&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+c),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=D,this.setTexture2DArray=function(e,t){let i=r.get(e);e.version>0&&i.__version!==e.version?L(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){let i=r.get(e);e.version>0&&i.__version!==e.version?L(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){let o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;let s=R(t,i),c=i.source;n.bindTexture(34067,t.__webglTexture,33984+o);let h=r.get(c);if(c.version!==h.__version||!0===s){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);let t=i.isCompressedTexture||i.image[0].isCompressedTexture,r=i.image[0]&&i.image[0].isDataTexture,d=[];for(let e=0;e<6;e++)d[e]=t||r?r?i.image[e].image:i.image[e]:w(i.image[e],!1,!0,u),d[e]=j(i,d[e]);let f,p=d[0],m=b(p)||l,g=a.convert(i.format,i.encoding),v=a.convert(i.type),y=S(i.internalFormat,g,v,i.encoding),C=l&&!0!==i.isVideoTexture,A=void 0===h.__version||!0===s,T=E(i,p,m);if(I(34067,i,m),t){C&&A&&n.texStorage2D(34067,T,y,p.width,p.height);for(let e=0;e<6;e++){f=d[e].mipmaps;for(let t=0;t<f.length;t++){let r=f[t];i.format!==oj?null!==g?C?n.compressedTexSubImage2D(34069+e,t,0,0,r.width,r.height,g,r.data):n.compressedTexImage2D(34069+e,t,y,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):C?n.texSubImage2D(34069+e,t,0,0,r.width,r.height,g,v,r.data):n.texImage2D(34069+e,t,y,r.width,r.height,0,g,v,r.data)}}}else{f=i.mipmaps,C&&A&&(f.length>0&&T++,n.texStorage2D(34067,T,y,d[0].width,d[0].height));for(let e=0;e<6;e++)if(r){C?n.texSubImage2D(34069+e,0,0,0,d[e].width,d[e].height,g,v,d[e].data):n.texImage2D(34069+e,0,y,d[e].width,d[e].height,0,g,v,d[e].data);for(let t=0;t<f.length;t++){let r=f[t].image[e].image;C?n.texSubImage2D(34069+e,t+1,0,0,r.width,r.height,g,v,r.data):n.texImage2D(34069+e,t+1,y,r.width,r.height,0,g,v,r.data)}}else{C?n.texSubImage2D(34069+e,0,0,0,g,v,d[e]):n.texImage2D(34069+e,0,y,g,v,d[e]);for(let t=0;t<f.length;t++){let r=f[t];C?n.texSubImage2D(34069+e,t+1,0,0,g,v,r.image[e]):n.texImage2D(34069+e,t+1,y,g,v,r.image[e])}}}x(i,m)&&_(34067),h.__version=c.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(34067,o.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){let i=r.get(e);void 0!==t&&N(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&B(e)},this.setupRenderTarget=function(t){let s=t.texture,c=r.get(t),u=r.get(s);t.addEventListener("dispose",T),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=s.version,o.memory.textures++);let h=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,f=b(t)||l;if(h){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else{if(c.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers){let n=t.texture;for(let t=0,i=n.length;t<i;t++){let i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&t.samples>0&&!1===U(t)){let r=d?s:[s];c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){let i=r[n];c.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer[n]);let o=a.convert(i.format,i.encoding),s=a.convert(i.type),l=S(i.internalFormat,o,s,i.encoding,!0===t.isXRRenderTarget),u=F(t);e.renderbufferStorageMultisample(36161,u,l,t.width,t.height),e.framebufferRenderbuffer(36160,36064+n,36161,c.__webglColorRenderbuffer[n])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),z(c.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,u.__webglTexture),I(34067,s,f);for(let e=0;e<6;e++)N(c.__webglFramebuffer[e],t,s,36064,34069+e);x(s,f)&&_(34067),n.unbindTexture()}else if(d){let e=t.texture;for(let i=0,a=e.length;i<a;i++){let a=e[i],o=r.get(a);n.bindTexture(3553,o.__webglTexture),I(3553,a,f),N(c.__webglFramebuffer,t,a,36064+i,3553),x(a,f)&&_(3553)}n.unbindTexture()}else{let e=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(l?e=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(e,u.__webglTexture),I(e,s,f),N(c.__webglFramebuffer,t,s,36064,e),x(s,f)&&_(e),n.unbindTexture()}t.depthBuffer&&B(t)},this.updateRenderTargetMipmap=function(e){let t=b(e)||l,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let a=0,o=i.length;a<o;a++){let o=i[a];if(x(o,t)){let t=e.isWebGLCubeRenderTarget?34067:3553,i=r.get(o).__webglTexture;n.bindTexture(t,i),_(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(l&&t.samples>0&&!1===U(t)){let i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=16384,l=[],c=t.stencilBuffer?33306:36096,u=r.get(t),h=!0===t.isWebGLMultipleRenderTargets;if(h)for(let t=0;t<i.length;t++)n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,null),n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,null,0);n.bindFramebuffer(36008,u.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,u.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(36064+n),t.depthBuffer&&l.push(c);let d=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===d&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),h&&e.framebufferRenderbuffer(36008,36064,36161,u.__webglColorRenderbuffer[n]),!0===d&&(e.invalidateFramebuffer(36008,[c]),e.invalidateFramebuffer(36009,[c])),h){let t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),p&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),h)for(let t=0;t<i.length;t++){n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,u.__webglColorRenderbuffer[t]);let a=r.get(i[t]).__webglTexture;n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,a,0)}n.bindFramebuffer(36009,u.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=B,this.setupFrameBufferTexture=N,this.useMultisampledRTT=U}function LX(e,t,n){let r=n.isWebGL2;return{convert:function(n,i=null){let a;if(n===YU)return 5121;if(n===nj)return 32819;if(n===rj)return 32820;if(n===QU)return 5120;if(n===KU)return 5122;if(n===ZU)return 5123;if(n===JU)return 5124;if(n===$U)return 5125;if(n===ej)return 5126;if(n===tj)return r?5131:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(n===aj)return 6406;if(n===oj)return 6408;if(n===sj)return 6409;if(n===lj)return 6410;if(n===cj)return 6402;if(n===uj)return 34041;if(n===uV)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(n===hj)return 6403;if(n===dj)return 36244;if(n===fj)return 33319;if(n===pj)return 33320;if(n===mj)return 36249;if(n===gj||n===vj||n===yj||n===wj)if(i===eV){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(n===gj)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===vj)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===yj)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===wj)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(n===gj)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===vj)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===yj)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===wj)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===bj||n===xj||n===_j||n===Sj){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(n===bj)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===xj)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===_j)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Sj)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Ej)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===Cj||n===Aj){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(n===Cj)return i===eV?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===Aj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(n===Tj||n===Mj||n===Pj||n===Dj||n===kj||n===Oj||n===Ij||n===Rj||n===Lj||n===Nj||n===zj||n===Bj||n===Fj||n===Uj){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(n===Tj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Mj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Pj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Dj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===kj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Oj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Ij)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Rj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Lj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Nj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===zj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Bj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Fj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Uj)return i===eV?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===jj){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(n===jj)return i===eV?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===Vj||n===Hj||n===Gj||n===Wj){if(a=t.get("EXT_texture_compression_rgtc"),null===a)return null;if(n===jj)return a.COMPRESSED_RED_RGTC1_EXT;if(n===Hj)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Gj)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Wj)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===ij?r?34042:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}}}var NX=class extends $G{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},zX=class extends nG{constructor(){super(),this.isGroup=!0,this.type="Group"}},BX={type:"move"},FX=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new zX,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new zX,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new tH,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new tH),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new zX,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new tH,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new tH),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(let r of e.hand.values()){let e=t.getJointPose(r,n),i=this._getHandJoint(l,r);null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.jointRadius=e.radius),i.visible=null!==e}let r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],o=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&o>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(BX)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){let n=new zX;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}},UX=class extends QV{constructor(e,t,n,r,i,a,o,s,l,c){if((c=void 0!==c?c:cj)!==cj&&c!==uj)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===cj&&(n=$U),void 0===n&&c===uj&&(n=ij),super(null,r,i,a,o,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:VU,this.minFilter=void 0!==s?s:VU,this.flipY=!1,this.generateMipmaps=!1}},jX=class extends hV{constructor(e,t){super();let n=this,r=null,i=1,a=null,o="local-floor",s=1,l=null,c=null,u=null,h=null,d=null,f=null,p=t.getContextAttributes(),m=null,g=null,v=[],y=[],w=new Set,b=new Map,x=new $G;x.layers.enable(1),x.viewport=new KV;let _=new $G;_.layers.enable(2),_.viewport=new KV;let S=[x,_],E=new NX;E.layers.enable(1),E.layers.enable(2);let C=null,A=null;function T(e){let t=y.indexOf(e.inputSource);if(-1===t)return;let n=v[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}function M(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",M),r.removeEventListener("inputsourceschange",P);for(let e=0;e<v.length;e++){let t=y[e];null!==t&&(y[e]=null,v[e].disconnect(t))}C=null,A=null,e.setRenderTarget(m),d=null,h=null,u=null,r=null,g=null,R.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function P(e){for(let t=0;t<e.removed.length;t++){let n=e.removed[t],r=y.indexOf(n);r>=0&&(y[r]=null,v[r].disconnect(n))}for(let t=0;t<e.added.length;t++){let n=e.added[t],r=y.indexOf(n);if(-1===r){for(let e=0;e<v.length;e++){if(e>=y.length){y.push(n),r=e;break}if(null===y[e]){y[e]=n,r=e;break}}if(-1===r)break}let i=v[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=v[e];return void 0===t&&(t=new FX,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new FX,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new FX,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==h?h:d},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(m=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",M),r.addEventListener("inputsourceschange",P),!0!==p.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){let n={antialias:void 0!==r.renderState.layers||p.antialias,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:i};d=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:d}),g=new ZV(d.framebufferWidth,d.framebufferHeight,{format:oj,type:YU,encoding:e.outputEncoding,stencilBuffer:p.stencil})}else{let n=null,a=null,o=null;p.depth&&(o=p.stencil?35056:33190,n=p.stencil?uj:cj,a=p.stencil?ij:$U);let s={colorFormat:32856,depthFormat:o,scaleFactor:i};u=new XRWebGLBinding(r,t),h=u.createProjectionLayer(s),r.updateRenderState({layers:[h]}),g=new ZV(h.textureWidth,h.textureHeight,{format:oj,type:YU,depthTexture:new UX(h.textureWidth,h.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0}),e.properties.get(g).__ignoreDepthValues=h.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await r.requestReferenceSpace(o),R.setContext(r),R.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};let D=new tH,k=new tH;function O(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;E.near=_.near=x.near=e.near,E.far=_.far=x.far=e.far,(C!==E.near||A!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),C=E.near,A=E.far);let t=e.parent,n=E.cameras;O(E,t);for(let e=0;e<n.length;e++)O(n[e],t);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),e.matrix.copy(E.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);let i=e.children;for(let e=0,t=i.length;e<t;e++)i[e].updateMatrixWorld(!0);2===n.length?function(e,t,n){D.setFromMatrixPosition(t.matrixWorld),k.setFromMatrixPosition(n.matrixWorld);let r=D.distanceTo(k),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*u,f=o*h,p=r/(-u+h),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();let g=o+p,v=s+p,y=d-m,w=f+(r-m),b=l*s/v*g,x=c*s/v*g;e.projectionMatrix.makePerspective(y,w,b,x,g,v)}(E,x,_):E.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(null!==h||null!==d)return s},this.setFoveation=function(e){s=e,null!==h&&(h.fixedFoveation=e),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=e)},this.getPlanes=function(){return w};let I=null,R=new hW;R.setAnimationLoop((function(t,r){if(c=r.getViewerPose(l||a),f=r,null!==c){let t=c.views;null!==d&&(e.setRenderTargetFramebuffer(g,d.framebuffer),e.setRenderTarget(g));let n=!1;t.length!==E.cameras.length&&(E.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){let i=t[r],a=null;if(null!==d)a=d.getViewport(i);else{let t=u.getViewSubImage(h,i);a=t.viewport,0===r&&(e.setRenderTargetTextures(g,t.colorTexture,h.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(g))}let o=S[r];void 0===o&&(o=new $G,o.layers.enable(r),o.viewport=new KV,S[r]=o),o.matrix.fromArray(i.transform.matrix),o.projectionMatrix.fromArray(i.projectionMatrix),o.viewport.set(a.x,a.y,a.width,a.height),0===r&&E.matrix.copy(o.matrix),!0===n&&E.cameras.push(o)}}for(let e=0;e<v.length;e++){let t=y[e],n=v[e];null!==t&&void 0!==n&&n.update(t,r,l||a)}if(I&&I(t,r),r.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:r.detectedPlanes});let e=null;for(let t of w)r.detectedPlanes.has(t)||(null===e&&(e=[]),e.push(t));if(null!==e)for(let t of e)w.delete(t),b.delete(t),n.dispatchEvent({type:"planeremoved",data:t});for(let e of r.detectedPlanes)if(w.has(e)){let t=b.get(e);e.lastChangedTime>t&&(b.set(e,e.lastChangedTime),n.dispatchEvent({type:"planechanged",data:e}))}else w.add(e),b.set(e,r.lastChangedTime),n.dispatchEvent({type:"planeadded",data:e})}f=null})),this.setAnimationLoop=function(e){I=e},this.dispose=function(){}}};function VX(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===XF&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===XF&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);let i,a,o=t.get(r).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;let t=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*t}r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap?i=r.emissiveMap:r.clearcoatMap?i=r.clearcoatMap:r.clearcoatNormalMap?i=r.clearcoatNormalMap:r.clearcoatRoughnessMap?i=r.clearcoatRoughnessMap:r.iridescenceMap?i=r.iridescenceMap:r.iridescenceThicknessMap?i=r.iridescenceThicknessMap:r.specularIntensityMap?i=r.specularIntensityMap:r.specularColorMap?i=r.specularColorMap:r.transmissionMap?i=r.transmissionMap:r.thicknessMap?i=r.thicknessMap:r.sheenColorMap?i=r.sheenColorMap:r.sheenRoughnessMap&&(i=r.sheenRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),n.uvTransform.value.copy(i.matrix)),r.aoMap?a=r.aoMap:r.lightMap&&(a=r.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,QG(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,i,a,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap)),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===XF&&e.clearcoatNormalScale.value.negate())),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap)),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,o)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){let i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){let n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function HX(e,t,n,r){let i={},a={},o=[],s=n.isWebGL2?e.getParameter(35375):0;function l(e,t,n){let r=e.value;if(void 0===n[t]){if("number"==typeof r)n[t]=r;else{let e=Array.isArray(r)?r:[r],i=[];for(let t=0;t<e.length;t++)i.push(e[t].clone());n[t]=i}return!0}if("number"==typeof r){if(n[t]!==r)return n[t]=r,!0}else{let e=Array.isArray(n[t])?n[t]:[n[t]],i=Array.isArray(r)?r:[r];for(let t=0;t<e.length;t++){let n=e[t];if(!1===n.equals(i[t]))return n.copy(i[t]),!0}}return!1}function c(e){let t={boundary:0,storage:0};return"number"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){let n=t.target;n.removeEventListener("dispose",u);let r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){let n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){let d=i[n.id];void 0===d&&(function(e){let t=e.uniforms,n=0,r=0;for(let e=0,i=t.length;e<i;e++){let i=t[e],a={boundary:0,storage:0},o=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=o.length;e<t;e++){let t=c(o[e]);a.boundary+=t.boundary,a.storage+=t.storage}i.__data=new Float32Array(a.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,e>0&&(r=n%16,0!==r&&16-r-a.boundary<0&&(n+=16-r,i.__offset=n)),n+=a.storage}r=n%16,r>0&&(n+=16-r),e.__size=n,e.__cache={}}(n),d=function(t){let n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;let r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",u));let f=h.program;r.updateUBOMapping(n,f);let p=t.render.frame;a[n.id]!==p&&(function(t){let n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(let t=0,n=r.length;t<n;t++){let n=r[t];if(!0===l(n,t,a)){let t=n.__offset,r=Array.isArray(n.value)?n.value:[n.value],i=0;for(let a=0;a<r.length;a++){let o=r[a],s=c(o);"number"==typeof o?(n.__data[0]=o,e.bufferSubData(35345,t+i,n.__data)):o.isMatrix3?(n.__data[0]=o.elements[0],n.__data[1]=o.elements[1],n.__data[2]=o.elements[2],n.__data[3]=o.elements[0],n.__data[4]=o.elements[3],n.__data[5]=o.elements[4],n.__data[6]=o.elements[5],n.__data[7]=o.elements[0],n.__data[8]=o.elements[6],n.__data[9]=o.elements[7],n.__data[10]=o.elements[8],n.__data[11]=o.elements[0]):(o.toArray(n.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,t,n.__data)}}e.bindBuffer(35345,null)}(n),a[n.id]=p)},dispose:function(){for(let t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}function GX(e={}){this.isWebGLRenderer=!0;let t,n=void 0!==e.canvas?e.canvas:function(){let e=OV("canvas");return e.style.display="block",e}(),r=void 0!==e.context?e.context:null,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;t=null!==r?r.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;let h=null,d=null,f=[],p=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=$j,this.physicallyCorrectLights=!1,this.toneMapping=MU,this.toneMappingExposure=1;let m=this,g=!1,v=0,y=0,w=null,b=-1,x=null,_=new KV,S=new KV,E=null,C=n.width,A=n.height,T=1,M=null,P=null,D=new KV(0,0,C,A),k=new KV(0,0,C,A),O=!1,I=new uW,R=!1,L=!1,N=null,z=new kH,B=new AV,F=new tH,U={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function j(){return null===w?T:1}let V,H,G,W,q,X,Y,Q,K,Z,J,$,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,he,de=r;function fe(e,t){for(let r=0;r<e.length;r++){let i=e[r],a=n.getContext(i,t);if(null!==a)return a}return null}try{let e={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${FF}`),n.addEventListener("webglcontextlost",ge,!1),n.addEventListener("webglcontextrestored",ve,!1),n.addEventListener("webglcontextcreationerror",ye,!1),null===de){let t=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&t.shift(),de=fe(t,e),null===de)throw fe(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===de.getShaderPrecisionFormat&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function pe(){V=new FW(de),H=new xW(de,V,e),V.init(H),ce=new LX(de,V,H),G=new IX(de,V,H),W=new VW,q=new vX,X=new RX(de,V,G,q,H,ce,W),Y=new SW(m),Q=new BW(m),K=new dW(de,H),ue=new wW(de,V,K,H),Z=new UW(de,K,W,ue),J=new qW(de,Z,K,W),oe=new WW(de,H,X),re=new _W(q),$=new gX(m,Y,Q,V,H,ue,re),ee=new VX(m,q),te=new xX,ne=new TX(V,H),ae=new yW(m,Y,Q,G,J,t,s),ie=new OX(m,J,H),he=new HX(de,W,H,G),se=new bW(de,V,W,H),le=new jW(de,V,W,H),W.programs=$.programs,m.capabilities=H,m.extensions=V,m.properties=q,m.renderLists=te,m.shadowMap=ie,m.state=G,m.info=W}pe();let me=new jX(m,de);function ge(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function ve(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;let e=W.autoReset,t=ie.enabled,n=ie.autoUpdate,r=ie.needsUpdate,i=ie.type;pe(),W.autoReset=e,ie.enabled=t,ie.autoUpdate=n,ie.needsUpdate=r,ie.type=i}function ye(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function we(e){let t=e.target;t.removeEventListener("dispose",we),function(e){(function(e){let t=q.get(e).programs;void 0!==t&&(t.forEach((function(e){$.releaseProgram(e)})),e.isShaderMaterial&&$.releaseShaderCache(e))})(e),q.remove(e)}(t)}this.xr=me,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){let e=V.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){let e=V.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(e){void 0!==e&&(T=e,this.setSize(C,A,!1))},this.getSize=function(e){return e.set(C,A)},this.setSize=function(e,t,r){me.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(C=e,A=t,n.width=Math.floor(e*T),n.height=Math.floor(t*T),!1!==r&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(C*T,A*T).floor()},this.setDrawingBufferSize=function(e,t,r){C=e,A=t,T=r,n.width=Math.floor(e*r),n.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(_)},this.getViewport=function(e){return e.copy(D)},this.setViewport=function(e,t,n,r){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,n,r),G.viewport(_.copy(D).multiplyScalar(T).floor())},this.getScissor=function(e){return e.copy(k)},this.setScissor=function(e,t,n,r){e.isVector4?k.set(e.x,e.y,e.z,e.w):k.set(e,t,n,r),G.scissor(S.copy(k).multiplyScalar(T).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(e){G.setScissorTest(O=e)},this.setOpaqueSort=function(e){M=e},this.setTransparentSort=function(e){P=e},this.getClearColor=function(e){return e.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;e&&(r|=16384),t&&(r|=256),n&&(r|=1024),de.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ge,!1),n.removeEventListener("webglcontextrestored",ve,!1),n.removeEventListener("webglcontextcreationerror",ye,!1),te.dispose(),ne.dispose(),q.dispose(),Y.dispose(),Q.dispose(),J.dispose(),ue.dispose(),he.dispose(),$.dispose(),me.dispose(),me.removeEventListener("sessionstart",xe),me.removeEventListener("sessionend",_e),N&&(N.dispose(),N=null),Se.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=U);let o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=U),X.resetTextureUnits();let a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===w?m.outputEncoding:!0===w.isXRRenderTarget?w.texture.encoding:$j,l=(r.isMeshStandardMaterial?Q:Y).get(r.envMap||o),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!r.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,g=r.toneMapped?m.toneMapping:MU,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==v?v.length:0,_=q.get(r),S=d.state.lights;if(!0===R&&(!0===L||e!==x)){let t=e===x&&r.id===b;re.setState(r,e,t)}let E=!1;r.version===_.__version?(_.needsLights&&_.lightsStateVersion!==S.state.version||_.outputEncoding!==s||i.isInstancedMesh&&!1===_.instancing||!i.isInstancedMesh&&!0===_.instancing||i.isSkinnedMesh&&!1===_.skinning||!i.isSkinnedMesh&&!0===_.skinning||_.envMap!==l||!0===r.fog&&_.fog!==a||void 0!==_.numClippingPlanes&&(_.numClippingPlanes!==re.numPlanes||_.numIntersection!==re.numIntersection)||_.vertexAlphas!==c||_.vertexTangents!==u||_.morphTargets!==h||_.morphNormals!==f||_.morphColors!==p||_.toneMapping!==g||!0===H.isWebGL2&&_.morphTargetsCount!==y)&&(E=!0):(E=!0,_.__version=r.version);let C=_.currentProgram;!0===E&&(C=Me(r,t,i));let M=!1,P=!1,D=!1,k=C.getUniforms(),O=_.uniforms;if(G.useProgram(C.program)&&(M=!0,P=!0,D=!0),r.id!==b&&(b=r.id,P=!0),M||x!==e){if(k.setValue(de,"projectionMatrix",e.projectionMatrix),H.logarithmicDepthBuffer&&k.setValue(de,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),x!==e&&(x=e,P=!0,D=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){let t=k.map.cameraPosition;void 0!==t&&t.setValue(de,F.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&k.setValue(de,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&k.setValue(de,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){k.setOptional(de,i,"bindMatrix"),k.setOptional(de,i,"bindMatrixInverse");let e=i.skeleton;e&&(H.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),k.setValue(de,"boneTexture",e.boneTexture,X),k.setValue(de,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let I=n.morphAttributes;if((void 0!==I.position||void 0!==I.normal||void 0!==I.color&&!0===H.isWebGL2)&&oe.update(i,n,r,C),(P||_.receiveShadow!==i.receiveShadow)&&(_.receiveShadow=i.receiveShadow,k.setValue(de,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(O.envMap.value=l,O.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),P&&(k.setValue(de,"toneMappingExposure",m.toneMappingExposure),_.needsLights&&function(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}(O,D),a&&!0===r.fog&&ee.refreshFogUniforms(O,a),ee.refreshMaterialUniforms(O,r,T,A,N),Kq.upload(de,_.uniformsList,O,X)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Kq.upload(de,_.uniformsList,O,X),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&k.setValue(de,"center",i.center),k.setValue(de,"modelViewMatrix",i.modelViewMatrix),k.setValue(de,"normalMatrix",i.normalMatrix),k.setValue(de,"modelMatrix",i.matrixWorld),i.previousModelViewMatrix&&k.setValue(de,"previousModelViewMatrix",i.previousModelViewMatrix),e.previousProjectionMatrix&&k.setValue(de,"previousProjectionMatrix",e.previousProjectionMatrix),r.isShaderMaterial||r.isRawShaderMaterial){let e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(H.isWebGL2){let n=e[t];he.update(n,C),he.bind(n,C)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return C}(e,t,n,r,i);G.setMaterial(r,o);let l=n.index,c=1;!0===r.wireframe&&(l=Z.getWireframeAttribute(n),c=2);let u=n.drawRange,h=n.attributes.position,f=u.start*c,p=(u.start+u.count)*c;null!==a&&(f=Math.max(f,a.start*c),p=Math.min(p,(a.start+a.count)*c)),null!==l?(f=Math.max(f,0),p=Math.min(p,l.count)):null!=h&&(f=Math.max(f,0),p=Math.min(p,h.count));let g=p-f;if(g<0||g===1/0)return;ue.setup(i,r,s,n,l);let v,y=se;if(null!==l&&(v=K.get(l),y=le,y.setIndex(v)),i.isMesh)!0===r.wireframe?(G.setLineWidth(r.wireframeLinewidth*j()),y.setMode(1)):y.setMode(4);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),G.setLineWidth(e*j()),i.isLineSegments?y.setMode(1):i.isLineLoop?y.setMode(2):y.setMode(3)}else i.isPoints?y.setMode(0):i.isSprite&&y.setMode(4);if(i.isInstancedMesh)y.renderInstances(f,g,i.count);else if(n.isInstancedBufferGeometry){let e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);y.renderInstances(f,g,t)}else y.render(f,g)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===YF&&!1===e.forceSinglePass?(e.side=XF,e.needsUpdate=!0,Me(e,t,n),e.side=qF,e.needsUpdate=!0,Me(e,t,n),e.side=YF):Me(e,t,n)}d=ne.get(e),d.init(),p.push(d),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(m.physicallyCorrectLights),e.traverse((function(t){let r=t.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++)n(r[i],e,t);else n(r,e,t)})),p.pop(),d=null};let be=null;function xe(){Se.stop()}function _e(){Se.start()}let Se=new hW;function Ee(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||I.intersectsSprite(e)){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);let t=J.update(e),i=e.material;i.visible&&h.push(e,t,i,n,F.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==W.render.frame&&(e.skeleton.update(),e.skeleton.frame=W.render.frame),!e.frustumCulled||I.intersectsObject(e))){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);let t=J.update(e),i=e.material;if(Array.isArray(i)){let r=t.groups;for(let a=0,o=r.length;a<o;a++){let o=r[a],s=i[o.materialIndex];s&&s.visible&&h.push(e,t,s,n,F.z,o)}}else i.visible&&h.push(e,t,i,n,F.z,null)}let i=e.children;for(let e=0,a=i.length;e<a;e++)Ee(i[e],t,n,r)}function Ce(e,t,n,r){let i=e.opaque,a=e.transmissive,s=e.transparent;d.setupLightsView(n),!0===R&&re.setGlobalState(m.clippingPlanes,n),a.length>0&&function(e,t,n){let r=H.isWebGL2;null===N&&(N=new ZV(1,1,{generateMipmaps:!0,type:V.has("EXT_color_buffer_half_float")?tj:YU,minFilter:XU,samples:r&&!0===o?4:0})),m.getDrawingBufferSize(B),r?N.setSize(B.x,B.y):N.setSize(_V(B.x),_V(B.y));let i=m.getRenderTarget();m.setRenderTarget(N),m.clear();let a=m.toneMapping;m.toneMapping=MU,Ae(e,t,n),m.toneMapping=a,X.updateMultisampleRenderTarget(N),X.updateRenderTargetMipmap(N),m.setRenderTarget(i)}(i,t,n),r&&G.viewport(_.copy(r)),i.length>0&&Ae(i,t,n),a.length>0&&Ae(a,t,n),s.length>0&&Ae(s,t,n),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1)}function Ae(e,t,n){let r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){let a=e[i],o=a.object,s=a.geometry,l=null===r?a.material:r,c=a.group;o.layers.test(n.layers)&&Te(o,t,n,s,l,c)}}function Te(e,t,n,r,i,a){e.onBeforeRender(m,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(m,t,n,r,e,a),!0===i.transparent&&i.side===YF&&!1===i.forceSinglePass?(i.side=XF,i.needsUpdate=!0,m.renderBufferDirect(n,t,r,i,e,a),i.side=qF,i.needsUpdate=!0,m.renderBufferDirect(n,t,r,i,e,a),i.side=YF):m.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(m,t,n,r,i,a)}function Me(e,t,n){!0!==t.isScene&&(t=U);let r=q.get(e),i=d.state.lights,a=d.state.shadowsArray,o=i.state.version,s=$.getParameters(e,i.state,a,t,n),l=$.getProgramCacheKey(s),c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Q:Y).get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",we),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===o)return Pe(e,s),u}else s.uniforms=$.getUniforms(e),e.onBuild(n,s,m),e.onBeforeCompile(s,m),u=$.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;let h=r.uniforms;(!e.isShaderMaterial&&!e.isRawShaderMaterial||!0===e.clipping)&&(h.clippingPlanes=re.uniform),Pe(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);let f=u.getUniforms(),p=Kq.seqWithValue(f.seq,h);return r.currentProgram=u,r.uniformsList=p,u}function Pe(e,t){let n=q.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Se.setAnimationLoop((function(e){be&&be(e)})),typeof self<"u"&&Se.setContext(self),this.setAnimationLoop=function(e){be=e,me.setAnimationLoop(e),null===e?Se.stop():Se.start()},me.addEventListener("sessionstart",xe),me.addEventListener("sessionend",_e),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===g)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===me.enabled&&!0===me.isPresenting&&(!0===me.cameraAutoUpdate&&me.updateCamera(t),t=me.getCamera()),!0===e.isScene&&e.onBeforeRender(m,e,t,w),d=ne.get(e,p.length),d.init(),p.push(d),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),I.setFromProjectionMatrix(z),L=this.localClippingEnabled,R=re.init(this.clippingPlanes,L),h=te.get(e,f.length),h.init(),f.push(h),Ee(e,t,0,m.sortObjects),h.finish(),!0===m.sortObjects&&h.sort(M,P),!0===R&&re.beginShadows();let n=d.state.shadowsArray;if(ie.render(n,e,t),!0===R&&re.endShadows(),!0===this.info.autoReset&&this.info.reset(),ae.render(h,e),d.setupLights(m.physicallyCorrectLights),t.isArrayCamera){let n=t.cameras;for(let t=0,r=n.length;t<r;t++){let r=n[t];Ce(h,e,r,r.viewport)}}else Ce(h,e,t);null!==w&&(X.updateMultisampleRenderTarget(w),X.updateRenderTargetMipmap(w)),!0===e.isScene&&e.onAfterRender(m,e,t),ue.resetDefaultState(),b=-1,x=null,p.pop(),d=p.length>0?p[p.length-1]:null,f.pop(),h=f.length>0?f[f.length-1]:null},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(e,t,n){q.get(e.texture).__webglTexture=t,q.get(e.depthTexture).__webglTexture=n;let r=q.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===V.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){let n=q.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){w=e,v=t,y=n;let r=!0,i=null,a=!1,o=!1;if(e){let n=q.get(e);void 0!==n.__useDefaultFramebuffer?(G.bindFramebuffer(36160,null),r=!1):void 0===n.__webglFramebuffer?X.setupRenderTarget(e):n.__hasExternalTextures&&X.rebindTextures(e,q.get(e.texture).__webglTexture,q.get(e.depthTexture).__webglTexture);let s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(o=!0);let l=q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],a=!0):i=H.isWebGL2&&e.samples>0&&!1===X.useMultisampledRTT(e)?q.get(e).__webglMultisampledFramebuffer:l,_.copy(e.viewport),S.copy(e.scissor),E=e.scissorTest}else _.copy(D).multiplyScalar(T).floor(),S.copy(k).multiplyScalar(T).floor(),E=O;if(G.bindFramebuffer(36160,i)&&H.drawBuffers&&r&&G.drawBuffers(e,i),G.viewport(_),G.scissor(S),G.setScissorTest(E),a){let r=q.get(e.texture);de.framebufferTexture2D(36160,36064,34069+t,r.__webglTexture,n)}else if(o){let r=q.get(e.texture),i=t||0;de.framebufferTextureLayer(36160,36064,r.__webglTexture,n||0,i)}b=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){G.bindFramebuffer(36160,s);try{let o=e.texture,s=o.format,l=o.type;if(s!==oj&&ce.convert(s)!==de.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");let c=l===tj&&(V.has("EXT_color_buffer_half_float")||H.isWebGL2&&V.has("EXT_color_buffer_float"));if(!(l===YU||ce.convert(l)===de.getParameter(35738)||l===ej&&(H.isWebGL2||V.has("OES_texture_float")||V.has("WEBGL_color_buffer_float"))||c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&de.readPixels(t,n,r,i,ce.convert(s),ce.convert(l),a)}finally{let e=null!==w?q.get(w).__webglFramebuffer:null;G.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){let r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);X.setTexture2D(t,0),de.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),G.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r=0){let i=t.image.width,a=t.image.height,o=ce.convert(n.format),s=ce.convert(n.type);X.setTexture2D(n,0),de.pixelStorei(37440,n.flipY),de.pixelStorei(37441,n.premultiplyAlpha),de.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?de.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?de.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):de.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&de.generateMipmap(3553),G.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r,i=0){if(m.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");let a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,c=ce.convert(r.format),u=ce.convert(r.type);if(r.isData3DTexture)X.setTexture3D(r,0),a=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");X.setTexture2DArray(r,0),a=35866}de.pixelStorei(37440,r.flipY),de.pixelStorei(37441,r.premultiplyAlpha),de.pixelStorei(3317,r.unpackAlignment);let h=de.getParameter(3314),d=de.getParameter(32878),f=de.getParameter(3316),p=de.getParameter(3315),g=de.getParameter(32877),v=n.isCompressedTexture?n.mipmaps[0]:n.image;de.pixelStorei(3314,v.width),de.pixelStorei(32878,v.height),de.pixelStorei(3316,e.min.x),de.pixelStorei(3315,e.min.y),de.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?de.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,c,u,v.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),de.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,l,c,v.data)):de.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,c,u,v),de.pixelStorei(3314,h),de.pixelStorei(32878,d),de.pixelStorei(3316,f),de.pixelStorei(3315,p),de.pixelStorei(32877,g),0===i&&r.generateMipmaps&&de.generateMipmap(a),G.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?X.setTextureCube(e,0):e.isData3DTexture?X.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?X.setTexture2DArray(e,0):X.setTexture2D(e,0),G.unbindTexture()},this.resetState=function(){v=0,y=0,w=null,G.reset(),ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class extends GX{}).prototype.isWebGL1Renderer=!0;var WX=class{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new HV(e),this.near=t,this.far=n}clone(){return new WX(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},qX=class extends nG{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}},XX=new tH,YX=class{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)XX.fromBufferAttribute(this,t),XX.applyMatrix4(e),this.setXYZ(t,XX.x,XX.y,XX.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)XX.fromBufferAttribute(this,t),XX.applyNormalMatrix(e),this.setXYZ(t,XX.x,XX.y,XX.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)XX.fromBufferAttribute(this,t),XX.transformDirection(e),this.setXYZ(t,XX.x,XX.y,XX.z);return this}setX(e,t){return this.normalized&&(t=EV(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=EV(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=EV(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=EV(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=SV(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=SV(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=SV(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=SV(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=EV(t,this.array),n=EV(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=EV(t,this.array),n=EV(n,this.array),r=EV(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=EV(t,this.array),n=EV(n,this.array),r=EV(r,this.array),i=EV(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let e=[];for(let t=0;t<this.count;t++){let n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new wG(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new YX(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let e=[];for(let t=0;t<this.count;t++){let n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},QX=class extends nG{constructor(){super(),this.isBone=!0,this.type="Bone"}},KX=class extends QV{constructor(e=null,t=1,n=1,r,i,a,o,s,l=VU,c=VU,u,h){super(null,a,o,s,l,c,r,i,u,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},ZX=new kH,JX=new kH,$X=class{constructor(e=[],t=[]){this.uuid=gV(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new kH)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let t=new kH;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){let e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let r=0,i=e.length;r<i;r++){let i=e[r]?e[r].matrixWorld:JX;ZX.multiplyMatrices(i,t[r]),ZX.toArray(n,16*r)}null!==r&&(r.needsUpdate=!0)}clone(){return new $X(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=xV(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let n=new KX(t,e,e,oj,ej);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){let n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){let r=e.bones[n],i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new QX),this.bones.push(i),this.boneInverses.push((new kH).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){let i=t[r];e.bones.push(i.uuid);let a=n[r];e.boneInverses.push(a.toArray())}return e}},eY=class extends wG{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},tY=new kH,nY=new kH,rY=[],iY=new kH,aY=new GG,oY=class extends GG{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new eY(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let e=0;e<n;e++)this.setMatrixAt(e,iY)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){let n=this.matrixWorld,r=this.count;if(aY.geometry=this.geometry,aY.material=this.material,void 0!==aY.material)for(let i=0;i<r;i++){this.getMatrixAt(i,tY),nY.multiplyMatrices(n,tY),aY.matrixWorld=nY,aY.raycast(e,rY);for(let e=0,n=rY.length;e<n;e++){let n=rY[e];n.instanceId=i,n.object=this,t.push(n)}rY.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new eY(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}},sY=class extends mG{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new HV(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},lY=new tH,cY=new tH,uY=new kH,hY=new DH,dY=new _H,fY=class extends nG{constructor(e=new DG,t=new sY){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)lY.fromBufferAttribute(t,e-1),cY.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=lY.distanceTo(cY);e.setAttribute("lineDistance",new _G(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),dY.copy(n.boundingSphere),dY.applyMatrix4(r),dY.radius+=i,!1===e.ray.intersectsSphere(dY))return;uY.copy(r).invert(),hY.copy(e.ray).applyMatrix4(uY);let o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new tH,c=new tH,u=new tH,h=new tH,d=this.isLineSegments?2:1,f=n.index,p=n.attributes.position;if(null!==f)for(let n=Math.max(0,a.start),r=Math.min(f.count,a.start+a.count)-1;n<r;n+=d){let r=f.getX(n),i=f.getX(n+1);if(l.fromBufferAttribute(p,r),c.fromBufferAttribute(p,i),hY.distanceSqToSegment(l,c,h,u)>s)continue;h.applyMatrix4(this.matrixWorld);let a=e.ray.origin.distanceTo(h);a<e.near||a>e.far||t.push({distance:a,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}else for(let n=Math.max(0,a.start),r=Math.min(p.count,a.start+a.count)-1;n<r;n+=d){if(l.fromBufferAttribute(p,n),c.fromBufferAttribute(p,n+1),hY.distanceSqToSegment(l,c,h,u)>s)continue;h.applyMatrix4(this.matrixWorld);let r=e.ray.origin.distanceTo(h);r<e.near||r>e.far||t.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){let t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}},pY=new tH,mY=new tH,gY=class extends fY{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(null===e.index){let t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)pY.fromBufferAttribute(t,e),mY.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+pY.distanceTo(mY);e.setAttribute("lineDistance",new _G(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},vY=class extends QV{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==a?a:WU,this.magFilter=void 0!==i?i:WU,this.generateMipmaps=!1;let c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;"requestVideoFrameCallback"in e==0&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},yY=class extends QV{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},wY=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){let t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t,n=[],r=this.getPoint(0),i=0;n.push(0);for(let a=1;a<=e;a++)t=this.getPoint(a/e),i+=t.distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];let o,s=0,l=a-1;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),o=r[i]-n,o<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(i=l,r[i]===n)return i/(a-1);let c=r[i];return(i+(n-c)/(r[i+1]-c))/(a-1)}getTangent(e,t){let n=e-1e-4,r=e+1e-4;n<0&&(n=0),r>1&&(r=1);let i=this.getPoint(n),a=this.getPoint(r),o=t||(i.isVector2?new AV:new tH);return o.copy(a).sub(i).normalize(),o}getTangentAt(e,t){let n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){let n=new tH,r=[],i=[],a=[],o=new tH,s=new kH;for(let t=0;t<=e;t++){let n=t/e;r[t]=this.getTangentAt(n,new tH)}i[0]=new tH,a[0]=new tH;let l=Number.MAX_VALUE,c=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(let t=1;t<=e;t++){if(i[t]=i[t-1].clone(),a[t]=a[t-1].clone(),o.crossVectors(r[t-1],r[t]),o.length()>Number.EPSILON){o.normalize();let e=Math.acos(vV(r[t-1].dot(r[t]),-1,1));i[t].applyMatrix4(s.makeRotationAxis(o,e))}a[t].crossVectors(r[t],i[t])}if(!0===t){let t=Math.acos(vV(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),a[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},bY=class extends wY{constructor(e=0,t=0,n=1,r=1,i=0,a=2*Math.PI,o=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e,t){let n=t||new AV,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0===this.aClockwise&&!a&&(i===r?i=-r:i-=r);let o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){let e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}};function xY(){let e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){let l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,c=(n-t)/o-(r-t)/(o+s)+(r-n)/s;l*=o,c*=o,i(t,n,l,c)},calc:function(i){let a=i*i;return e+t*i+n*a+r*(a*i)}}}var _Y=new tH,SY=new xY,EY=new xY,CY=new xY;function AY(e,t,n,r,i){let a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function TY(e,t,n,r){return function(e,t){let n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function MY(e,t,n,r,i){return function(e,t){let n=1-e;return n*n*n*t}(e,t)+function(e,t){let n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var PY=class extends wY{constructor(e=new AV,t=new AV,n=new AV,r=new AV){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new AV){let n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(MY(e,r.x,i.x,a.x,o.x),MY(e,r.y,i.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},DY=class extends wY{constructor(e=new tH,t=new tH,n=new tH,r=new tH){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new tH){let n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(MY(e,r.x,i.x,a.x,o.x),MY(e,r.y,i.y,a.y,o.y),MY(e,r.z,i.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},kY=class extends wY{constructor(e=new AV,t=new AV){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new AV){let n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let n=t||new AV;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},OY=class extends wY{constructor(e=new tH,t=new tH){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new tH){let n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},IY=class extends wY{constructor(e=new AV,t=new AV,n=new AV){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new AV){let n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(TY(e,r.x,i.x,a.x),TY(e,r.y,i.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},RY=class extends wY{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new AV){let n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],c=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return n.set(AY(o,s.x,l.x,c.x,u.x),AY(o,s.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push((new AV).fromArray(n))}return this}},LY=Object.freeze({__proto__:null,ArcCurve:class extends bY{constructor(e,t,n,r,i,a){super(e,t,n,n,r,i,a),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class extends wY{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new tH){let n,r,i=t,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:0===c&&l===o-1&&(l=o-2,c=1),this.closed||l>0?n=a[(l-1)%o]:(_Y.subVectors(a[0],a[1]).add(a[0]),n=_Y);let u=a[l%o],h=a[(l+1)%o];if(this.closed||l+2<o?r=a[(l+2)%o]:(_Y.subVectors(a[o-1],a[o-2]).add(a[o-1]),r=_Y),"centripetal"===this.curveType||"chordal"===this.curveType){let e="chordal"===this.curveType?.5:.25,t=Math.pow(n.distanceToSquared(u),e),i=Math.pow(u.distanceToSquared(h),e),a=Math.pow(h.distanceToSquared(r),e);i<1e-4&&(i=1),t<1e-4&&(t=i),a<1e-4&&(a=i),SY.initNonuniformCatmullRom(n.x,u.x,h.x,r.x,t,i,a),EY.initNonuniformCatmullRom(n.y,u.y,h.y,r.y,t,i,a),CY.initNonuniformCatmullRom(n.z,u.z,h.z,r.z,t,i,a)}else"catmullrom"===this.curveType&&(SY.initCatmullRom(n.x,u.x,h.x,r.x,this.tension),EY.initCatmullRom(n.y,u.y,h.y,r.y,this.tension),CY.initCatmullRom(n.z,u.z,h.z,r.z,this.tension));return i.set(SY.calc(c),EY.calc(c),CY.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){let n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){let n=e.points[t];this.points.push((new tH).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},CubicBezierCurve:PY,CubicBezierCurve3:DY,EllipseCurve:bY,LineCurve:kY,LineCurve3:OY,QuadraticBezierCurve:IY,QuadraticBezierCurve3:class extends wY{constructor(e=new tH,t=new tH,n=new tH){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new tH){let n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(TY(e,r.x,i.x,a.x),TY(e,r.y,i.y,a.y),TY(e,r.z,i.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},SplineCurve:RY}),NY=class extends wY{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new kY(t,e))}getPoint(e,t){let n=e*this.getLength(),r=this.getCurveLengths(),i=0;for(;i<r.length;){if(r[i]>=n){let e=r[i]-n,a=this.curves[i],o=a.getLength(),s=0===o?0:1-e/o;return a.getPointAt(s,t)}i++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t,n=[];for(let r=0,i=this.curves;r<i.length;r++){let a=i[r],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){let r=s[e];t&&t.equals(r)||(n.push(r),t=r)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){let n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){let n=e.curves[t];this.curves.push((new LY[n.type]).fromJSON(n))}return this}},zY=class extends NY{constructor(e){super(),this.type="Path",this.currentPoint=new AV,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let n=new kY(this.currentPoint.clone(),new AV(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){let i=new IY(this.currentPoint.clone(),new AV(e,t),new AV(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,a){let o=new PY(this.currentPoint.clone(),new AV(e,t),new AV(n,r),new AV(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),n=new RY(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,a){let o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}absarc(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}ellipse(e,t,n,r,i,a,o,s){let l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,a,o,s),this}absellipse(e,t,n,r,i,a,o,s){let l=new bY(e,t,n,r,i,a,o,s);if(this.curves.length>0){let e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);let c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},BY=class extends DG{constructor(e=[new AV(0,-.5),new AV(.5,0),new AV(0,.5)],t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=vV(r,0,2*Math.PI);let i=[],a=[],o=[],s=[],l=[],c=1/t,u=new tH,h=new AV,d=new tH,f=new tH,p=new tH,m=0,g=0;for(let t=0;t<=e.length-1;t++)switch(t){case 0:m=e[t+1].x-e[t].x,g=e[t+1].y-e[t].y,d.x=1*g,d.y=-m,d.z=0*g,p.copy(d),d.normalize(),s.push(d.x,d.y,d.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[t+1].x-e[t].x,g=e[t+1].y-e[t].y,d.x=1*g,d.y=-m,d.z=0*g,f.copy(d),d.x+=p.x,d.y+=p.y,d.z+=p.z,d.normalize(),s.push(d.x,d.y,d.z),p.copy(f)}for(let i=0;i<=t;i++){let d=n+i*c*r,f=Math.sin(d),p=Math.cos(d);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*f,u.y=e[n].y,u.z=e[n].x*p,a.push(u.x,u.y,u.z),h.x=i/t,h.y=n/(e.length-1),o.push(h.x,h.y);let r=s[3*n+0]*f,c=s[3*n+1],d=s[3*n+0]*p;l.push(r,c,d)}}for(let n=0;n<t;n++)for(let t=0;t<e.length-1;t++){let r=t+n*e.length,a=r,o=r+e.length,s=r+e.length+1,l=r+1;i.push(a,o,l),i.push(s,l,o)}this.setIndex(i),this.setAttribute("position",new _G(a,3)),this.setAttribute("uv",new _G(o,2)),this.setAttribute("normal",new _G(l,3))}static fromJSON(e){return new BY(e.points,e.segments,e.phiStart,e.phiLength)}},FY=class extends DG{constructor(e=1,t=1,n=1,r=32,i=1,a=!1,o=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};let l=this;r=Math.floor(r),i=Math.floor(i);let c=[],u=[],h=[],d=[],f=0,p=[],m=n/2,g=0;function v(n){let i=f,a=new AV,p=new tH,v=0,y=!0===n?e:t,w=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*w,0),h.push(0,w,0),d.push(.5,.5),f++;let b=f;for(let e=0;e<=r;e++){let t=e/r*s+o,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*w,p.z=y*n,u.push(p.x,p.y,p.z),h.push(0,w,0),a.x=.5*n+.5,a.y=.5*i*w+.5,d.push(a.x,a.y),f++}for(let e=0;e<r;e++){let t=i+e,r=b+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}(function(){let a=new tH,v=new tH,y=0,w=(t-e)/n;for(let l=0;l<=i;l++){let c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){let t=e/r,i=t*s+o,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,u.push(v.x,v.y,v.z),a.set(l,w,p).normalize(),h.push(a.x,a.y,a.z),d.push(t,1-g),c.push(f++)}p.push(c)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){let n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],a=p[t][e+1];c.push(n,r,a),c.push(r,i,a),y+=6}l.addGroup(g,y,0),g+=y})(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new _G(u,3)),this.setAttribute("normal",new _G(h,3)),this.setAttribute("uv",new _G(d,2))}static fromJSON(e){return new FY(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},UY=class extends FY{constructor(e=1,t=1,n=32,r=1,i=!1,a=0,o=2*Math.PI){super(0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(e){return new UY(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},jY=class extends DG{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};let i=[],a=[];function o(e,t,n,r){let i=r+1,a=[];for(let r=0;r<=i;r++){a[r]=[];let o=e.clone().lerp(n,r/i),s=t.clone().lerp(n,r/i),l=i-r;for(let e=0;e<=l;e++)a[r][e]=0===e&&r===i?o:o.clone().lerp(s,e/l)}for(let e=0;e<i;e++)for(let t=0;t<2*(i-e)-1;t++){let n=Math.floor(t/2);t%2==0?(s(a[e][n+1]),s(a[e+1][n]),s(a[e][n])):(s(a[e][n+1]),s(a[e+1][n+1]),s(a[e+1][n]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){let r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}function h(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}(function(e){let n=new tH,r=new tH,i=new tH;for(let a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],r),l(t[a+2],i),o(n,r,i,e)})(r),function(e){let t=new tH;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){let e=new tH;for(let t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];let n=u(e)/2/Math.PI+.5,r=h(e)/Math.PI+.5;a.push(n,1-r)}(function(){let e=new tH,t=new tH,n=new tH,r=new tH,o=new AV,s=new AV,l=new AV;for(let h=0,d=0;h<i.length;h+=9,d+=6){e.set(i[h+0],i[h+1],i[h+2]),t.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),o.set(a[d+0],a[d+1]),s.set(a[d+2],a[d+3]),l.set(a[d+4],a[d+5]),r.copy(e).add(t).add(n).divideScalar(3);let f=u(r);c(o,d+0,e,f),c(s,d+2,t,f),c(l,d+4,n,f)}})(),function(){for(let e=0;e<a.length;e+=6){let t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new _G(i,3)),this.setAttribute("normal",new _G(i.slice(),3)),this.setAttribute("uv",new _G(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new jY(e.vertices,e.indices,e.radius,e.details)}},VY=class extends jY{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new VY(e.radius,e.detail)}},HY=class extends zY{constructor(e){super(e),this.uuid=gV(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){let n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){let n=e.holes[t];this.holes.push((new zY).fromJSON(n))}return this}};function GY(e,t,n,r,i){let a,o;if(i===function(e,t,n,r){let i=0;for(let a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=hQ(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=hQ(a,e[a],e[a+1],o);return o&&aQ(o,o.next)&&(dQ(o),o=o.next),o}function WY(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!aQ(r,r.next)&&0!==iQ(r.prev,r,r.next))r=r.next;else{if(dQ(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function qY(e,t,n,r,i,a,o){if(!e)return;!o&&a&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=eQ(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,a,o,s,l,c=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ,r);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,c*=2}while(o>1)}(i)}(e,r,i,a);let s,l,c=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,a?YY(e,r,i,a):XY(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),dQ(e),e=l.next,c=l.next;else if((e=l)===c){o?1===o?qY(e=QY(WY(e),t,n),t,n,r,i,a,2):2===o&&KY(e,t,n,r,i,a):qY(WY(e),t,n,r,i,a,1);break}}function XY(e){let t=e.prev,n=e,r=e.next;if(iQ(t,n,r)>=0)return!1;let i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,c=r.y,u=i<a?i<o?i:o:a<o?a:o,h=s<l?s<c?s:c:l<c?l:c,d=i>a?i>o?i:o:a>o?a:o,f=s>l?s>c?s:c:l>c?l:c,p=r.next;for(;p!==t;){if(p.x>=u&&p.x<=d&&p.y>=h&&p.y<=f&&nQ(i,s,a,l,o,c,p.x,p.y)&&iQ(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function YY(e,t,n,r){let i=e.prev,a=e,o=e.next;if(iQ(i,a,o)>=0)return!1;let s=i.x,l=a.x,c=o.x,u=i.y,h=a.y,d=o.y,f=s<l?s<c?s:c:l<c?l:c,p=u<h?u<d?u:d:h<d?h:d,m=s>l?s>c?s:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,v=eQ(f,p,t,n,r),y=eQ(m,g,t,n,r),w=e.prevZ,b=e.nextZ;for(;w&&w.z>=v&&b&&b.z<=y;){if(w.x>=f&&w.x<=m&&w.y>=p&&w.y<=g&&w!==i&&w!==o&&nQ(s,u,l,h,c,d,w.x,w.y)&&iQ(w.prev,w,w.next)>=0||(w=w.prevZ,b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&nQ(s,u,l,h,c,d,b.x,b.y)&&iQ(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;w&&w.z>=v;){if(w.x>=f&&w.x<=m&&w.y>=p&&w.y<=g&&w!==i&&w!==o&&nQ(s,u,l,h,c,d,w.x,w.y)&&iQ(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;b&&b.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&nQ(s,u,l,h,c,d,b.x,b.y)&&iQ(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function QY(e,t,n){let r=e;do{let i=r.prev,a=r.next.next;!aQ(i,a)&&oQ(i,r,r.next,a)&&cQ(i,a)&&cQ(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),dQ(r),dQ(r.next),r=e=a),r=r.next}while(r!==e);return WY(r)}function KY(e,t,n,r,i,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&rQ(o,e)){let s=uQ(o,e);return o=WY(o,o.next),s=WY(s,s.next),qY(o,t,n,r,i,a,0),void qY(s,t,n,r,i,a,0)}e=e.next}o=o.next}while(o!==e)}function ZY(e,t){return e.x-t.x}function JY(e,t){let n=function(e,t){let n,r=t,i=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){let e=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=a&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===a))return n}r=r.next}while(r!==t);if(!n)return null;let s,l=n,c=n.x,u=n.y,h=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&nQ(o<u?a:i,o,c,u,o<u?i:a,o,r.x,r.y)&&(s=Math.abs(o-r.y)/(a-r.x),cQ(r,e)&&(s<h||s===h&&(r.x>n.x||r.x===n.x&&$Y(n,r)))&&(n=r,h=s)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;let r=uQ(n,e);return WY(r,r.next),WY(n,n.next)}function $Y(e,t){return iQ(e.prev,e,t.prev)<0&&iQ(t.next,e,e.next)<0}function eQ(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function tQ(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function nQ(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function rQ(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&oQ(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(cQ(e,t)&&cQ(t,e)&&function(e,t){let n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(iQ(e.prev,e,t.prev)||iQ(e,t.prev,t))||aQ(e,t)&&iQ(e.prev,e,e.next)>0&&iQ(t.prev,t,t.next)>0)}function iQ(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function aQ(e,t){return e.x===t.x&&e.y===t.y}function oQ(e,t,n,r){let i=lQ(iQ(e,t,n)),a=lQ(iQ(e,t,r)),o=lQ(iQ(n,r,e)),s=lQ(iQ(n,r,t));return!!(i!==a&&o!==s||0===i&&sQ(e,n,t)||0===a&&sQ(e,r,t)||0===o&&sQ(n,e,r)||0===s&&sQ(n,t,r))}function sQ(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function lQ(e){return e>0?1:e<0?-1:0}function cQ(e,t){return iQ(e.prev,e,e.next)<0?iQ(e,t,e.next)>=0&&iQ(e,e.prev,t)>=0:iQ(e,t,e.prev)<0||iQ(e,e.next,t)<0}function uQ(e,t){let n=new fQ(e.i,e.x,e.y),r=new fQ(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function hQ(e,t,n,r){let i=new fQ(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function dQ(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function fQ(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var pQ=class{static area(e){let t=e.length,n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return pQ.area(e)<0}static triangulateShape(e,t){let n=[],r=[],i=[];mQ(e),gQ(n,e);let a=e.length;t.forEach(mQ);for(let e=0;e<t.length;e++)r.push(a),a+=t[e].length,gQ(n,t[e]);let o=function(e,t,n=2){let r,i,a,o,s,l,c,u=t&&t.length,h=u?t[0]*n:e.length,d=GY(e,0,h,n,!0),f=[];if(!d||d.next===d.prev)return f;if(u&&(d=function(e,t,n,r){let i,a,o,s,l,c=[];for(i=0,a=t.length;i<a;i++)o=t[i]*r,s=i<a-1?t[i+1]*r:e.length,l=GY(e,o,s,r,!1),l===l.next&&(l.steiner=!0),c.push(tQ(l));for(c.sort(ZY),i=0;i<c.length;i++)n=JY(c[i],n);return n}(e,t,d,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(let t=n;t<h;t+=n)s=e[t],l=e[t+1],s<r&&(r=s),l<i&&(i=l),s>a&&(a=s),l>o&&(o=l);c=Math.max(a-r,o-i),c=0!==c?32767/c:0}return qY(d,f,n,r,i,c,0),f}(n,r);for(let e=0;e<o.length;e+=3)i.push(o.slice(e,e+3));return i}};function mQ(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function gQ(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var vQ=class extends jY{constructor(e=1,t=0){let n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vQ(e.radius,e.detail)}},yQ=class extends DG{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));let s=Math.min(a+o,Math.PI),l=0,c=[],u=new tH,h=new tH,d=[],f=[],p=[],m=[];for(let d=0;d<=n;d++){let g=[],v=d/n,y=0;0==d&&0==a?y=.5/t:d==n&&s==Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){let s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(a+v*o),u.y=e*Math.cos(a+v*o),u.z=e*Math.sin(r+s*i)*Math.sin(a+v*o),f.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),m.push(s+y,1-v),g.push(l++)}c.push(g)}for(let e=0;e<n;e++)for(let r=0;r<t;r++){let t=c[e][r+1],i=c[e][r],o=c[e+1][r],l=c[e+1][r+1];(0!==e||a>0)&&d.push(t,i,l),(e!==n-1||s<Math.PI)&&d.push(i,o,l)}this.setIndex(d),this.setAttribute("position",new _G(f,3)),this.setAttribute("normal",new _G(p,3)),this.setAttribute("uv",new _G(m,2))}static fromJSON(e){return new yQ(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},wQ=class extends DG{constructor(e=1,t=.4,n=12,r=48,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);let a=[],o=[],s=[],l=[],c=new tH,u=new tH,h=new tH;for(let a=0;a<=n;a++)for(let d=0;d<=r;d++){let f=d/r*i,p=a/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(f),u.y=(e+t*Math.cos(p))*Math.sin(f),u.z=t*Math.sin(p),o.push(u.x,u.y,u.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),h.subVectors(u,c).normalize(),s.push(h.x,h.y,h.z),l.push(d/r),l.push(a/n)}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){let n=(r+1)*e+t-1,i=(r+1)*(e-1)+t-1,o=(r+1)*(e-1)+t,s=(r+1)*e+t;a.push(n,i,s),a.push(i,o,s)}this.setIndex(a),this.setAttribute("position",new _G(o,3)),this.setAttribute("normal",new _G(s,3)),this.setAttribute("uv",new _G(l,2))}static fromJSON(e){return new wQ(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},bQ=class extends DG{constructor(e=1,t=.4,n=64,r=8,i=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},n=Math.floor(n),r=Math.floor(r);let o=[],s=[],l=[],c=[],u=new tH,h=new tH,d=new tH,f=new tH,p=new tH,m=new tH,g=new tH;for(let o=0;o<=n;++o){let y=o/n*i*Math.PI*2;v(y,i,a,e,d),v(y+.01,i,a,e,f),m.subVectors(f,d),g.addVectors(f,d),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){let i=e/r*Math.PI*2,a=-t*Math.cos(i),f=t*Math.sin(i);u.x=d.x+(a*g.x+f*p.x),u.y=d.y+(a*g.y+f*p.y),u.z=d.z+(a*g.z+f*p.z),s.push(u.x,u.y,u.z),h.subVectors(u,d).normalize(),l.push(h.x,h.y,h.z),c.push(o/n),c.push(e/r)}}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){let n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),a=(r+1)*e+t,s=(r+1)*(e-1)+t;o.push(n,i,s),o.push(i,a,s)}function v(e,t,n,r,i){let a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new _G(s,3)),this.setAttribute("normal",new _G(l,3)),this.setAttribute("uv",new _G(c,2))}static fromJSON(e){return new bQ(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}};function xQ(e,t,n){return SQ(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function _Q(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function SQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function EQ(e){let t=e.length,n=new Array(t);for(let e=0;e!==t;++e)n[e]=e;return n.sort((function(t,n){return e[t]-e[n]})),n}function CQ(e,t,n){let r=e.length,i=new e.constructor(r);for(let a=0,o=0;o!==r;++a){let r=n[a]*t;for(let n=0;n!==t;++n)i[o++]=e[r+n]}return i}function AQ(e,t,n,r){let i=1,a=e[0];for(;void 0!==a&&void 0===a[r];)a=e[i++];if(void 0===a)return;let o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}var TQ=class{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(e>=i)break e;{let o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0}}for(;n<a;){let r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let e=0;e!==r;++e)t[e]=n[i+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},MQ=class extends TQ{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Kj,endingEnd:Kj}}intervalChanged_(e,t,n){let r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Zj:i=e,o=2*t-n;break;case Jj:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Zj:a=e,s=2*n-t;break;case Jj:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}let l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=a*c}interpolate_(e,t,n,r){let i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,w=d*m-d*p;for(let e=0;e!==o;++e)i[e]=g*a[c+e]+v*a[l+e]+y*a[s+e]+w*a[u+e];return i}},PQ=class extends TQ{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){let i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(r-t),u=1-c;for(let e=0;e!==o;++e)i[e]=a[l+e]*u+a[s+e]*c;return i}},DQ=class extends TQ{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}},kQ=class{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=_Q(t,this.TimeBufferType),this.values=_Q(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){let t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:_Q(e.times,Array),values:_Q(e.values,Array)};let n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t}InterpolantFactoryMethodDiscrete(e){return new DQ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new PQ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new MQ(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Xj:t=this.InterpolantFactoryMethodDiscrete;break;case Yj:t=this.InterpolantFactoryMethodLinear;break;case Qj:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){let t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Xj;case this.InterpolantFactoryMethodLinear:return Yj;case this.InterpolantFactoryMethodSmooth:return Qj}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){let t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){let t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){let n=this.times,r=n.length,i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);let e=this.getValueSize();this.times=xQ(n,i,a),this.values=xQ(this.values,i*e,a*e)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let t=0;t!==i;t++){let r=n[t];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,r),e=!1;break}if(null!==a&&a>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,r,a),e=!1;break}a=r}if(void 0!==r&&SQ(r))for(let t=0,n=r.length;t!==n;++t){let n=r[t];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,n),e=!1;break}}return e}optimize(){let e=xQ(this.times),t=xQ(this.values),n=this.getValueSize(),r=this.getInterpolation()===Qj,i=e.length-1,a=1;for(let o=1;o<i;++o){let i=!1,s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(r)i=!0;else{let e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){let n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];let r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a!==e.length?(this.times=xQ(e,0,a),this.values=xQ(t,0,a*n)):(this.times=e,this.values=t),this}clone(){let e=xQ(this.times,0),t=xQ(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}};kQ.prototype.TimeBufferType=Float32Array,kQ.prototype.ValueBufferType=Float32Array,kQ.prototype.DefaultInterpolation=Yj;var OQ=class extends kQ{};OQ.prototype.ValueTypeName="bool",OQ.prototype.ValueBufferType=Array,OQ.prototype.DefaultInterpolation=Xj,OQ.prototype.InterpolantFactoryMethodLinear=void 0,OQ.prototype.InterpolantFactoryMethodSmooth=void 0;var IQ=class extends kQ{};IQ.prototype.ValueTypeName="color";var RQ=class extends kQ{};RQ.prototype.ValueTypeName="number";var LQ=class extends TQ{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){let i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o;for(let e=l+o;l!==e;l+=4)eH.slerpFlat(i,0,a,l-o,a,l,s);return i}},NQ=class extends kQ{InterpolantFactoryMethodLinear(e){return new LQ(this.times,this.values,this.getValueSize(),e)}};NQ.prototype.ValueTypeName="quaternion",NQ.prototype.DefaultInterpolation=Yj,NQ.prototype.InterpolantFactoryMethodSmooth=void 0;var zQ=class extends kQ{};zQ.prototype.ValueTypeName="string",zQ.prototype.ValueBufferType=Array,zQ.prototype.DefaultInterpolation=Xj,zQ.prototype.InterpolantFactoryMethodLinear=void 0,zQ.prototype.InterpolantFactoryMethodSmooth=void 0;var BQ=class extends kQ{};BQ.prototype.ValueTypeName="vector";var FQ=class{constructor(e,t=-1,n,r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=gV(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],n=e.tracks,r=1/(e.fps||1);for(let e=0,i=n.length;e!==i;++e)t.push(UQ(n[e]).scale(r));let i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){let t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,r=n.length;e!==r;++e)t.push(kQ.toJSON(n[e]));return r}static CreateFromMorphTargetSequence(e,t,n,r){let i=t.length,a=[];for(let e=0;e<i;e++){let o=[],s=[];o.push((e+i-1)%i,e,(e+1)%i),s.push(0,1,0);let l=EQ(o);o=CQ(o,1,l),s=CQ(s,1,l),!r&&0===o[0]&&(o.push(i),s.push(s[0])),a.push(new RQ(".morphTargetInfluences["+t[e].name+"]",o,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){let t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null}static CreateClipsFromMorphTargetSequences(e,t,n){let r={},i=/^([\w-]*?)([\d]+)$/;for(let t=0,n=e.length;t<n;t++){let n=e[t],a=n.name.match(i);if(a&&a.length>1){let e=a[1],t=r[e];t||(r[e]=t=[]),t.push(n)}}let a=[];for(let e in r)a.push(this.CreateFromMorphTargetSequence(e,r[e],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let n=function(e,t,n,r,i){if(0!==n.length){let a=[],o=[];AQ(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[];for(let e=0;e<l.length;e++){let i=l[e].keys;if(i&&0!==i.length)if(i[0].morphTargets){let e,t={};for(e=0;e<i.length;e++)if(i[e].morphTargets)for(let n=0;n<i[e].morphTargets.length;n++)t[i[e].morphTargets[n]]=-1;for(let n in t){let t=[],a=[];for(let r=0;r!==i[e].morphTargets.length;++r){let r=i[e];t.push(r.time),a.push(r.morphTarget===n?1:0)}r.push(new RQ(".morphTargetInfluence["+n+"]",t,a))}s=t.length*a}else{let a=".bones["+t[e].name+"]";n(BQ,a+".position",i,"pos",r),n(NQ,a+".quaternion",i,"rot",r),n(BQ,a+".scale",i,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){let n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function UQ(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return RQ;case"vector":case"vector2":case"vector3":case"vector4":return BQ;case"color":return IQ;case"quaternion":return NQ;case"bool":case"boolean":return OQ;case"string":return zQ}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){let t=[],n=[];AQ(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var jQ={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},VQ=class{constructor(e,t,n){let r,i=this,a=!1,o=0,s=0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return r?r(e):e},this.setURLModifier=function(e){return r=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){let t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){let n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}},HQ=new VQ,GQ=class{constructor(e){this.manager=void 0!==e?e:HQ,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},WQ={},qQ=class extends Error{constructor(e,t){super(e),this.response=t}},XQ=class extends GQ{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let i=jQ.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout((()=>{t&&t(i),this.manager.itemEnd(e)}),0),i;if(void 0!==WQ[e])return void WQ[e].push({onLoad:t,onProgress:n,onError:r});WQ[e]=[],WQ[e].push({onLoad:t,onProgress:n,onError:r});let a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===t.body||void 0===t.body.getReader)return t;let n=WQ[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,l=new ReadableStream({start(e){!function t(){r.read().then((({done:r,value:i})=>{if(r)e.close();else{s+=i.byteLength;let r=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){let t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}}))}()}});return new Response(l)}throw new qQ(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)})).then((e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,o)));case"json":return e.json();default:if(void 0===o)return e.text();{let t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((e=>r.decode(e)))}}})).then((t=>{jQ.add(e,t);let n=WQ[e];delete WQ[e];for(let e=0,r=n.length;e<r;e++){let r=n[e];r.onLoad&&r.onLoad(t)}})).catch((t=>{let n=WQ[e];if(void 0===n)throw this.manager.itemError(e),t;delete WQ[e];for(let e=0,r=n.length;e<r;e++){let r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},YQ=class extends GQ{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let i=this,a=jQ.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;let o=OV("img");function s(){c(),jQ.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}},QQ=class extends GQ{constructor(e){super(e)}load(e,t,n,r){let i=new QV,a=new YQ(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}},KQ=class extends nG{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new HV(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}},ZQ=class extends KQ{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(nG.DEFAULT_UP),this.updateMatrix(),this.groundColor=new HV(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},JQ=new kH,$Q=new tH,eK=new tH,tK=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new AV(512,512),this.map=null,this.mapPass=null,this.matrix=new kH,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new uW,this._frameExtents=new AV(1,1),this._viewportCount=1,this._viewports=[new KV(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,n=this.matrix;$Q.setFromMatrixPosition(e.matrixWorld),t.position.copy($Q),eK.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(eK),t.updateMatrixWorld(),JQ.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JQ),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(JQ)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){let e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},nK=class extends tK{constructor(){super(new $G(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,n=2*mV*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;(n!==t.fov||r!==t.aspect||i!==t.far)&&(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},rK=class extends KQ{constructor(e,t,n=0,r=Math.PI/3,i=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(nG.DEFAULT_UP),this.updateMatrix(),this.target=new nG,this.distance=n,this.angle=r,this.penumbra=i,this.decay=a,this.map=null,this.shadow=new nK}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},iK=new kH,aK=new tH,oK=new tH,sK=class extends tK{constructor(){super(new $G(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new AV(4,2),this._viewportCount=6,this._viewports=[new KV(2,1,1,1),new KV(0,1,1,1),new KV(3,1,1,1),new KV(1,1,1,1),new KV(3,0,1,1),new KV(1,0,1,1)],this._cubeDirections=[new tH(1,0,0),new tH(-1,0,0),new tH(0,0,1),new tH(0,0,-1),new tH(0,1,0),new tH(0,-1,0)],this._cubeUps=[new tH(0,1,0),new tH(0,1,0),new tH(0,1,0),new tH(0,1,0),new tH(0,0,1),new tH(0,0,-1)]}updateMatrices(e,t=0){let n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),aK.setFromMatrixPosition(e.matrixWorld),n.position.copy(aK),oK.copy(n.position),oK.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(oK),n.updateMatrixWorld(),r.makeTranslation(-aK.x,-aK.y,-aK.z),iK.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(iK)}},lK=class extends KQ{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new sK}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},cK=class extends tK{constructor(){super(new EW(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},uK=class extends KQ{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(nG.DEFAULT_UP),this.updateMatrix(),this.target=new nG,this.shadow=new cK}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},hK=class extends DG{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},dK=class extends GQ{constructor(e){super(e)}load(e,t,n,r){let i=this,a=new XQ(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)}parse(e){let t={},n={};function r(e,r){if(void 0!==t[r])return t[r];let i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];let r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),o=kV(i.type,a),s=new class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=lV,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=gV()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=gV()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=gV()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}let i=e.isInstancedBufferGeometry?new hK:new DG,a=e.data.index;if(void 0!==a){let e=kV(a.type,a.array);i.setIndex(new wG(e,1))}let o=e.data.attributes;for(let t in o){let n,a=o[t];if(a.isInterleavedBufferAttribute){let t=r(e.data,a.data);n=new YX(t,a.itemSize,a.offset,a.normalized)}else{let e=kV(a.type,a.array);n=new(a.isInstancedBufferAttribute?eY:wG)(e,a.itemSize,a.normalized)}void 0!==a.name&&(n.name=a.name),void 0!==a.usage&&n.setUsage(a.usage),void 0!==a.updateRange&&(n.updateRange.offset=a.updateRange.offset,n.updateRange.count=a.updateRange.count),i.setAttribute(t,n)}let s=e.data.morphAttributes;if(s)for(let t in s){let n=s[t],a=[];for(let t=0,i=n.length;t<i;t++){let i,o=n[t];if(o.isInterleavedBufferAttribute){let t=r(e.data,o.data);i=new YX(t,o.itemSize,o.offset,o.normalized)}else{let e=kV(o.type,o.array);i=new wG(e,o.itemSize,o.normalized)}void 0!==o.name&&(i.name=o.name),a.push(i)}i.morphAttributes[t]=a}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);let l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let e=0,t=l.length;e!==t;++e){let t=l[e];i.addGroup(t.start,t.count,t.materialIndex)}let c=e.data.boundingSphere;if(void 0!==c){let e=new tH;void 0!==c.center&&e.fromArray(c.center),i.boundingSphere=new _H(e,c.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}};function fK(){return(typeof performance>"u"?Date:performance).now()}var pK=class{constructor(e,t,n){let r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(let e=0;e!==r;++e)n[i+e]=n[e];a=t}else{a+=t;let e=t/a;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=a}accumulateAdditive(e){let t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){let e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let e=t,i=t+t;e!==i;++e)if(n[e]!==n[e+t]){o.setValue(n,r);break}}saveOriginalState(){let e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let e=n,i=r;e!==i;++e)t[e]=t[r+e%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let r=0;r!==i;++r)e[t+r]=e[n+r]}_slerp(e,t,n,r){eH.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){let a=this._workIndex*i;eH.multiplyQuaternionsFlat(e,a,e,t,e,n),eH.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,i){let a=1-r;for(let o=0;o!==i;++o){let i=t+o;e[i]=e[i]*a+e[n+o]*r}}_lerpAdditive(e,t,n,r,i){for(let a=0;a!==i;++a){let i=t+a;e[i]=e[i]+e[n+a]*r}}},mK="\\[\\]\\.:\\/",gK=new RegExp("["+mK+"]","g"),vK="[^"+mK+"]",yK="[^"+mK.replace("\\.","")+"]",wK=/((?:WC+[\/:])*)/.source.replace("WC",vK),bK=/(WCOD+)?/.source.replace("WCOD",yK),xK=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",vK),_K=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",vK),SK=new RegExp("^"+wK+bK+xK+_K+"$"),EK=["material","materials","bones","map"],CK=class{constructor(e,t,n){this.path=t,this.parsedPath=n||CK.parseTrackName(t),this.node=CK.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new CK.Composite(e,t,n):new CK(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(gK,"")}static parseTrackName(e){let t=SK.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){let e=n.nodeName.substring(r+1);-1!==EK.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){let n=function(e){for(let r=0;r<e.length;r++){let i=e[r];if(i.name===t||i.uuid===t)return i;let a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=CK.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}let a=e[r];if(void 0===a){let n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let o=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};CK.Composite=class{constructor(e,t,n){let r=n||CK.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();let n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){let n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},CK.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},CK.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},CK.prototype.GetterByBindingType=[CK.prototype._getValue_direct,CK.prototype._getValue_array,CK.prototype._getValue_arrayElement,CK.prototype._getValue_toArray],CK.prototype.SetterByBindingTypeAndVersioning=[[CK.prototype._setValue_direct,CK.prototype._setValue_direct_setNeedsUpdate,CK.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[CK.prototype._setValue_array,CK.prototype._setValue_array_setNeedsUpdate,CK.prototype._setValue_array_setMatrixWorldNeedsUpdate],[CK.prototype._setValue_arrayElement,CK.prototype._setValue_arrayElement_setNeedsUpdate,CK.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[CK.prototype._setValue_fromArray,CK.prototype._setValue_fromArray_setNeedsUpdate,CK.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var AK=new Float32Array(1),TK=class extends hV{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(let e=0;e!==i;++e){let i=r[e],l=i.name,u=c[l];if(void 0!==u)++u.referenceCount,a[e]=u;else{if(u=a[e],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,s,l));continue}let r=t&&t._propertyBindings[e].binding.parsedPath;u=new pK(CK.create(n,l,r),i.ValueTypeName,i.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,s,l),a[e]=u}o[e].resultBuffer=u.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){let t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}let t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){let n=t[e];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){let n=t[e];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){let r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{let t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){let t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;let i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){let n=t[e];0==--n.referenceCount&&this._removeInactiveBinding(n)}}_lendAction(e){let t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){let t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){let r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){let t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}_lendBinding(e){let t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){let t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&(n=new PQ(new Float32Array(2),new Float32Array(2),1,AK),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){let t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){let r=t||this._root,i=r.uuid,a="string"==typeof e?FQ.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==s){let e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;let c=new class{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;let i=t.tracks,a=i.length,o=new Array(a),s={endingStart:Kj,endingEnd:Kj};for(let e=0;e!==a;++e){let t=i[e].createInterpolant(null);o[e]=t,t.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){let n=this._clip.duration,r=e._clip.duration,i=r/n,a=n/r;e.warp(1,i,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){let e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){let r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);let s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){let e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);let i=this._startTime;if(null!==i){let r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);let a=this._updateTime(t),o=this._updateWeight(e);if(o>0){let e=this._interpolants,t=this._propertyBindings;if(2501===this.blendMode)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulateAdditive(o);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulate(r,o)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let n=this._weightInterpolant;if(null!==n){let r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===qj;if(0===e)return-1===i?r:a&&1==(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){let n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);let o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){let t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(a&&1==(1&i))return t-r}return r}_setEndings(e,t,n){let r=this._interpolantSettings;n?(r.endingStart=Zj,r.endingEnd=Zj):(r.endingStart=e?this.zeroSlopeAtStart?Zj:Kj:Jj,r.endingEnd=t?this.zeroSlopeAtEnd?Zj:Kj:Jj)}_scheduleFading(e,t,n){let r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);let o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}existingAction(e,t){let n=t||this._root,r=n.uuid,i="string"==typeof e?FQ.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}stopAllAction(){let e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;let t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1;for(let o=0;o!==n;++o)t[o]._update(r,e,i,a);let o=this._bindings,s=this._nActiveBindings;for(let e=0;e!==s;++e)o[e].apply(a);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){let e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){let r=e[n];this._deactivateAction(r);let i=r._cacheIndex,a=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,a._cacheIndex=i,t[i]=a,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){let t=e.uuid,n=this._actionsByClip;for(let e in n){let r=n[e].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}let r=this._bindingsByRootAndName[t];if(void 0!==r)for(let e in r){let t=r[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){let n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},MK=class{constructor(e){this.value=e}clone(){return new MK(void 0===this.value.clone?this.value:this.value.clone())}},PK=class{constructor(e,t,n=0,r=1/0){this.ray=new DH(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new VH,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return kK(e,this,n,t),n.sort(DK),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)kK(e[r],this,n,t);return n.sort(DK),n}};function DK(e,t){return e.distance-t.distance}function kK(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){let r=e.children;for(let e=0,i=r.length;e<i;e++)kK(r[e],t,n,!0)}}var OK=class{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(vV(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},IK=new AV,RK=class{constructor(e=new AV(1/0,1/0),t=new AV(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let n=IK.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return IK.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},LK=new tH,NK=new tH,zK=class{constructor(e=new tH,t=new tH){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){LK.subVectors(e,this.start),NK.subVectors(this.end,this.start);let n=NK.dot(NK),r=NK.dot(LK)/n;return t&&(r=vV(r,0,1)),r}closestPointToPoint(e,t,n){let r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},BK=new tH,FK=class extends nG{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let n=new DG,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let e=0,t=1,n=32;e<n;e++,t++){let i=e/n*Math.PI*2,a=t/n*Math.PI*2;r.push(Math.cos(i),Math.sin(i),1,Math.cos(a),Math.sin(a),1)}n.setAttribute("position",new _G(r,3));let i=new sY({fog:!1,toneMapped:!1});this.cone=new gY(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),BK.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(BK),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},UK=class extends GG{constructor(e,t,n){super(new yQ(t,4,2),new gG({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},jK=new tH,VK=new tH,HK=new tH,GK=class extends nG{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new DG;r.setAttribute("position",new _G([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let i=new sY({fog:!1,toneMapped:!1});this.lightPlane=new fY(r,i),this.add(this.lightPlane),r=new DG,r.setAttribute("position",new _G([0,0,0,0,0,1],3)),this.targetLine=new fY(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),jK.setFromMatrixPosition(this.light.matrixWorld),VK.setFromMatrixPosition(this.light.target.matrixWorld),HK.subVectors(VK,jK),this.lightPlane.lookAt(VK),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(VK),this.targetLine.scale.z=HK.length()}},WK=new tH,qK=new JG,XK=class extends gY{constructor(e){let t=new DG,n=new sY({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],a={};function o(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4"),t.setAttribute("position",new _G(r,3)),t.setAttribute("color",new _G(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();let l=new HV(16755200),c=new HV(16711680),u=new HV(43775),h=new HV(16777215),d=new HV(3355443);this.setColors(l,c,u,h,d)}setColors(e,t,n,r,i){let a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap;qK.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),YK("c",t,e,qK,0,0,-1),YK("t",t,e,qK,0,0,1),YK("n1",t,e,qK,-1,-1,-1),YK("n2",t,e,qK,1,-1,-1),YK("n3",t,e,qK,-1,1,-1),YK("n4",t,e,qK,1,1,-1),YK("f1",t,e,qK,-1,-1,1),YK("f2",t,e,qK,1,-1,1),YK("f3",t,e,qK,-1,1,1),YK("f4",t,e,qK,1,1,1),YK("u1",t,e,qK,.7,1.1,-1),YK("u2",t,e,qK,-.7,1.1,-1),YK("u3",t,e,qK,0,2,-1),YK("cf1",t,e,qK,-1,0,1),YK("cf2",t,e,qK,1,0,1),YK("cf3",t,e,qK,0,-1,1),YK("cf4",t,e,qK,0,1,1),YK("cn1",t,e,qK,-1,0,-1),YK("cn2",t,e,qK,1,0,-1),YK("cn3",t,e,qK,0,-1,-1),YK("cn4",t,e,qK,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function YK(e,t,n,r,i,a,o){WK.set(i,a,o).unproject(r);let s=t[e];if(void 0!==s){let e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],WK.x,WK.y,WK.z)}}var QK=class extends gY{constructor(e,t=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new DG;r.setIndex(new wG(n,1)),r.setAttribute("position",new _G([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new sY({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},KK=class extends gY{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new DG;n.setAttribute("position",new _G(t,3)),n.setAttribute("color",new _G([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(n,new sY({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){let r=new HV,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},ZK=function(){let e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let e=0;e<256;++e){let t=e-127;t<-27?(r[e]=0,r[256|e]=32768,i[e]=24,i[256|e]=24):t<-14?(r[e]=1024>>-t-14,r[256|e]=1024>>-t-14|32768,i[e]=-t-1,i[256|e]=-t-1):t<=15?(r[e]=t+15<<10,r[256|e]=t+15<<10|32768,i[e]=13,i[256|e]=13):t<128?(r[e]=31744,r[256|e]=64512,i[e]=24,i[256|e]=24):(r[e]=31744,r[256|e]=64512,i[e]=13,i[256|e]=13)}let a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,n=0;for(;0==(8388608&t);)t<<=1,n-=8388608;t&=-8388609,n+=947912704,a[e]=t|n}for(let e=1024;e<2048;++e)a[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)o[e]=e<<23;o[31]=1199570944,o[32]=2147483648;for(let e=33;e<63;++e)o[e]=2147483648+(e-32<<23);o[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(s[e]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}(),JK=Object.freeze({__proto__:null,fromHalfFloat:function(e){let t=e>>10;return ZK.uint32View[0]=ZK.mantissaTable[ZK.offsetTable[t]+(1023&e)]+ZK.exponentTable[t],ZK.floatView[0]},toHalfFloat:function(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=vV(e,-65504,65504),ZK.floatView[0]=e;let t=ZK.uint32View[0],n=t>>23&511;return ZK.baseTable[n]+((8388607&t)>>ZK.shiftTable[n])}});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:FF}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=FF);var $K=".",eZ=Symbol("target"),tZ=Symbol("unsubscribe");function nZ(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}var rZ=Array.isArray;function iZ(e){return"symbol"==typeof e}var aZ={after:(e,t)=>rZ(e)?e.slice(t.length):""===t?e:e.slice(t.length+1),concat:(e,t)=>rZ(e)?(e=[...e],t&&e.push(t),e):t&&void 0!==t.toString?(""!==e&&(e+=$K),iZ(t)?e+t.toString():e+t):e,initial:e=>{if(rZ(e))return e.slice(0,-1);if(""===e)return e;let t=e.lastIndexOf($K);return-1===t?"":e.slice(0,t)},last:e=>{if(rZ(e))return e[e.length-1]||"";if(""===e)return e;let t=e.lastIndexOf($K);return-1===t?e:e.slice(t+1)},walk:(e,t)=>{if(rZ(e))for(let n of e)t(n);else if(""!==e){let n=0,r=e.indexOf($K);if(-1===r)t(e);else for(;n<e.length;)-1===r&&(r=e.length),t(e.slice(n,r)),n=r+1,r=e.indexOf($K,n)}},get(e,t){return this.walk(t,(t=>{e&&(e=e[t])})),e}},oZ=aZ;function sZ(e,t,n){return e.isUnsubscribed||t.ignoreSymbols&&iZ(n)||t.ignoreUnderscores&&"_"===n.charAt(0)||"ignoreKeys"in t&&t.ignoreKeys.includes(n)}function lZ(e){return"[object Object]"===toString.call(e)}function cZ(){return!0}function uZ(e,t){return e.length!==t.length||e.some(((e,n)=>t[n]!==e))}var hZ=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),dZ=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),fZ={push:cZ,pop:cZ,shift:cZ,unshift:cZ,copyWithin:uZ,reverse:uZ,sort:uZ,splice:uZ,flat:uZ,fill:uZ},pZ=new Set([...hZ,...dZ,...Object.keys(fZ)]);function mZ(e,t){if(e.size!==t.size)return!0;for(let n of e)if(!t.has(n))return!0;return!1}var gZ=["keys","values","entries"],vZ=new Set(["has","toString"]),yZ={add:mZ,clear:mZ,delete:mZ,forEach:mZ},wZ=new Set([...vZ,...Object.keys(yZ),...gZ]);function bZ(e,t){if(e.size!==t.size)return!0;let n;for(let[r,i]of e)if(n=t.get(r),n!==i||void 0===n&&!t.has(r))return!0;return!1}var xZ=new Set([...vZ,"get"]),_Z={set:bZ,clear:bZ,delete:bZ,forEach:bZ},SZ=new Set([...xZ,...Object.keys(_Z),...gZ]),EZ=class{constructor(e,t,n,r){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=r,this._changes=r?[]:null,this.clone=void 0===t?e:this._shallowClone(e)}static isHandledMethod(e){return hZ.has(e)}_shallowClone(e){let t=e;if(lZ(e))t={...e};else if(rZ(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map((e=>this._shallowClone(e))));else if(e instanceof Map){t=new Map;for(let[n,r]of e.entries())t.set(n,this._shallowClone(r))}return this._clonedCache.add(t),t}preferredThisArg(e,t,n,r){return e?(rZ(r)?this._onIsChanged=fZ[t]:r instanceof Set?this._onIsChanged=yZ[t]:r instanceof Map&&(this._onIsChanged=_Z[t]),r):n}update(e,t,n){let r=oZ.after(e,this._path);if("length"!==t){let e=this.clone;oZ.walk(r,(t=>{e&&e[t]&&(this._clonedCache.has(e[t])||(e[t]=this._shallowClone(e[t])),e=e[t])})),this._hasOnValidate&&this._changes.push({path:r,property:t,previous:n}),e&&e[t]&&(e[t]=n)}this._isChanged=!0}undo(e){let t;for(let n=this._changes.length-1;-1!==n;n--)t=this._changes[n],oZ.get(e,t.path)[t.property]=t.previous}isChanged(e){return void 0===this._onIsChanged?this._isChanged:this._onIsChanged(this.clone,e)}},CZ=class extends EZ{static isHandledMethod(e){return pZ.has(e)}},AZ=class extends EZ{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}},TZ=class extends EZ{static isHandledMethod(e){return wZ.has(e)}undo(e){for(let t of this.clone)e.add(t);for(let t of e)this.clone.has(t)||e.delete(t)}},MZ=class extends EZ{static isHandledMethod(e){return SZ.has(e)}undo(e){for(let[t,n]of this.clone.entries())e.set(t,n);for(let t of e.keys())this.clone.has(t)||e.delete(t)}},PZ=class extends EZ{constructor(e,t,n,r){super(void 0,t,n,r),this._arg1=n[0],this._weakValue=e.has(this._arg1)}isChanged(e){return this._weakValue!==e.has(this._arg1)}undo(e){this._weakValue&&!e.has(this._arg1)?e.add(this._arg1):e.delete(this._arg1)}},DZ=class extends EZ{constructor(e,t,n,r){super(void 0,t,n,r),this._weakKey=n[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){let t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}},kZ=class{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return lZ(e)||rZ(e)||nZ(e)}static isHandledMethod(e,t){return lZ(e)?EZ.isHandledMethod(t):rZ(e)?CZ.isHandledMethod(t):e instanceof Set?TZ.isHandledMethod(t):e instanceof Map?MZ.isHandledMethod(t):nZ(e)}get isCloning(){return this._stack.length>0}start(e,t,n){let r=EZ;rZ(e)?r=CZ:e instanceof Date?r=AZ:e instanceof Set?r=TZ:e instanceof Map?r=MZ:e instanceof WeakSet?r=PZ:e instanceof WeakMap&&(r=DZ),this._stack.push(new r(e,t,n,this._hasOnValidate))}update(e,t,n){this._stack[this._stack.length-1].update(e,t,n)}preferredThisArg(e,t,n){let{name:r}=e,i=kZ.isHandledMethod(n,r);return this._stack[this._stack.length-1].preferredThisArg(i,r,t,n)}isChanged(e,t,n){return this._stack[this._stack.length-1].isChanged(e,t,n)}undo(e){void 0!==this._previousClone&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},OZ={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},IZ=(e,t,n={})=>{n={...OZ,...n};let r=Symbol("ProxyTarget"),{equals:i,isShallow:a,ignoreDetached:o,details:s}=n,l=new class{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return void 0===this._descriptorCache&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){let t=this._getDescriptorCache(),n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);let n=this._getProperties(e),r=n[t];return void 0===r&&(r=Reflect.getOwnPropertyDescriptor(e,t),n[t]=r),r}getProxy(e,t,n,r){if(this.isUnsubscribed)return e;let i=e[r],a=i||e;this._pathCache.set(a,t);let o=this._proxyCache.get(a);return void 0===o&&(o=void 0===i?new Proxy(e,n):e,this._proxyCache.set(a,o)),o}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,oZ.get(t,this.getPath(e)))}defineProperty(e,t,n){return!!Reflect.defineProperty(e,t,n)&&(this.isUnsubscribed||(this._getProperties(e)[t]=n),!0)}setProperty(e,t,n,r,i){if(!this._equals(i,n)||!(t in e)){let i=this._getOwnPropertyDescriptor(e,t);return void 0!==i&&"set"in i?Reflect.set(e,t,n,r):Reflect.set(e,t,n)}return!0}deleteProperty(e,t,n){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){let r=this._getDescriptorCache().get(e);r&&(delete r[t],this._pathCache.delete(n))}return!0}return!1}isSameDescriptor(e,t,n){let r=this._getOwnPropertyDescriptor(t,n);return void 0!==e&&void 0!==r&&Object.is(e.value,r.value)&&(e.writable||!1)===(r.writable||!1)&&(e.enumerable||!1)===(r.enumerable||!1)&&(e.configurable||!1)===(r.configurable||!1)&&e.get===r.get&&e.set===r.set}isGetInvariant(e,t){let n=this._getOwnPropertyDescriptor(e,t);return void 0!==n&&!0!==n.configurable&&!0!==n.writable}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}}(i),c="function"==typeof n.onValidate,u=new kZ(c),h=(e,t,r,i,a)=>!c||u.isCloning||!0===n.onValidate(oZ.concat(l.getPath(e),t),r,i,a),d=(t,r,i,a)=>{!sZ(l,n,r)&&(!o||!l.isDetached(t,e))&&f(l.getPath(t),r,i,a)},f=(e,n,r,i,a)=>{u.isCloning?u.update(e,n,i):t(oZ.concat(e,n),r,i,a)},p=e=>e&&(e[r]||e),m=(t,i,s,c)=>function(e){return("object"==typeof e?null===e:"function"!=typeof e)||e instanceof RegExp}(t)||"constructor"===s||a&&!kZ.isHandledMethod(i,s)||sZ(l,n,s)||l.isGetInvariant(i,s)||o&&l.isDetached(i,e)?t:(void 0===c&&(c=l.getPath(i)),l.getProxy(t,oZ.concat(c,s),g,r)),g={get(e,t,n){if(iZ(t)){if(t===r||t===eZ)return e;if(t===tZ&&!l.isUnsubscribed&&0===l.getPath(e).length)return l.unsubscribe(),e}let i=nZ(e)?Reflect.get(e,t):Reflect.get(e,t,n);return m(i,e,t)},set(e,t,n,a){n=p(n);let o=e[r]||e,s=o[t];if(i(s,n)&&t in e)return!0;let c=h(e,t,n,s);return c&&l.setProperty(o,t,n,a,s)?(d(e,t,e[t],s),!0):!c},defineProperty(e,t,n){if(!l.isSameDescriptor(n,e,t)){let r=e[t];h(e,t,n.value,r)&&l.defineProperty(e,t,n,r)&&d(e,t,n.value,r)}return!0},deleteProperty(e,t){if(!Reflect.has(e,t))return!0;let n=Reflect.get(e,t),r=h(e,t,void 0,n);return r&&l.deleteProperty(e,t,n)?(d(e,t,void 0,n),!0):!r},apply(t,n,a){let o=n[r]||n;if(l.isUnsubscribed)return Reflect.apply(t,o,a);if((!1===s||!0!==s&&!s.includes(t.name))&&kZ.isHandledType(o)){let r=oZ.initial(l.getPath(t)),s=kZ.isHandledMethod(o,t.name);u.start(o,r,a);let c=Reflect.apply(t,u.preferredThisArg(t,n,o),s?a.map((e=>p(e))):a),d=u.isChanged(o,i),v=u.stop();if(kZ.isHandledType(c)&&s&&(n instanceof Map&&"get"===t.name&&(r=oZ.concat(r,a[0])),c=l.getProxy(c,r,g)),d){let n={name:t.name,args:a,result:c},i=u.isCloning?oZ.initial(r):r,s=u.isCloning?oZ.last(r):"";h(oZ.get(e,i),s,o,v,n)?f(i,s,o,v,n):u.undo(o)}return(n instanceof Map||n instanceof Set)&&function(e){return"object"==typeof e&&"function"==typeof e.next}(c)?function(e,t,n,r,i){let a=e.next;if("entries"===t.name)e.next=function(){let e=a.call(this);return!1===e.done&&(e.value[0]=i(e.value[0],t,e.value[0],r),e.value[1]=i(e.value[1],t,e.value[0],r)),e};else if("values"===t.name){let o=n[eZ].keys();e.next=function(){let e=a.call(this);return!1===e.done&&(e.value=i(e.value,t,o.next().value,r)),e}}else e.next=function(){let e=a.call(this);return!1===e.done&&(e.value=i(e.value,t,e.value,r)),e};return e}(c,t,n,r,m):c}return Reflect.apply(t,n,a)}},v=l.getProxy(e,n.pathAsArray?[]:"",g);return t=t.bind(v),c&&(n.onValidate=n.onValidate.bind(v)),v};IZ.target=e=>e&&e[eZ]||e,IZ.unsubscribe=e=>e[tZ]||e;var RZ=IZ,LZ="object"==typeof global&&global&&global.Object===Object&&global,NZ="object"==typeof self&&self&&self.Object===Object&&self,zZ=LZ||NZ||Function("return this")(),BZ=zZ.Symbol,FZ=Object.prototype,UZ=FZ.hasOwnProperty,jZ=FZ.toString,VZ=BZ?BZ.toStringTag:void 0,HZ=Object.prototype.toString,GZ=BZ?BZ.toStringTag:void 0,WZ=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":GZ&&GZ in Object(e)?function(e){var t=UZ.call(e,VZ),n=e[VZ];try{e[VZ]=void 0;var r=!0}catch{}var i=jZ.call(e);return r&&(t?e[VZ]=n:delete e[VZ]),i}(e):function(e){return HZ.call(e)}(e)},qZ=function(e){return null!=e&&"object"==typeof e},XZ=function(e){return"symbol"==typeof e||qZ(e)&&"[object Symbol]"==WZ(e)},YZ=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},QZ=Array.isArray,KZ=BZ?BZ.prototype:void 0,ZZ=KZ?KZ.toString:void 0,JZ=function e(t){if("string"==typeof t)return t;if(QZ(t))return YZ(t,e)+"";if(XZ(t))return ZZ?ZZ.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},$Z=/\s/,eJ=/^\s+/,tJ=function(e){return e&&e.slice(0,function(e){for(var t=e.length;t--&&$Z.test(e.charAt(t)););return t}(e)+1).replace(eJ,"")},nJ=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},rJ=/^[-+]0x[0-9a-f]+$/i,iJ=/^0b[01]+$/i,aJ=/^0o[0-7]+$/i,oJ=parseInt,sJ=function(e){if("number"==typeof e)return e;if(XZ(e))return NaN;if(nJ(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nJ(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tJ(e);var n=iJ.test(e);return n||aJ.test(e)?oJ(e.slice(2),n?2:8):rJ.test(e)?NaN:+e},lJ=function(e){if(!nJ(e))return!1;var t=WZ(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},cJ=zZ["__core-js_shared__"],uJ=function(){var e=/[^.]+$/.exec(cJ&&cJ.keys&&cJ.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),hJ=Function.prototype.toString,dJ=function(e){if(null!=e){try{return hJ.call(e)}catch{}try{return e+""}catch{}}return""},fJ=/^\[object .+?Constructor\]$/,pJ=Function.prototype,mJ=Object.prototype,gJ=pJ.toString,vJ=mJ.hasOwnProperty,yJ=RegExp("^"+gJ.call(vJ).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wJ=function(e){return!(!nJ(e)||function(e){return!!uJ&&uJ in e}(e))&&(lJ(e)?yJ:fJ).test(dJ(e))},bJ=function(e,t){var n=function(e,t){return e?.[t]}(e,t);return wJ(n)?n:void 0},xJ=bJ(zZ,"WeakMap"),_J=Object.create,SJ=function(){function e(){}return function(t){if(!nJ(t))return{};if(_J)return _J(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),EJ=SJ,CJ=Date.now,AJ=function(e){return function(){return e}},TJ=function(){try{var e=bJ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),MJ=TJ?function(e,t){return TJ(e,"toString",{configurable:!0,enumerable:!1,value:AJ(t),writable:!0})}:function(e){return e},PJ=function(e){var t=0,n=0;return function(){var r=CJ(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(MJ),DJ=/^(?:0|[1-9]\d*)$/,kJ=function(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&("number"==n||"symbol"!=n&&DJ.test(e))&&e>-1&&e%1==0&&e<t},OJ=function(e,t,n){"__proto__"==t&&TJ?TJ(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},IJ=function(e,t){return e===t||e!=e&&t!=t},RJ=Object.prototype.hasOwnProperty,LJ=function(e,t,n){var r=e[t];(!RJ.call(e,t)||!IJ(r,n)||void 0===n&&!(t in e))&&OJ(e,t,n)},NJ=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?OJ(n,s,l):LJ(n,s,l)}return n},zJ=Math.max,BJ=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},FJ=function(e){return null!=e&&BJ(e.length)&&!lJ(e)},UJ=Object.prototype,jJ=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||UJ)},VJ=function(e){return qZ(e)&&"[object Arguments]"==WZ(e)},HJ=Object.prototype,GJ=HJ.hasOwnProperty,WJ=HJ.propertyIsEnumerable,qJ=VJ(function(){return arguments}())?VJ:function(e){return qZ(e)&&GJ.call(e,"callee")&&!WJ.call(e,"callee")},XJ=qJ,YJ="object"==typeof exports&&exports&&!exports.nodeType&&exports,QJ=YJ&&"object"==typeof module&&module&&!module.nodeType&&module,KJ=QJ&&QJ.exports===YJ?zZ.Buffer:void 0,ZJ=(KJ?KJ.isBuffer:void 0)||function(){return!1},JJ={};JJ["[object Float32Array]"]=JJ["[object Float64Array]"]=JJ["[object Int8Array]"]=JJ["[object Int16Array]"]=JJ["[object Int32Array]"]=JJ["[object Uint8Array]"]=JJ["[object Uint8ClampedArray]"]=JJ["[object Uint16Array]"]=JJ["[object Uint32Array]"]=!0,JJ["[object Arguments]"]=JJ["[object Array]"]=JJ["[object ArrayBuffer]"]=JJ["[object Boolean]"]=JJ["[object DataView]"]=JJ["[object Date]"]=JJ["[object Error]"]=JJ["[object Function]"]=JJ["[object Map]"]=JJ["[object Number]"]=JJ["[object Object]"]=JJ["[object RegExp]"]=JJ["[object Set]"]=JJ["[object String]"]=JJ["[object WeakMap]"]=!1;var $J=function(e){return function(t){return e(t)}},e$="object"==typeof exports&&exports&&!exports.nodeType&&exports,t$=e$&&"object"==typeof module&&module&&!module.nodeType&&module,n$=t$&&t$.exports===e$&&LZ.process,r$=function(){try{return t$&&t$.require&&t$.require("util").types||n$&&n$.binding&&n$.binding("util")}catch{}}(),i$=r$&&r$.isTypedArray,a$=i$?$J(i$):function(e){return qZ(e)&&BJ(e.length)&&!!JJ[WZ(e)]},o$=Object.prototype.hasOwnProperty,s$=function(e,t){var n=QZ(e),r=!n&&XJ(e),i=!n&&!r&&ZJ(e),a=!n&&!r&&!i&&a$(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)(t||o$.call(e,c))&&(!o||!("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||kJ(c,l)))&&s.push(c);return s},l$=function(e,t){return function(n){return e(t(n))}},c$=l$(Object.keys,Object),u$=Object.prototype.hasOwnProperty,h$=function(e){return FJ(e)?s$(e):function(e){if(!jJ(e))return c$(e);var t=[];for(var n in Object(e))u$.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},d$=Object.prototype.hasOwnProperty,f$=function(e){if(!nJ(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=jJ(e),n=[];for(var r in e)"constructor"==r&&(t||!d$.call(e,r))||n.push(r);return n},p$=function(e){return FJ(e)?s$(e,!0):f$(e)},m$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g$=/^\w*$/,v$=bJ(Object,"create"),y$=Object.prototype.hasOwnProperty,w$=Object.prototype.hasOwnProperty;function b$(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}b$.prototype.clear=function(){this.__data__=v$?v$(null):{},this.size=0},b$.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},b$.prototype.get=function(e){var t=this.__data__;if(v$){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return y$.call(t,e)?t[e]:void 0},b$.prototype.has=function(e){var t=this.__data__;return v$?void 0!==t[e]:w$.call(t,e)},b$.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=v$&&void 0===t?"__lodash_hash_undefined__":t,this};var x$=b$,_$=function(e,t){for(var n=e.length;n--;)if(IJ(e[n][0],t))return n;return-1},S$=Array.prototype.splice;function E$(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}E$.prototype.clear=function(){this.__data__=[],this.size=0},E$.prototype.delete=function(e){var t=this.__data__,n=_$(t,e);return!(n<0||(n==t.length-1?t.pop():S$.call(t,n,1),--this.size,0))},E$.prototype.get=function(e){var t=this.__data__,n=_$(t,e);return n<0?void 0:t[n][1]},E$.prototype.has=function(e){return _$(this.__data__,e)>-1},E$.prototype.set=function(e,t){var n=this.__data__,r=_$(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var C$=E$,A$=bJ(zZ,"Map"),T$=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function M$(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}M$.prototype.clear=function(){this.size=0,this.__data__={hash:new x$,map:new(A$||C$),string:new x$}},M$.prototype.delete=function(e){var t=T$(this,e).delete(e);return this.size-=t?1:0,t},M$.prototype.get=function(e){return T$(this,e).get(e)},M$.prototype.has=function(e){return T$(this,e).has(e)},M$.prototype.set=function(e,t){var n=T$(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var P$=M$;function D$(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(D$.Cache||P$),n}D$.Cache=P$;var k$=D$,O$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I$=/\\(\\)?/g,R$=function(e){var t=k$(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(O$,(function(e,n,r,i){t.push(r?i.replace(I$,"$1"):n||e)})),t})),L$=R$,N$=function(e){return null==e?"":JZ(e)},z$=function(e,t){return QZ(e)?e:function(e,t){if(QZ(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!XZ(e))||g$.test(e)||!m$.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:L$(N$(e))},B$=function(e){if("string"==typeof e||XZ(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},F$=function(e,t){for(var n=0,r=(t=z$(t,e)).length;null!=e&&n<r;)e=e[B$(t[n++])];return n&&n==r?e:void 0},U$=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},j$=BZ?BZ.isConcatSpreadable:void 0,V$=function(e){return QZ(e)||XJ(e)||!!(j$&&e&&e[j$])},H$=function e(t,n,r,i,a){var o=-1,s=t.length;for(r||(r=V$),a||(a=[]);++o<s;){var l=t[o];n>0&&r(l)?n>1?e(l,n-1,r,i,a):U$(a,l):i||(a[a.length]=l)}return a},G$=function(e){return null!=e&&e.length?H$(e,1):[]},W$=function(e){return PJ(function(e,t,n){return t=zJ(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=zJ(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,void 0,G$),e+"")},q$=l$(Object.getPrototypeOf,Object),X$=Function.prototype,Y$=Object.prototype,Q$=X$.toString,K$=Y$.hasOwnProperty,Z$=Q$.call(Object);function J$(e){var t=this.__data__=new C$(e);this.size=t.size}J$.prototype.clear=function(){this.__data__=new C$,this.size=0},J$.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},J$.prototype.get=function(e){return this.__data__.get(e)},J$.prototype.has=function(e){return this.__data__.has(e)},J$.prototype.set=function(e,t){var n=this.__data__;if(n instanceof C$){var r=n.__data__;if(!A$||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new P$(r)}return n.set(e,t),this.size=n.size,this};var $$=J$,e0="object"==typeof exports&&exports&&!exports.nodeType&&exports,t0=e0&&"object"==typeof module&&module&&!module.nodeType&&module,n0=t0&&t0.exports===e0?zZ.Buffer:void 0,r0=n0?n0.allocUnsafe:void 0,i0=function(){return[]},a0=Object.prototype.propertyIsEnumerable,o0=Object.getOwnPropertySymbols,s0=o0?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}(o0(e),(function(t){return a0.call(e,t)})))}:i0,l0=s0,c0=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)U$(t,l0(e)),e=q$(e);return t}:i0,u0=c0,h0=function(e,t,n){var r=t(e);return QZ(e)?r:U$(r,n(e))},d0=function(e){return h0(e,h$,l0)},f0=function(e){return h0(e,p$,u0)},p0=bJ(zZ,"DataView"),m0=bJ(zZ,"Promise"),g0=bJ(zZ,"Set"),v0="[object Map]",y0="[object Promise]",w0="[object Set]",b0="[object WeakMap]",x0="[object DataView]",_0=dJ(p0),S0=dJ(A$),E0=dJ(m0),C0=dJ(g0),A0=dJ(xJ),T0=WZ;(p0&&T0(new p0(new ArrayBuffer(1)))!=x0||A$&&T0(new A$)!=v0||m0&&T0(m0.resolve())!=y0||g0&&T0(new g0)!=w0||xJ&&T0(new xJ)!=b0)&&(T0=function(e){var t=WZ(e),n="[object Object]"==t?e.constructor:void 0,r=n?dJ(n):"";if(r)switch(r){case _0:return x0;case S0:return v0;case E0:return y0;case C0:return w0;case A0:return b0}return t});var M0=T0,P0=Object.prototype.hasOwnProperty,D0=zZ.Uint8Array,k0=function(e){var t=new e.constructor(e.byteLength);return new D0(t).set(new D0(e)),t},O0=/\w*$/,I0=BZ?BZ.prototype:void 0,R0=I0?I0.valueOf:void 0,L0=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return k0(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?k0(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?k0(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,O0.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function(e){return R0?Object(R0.call(e)):{}}(e)}},N0=r$&&r$.isMap,z0=N0?$J(N0):function(e){return qZ(e)&&"[object Map]"==M0(e)},B0=r$&&r$.isSet,F0=B0?$J(B0):function(e){return qZ(e)&&"[object Set]"==M0(e)},U0="[object Arguments]",j0="[object Function]",V0="[object Object]",H0={};H0[U0]=H0["[object Array]"]=H0["[object ArrayBuffer]"]=H0["[object DataView]"]=H0["[object Boolean]"]=H0["[object Date]"]=H0["[object Float32Array]"]=H0["[object Float64Array]"]=H0["[object Int8Array]"]=H0["[object Int16Array]"]=H0["[object Int32Array]"]=H0["[object Map]"]=H0["[object Number]"]=H0[V0]=H0["[object RegExp]"]=H0["[object Set]"]=H0["[object String]"]=H0["[object Symbol]"]=H0["[object Uint8Array]"]=H0["[object Uint8ClampedArray]"]=H0["[object Uint16Array]"]=H0["[object Uint32Array]"]=!0,H0["[object Error]"]=H0[j0]=H0["[object WeakMap]"]=!1;var G0=function e(t,n,r,i,a,o){var s,l=1&n,c=2&n,u=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!nJ(t))return t;var h=QZ(t);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&P0.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(t,s)}else{var d=M0(t),f=d==j0||"[object GeneratorFunction]"==d;if(ZJ(t))return function(e,t){if(t)return e.slice();var n=e.length,r=r0?r0(n):new e.constructor(n);return e.copy(r),r}(t,l);if(d==V0||d==U0||f&&!a){if(s=c||f?{}:function(e){return"function"!=typeof e.constructor||jJ(e)?{}:EJ(q$(e))}(t),!l)return c?function(e,t){return NJ(e,u0(e),t)}(t,function(e,t){return e&&NJ(t,p$(t),e)}(s,t)):function(e,t){return NJ(e,l0(e),t)}(t,function(e,t){return e&&NJ(t,h$(t),e)}(s,t))}else{if(!H0[d])return a?t:{};s=L0(t,d,l)}}o||(o=new $$);var p=o.get(t);if(p)return p;o.set(t,s),F0(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):z0(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var m=h?void 0:(u?c?f0:d0:c?p$:h$)(t);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(m||t,(function(i,a){m&&(i=t[a=i]),LJ(s,a,e(i,n,r,a,t,o))})),s},W0=function(e){return G0(e,5)};function q0(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new P$;++t<n;)this.add(e[t])}q0.prototype.add=q0.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},q0.prototype.has=function(e){return this.__data__.has(e)};var X0=q0,Y0=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Q0=function(e,t){return e.has(t)},K0=function(e,t,n,r,i,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,f=2&n?new X0:void 0;for(a.set(e,t),a.set(t,e);++h<s;){var p=e[h],m=t[h];if(r)var g=o?r(m,p,h,t,e,a):r(p,m,h,e,t,a);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!Y0(t,(function(e,t){if(!Q0(f,t)&&(p===e||i(p,e,n,r,a)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d},Z0=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},J0=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},$0=BZ?BZ.prototype:void 0,e1=$0?$0.valueOf:void 0,t1=Object.prototype.hasOwnProperty,n1="[object Arguments]",r1="[object Array]",i1="[object Object]",a1=Object.prototype.hasOwnProperty,o1=function(e,t,n,r,i,a){var o=QZ(e),s=QZ(t),l=o?r1:M0(e),c=s?r1:M0(t),u=(l=l==n1?i1:l)==i1,h=(c=c==n1?i1:c)==i1,d=l==c;if(d&&ZJ(e)){if(!ZJ(t))return!1;o=!0,u=!1}if(d&&!u)return a||(a=new $$),o||a$(e)?K0(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new D0(e),new D0(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return IJ(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Z0;case"[object Set]":var l=1&r;if(s||(s=J0),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=K0(s(e),s(t),r,i,a,o);return o.delete(e),u;case"[object Symbol]":if(e1)return e1.call(e)==e1.call(t)}return!1}(e,t,l,n,r,i,a);if(!(1&n)){var f=u&&a1.call(e,"__wrapped__"),p=h&&a1.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return a||(a=new $$),i(m,g,n,r,a)}}return!!d&&(a||(a=new $$),function(e,t,n,r,i,a){var o=1&n,s=d0(e),l=s.length;if(l!=d0(t).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in t:t1.call(t,u)))return!1}var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var f=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<l;){var m=e[u=s[c]],g=t[u];if(r)var v=o?r(g,m,u,t,e,a):r(m,g,u,e,t,a);if(!(void 0===v?m===g||i(m,g,n,r,a):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,w=t.constructor;y!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w)&&(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,r,i,a))},s1=function e(t,n,r,i,a){return t===n||(null==t||null==n||!qZ(t)&&!qZ(n)?t!=t&&n!=n:o1(t,n,r,i,e,a))},l1=function(e,t){return null!=e&&t in Object(e)},c1=function(e,t){return null!=e&&function(e,t,n){for(var r=-1,i=(t=z$(t,e)).length,a=!1;++r<i;){var o=B$(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&BJ(i)&&kJ(o,i)&&(QZ(e)||XJ(e))}(e,t,l1)},u1=function(){return zZ.Date.now()},h1=Math.max,d1=Math.min,f1=function(e,t,n){var r,i,a,o,s,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=a}function m(){var e=u1();if(p(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return h?d1(n,a-(e-c)):n}(e))}function g(e){return s=void 0,d&&r?f(e):(r=i=void 0,o)}function v(){var e=u1(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?f(e):o}(l);if(h)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=sJ(t)||0,nJ(n)&&(u=!!n.leading,a=(h="maxWait"in n)?h1(sJ(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?o:g(u1())},v},p1=function(e,t){return t.length<2?e:F$(e,function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}(t,0,-1))},m1=function(e,t){return s1(e,t)},g1=function(e,t){return t=z$(t,e),null==(e=p1(e,t))||delete e[B$(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]},v1=function(e){return function(e){if(!qZ(e)||"[object Object]"!=WZ(e))return!1;var t=q$(e);if(null===t)return!0;var n=K$.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Q$.call(n)==Z$}(e)?void 0:e},y1=W$((function(e,t){var n={};if(null==e)return n;var r=!1;t=YZ(t,(function(t){return t=z$(t,e),r||(r=t.length>1),t})),NJ(e,f0(e),n),r&&(n=G0(n,7,v1));for(var i=t.length;i--;)g1(n,t[i]);return n})),w1=y1,b1=function(e,t,n,r){if(!nJ(e))return e;for(var i=-1,a=(t=z$(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=B$(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var u=s[l];void 0===(c=r?r(u,l,s):void 0)&&(c=nJ(u)?u:kJ(t[i+1])?[]:{})}LJ(s,l,c),s=s[l]}return e},x1=function(e,t){return function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=F$(e,o);n(s,o)&&b1(a,z$(o,e),s)}return a}(e,t,(function(t,n){return c1(e,n)}))},_1=W$((function(e,t){return null==e?{}:x1(e,t)})),S1=_1;function E1(e){for(let t of Object.keys(e))void 0===e[t]&&delete e[t];return e}function C1(e,t){return Object.setPrototypeOf(e,t),e}!(typeof window>"u")&&window.navigator.userAgent.toLowerCase().includes(" electron/")&&(()=>{if(typeof window>"u")return;let e=new URLSearchParams(window.location.search).get("desktop-app-version");e?window.localStorage.setItem("desktop-app-version",e):window.localStorage.getItem("desktop-app-version")})();var A1=!(typeof window>"u")&&window.navigator.platform.toUpperCase().includes("MAC"),T1=!(typeof window>"u")&&(/iPad|iPhone|iPod/.test(window.navigator.userAgent)||A1&&"ontouchend"in document),M1=!(typeof window>"u")&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,P1=!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0),D1=(()=>{if(typeof window>"u")return!1;let e=navigator.userAgent,t=navigator.vendor;return/Safari/i.test(e)&&/Apple Computer/.test(t)})(),k1=Number((()=>{if(typeof window>"u")return null;let e=navigator.userAgent.match(/Version\/(\d+\.\d)/);return e&&e[1]})());function O1(e){return Array.isArray(e)?e:[e]}function I1(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1;n+=1}return n!==t.length?-1:n!==e.length?1:0}function R1(e){return A1?e.metaKey:e.ctrlKey}var L1=[],N1={},z1={},B1={};function F1(e){L1.includes(e)||L1.push(e)}function U1(e){delete N1[e.pointerId];for(let t=0;t<L1.length;t++)if(L1[t].pointerId===e.pointerId){L1.splice(t,1);break}}function j1(e){if("touch"!==e.pointerType)return;let t=N1[e.pointerId];void 0===t&&(t={x:0,y:0},N1[e.pointerId]=t),t.x=e.pageX,t.y=e.pageY}function V1(e){let t=e.pointerId===L1[0].pointerId?L1[1]:L1[0];return N1[t.pointerId]}function H1(e){z1[e.key]=!0,B1[e.key]=void 0===B1[e.key]?1:B1[e.key]+1}function G1(e){if(A1&&z1.Meta)for(let e in z1)z1[e]=!1;else z1[e.key]=!1;B1={}}var W1,q1,X1=new Promise((e=>{W1=e}));var Y1,Q1,K1=new Promise((e=>{Y1=e}));var Z1=class{modifyById(e,t){let n=this;if(void 0===n[e])throw new Error("not expected");{let r={...n,[e]:t};return Object.setPrototypeOf(r,Z1.prototype),r}}add(e,t){return this.runOp({type:1,id:e,data:t})?.data??this}runOp(e){let t=this;if(1===e.type){let n,r=t[e.id];n=void 0===r?{type:2,id:e.id}:{type:1,id:e.id,data:r};let{id:i,data:a}=e,o={...t,[i]:a};return Object.setPrototypeOf(o,Z1.prototype),{data:o,actual:e,reverse:n}}if(2===e.type){let{id:n}=e,r=t[n];if(void 0===r)return null;{let i={...t};return Object.setPrototypeOf(i,Z1.prototype),delete i[n],{data:i,actual:e,reverse:{type:1,id:n,data:r}}}}return null}};function J1(e){if(void 0!==e.deepFreeze)return void e.deepFreeze(e);let t=Object.getOwnPropertyNames(e);for(let n of t){let t=e[n];t&&"object"==typeof t&&J1(t)}return Object.freeze(e)}var $1=class extends Error{};function e2(e){let t={...e};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}function t2(e,t,n){if(void 0===e?void 0===t?(e=0,t=10):e=t-10:void 0===t&&(t=e+10),e>t){let n=e;e=t,t=n}let r=[],i=1/(n+1);for(let a=0;a<n;a++){let n=e+(t-e)*(a+.75+.5*Math.random())*i;r.push(n)}return r}function n2(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array}function r2(e,t){for(let n of e)!0!==t(n.id,n.data)&&r2(n.children,t)}function i2(e,t){if(!0!==t(e.id,e.data))for(let n of e.children)i2(n,t)}var a2,o2=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,o2.prototype)}deepFreeze(){let e=0;for(;e<this.length;)J1(this[e]),e++}fillCaches0(e,t){this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let t of e.children)this.fillCaches0(t,e.id)}fillCaches(){if(void 0===this.objCaches){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(0!==e.length)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}nonExistOrDescendantOf(e,t){if(!this.has(e))return!0;for(;e;){let n=this.parent(e);if(n===t)return!0;e=n}return!1}rootAcestor(e){for(;e;){let t=this.parent(e);if(!t)return e;e=t}return e}isDescendantOf(e,t){for(;e;){let n=this.parent(e);if(n===t)return!0;e=n}return!1}data(e){return this.get(e)?.data}has(e){return void 0!==this.childrenOf(e)}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){return null===e?this:this.get(e)?.children}traverseFrom(e,t){if(null===e)this.traverse(t);else{let n=this.get(e);n&&i2(n,t)}}traverse(e){r2(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return null===e?this:this.get(e).children}modifyById(e,t){if(void 0===this.get(e))throw new Error("not expected");{let n=this.parent(e),r=this.childrenArray(n),i=r.findIndex((t=>t.id===e));if(i<0)throw new Error("not expected");let a=r[i];return r=[...r],r[i]={...a,data:t},this.modifyArrayBy(n,r)}}modifyArrayBy(e,t){let n=e,r=t;for(;null!==n;){let e=r,t=n;if(n=this.parent(n),void 0===n)throw new Error;r=this.childrenArray(n);let i=r.findIndex((e=>e.id===t));if(i<0)throw new Error;r=[...r],r[i]={...r[i],children:e}}Object.setPrototypeOf(r,o2.prototype);let i=r;return i.fillCaches(),i}runOp(e){switch(e.type){case 7:return this.addOp(e);case 8:return this.deleteOp(e);case 9:return this.moveOp(e)}return null}checkDuplicatedIdRec({id:e,children:t}){if(void 0!==this.get(e))return!0;for(let e of t)if(this.checkDuplicatedIdRec(e))return!0;return!1}addOp(e){let{parent:t,fi:n,id:r,data:i,children:a}=e;if(null!==t&&void 0===this.get(t))return null;if(this.checkDuplicatedIdRec(e))return null;{let o=t,s=this.childrenArray(o),l={fi:n,id:r,data:i,children:a};return s=[...s,l],s.sort(((e,t)=>e.fi-t.fi)),e.localIndex=s.indexOf(l),{data:this.modifyArrayBy(o,s),actual:e,reverse:{type:8,id:r}}}}deleteOp(e){let{id:t}=e;if(null===this.get(t))return null;{let n=this.parent(t);if(void 0===n)return null;let r=this.childrenArray(n),i=r.findIndex((e=>e.id===t));e.localIndex=i,r=[...r];let a=r.splice(i,1)[0];return{data:this.modifyArrayBy(n,r),actual:e,reverse:{type:7,...a,parent:n}}}}moveOp(e){let{parent:t,fi:n,id:r}=e;if(null!==t&&void 0===this.get(t))return this.deleteOp({type:8,id:r});if(null!==t){let e=t;for(;null!==e;){if(void 0===e)throw new Error;if(e===r)throw new $1("cyclic tree");e=this.parent(e)}}let i=this.parent(r);if(void 0===i)return null;let a=i,o=this.childrenArray(i),s=o.findIndex((e=>e.id===r));o=[...o];let l=o.splice(s,1)[0],c=this.modifyArrayBy(i,o);i=t,o=c.childrenArray(i);let u=l.fi;return l={...l,fi:n},o=[...o,l],o.sort(((e,t)=>e.fi-t.fi)),e.localIndex=o.indexOf(l),c=c.modifyArrayBy(i,o),{data:c,actual:e,reverse:{type:9,parent:a,fi:u,id:r}}}previous(e,t){if(null===t){let t=this.childrenArray(e);return 0===t.length?null:t[t.length-1].id}let n=null;for(let r of this.childrenArray(e)){if(r.id===t)return n;n=r.id}return null}traverseSortNext(e){let t=this.parent(e);if(void 0!==t){let n=this.childrenArray(t),r=n.findIndex((t=>t.id===e))+1;if(r<n.length)return n[r].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(void 0!==t){let n=this.childrenArray(t),r=n.findIndex((t=>t.id===e))-1;return r>=0?this.traverseSortPrevious(n[r].id):t}}getAllSorted(e){let t=[];for(let n of e){let e=this.getWithSortKey(n.id);void 0!==e&&t.push({...n,...e})}t.sort(((e,t)=>function(e,t){let n=0;for(;n<e.length&&n<t.length;){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1;n+=1}return n!==t.length?-1:n!==e.length?1:0}(e.sortKey,t.sortKey)));for(let e of t)delete e.sortKey;return t}getWithSortKey(e){var t=e;let n=[],r=this.get(t),i=r;if(void 0!==r){for(;t;)n.splice(0,0,r.fi),null!==(t=this.parent(t))&&(r=this.get(t));return{...i,sortKey:n}}}insertBeforeHelper(e,t,n){return this.insertAfterHelper(e,this.previous(e,t),n)}insertAfterHelper(e,t,n){let r=this.childrenArray(e);if(null===t){if(0===r.length)return t2(0,n,n);{let e=r[0].fi;return t2(e-n,e,n)}}{let i=this.get(t);if(void 0===i||this.parent(t)!==e)throw new Error("illegal args");let a=r.find((e=>e.fi>i.fi));if(void 0===a){let e=r[r.length-1].fi;return t2(e,e+n,n)}return t2(i.fi,a.fi,n)}}};(e=>{e.runOp=function(e,t){if(0!==t.type)return null;if(Array.isArray(e)){let n=t.props,r={},i=[...e],a=!1;if(n)for(let e of Object.keys(n)){let t=parseInt(e);if(isNaN(t))throw new Error("wrong index");r[e]=i[t],i[t]=n[e],a=!0}return a?{data:i,actual:t,reverse:{type:0,props:r}}:null}{let n=t.props,r={},i={...e},a=!1;if(n)for(let e of Object.keys(n)){r[e]=i[e];let t=n[e];void 0===t?delete i[e]:i[e]=t,a=!0}return a?{data:i,actual:t,reverse:{type:0,props:r}}:null}}})(a2||(a2={}));var s2=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,s2.prototype)}deepFreeze(){let e=0;for(;e<this.length;)J1(this[e]),e++}fillCaches0(e){this.objCaches.set(e.id,e)}fillCaches(){if(void 0===this.objCaches){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let e of this)this.fillCaches0(e)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(0!==e.length)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}data(e){return this.get(e)?.data}get(e){return this.fillCaches(),this.objCaches.get(e)}modifyById(e,t){if(void 0===this.get(e))throw new Error("not expected");{let n=this,r=n.findIndex((t=>t.id===e));if(r<0)throw new Error("not expected");let i=n[r];return n=[...n],n[r]={...i,data:t},this.modifyArrayBy(n)}}modifyArrayBy(e){Object.setPrototypeOf(e,s2.prototype);let t=e;return typeof process<"u"||t.fillCaches(),t}runOp(e){switch(e.type){case 4:return this.addOp(e);case 5:return this.deleteOp(e);case 6:return this.moveOp(e)}return null}addOp(e){let{fi:t,id:n,data:r}=e,i=this,a={fi:t,id:n,data:r};return i=[...i,a],i.sort(((e,t)=>e.fi-t.fi)),e.localIndex=i.indexOf(a),{data:this.modifyArrayBy(i),actual:e,reverse:{type:5,id:n}}}deleteOp(e){let{id:t}=e,n=this,r=n.findIndex((e=>e.id===t));if(-1===r)return null;e.localIndex=r,n=[...n];let i=n.splice(r,1)[0];return{data:this.modifyArrayBy(n),actual:e,reverse:{type:4,...i}}}moveOp(e){let{fi:t,id:n}=e,r=this;r=[...r];let i=r.findIndex((e=>e.id===n));if(-1===i)return null;let a=r[i].fi,o={...r[i],fi:t};return r[i]=o,r.sort(((e,t)=>e.fi-t.fi)),e.localIndex=r.indexOf(o),{data:this.modifyArrayBy(r),actual:e,reverse:{type:6,fi:a,id:n}}}previous(e){if(null===e)return 0===this.length?null:this[this.length-1].id;let t=null;for(let n of this){if(n.id===e)return t;t=n.id}return null}insertBeforeHelper(e,t){return this.insertAfterHelper(this.previous(e),t)}insertAfterHelper(e,t){let n=this;if(null===e){if(0===n.length)return t2(0,t,t);{let e=n[0].fi;return t2(e-t,e,t)}}{let r=this.get(e);if(void 0===r)throw new Error("illegal args");let i=n.find((e=>e.fi>r.fi));if(void 0===i){let e=n[n.length-1].fi;return t2(e,e+t,t)}return t2(r.fi,i.fi,t)}}};function l2(e){return e&&"object"==typeof e&&e instanceof p2}var c2,u2,h2,d2,f2,p2=class{unusedFunOverridesTable(e){}runOp(e){let t=[],n=this,r=0,i={};for(;r<e.path.length;){if(t.push(n),n=void 0===n?void 0:n[e.path[r]],void 0!==n&&!l2(n))return null;r+=1}n=n?e2(n):new p2;for(let[t,r]of Object.entries(e.props)){let e=n[t];i[t]=e,void 0===r?delete n[t]:n[t]=r}for(;r>0;){if(0===Object.keys(n).length){let i=t[r-1];i&&(n=e2(i),delete n[e.path[r-1]])}else{let i=t[r-1];if(i){let t=e2(i);t[e.path[r-1]]=n,n=t}else{let t=new p2;t[e.path[r-1]]=n,n=t}}r-=1}return{data:Object.setPrototypeOf(n,p2.prototype),actual:e,reverse:{...e,props:i}}}};function m2(e,t){if(void 0===t)return;let n=!1,r=e.map((e=>{let r=e.id,i=g2(e.data,t[r]);if(n=n||void 0!==i,void 0===i&&(i=e.data),e.children){let a=m2(e.children,t);return void 0!==a?n=!0:a=e.children,{...e,id:r,data:i,children:a}}return{...e,id:r,data:i}}));return n?r:void 0}function g2(e,t){if(!l2(t))return t;if(e instanceof o2){let n=m2(e,t);return void 0!==n&&Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}if(e instanceof s2)return function(e,t){if(void 0===t)return;let n=!1,r=e.map((e=>{let r=e.id,i=g2(e.data,t[r]);return n=n||void 0!==i,void 0===i&&(i=e.data),{...e,id:r,data:i}}));return n?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}(e,t);if(Array.isArray(e)){let n=!1,r=e.map(((e,r)=>{let i=g2(e,t[r]);return n=n||void 0!==i,void 0===i&&(i=e),i}));return n?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}if(e instanceof p2)return v2(e,t);if(e&&"object"==typeof e){let n={},r=!1;for(let[i,a]of Object.entries(e)){let e=g2(a,t[i]);r=r||void 0!==e,void 0===e&&(e=a),n[i]=e}return r?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}}function v2(e,t){if(void 0===e)return t;if(void 0===t)return e;if(!l2(t))return t;if(!l2(e))return c2.apply(e,t);let n=new Set;for(let t of Object.keys(e))n.add(t);for(let e of Object.keys(t))n.add(e);let r=new p2;for(let i of n){let n=v2(void 0===e?void 0:e[i],void 0===t?void 0:t[i]);r[i]=n}return r}function y2(e,t){let n={cur:[],result:[],len:0};return[e=_2(e,t,n)??e,n.result]}function w2(e,t){return null===e?null:(e.cur[e.len]=t,e.len+=1,e)}function b2(e){e&&(e.len-=1)}function x2(e,t,n){let r=!1,i=e.map((e=>{let i=e.id,a=t[i];if(void 0!==a&&"string"==typeof a&&(r=!0,i=a,null!==n))throw new Error("not supported");let o=_2(e.data,t,w2(n,i));b2(n),r=r||void 0!==o,void 0===o&&(o=e.data);let s=x2(e.children,t,n);return void 0!==s?r=!0:s=e.children,{...e,id:i,data:o,children:s}}));if(r)return i}function _2(e,t,n){if(e instanceof o2){let r=x2(e,t,n);return void 0!==r&&Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}if(e instanceof s2)return function(e,t,n){let r=!1,i=e.map((e=>{let i=e.id,a=t[i];if(void 0!==a&&"string"==typeof a&&(r=!0,i=a,null!==n))throw new Error("not supported");let o=_2(e.data,t,w2(n,i));return b2(n),r=r||void 0!==o,void 0===o&&(o=e.data),{...e,id:i,data:o}}));if(r)return Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}(e,t,n);if(Array.isArray(e)){let r=!1,i=e.map(((e,i)=>{let a=_2(e,t,w2(n,i));return b2(n),r=r||void 0!==a,void 0===a&&(a=e),a}));return r?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}if(e&&"object"==typeof e&&!n2(e)){let r={},i=!1;for(let[a,o]of Object.entries(e))if("name"!==a){let e=t[a];if("string"==typeof e){if(null!==n)throw new Error("not supported");i=!0,a=e}let s=_2(o,t,w2(n,a));b2(n),i=i||void 0!==s,void 0===s&&(s=o),r[a]=s}else r[a]=o;return i?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}if("string"==typeof e){let r=t[e];return void 0!==r&&function(e){if(null===e)return null;e.result.push(e.cur.slice(0,e.len))}(n),r}}(f2=c2||(c2={})).apply=function(e,t){return g2(e,t)??e},f2.merge=function(e,t){return v2(e,t)},f2.filterOp=function(e,t){let n=0,r=t.path,i=e;for(;n<r.length&&void 0!==i;){if(i=L2.zoomOnce(i,r[n]),void 0===i)return t;if(!l2(i))return;n+=1}if(void 0===i)return t;if(l2(i)){if(0===t.type){let e={...t.props};for(let t of Object.keys(i))delete e[t];return{...t,props:e}}if(1===t.type||4===t.type||7===t.type){let e=m2([t],i);return e?(console.log(e),e):t}return t}},(e=>{e.replaceProps=function(e,t){let n=L2.zoom(t,e.path);if("object"==typeof n){let t={};for(let r of Object.keys(e.props))t[r]=n[r];return{...e,props:t}}return{...e,props:{}}}})(u2||(u2={})),(e=>{function t(e,t){let n=t.path;for(var r=[];;){let i;if(e instanceof p2&&0===t.type&&(i=e.runOp({...t,path:n.slice(r.length)}),null===i&&(i=void 0)),void 0===i&&r.length===n.length&&(i=e instanceof o2||e instanceof s2||e instanceof Z1?e.runOp(t):a2.runOp(e,t)),void 0!==i){if(null!==i){let e=i.data;for(let t=r.length-1;t>=0;t--){let i=n[t],a=r[t];if(a instanceof o2){if("number"==typeof i)throw new Error("illegal arg");e=a.modifyById(i,e)}else if(a instanceof s2){if("number"==typeof i)throw new Error("illegal arg");e=a.modifyById(i,e)}else if(a instanceof Z1){if("number"==typeof i)throw new Error("illegal arg");e=a.modifyById(i,e)}else if(a instanceof p2){let t={...a,[i]:e};e=Object.setPrototypeOf(t,p2.prototype)}else{if("object"!=typeof a)return null;if(Array.isArray(a)){if("string"==typeof i&&(i=parseInt(i),isNaN(i)))throw new Error("Invalid path");let t=e;e=[...a],e[i]=t}else e={...a,[i]:e}}}return{data:e,actual:{...i.actual,path:n},reverse:{...i.reverse,path:n}}}return null}let a,o=n[r.length];if(e instanceof o2){if("number"==typeof o)throw new Error("");a=e.get(o)?.data}else if(e instanceof s2){if("number"==typeof o)throw new Error("");a=e.get(o)?.data}else null!==e&&(a=e[o]);if(void 0===a)return null;r.push(e),e=a}}function n(e,t){for(let n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!0;return!1}function r(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}e.drop=function(e,t){return{...e,path:e.path.slice(t)}},e.applySimple=function(e,n){return t(e,n)?.data??e},e.apply=t,e.pathDisjoint=n,e.pathEq=r,e.commutative=function(e,t){return n(e.path,t.path)},e.subsumed=function(e,t){return!(0!==e.type||0!==t.type||!r(e.path,t.path))&&Object.keys(e.props).every((e=>void 0!==t.props[e]))}})(h2||(h2={})),(e=>{function t(e,t){var n=e;let r=[],i=[];for(let e of t)try{if(3===e.type||5===e.type&&"variables"===e.path[e.path.length-1]){let t,a,o;if(3===e.type?(t=L2.zoom(n,[...e.path,e.id]),o=h2.apply(n,{...e,type:2})):(t=L2.zoom(n,[...e.path,e.id,"value"]),o=h2.apply(n,e)),null!==o){n=o.data;let[s,l]=y2(n,{[e.id]:t});n=s;for(let o=0;o<l.length;o++){let s=l[o],c=s.pop();if("number"==typeof c){let r=[c];for(let e=o+1;e<l.length;e++){let t=l[e],n=t[t.length-1];if("number"!=typeof n||!L2.equal(s,t.slice(0,t.length-1)))break;r.push(n),l.splice(e,1)}let i=L2.zoom(n,s);a=i.map(((t,n)=>r.includes(n)?e.id:t)),t=i,c=s.pop()}else{if("alphaOverride"===c||"alpha"===c){t/=100;let e=t,r=L2.zoom(n,s.slice(0,s.length-2)),i=r.layers.map((t=>t.id===s[s.length-1]?{...t,data:{...t.data,[c]:e}}:t));Object.setPrototypeOf(i,Object.getPrototypeOf(r.layers)),r.layers=i}a=e.id}r.push({type:0,path:s,props:{[c]:t}}),i.push({type:0,path:s,props:{[c]:a}})}i.push(o.reverse),r.push(o.actual)}}else{let t=h2.apply(n,e);null!==t&&(r.push(t.actual),n=t.data,i.push(t.reverse))}}catch(e){if(e instanceof $1)return null;throw e}return{data:n,actual:r,reverse:i.reverse()}}e.empty=function(){return[]},e.removePrefix=function(e,t){let n=[];for(let r of e){let[e,...i]=r.path;e===t&&n.push({...r,path:i})}return n},e.addPrefix=function(e,t){return e.map((e=>({...e,path:[t,...e.path]})))},e.concat=function(e,t){return[...e,...t]},e.compress=function(e,t){return[...e.filter((e=>!t.some((t=>h2.subsumed(e,t))))),...t]},e.commutative=function(e,t){return e.every((e=>t.every((t=>h2.commutative(e,t)))))},e.applyAll=function(e,n){for(let r of n){let n=t(e,r);null!==n&&(e=n.data)}return e},e.apply=t})(d2||(d2={}));var S2=Symbol(),E2=Symbol(),C2=Symbol(),A2=class{reportOp(e,t,n=[]){let r=this;if(null===t)return;r._current=t.data;let i=n;for(;!(r instanceof N2);){let e=r._path,t=r._current;if(""!==e&&i.splice(0,0,e),r=r._parent,null===r)return;r.update(e,t)}r.push(i,e,t.actual,t.reverse)}deleteChildren(e){if(this._children){let t=this._children[e];if(t){let n=t[C2];n&&n(),delete this._children[e]}}}},T2=class extends A2{constructor(e,t,n){super(),this._parent=e,this._path=t,this._current=n}update(e,t){if(Array.isArray(this._current)){if("string"==typeof e&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid path");this._current=[...this._current],this._current[e]=t}else this._current={...this._current,[e]:t}}runOp(e){this.reportOp(e,a2.runOp(this._current,e),e.path)}},M2=class extends A2{constructor(e,t,n){super(),this._parent=e,this._path=t,this._current=n}update(e,t){this._current={...this._current,[e]:t},Object.setPrototypeOf(this._current,Z1.prototype)}runOp(e){this.reportOp(e,this._current.runOp(e))}},P2={get(e,t){if(t===C2)return()=>{e._parent=null};if(t===S2)return e._current;if(t===E2)return e;let{_current:n,_children:r}=e;if("push"===t&&Array.isArray(n))throw new Error("not supported to expand array");let i=void 0===r?void 0:r[t];if(void 0!==i)return i;let a=n[t],o=z2(e,t,a);return o!==a?(void 0===r&&(r={},e._children=r),r[t]=o,o):a},has(e,t){return t in e._current},ownKeys(e){return Reflect.ownKeys(e._current)},defineProperty(){throw Error("not supported")},getPrototypeOf(e){return Object.getPrototypeOf(e._current)},setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(e,t){let n=e._current,r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:!0,enumerable:r.enumerable,value:n[t]}}},D2={...P2,set(e,t,n){let r={type:0,props:{[t]:U2(n)??n}};return e.deleteChildren(t),e.runOp(r),!0},deleteProperty(e,t){let n={type:0,props:{[t]:void 0}};return e.deleteChildren(t),e.runOp(n),!0}},k2={...P2,set(e,t,n){return void 0===n?this.deleteProperty(e,t):(e.deleteChildren(t),e.runOp({type:1,id:t,data:n})),!0},deleteProperty(e,t){return e.runOp({type:2,id:t}),!0}},O2=class extends A2{constructor(e,t,n){super(),this._children={},this._parent=e,this._path=t,this._current=n,this[C2]=()=>{this._parent=null}}unproxy(){return this._current}update(e,t){this._current=this._current.modifyById(e,t)}runOp(e){this.reportOp(e,this._current.runOp(e))}randomId(){return this._current.randomId()}isDescendantOf(e,t){return this._current.isDescendantOf(e,t)}childrenOf(e){return this._current.childrenOf(e)}traverse(e){return this._current.traverse(e)}get(e){return this._current.get(e)}parent(e){return this._current.parent(e)}traverse(e){this._current.traverse(((t,n)=>{e(t,this.data(t))}))}data(e){let{_current:t,_children:n}=this,r=void 0===n?void 0:n[e];if(void 0!==r)return r;let i=t.get(e)?.data,a=z2(this,e,i);return a!==i?(void 0===n&&(n={},this._children=n),n[e]=a,a):i}add(e,t,n,r,i){this.runOp({type:7,parent:e,fi:t,id:n,data:r,children:i})}move(e,t,n){this.runOp({type:9,parent:e,fi:t,id:n})}insertAfter(e,t,n){let r=this._current.insertAfterHelper(e,t,n.length);for(let t=0;t<n.length;t++){let i=n[t];this.add(e,r[t],i.id,i.data,i.children)}}insertBefore(e,t,n){let r=this._current.insertBeforeHelper(e,t,n.length);for(let t=0;t<n.length;t++){let i=n[t];this.add(e,r[t],i.id,i.data,i.children)}}moveAfter(e,t,n){let r=this._current.insertAfterHelper(e,t,n.length);for(let t=0;t<n.length;t++){let i=n[t];this.move(e,r[t],i)}}moveBefore(e,t,n){let r=this._current.insertBeforeHelper(e,t,n.length);for(let t=0;t<n.length;t++){let i=n[t];this.move(e,r[t],i)}}delete(e){this.deleteChildren(e),this.runOp({type:8,id:e})}sortNext(e){return this._current.sortNext(e)}sortPrevious(e){return this._current.sortPrevious(e)}getAllSorted(e){return this._current.getAllSorted(e)}},I2=class extends A2{constructor(e,t,n){super(),this._children={},this._parent=e,this._path=t,this._current=n,this[C2]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(e){let t=this.length;for(let n=0;n<t;n++){let t=this._current[n].id,r=this._current[n].fi;e(this.data(this._current[n].id),t,r)}}find(e){let t=this.length;for(let n=0;n<t;n++){let t=this._current[n].id;if(e(this.data(t),t))return this.get(t)}}update(e,t){this._current=this._current.modifyById(e,t)}randomId(){return this._current.randomId()}get(e){return{...this._current.get(e),data:this.data(e)}}data(e){let{_current:t,_children:n}=this,r=void 0===n?void 0:n[e];if(void 0!==r)return r;let i=t.get(e)?.data,a=z2(this,e,i);return a!==i?(void 0===n&&(n={},this._children=n),n[e]=a,a):i}runOp(e){this.reportOp(e,this._current.runOp(e))}add(e,t,n){this.runOp({type:4,fi:e,id:t,data:n})}move(e,t){this.runOp({type:6,fi:e,id:t})}insertAfter(e,t){let n=this._current.insertAfterHelper(e,t.length);for(let e=0;e<t.length;e++){let r=t[e];this.add(n[e],r.id,r.data)}}insertBefore(e,t){let n=this._current.insertBeforeHelper(e,t.length);for(let e=0;e<t.length;e++){let r=t[e];this.add(n[e],r.id,r.data)}}moveAfter(e,t){let n=this._current.insertAfterHelper(e,t.length);for(let e=0;e<t.length;e++){let r=t[e];this.move(n[e],r)}}moveBefore(e,t){let n=this._current.insertBeforeHelper(e,t.length);for(let e=0;e<t.length;e++){let r=t[e];this.move(n[e],r)}}delete(e){this.deleteChildren(e),this.runOp({type:5,id:e})}};function R2(e,t,n){if(e.length>0){let r=e[e.length-1];if(0===r.type&&0===t.type&&L2.equal(r.path,n))return void Object.assign(r.props,t.props)}e.push({...t,path:n})}var L2,N2=class extends A2{constructor(e){super(),this.ts=[],this.actual=[],this.reverse=[],this._current=e}update(e,t){if(""!==e)throw new Error("");this._current=t}push(e,t,n,r){R2(this.ts,t,e),R2(this.actual,n,e),R2(this.reverse,r,e)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};function z2(e,t,n){return n instanceof o2?new O2(e,t,n):n instanceof s2?new I2(e,t,n):n instanceof Z1?new Proxy(new M2(e,t,n),k2):null!==n&&"object"==typeof n?n2(n)?n:new Proxy(new T2(e,t,n),D2):n}function B2(e){let t=new N2(e);return[z2(t,"",e),t]}function F2(e,t){let[n,r]=B2(e);return t(n),r.result()}function U2(e){return e instanceof O2||e instanceof I2?e._current:null!==e&&"object"==typeof e?e[S2]:e}function j2(e,t){let n=[];if(!(t.length<=e.length))return null;for(var r=0;r<t.length;){if("*"===t[r])n.push(e[r]);else if(e[r]!==t[r])return null;r+=1}return n}(e=>{function t(e,t){return(e instanceof o2||e instanceof O2)&&"string"==typeof t||(e instanceof s2||e instanceof I2)&&"string"==typeof t?e.data(t):"number"==typeof t&&Array.isArray(e)||"string"==typeof t&&"object"==typeof e&&null!==e?e[t]:void 0}function n(e,n,r=0){for(;r<n.length&&void 0!==e;)e=t(e,n[r]),r+=1;return e}e.equal=function(e,t){if(t.length!==e.length)return!1;for(var n=0;n<e.length;){if(e[n]!==t[n])return!1;n+=1}return!0},e.removeOverridden=function(e,t,r){let i=n(r,e);if(void 0!==i&&"object"==typeof i&&null!==i){let e={...t};return Object.keys(i).forEach((t=>{delete e[t]})),e}return t},e.zoomOnce=t,e.zoom=n})(L2||(L2={}));var V2,H2=class{},G2=class extends H2{constructor(e){super(),this.id=e}},W2=class extends H2{constructor(e){super(),this.data=e}};try{V2=new TextDecoder}catch{}var q2,X2,Y2,Q2,K2,Z2,J2,$2=0,e3=[],t3=e3,n3=0,r3={},i3=0,a3=0,o3=[],s3={useRecords:!1,mapsAsObjects:!0},l3=class{},c3=new l3;c3.name="MessagePack 0xC1";var u3=!1,h3=class{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(q2)return N3((()=>(z3(),this?this.unpack(e,t):h3.prototype.unpack.call(s3,e,t))));X2=t>-1?t:e.length,$2=0,n3=0,a3=0,Q2=null,t3=e3,K2=null,q2=e;try{J2=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(t){throw q2=null,e instanceof Uint8Array?t:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof h3){if(r3=this,this.structures)return Y2=this.structures,d3();(!Y2||Y2.length>0)&&(Y2=[])}else r3=s3,(!Y2||Y2.length>0)&&(Y2=[]);return d3()}unpackMultiple(e,t){let n,r=0;try{u3=!0;let i=e.length,a=this?this.unpack(e,i):U3.unpack(e,i);if(!t){for(n=[a];$2<i;)r=$2,n.push(d3());return n}for(t(a);$2<i;)if(r=$2,!1===t(d3()))return}catch(e){throw e.lastPosition=r,e.values=n,e}finally{u3=!1,z3()}}_mergeStructures(e,t){for(let t=0,n=(e=e||[]).length;t<n;t++){let n=e[t];n&&(n.isShared=!0,t>=32&&(n.highByte=t-32>>5))}e.sharedLength=e.length;for(let n in t||[])if(n>=0){let r=e[n],i=t[n];i&&(r&&((e.restoreStructures||(e.restoreStructures=[]))[n]=r),e[n]=i)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};function d3(){try{if(!r3.trusted&&!u3){let e=Y2.sharedLength||0;e<Y2.length&&(Y2.length=e)}let e=p3();if($2==X2)Y2.restoreStructures&&f3(),Y2=null,q2=null,Z2&&(Z2=null);else{if($2>X2){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}if(!u3)throw new Error("Data read, but end of buffer not reached")}return e}catch(e){throw Y2.restoreStructures&&f3(),z3(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function f3(){for(let e in Y2.restoreStructures)Y2[e]=Y2.restoreStructures[e];Y2.restoreStructures=null}function p3(){let e=q2[$2++];if(e<160){if(e<128){if(e<64)return e;{let t=Y2[63&e]||r3.getStructures&&y3()[63&e];return t?(t.read||(t.read=g3(t,63&e)),t.read()):e}}if(e<144){if(e-=128,r3.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[O3()]=p3();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(p3(),p3());return t}}{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=p3();return t}}if(e<192){let t=e-160;if(a3>=$2)return Q2.slice($2-i3,($2+=t)-i3);if(0==a3&&X2<140){let e=t<16?M3(t):T3(t);if(null!=e)return e}return w3(t)}{let t;switch(e){case 192:return null;case 193:return K2?(t=p3(),t>0?K2[1].slice(K2.position1,K2.position1+=t):K2[0].slice(K2.position0,K2.position0-=t)):c3;case 194:return!1;case 195:return!0;case 196:return P3(q2[$2++]);case 197:return t=J2.getUint16($2),$2+=2,P3(t);case 198:return t=J2.getUint32($2),$2+=4,P3(t);case 199:return D3(q2[$2++]);case 200:return t=J2.getUint16($2),$2+=2,D3(t);case 201:return t=J2.getUint32($2),$2+=4,D3(t);case 202:if(t=J2.getFloat32($2),r3.useFloat32>2){let e=B3[(127&q2[$2])<<1|q2[$2+1]>>7];return $2+=4,(e*t+(t>0?.5:-.5)>>0)/e}return $2+=4,t;case 203:return t=J2.getFloat64($2),$2+=8,t;case 204:return q2[$2++];case 205:return t=J2.getUint16($2),$2+=2,t;case 206:return t=J2.getUint32($2),$2+=4,t;case 207:return r3.int64AsNumber?(t=4294967296*J2.getUint32($2),t+=J2.getUint32($2+4)):t=J2.getBigUint64($2),$2+=8,t;case 208:return J2.getInt8($2++);case 209:return t=J2.getInt16($2),$2+=2,t;case 210:return t=J2.getInt32($2),$2+=4,t;case 211:return r3.int64AsNumber?(t=4294967296*J2.getInt32($2),t+=J2.getUint32($2+4)):t=J2.getBigInt64($2),$2+=8,t;case 212:if(t=q2[$2++],114==t)return I3(63&q2[$2++]);{let e=o3[t];if(e)return e.read?($2++,e.read(p3())):e.noBuffer?($2++,e()):e(q2.subarray($2,++$2));throw new Error("Unknown extension "+t)}case 213:return t=q2[$2],114==t?($2++,I3(63&q2[$2++],q2[$2++])):D3(2);case 214:return D3(4);case 215:return D3(8);case 216:return D3(16);case 217:return t=q2[$2++],a3>=$2?Q2.slice($2-i3,($2+=t)-i3):b3(t);case 218:return t=J2.getUint16($2),a3>=($2+=2)?Q2.slice($2-i3,($2+=t)-i3):x3(t);case 219:return t=J2.getUint32($2),a3>=($2+=4)?Q2.slice($2-i3,($2+=t)-i3):_3(t);case 220:return t=J2.getUint16($2),$2+=2,E3(t);case 221:return t=J2.getUint32($2),$2+=4,E3(t);case 222:return t=J2.getUint16($2),$2+=2,C3(t);case 223:return t=J2.getUint32($2),$2+=4,C3(t);default:if(e>=224)return e-256;if(void 0===e){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}throw new Error("Unknown MessagePack token "+e)}}}var m3=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function g3(e,t){function n(){if(n.count++>2){let n=e.read=new Function("r","return function(){return {"+e.map((e=>m3.test(e)?e+":r()":"["+JSON.stringify(e)+"]:r()")).join(",")+"}}")(p3);return 0===e.highByte&&(e.read=v3(t,e.read)),n()}let r={};for(let t=0,n=e.length;t<n;t++)r[e[t]]=p3();return r}return n.count=0,0===e.highByte?v3(t,n):n}var v3=(e,t)=>function(){let n=q2[$2++];if(0===n)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),i=Y2[r]||y3()[r];if(!i)throw new Error("Record id is not defined for "+r);return i.read||(i.read=g3(i,e)),i.read()};function y3(){let e=N3((()=>(q2=null,r3.getStructures())));return Y2=r3._mergeStructures(e,Y2)}var w3=S3,b3=S3,x3=S3,_3=S3;function S3(e){let t;if(e<16&&(t=M3(e)))return t;if(e>64&&V2)return V2.decode(q2.subarray($2,$2+=e));let n=$2+e,r=[];for(t="";$2<n;){let e=q2[$2++];if(0==(128&e))r.push(e);else if(192==(224&e)){let t=63&q2[$2++];r.push((31&e)<<6|t)}else if(224==(240&e)){let t=63&q2[$2++],n=63&q2[$2++];r.push((31&e)<<12|t<<6|n)}else if(240==(248&e)){let t=(7&e)<<18|(63&q2[$2++])<<12|(63&q2[$2++])<<6|63&q2[$2++];t>65535&&(t-=65536,r.push(t>>>10&1023|55296),t=56320|1023&t),r.push(t)}else r.push(e);r.length>=4096&&(t+=A3.apply(String,r),r.length=0)}return r.length>0&&(t+=A3.apply(String,r)),t}function E3(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=p3();return t}function C3(e){if(r3.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[O3()]=p3();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(p3(),p3());return t}}var A3=String.fromCharCode;function T3(e){let t=$2,n=new Array(e);for(let r=0;r<e;r++){let e=q2[$2++];if((128&e)>0)return void($2=t);n[r]=e}return A3.apply(String,n)}function M3(e){if(e<4){if(e<2){if(0===e)return"";{let e=q2[$2++];return(128&e)>1?void($2-=1):A3(e)}}{let t=q2[$2++],n=q2[$2++];if((128&t)>0||(128&n)>0)return void($2-=2);if(e<3)return A3(t,n);let r=q2[$2++];return(128&r)>0?void($2-=3):A3(t,n,r)}}{let t=q2[$2++],n=q2[$2++],r=q2[$2++],i=q2[$2++];if((128&t)>0||(128&n)>0||(128&r)>0||(128&i)>0)return void($2-=4);if(e<6){if(4===e)return A3(t,n,r,i);{let e=q2[$2++];return(128&e)>0?void($2-=5):A3(t,n,r,i,e)}}if(e<8){let a=q2[$2++],o=q2[$2++];if((128&a)>0||(128&o)>0)return void($2-=6);if(e<7)return A3(t,n,r,i,a,o);let s=q2[$2++];return(128&s)>0?void($2-=7):A3(t,n,r,i,a,o,s)}{let a=q2[$2++],o=q2[$2++],s=q2[$2++],l=q2[$2++];if((128&a)>0||(128&o)>0||(128&s)>0||(128&l)>0)return void($2-=8);if(e<10){if(8===e)return A3(t,n,r,i,a,o,s,l);{let e=q2[$2++];return(128&e)>0?void($2-=9):A3(t,n,r,i,a,o,s,l,e)}}if(e<12){let c=q2[$2++],u=q2[$2++];if((128&c)>0||(128&u)>0)return void($2-=10);if(e<11)return A3(t,n,r,i,a,o,s,l,c,u);let h=q2[$2++];return(128&h)>0?void($2-=11):A3(t,n,r,i,a,o,s,l,c,u,h)}{let c=q2[$2++],u=q2[$2++],h=q2[$2++],d=q2[$2++];if((128&c)>0||(128&u)>0||(128&h)>0||(128&d)>0)return void($2-=12);if(e<14){if(12===e)return A3(t,n,r,i,a,o,s,l,c,u,h,d);{let e=q2[$2++];return(128&e)>0?void($2-=13):A3(t,n,r,i,a,o,s,l,c,u,h,d,e)}}{let f=q2[$2++],p=q2[$2++];if((128&f)>0||(128&p)>0)return void($2-=14);if(e<15)return A3(t,n,r,i,a,o,s,l,c,u,h,d,f,p);let m=q2[$2++];return(128&m)>0?void($2-=15):A3(t,n,r,i,a,o,s,l,c,u,h,d,f,p,m)}}}}}function P3(e){return r3.copyBuffers?Uint8Array.prototype.slice.call(q2,$2,$2+=e):q2.subarray($2,$2+=e)}function D3(e){let t=q2[$2++];if(o3[t])return o3[t](q2.subarray($2,$2+=e));throw new Error("Unknown extension type "+t)}var k3=new Array(4096);function O3(){let e=q2[$2++];if(!(e>=160&&e<192))return $2--,p3();if(e-=160,a3>=$2)return Q2.slice($2-i3,($2+=e)-i3);if(!(0==a3&&X2<180))return w3(e);let t,n=4095&(e<<5^(e>1?J2.getUint16($2):e>0?q2[$2]:0)),r=k3[n],i=$2,a=$2+e-3,o=0;if(r&&r.bytes==e){for(;i<a;){if(t=J2.getUint32(i),t!=r[o++]){i=1879048192;break}i+=4}for(a+=3;i<a;)if(t=q2[i++],t!=r[o++]){i=1879048192;break}if(i===a)return $2=i,r.string;a-=3,i=$2}for(r=[],k3[n]=r,r.bytes=e;i<a;)t=J2.getUint32(i),r.push(t),i+=4;for(a+=3;i<a;)t=q2[i++],r.push(t);let s=e<16?M3(e):T3(e);return r.string=null!=s?s:w3(e)}var I3=(e,t)=>{var n=p3();let r=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let i=Y2[e];return i&&i.isShared&&((Y2.restoreStructures||(Y2.restoreStructures=[]))[e]=i),Y2[e]=n,n.read=g3(n,r),n.read()},R3="object"==typeof self?self:global;o3[0]=()=>{},o3[0].noBuffer=!0,o3[101]=()=>{let e=p3();return(R3[e[0]]||Error)(e[1])},o3[105]=e=>{let t=J2.getUint32($2-4);Z2||(Z2=new Map);let n,r=q2[$2];n=r>=144&&r<160||220==r||221==r?[]:{};let i={target:n};Z2.set(t,i);let a=p3();return i.used?Object.assign(n,a):(i.target=a,a)},o3[112]=e=>{let t=J2.getUint32($2-4),n=Z2.get(t);return n.used=!0,n.target},o3[115]=()=>new Set(p3());var L3=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map((e=>e+"Array"));function N3(e){let t=X2,n=$2,r=n3,i=i3,a=a3,o=Q2,s=t3,l=Z2,c=K2,u=new Uint8Array(q2.slice(0,X2)),h=Y2,d=Y2.slice(0,Y2.length),f=r3,p=u3,m=e();return X2=t,$2=n,n3=r,i3=i,a3=a,Q2=o,t3=s,Z2=l,K2=c,q2=u,u3=p,(Y2=h).splice(0,Y2.length,...d),r3=f,J2=new DataView(q2.buffer,q2.byteOffset,q2.byteLength),m}function z3(){q2=null,Z2=null,Y2=null}o3[116]=e=>{let t=e[0],n=L3[t];if(!n)throw new Error("Could not find typed array for code "+t);return new R3[n](Uint8Array.prototype.slice.call(e,1).buffer)},o3[120]=()=>{let e=p3();return new RegExp(e[0],e[1])},o3[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=$2;$2+=t-4,(K2=[p3(),p3()]).position0=0,K2.position1=0;let r=$2;$2=n;try{return p3()}finally{$2=r}},o3[255]=e=>4==e.length?new Date(1e3*(16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+1e3*(4294967296*(3&e[3])+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+1e3*((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])):new Date("invalid");var B3=new Array(147);for(let e=0;e<256;e++)B3[e]=+("1e"+Math.floor(45.15-.30103*e));var F3,U3=new h3({useRecords:!1}),j3=(U3.unpack,U3.unpackMultiple,U3.unpack,new Float32Array(1));new Uint8Array(j3.buffer,0,4);try{F3=new TextEncoder}catch{}var V3,H3,G3,W3,q3,X3=typeof Buffer<"u",Y3=X3?Buffer.allocUnsafeSlow:Uint8Array,Q3=X3?Buffer:Uint8Array,K3=X3?4294967296:2144337920,Z3=0,J3=null,$3=/[\u0080-\uFFFF]/,e4=Symbol("record-id"),t4=class extends h3{constructor(e){super(e),this.offset=0;let t,n,r,i,a,o=0,s=Q3.prototype.utf8Write?function(e,t,n){return G3.utf8Write(e,t,n)}:!(!F3||!F3.encodeInto)&&function(e,t){return F3.encodeInto(e,G3.subarray(t)).written},l=this;e||(e={});let c=e&&e.sequential,u=e.structures||e.saveStructures,h=e.maxSharedStructures;if(null==h&&(h=u?32:0),h>8160)throw new Error("Maximum maxSharedStructure is 8160");let d=e.maxOwnStructures;null==d&&(d=u?32:64),c&&!e.saveStructures&&(this.structures=[]);let f=h>32||d+h>64,p=h+64,m=h+d+64;if(m>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let g=[],v=0,y=0;this.pack=this.encode=function(e,s){if(G3||(G3=new Y3(8192),W3=new DataView(G3.buffer,0,8192),Z3=0),(q3=G3.length-10)-Z3<2048?(G3=new Y3(G3.length),W3=new DataView(G3.buffer,0,G3.length),q3=G3.length-10,Z3=0):Z3=Z3+7&2147483640,t=Z3,a=l.structuredClone?new Map:null,l.bundleStrings?(J3=["",""],G3[Z3++]=214,G3[Z3++]=98,J3.position=Z3-t,Z3+=4):J3=null,n=l.structures,n){n.uninitialized&&(n=l._mergeStructures(l.getStructures()));let e=n.sharedLength||0;if(e>h)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+n.sharedLength);if(!n.transitions){n.transitions=Object.create(null);for(let t=0;t<e;t++){let e=n[t];if(!e)continue;let r,i=n.transitions;for(let t=0,n=e.length;t<n;t++){let n=e[t];r=i[n],r||(r=i[n]=Object.create(null)),i=r}i[e4]=t+64}o=e}c||(n.nextId=e+64)}r&&(r=!1),i=n||[];try{if(w(e),J3){W3.setUint32(J3.position+t,Z3-J3.position-t);let e=J3;J3=null,w(e[0]),w(e[1])}if(l.offset=Z3,a&&a.idsToInsert){(Z3+=6*a.idsToInsert.length)>q3&&x(Z3),l.offset=Z3;let e=function(e,t){let n,r=6*t.length,i=e.length-r;for(t.sort(((e,t)=>e.offset>t.offset?1:-1));n=t.pop();){let t=n.offset,a=n.id;e.copyWithin(t+r,t,i),r-=6;let o=t+r;e[o++]=214,e[o++]=105,e[o++]=a>>24,e[o++]=a>>16&255,e[o++]=a>>8&255,e[o++]=255&a,i=t}return e}(G3.subarray(t,Z3),a.idsToInsert);return a=null,e}return s&f4?(G3.start=t,G3.end=Z3,G3):G3.subarray(t,Z3)}finally{if(n){if(y<10&&y++,v>1e4)n.transitions=null,y=0,v=0,g.length>0&&(g=[]);else if(g.length>0&&!c){for(let e=0,t=g.length;e<t;e++)g[e][e4]=0;g=[]}if(r&&l.saveStructures){let r=n.sharedLength||h;n.length>r&&(n=n.slice(0,r));let i=G3.subarray(t,Z3);return!1===l.saveStructures(n,o)?(l._mergeStructures(l.getStructures()),l.pack(e)):(o=r,i)}}s&p4&&(Z3=t)}};let w=e=>{Z3>q3&&(G3=x(Z3));var n,r=typeof e;if("string"===r){let t,r=e.length;if(J3&&r>=8&&r<4096){let t=$3.test(e);return J3[t?0:1]+=e,G3[Z3++]=193,void w(t?-r:r)}t=r<32?1:r<256?2:r<65536?3:5;let i=3*r;if(Z3+i>q3&&(G3=x(Z3+i)),r<64||!s){let i,a,o,s=Z3+t;for(i=0;i<r;i++)a=e.charCodeAt(i),a<128?G3[s++]=a:a<2048?(G3[s++]=a>>6|192,G3[s++]=63&a|128):55296==(64512&a)&&56320==(64512&(o=e.charCodeAt(i+1)))?(a=65536+((1023&a)<<10)+(1023&o),i++,G3[s++]=a>>18|240,G3[s++]=a>>12&63|128,G3[s++]=a>>6&63|128,G3[s++]=63&a|128):(G3[s++]=a>>12|224,G3[s++]=a>>6&63|128,G3[s++]=63&a|128);n=s-Z3-t}else n=s(e,Z3+t,i);n<32?G3[Z3++]=160|n:n<256?(t<2&&G3.copyWithin(Z3+2,Z3+1,Z3+1+n),G3[Z3++]=217,G3[Z3++]=n):n<65536?(t<3&&G3.copyWithin(Z3+3,Z3+2,Z3+2+n),G3[Z3++]=218,G3[Z3++]=n>>8,G3[Z3++]=255&n):(t<5&&G3.copyWithin(Z3+5,Z3+3,Z3+3+n),G3[Z3++]=219,W3.setUint32(Z3,n),Z3+=4),Z3+=n}else if("number"===r)if(e>>>0===e)e<64?G3[Z3++]=e:e<256?(G3[Z3++]=204,G3[Z3++]=e):e<65536?(G3[Z3++]=205,G3[Z3++]=e>>8,G3[Z3++]=255&e):(G3[Z3++]=206,W3.setUint32(Z3,e),Z3+=4);else if(e>>0===e)e>=-32?G3[Z3++]=256+e:e>=-128?(G3[Z3++]=208,G3[Z3++]=e+256):e>=-32768?(G3[Z3++]=209,W3.setInt16(Z3,e),Z3+=2):(G3[Z3++]=210,W3.setInt32(Z3,e),Z3+=4);else{let t;if((t=this.useFloat32)>0&&e<4294967296&&e>=-2147483648){let n;if(G3[Z3++]=202,W3.setFloat32(Z3,e),t<4||(n=e*B3[(127&G3[Z3])<<1|G3[Z3+1]>>7])>>0===n)return void(Z3+=4);Z3--}G3[Z3++]=203,W3.setFloat64(Z3,e),Z3+=8}else if("object"===r)if(e){if(a){let n=a.get(e);if(n){if(!n.id){let e=a.idsToInsert||(a.idsToInsert=[]);n.id=e.push(n)}return G3[Z3++]=214,G3[Z3++]=112,W3.setUint32(Z3,n.id),void(Z3+=4)}a.set(e,{offset:Z3-t})}let r=e.constructor;if(r===Object)b(e,!0);else if(r===Array){(n=e.length)<16?G3[Z3++]=144|n:n<65536?(G3[Z3++]=220,G3[Z3++]=n>>8,G3[Z3++]=255&n):(G3[Z3++]=221,W3.setUint32(Z3,n),Z3+=4);for(let t=0;t<n;t++)w(e[t])}else if(r===Map){(n=e.size)<16?G3[Z3++]=128|n:n<65536?(G3[Z3++]=222,G3[Z3++]=n>>8,G3[Z3++]=255&n):(G3[Z3++]=223,W3.setUint32(Z3,n),Z3+=4);for(let[t,n]of e)w(t),w(n)}else{for(let t=0,n=V3.length;t<n;t++)if(e instanceof H3[t]){let n=V3[t];if(n.write)return n.type&&(G3[Z3++]=212,G3[Z3++]=n.type,G3[Z3++]=0),void w(n.write.call(this,e));let r,i=G3,a=W3,o=Z3;G3=null;try{r=n.pack.call(this,e,(e=>(G3=i,i=null,(Z3+=e)>q3&&x(Z3),{target:G3,targetView:W3,position:Z3-e})),w)}finally{i&&(W3=a,Z3=o,q3=(G3=i).length-10)}return void(r&&(r.length+Z3>q3&&x(r.length+Z3),Z3=i4(r,G3,Z3,n.type)))}b(e,!e.hasOwnProperty)}}else G3[Z3++]=192;else if("boolean"===r)G3[Z3++]=e?195:194;else if("bigint"===r){if(e<BigInt(1)<<BigInt(63)&&e>=-(BigInt(1)<<BigInt(63)))G3[Z3++]=211,W3.setBigInt64(Z3,e);else if(e<BigInt(1)<<BigInt(64)&&e>0)G3[Z3++]=207,W3.setBigUint64(Z3,e);else{if(!this.largeBigIntToFloat)throw new RangeError(e+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");G3[Z3++]=203,W3.setFloat64(Z3,Number(e))}Z3+=8}else if("undefined"===r)this.encodeUndefinedAsNil?G3[Z3++]=192:(G3[Z3++]=212,G3[Z3++]=0,G3[Z3++]=0);else{if("function"!==r)throw new Error("Unknown type: "+r);w(this.writeFunction&&this.writeFunction())}},b=!1===this.useRecords?this.variableMapSize?e=>{let t,n=Object.keys(e),r=n.length;r<16?G3[Z3++]=128|r:r<65536?(G3[Z3++]=222,G3[Z3++]=r>>8,G3[Z3++]=255&r):(G3[Z3++]=223,W3.setUint32(Z3,r),Z3+=4);for(let i=0;i<r;i++)w(t=n[i]),w(e[t])}:(e,n)=>{G3[Z3++]=222;let r=Z3-t;Z3+=2;let i=0;for(let t in e)(n||e.hasOwnProperty(t))&&(w(t),w(e[t]),i++);G3[r+++t]=i>>8,G3[r+t]=255&i}:e=>{let t,n=Object.keys(e),a=i.transitions||(i.transitions=Object.create(null)),o=0;for(let e=0,r=n.length;e<r;e++){let r=n[e];t=a[r],t||(t=a[r]=Object.create(null),o++),a=t}let s=a[e4];if(s)s>=96&&f?(G3[Z3++]=96+(31&(s-=96)),G3[Z3++]=s>>5):G3[Z3++]=s;else{s=i.nextId,s||(s=64),s<p&&this.shouldShareStructure&&!this.shouldShareStructure(n)?(s=i.nextOwnId,s<m||(s=p),i.nextOwnId=s+1):(s>=m&&(s=p),i.nextId=s+1);let e=n.highByte=s>=96&&f?s-96>>5:-1;a[e4]=s,i[s-64]=n,s<p?(n.isShared=!0,i.sharedLength=s-63,r=!0,e>=0?(G3[Z3++]=96+(31&s),G3[Z3++]=e):G3[Z3++]=s):(e>=0?(G3[Z3++]=213,G3[Z3++]=114,G3[Z3++]=96+(31&s),G3[Z3++]=e):(G3[Z3++]=212,G3[Z3++]=114,G3[Z3++]=s),o&&(v+=y*o),g.length>=d&&(g.shift()[e4]=0),g.push(a),w(n))}for(let t=0,r=n.length;t<r;t++)w(e[n[t]])},x=e=>{let n;if(e>16777216){if(e-t>K3)throw new Error("Packed buffer would be larger than maximum buffer size");n=Math.min(K3,4096*Math.round(Math.max((e-t)*(e>67108864?1.25:2),4194304)/4096))}else n=1+(Math.max(e-t<<2,G3.length-1)>>12)<<12;let r=new Y3(n);return W3=new DataView(r.buffer,0,n),G3.copy?G3.copy(r,0,t,e):r.set(G3.slice(t,e)),Z3-=t,t=0,q3=r.length-10,G3=r}}useBuffer(e){G3=e,W3=new DataView(G3.buffer,G3.byteOffset,G3.byteLength),Z3=0}};function n4(e,t,n,r){let i=e.byteLength;if(i+1<256){var{target:a,position:o}=n(4+i);a[o++]=199,a[o++]=i+1}else if(i+1<65536){var{target:a,position:o}=n(5+i);a[o++]=200,a[o++]=i+1>>8,a[o++]=i+1&255}else{var{target:a,position:o,targetView:s}=n(7+i);a[o++]=201,s.setUint32(o,i+1),o+=4}a[o++]=116,a[o++]=t,a.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function r4(e,t){let n=e.byteLength;var r,i;if(n<256){var{target:r,position:i}=t(n+2);r[i++]=196,r[i++]=n}else if(n<65536){var{target:r,position:i}=t(n+3);r[i++]=197,r[i++]=n>>8,r[i++]=255&n}else{var{target:r,position:i,targetView:a}=t(n+5);r[i++]=198,a.setUint32(i,n),i+=4}r.set(e,i)}function i4(e,t,n,r){let i=e.length;switch(i){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:i<256?(t[n++]=199,t[n++]=i):i<65536?(t[n++]=200,t[n++]=i>>8,t[n++]=255&i):(t[n++]=201,t[n++]=i>>24,t[n++]=i>>16&255,t[n++]=i>>8&255,t[n++]=255&i)}return t[n++]=r,t.set(e,n),n+i}function a4(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");H3.unshift(e.Class),V3.unshift(e)}!function(e){e.unpack?o3[e.type]=e.unpack:o3[e.type]=e}(e)}H3=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,l3],V3=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&r>=0&&r<4294967296){let{target:e,targetView:n,position:i}=t(6);e[i++]=214,e[i++]=255,n.setUint32(i,r)}else if(r>0&&r<17179869184){let{target:n,targetView:i,position:a}=t(10);n[a++]=215,n[a++]=255,i.setUint32(a,4e6*e.getMilliseconds()+(r/1e3/4294967296>>0)),i.setUint32(a+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:e,targetView:r,position:i}=t(3);e[i++]=212,e[i++]=255,e[i++]=255}else{let{target:n,targetView:i,position:a}=t(15);n[a++]=199,n[a++]=12,n[a++]=255,i.setUint32(a,1e6*e.getMilliseconds()),i.setBigInt64(a+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){let r=Array.from(e),{target:i,position:a}=t(this.structuredClone?3:0);this.structuredClone&&(i[a++]=212,i[a++]=115,i[a++]=0),n(r)}},{pack(e,t,n){let{target:r,position:i}=t(this.structuredClone?3:0);this.structuredClone&&(r[i++]=212,r[i++]=101,r[i++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:i}=t(this.structuredClone?3:0);this.structuredClone&&(r[i++]=212,r[i++]=120,r[i++]=0),n([e.source,e.flags])}},{pack(e,t){this.structuredClone?n4(e,16,t):r4(X3?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==Q3&&this.structuredClone?n4(e,L3.indexOf(n.name),t):r4(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];var o4,s4,l4=new t4({useRecords:!1}),{NEVER:c4,ALWAYS:u4,DECIMAL_ROUND:h4,DECIMAL_FIT:d4}=(l4.pack,l4.pack,{NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4}),f4=512,p4=1024,m4=new t4({structuredClone:!0});function g4(e){if(n2(e))return e;if(Array.isArray(e))return e.map(g4);if("object"==typeof e&&null!==e){let t={};for(let n of Object.keys(e).sort())t[n]=g4(e[n]);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}return e}a4({Class:Z1.prototype.constructor,type:1,write(e){return{...e}},read(e){return Object.setPrototypeOf(e,Z1.prototype),e}}),a4({Class:s2.prototype.constructor,type:2,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,s2.prototype),e}}),a4({Class:o2.prototype.constructor,type:3,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,o2.prototype),e}}),a4({Class:G2.prototype.constructor,type:4,write(e){return e.id},read(e){return new G2(e)}}),a4({Class:W2.prototype.constructor,type:5,write(e){return e.data},read(e){return new W2(e)}}),a4({Class:p2.prototype.constructor,type:6,write(e){return{...e}},read(e){return Object.setPrototypeOf(e,p2.prototype),e}}),(e=>{function t(e){return m4.pack(e)}e.serialize=t,e.deserialize=function(e){return m4.unpack(e)},e.checksum=function(e){return function(e){var t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=(t<<5)-t+e[n],t&=t;return t}(t(g4(e))).toString()}})(o4||(o4={})),(e=>{e.toEventUIType=function(e){return"Conditional"===e.type?"Distance"===e.condition.type?"Distance":"StateChange":e.type},e.fromEventUIType=function(e){return"Distance"===e||"StateChange"===e?"Conditional":e}})(s4||(s4={}));var v4,y4,w4,b4,x4,_4,S4,E4,C4,A4,T4,M4,P4,D4,k4,O4={LookAt:[],Follow:["Create"],DragDrop:["Transition","Animation","Audio","Particles","Create","SetVariable","DynamicVariablePlay","Conditional"],MouseHover:["Transition","Animation","Particles","Create","Destroy","SwitchCamera","SceneTransition","SetVariable","DynamicVariablePlay","Conditional"],Scroll:["Transition","Animation","Create","SetVariable","DynamicVariablePlay","Conditional"],Start:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Conditional:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MousePress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyDown:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyUp:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyPress:["Transition","Animation","Audio","Particles","Video","Link","Create","SwitchCamera","Reset","SetVariable","DynamicVariablePlay","Conditional"],GameControl:["Transition","Animation","Audio","Particles","Create","Conditional"],Collision:["Transition","Animation","Audio","Particles","Video","Create","Destroy","Reset","SetVariable","DynamicVariablePlay","Conditional"],Trigger:["Transition","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Resize:["Transition","Animation","Audio","Particles","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],VariableChange:["Transition","Animation","Audio","Particles","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"]};(e=>{e.is=function(e){return"MouseDown"===e.type||"MouseUp"===e.type||"MousePress"===e.type||"KeyDown"===e.type||"KeyUp"===e.type||"KeyPress"===e.type},e.defaultData=function(e){return"MouseDown"===e||"MouseUp"===e||"MousePress"===e?{type:e,mode:"Object",disabled:!1,runMode:"Once",actions:new s2}:{type:e,disabled:!1,key:void 0,runMode:"Once",actions:new s2}}})(v4||(v4={})),(e=>{e.propertyDefaultData=function(e){return{type:"Property",value:[e??null,"position","x"]}},e.valueDefaultData={type:"Literal",value:0}})(y4||(y4={})),(e=>{e.comparisonDefaultData=function(e){return{type:"Comparison",operator:"==",lOperand:y4.propertyDefaultData(e),rOperand:{...y4.valueDefaultData}}},e.distanceDefaultData=function(e){return{type:"Distance",toObject:e??null,fromObject:e??null,distance:200}},e.stateDefaultData=function(e,t){return{type:"State",object:e??null,state:t??null}}})(w4||(w4={})),(e=>{e.is=function(e){return"Conditional"===e.type},e.defaultData=function(e){return{type:"Conditional",disabled:!1,inActions:new s2,outActions:new s2,condition:w4.distanceDefaultData(e)}}})(b4||(b4={})),(e=>{e.defaultData={type:"DragDrop",cursor:"hand",disabled:!1,dampingFactor:1,objects:[],snapTo:"center",snapSurfaceMode:"bbox",snapSurfaceOffset:0,dropOn:"all",autoOrient:!0,dropDestinations:[],plane:"adaptive",planeMode:"locked",referenceFrame:"global",limits:[-1/0,1/0,-1/0,1/0,-1/0,1/0],drop:!1,resetOnSnapFail:!1,snapSpeed:20,resetSpeed:20,dragDropActions:{drag:new s2,drop:new s2}}})(x4||(x4={})),(e=>{e.defaultData={type:"Follow",disabled:!1,maxDelta:0,dampingFactor:1,target:"cursor",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledTranslation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5,actions:new s2}})(_4||(_4={})),(e=>{e.defaultData={type:"LookAt",disabled:!1,distance:1e3,dampingFactor:1,target:"cursor",tilt:"up",axis:"z",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledRotation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5}})(S4||(S4={})),(e=>{e.is=function(e){return"MouseHover"===e.type},e.defaultData=function(){return{type:"MouseHover",disabled:!1,actions:new s2}}})(E4||(E4={})),(e=>{e.is=function(e){return"Scroll"===e.type},e.defaultData=function(){return{type:"Scroll",disabled:!1,steps:100,trigger:"load",startFrom:"enter",enterAnchor:"top",startOffset:0,endAfter:400,actions:new s2}}})(C4||(C4={})),(e=>{e.is=function(e){return"Start"===e.type},e.defaultData=function(){return{type:"Start",disabled:!1,actions:new s2}}})(A4||(A4={})),(e=>{e.is=function(e){return"Collision"===e.type},e.defaultData=function(){return{type:"Collision",disabled:!1,runMode:"Once",target:"character",actions:new s2}}})(T4||(T4={})),(e=>{e.is=function(e){return"Trigger"===e.type},e.defaultData=function(e,t){return{type:"Trigger",disabled:!1,runMode:"Once",target:"all",triggeringObjects:[],actions:new s2,triggerZone:"box",position:t.toArray(),rotation:[0,0,0],size:e.toArray(),radius:e.length()/2,helperVisible:!0}}})(M4||(M4={})),(k4=P4||(P4={})).defaultSizes={mobile:[480,480],tablet:[768,768],desktop:[1200,1200],custom:[769,1200]},k4.is=function(e){return"Resize"===e.type},k4.sizeToDevice=function(e){return"string"==typeof e?e:"custom"},k4.deviceToSize=function(e){return"string"==typeof e?[...k4.defaultSizes[e]]:[...e]},k4.defaultData=function(){let e={size:"mobile",operator:"<",actions:new s2},t={size:"tablet",operator:"<",actions:new s2},n={size:[...k4.defaultSizes.custom],operator:"<>",actions:new s2},r=new s2;return r.push({id:CV.generateUUID(),fi:0,data:e},{id:CV.generateUUID(),fi:1,data:t},{id:CV.generateUUID(),fi:2,data:n}),{type:"Resize",disabled:!1,orientation:"horizontal",breakpoints:r}},k4.defaultBreakpointData=function(){return{size:[...k4.defaultSizes.custom],operator:"<>",actions:new s2}},(e=>{e.propertyPaths={Position:["position"],"Position X":["position","x"],"Position Y":["position","y"],"Position Z":["position","z"],Rotation:["rotation"],"Rotation X":["rotation","x"],"Rotation Y":["rotation","y"],"Rotation Z":["rotation","z"],Scale:["scale"],"Scale X":["scale","x"],"Scale Y":["scale","y"],"Scale Z":["scale","z"],Width:["width"],Height:["height"],Depth:["depth"],"Mouse Position X":["mouse","x"],"Mouse Position Y":["mouse","y"],"Mouse Pressed":["mouse","pressed"],"Screen Width":["mouse","width"],"Screen Height":["mouse","height"],"Hit Position X":["raycast","x"],"Hit Position Y":["raycast","y"],"Hit Position Z":["raycast","z"],"Hit Object Position X":["raycast","objX"],"Hit Object Position Y":["raycast","objY"],"Hit Object Position Z":["raycast","objZ"]},e.is=function(e){return"VariableChange"===e.type},e.defaultData=function(){return{disabled:!1,type:"VariableChange",actions:new s2,variableId:"",objectId:null,property:"Position X"}}})(D4||(D4={}));var I4,R4,L4,N4,z4,B4,F4,U4,j4,V4,H4,G4,W4,q4,X4,Y4,Q4,K4="personal camera",Z4="a218fcc3-276b-49b9-b485-49037fd14f5f",J4=5526619;function $4(e){return"string"==typeof e&&36===e.length&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)}(e=>{function t(e,t){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function n(e,n){return Math.sqrt(t(e,n))}function r(t,n,r){let i=e.sub(n,t),a=e.sub(r,t),o=e.dot(i,a)/e.dot(i,i),s=e.scalarMultiply(i,o);return e.add(t,s)}e.isEqual=function(e,t){return e[0]===t[0]&&e[1]===t[1]},e.lerp=function(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]},e.add=function(e,t){return[e[0]+t[0],e[1]+t[1]]},e.sub=function(e,t){return[e[0]-t[0],e[1]-t[1]]},e.distanceSquared=t,e.distance=n,e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},e.scalarMultiply=function(e,t){return[e[0]*t,e[1]*t]},e.projectionOnto=r,e.projectionOntoDistance=function(e,t,i){return n(e,r(e,t,i))},e.center=function(e,t){return[.5*(e[0]+t[0]),.5*(e[1]+t[1])]}})(I4||(I4={})),(Q4=R4||(R4={})).isEqual=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},Q4.add=function(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2]]},Q4.sub=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]},Q4.div=function(e,t){return[e[0]/t[0],e[1]/t[1],e[2]/t[2]]},Q4.mul=function(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2]]},Q4.dist=function(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1],e[2]-t[2])},Q4.lerp=function(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n,e[2]+(t[2]-e[2])*n]},(e=>{e.isEqual=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.lerp=function(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n,e[2]+(t[2]-e[2])*n,e[3]+(t[3]-e[3])*n]}})(L4||(L4={})),(Y4=N4||(N4={})).identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Y4.isEqual=function(e,t){for(let n=0;n<16;n++)if(e[n]!==t[n])return!1;return!0},Y4.simplify=function(e){return e??Y4.identity},Y4.applyMatrix4=function(e,t){let n=t.slice(0);for(var r=0,i=t.length;r<i;r+=3){let i=e[3]*t[r]+e[7]*t[r+1]+e[11]*t[r+2]+e[15];n[r]=(e[0]*t[r]+e[4]*t[r+1]+e[8]*t[r+2]+e[12])/i,n[r+1]=(e[1]*t[r]+e[5]*t[r+1]+e[9]*t[r+2]+e[13])/i,n[r+2]=(e[2]*t[r]+e[6]*t[r+1]+e[10]*t[r+2]+e[14])/i}return n},(e=>{e.isRGB=function(e){return"object"==typeof e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},e.white={r:1,g:1,b:1},e.red={r:1,g:0,b:0},e.black={r:0,g:0,b:0},e.toRgb255a1=function(e){return{r:Math.round(255*e.r),g:Math.round(255*e.g),b:Math.round(255*e.b),a:1}},e.clone=function(e){return{r:e.r,g:e.g,b:e.b}},e.fromHex=function(e){return{r:((e=Math.floor(e))>>16&255)/255,g:(e>>8&255)/255,b:(255&e)/255}},e.toHex=function(e){return 65536*Math.round(255*e.r)+256*Math.round(255*e.g)+Math.round(255*e.b)},e.equals=function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b},e.lerp=function(e,t,n){return{r:e.r+(t.r-e.r)*n,g:e.g+(t.g-e.g)*n,b:e.b+(t.b-e.b)*n}}})(z4||(z4={})),(e=>{e.white={...z4.white,a:1},e.transparent={...z4.white,a:0},e.from0to1=function(e){return{r:e[0],g:e[1],b:e[2],a:e[3]}},e.fromHexAndA=function(e,t){return{...z4.fromHex(e),a:t}},e.toRgb255a1=function(e){return{r:Math.round(255*e.r),g:Math.round(255*e.g),b:Math.round(255*e.b),a:e.a}},e.equals=function(e,t){return z4.equals(e,t)&&e.a===t.a},e.lerp=function(e,t,n){return{r:e.r+(t.r-e.r)*n,g:e.g+(t.g-e.g)*n,b:e.b+(t.b-e.b)*n,a:e.a+(t.a-e.a)*n}},e.toStyle=function({r:t,g:n,b:r,a:i}=e.white){return`rgba(${255*t}, ${255*n}, ${255*r}, ${i})`}})(B4||(B4={})),(e=>{e.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]}})(F4||(F4={})),(e=>{e.defaultData={mass:1,stiffness:80,damping:10,velocity:0}})(U4||(U4={})),(e=>{e.defaultData={control1:[.5,0],control2:[.5,1]}})(j4||(j4={})),(X4=V4||(V4={})).linear=[0,0,1,1],X4.ease=[.25,.1,.25,1],X4.easeIn=[.42,0,1,1],X4.easeOut=[0,0,.58,1],X4.easeInOut=[.42,0,.58,1],(e=>{e.all=["PerspectiveCamera","OrthographicCamera"],e.is=function(t){return e.all.includes(t)}})(H4||(H4={})),(e=>{e.DefaultUp=[0,1,0],e.DefaultTargetOffset=1e3,e.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:70,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:e.DefaultUp,isUpVectorFlipped:!1,targetOffset:e.DefaultTargetOffset},e.getZoom=function(e){return"PerspectiveCamera"===e.type?e.perspective.zoom:e.orthographic.zoom}})(G4||(G4={})),(e=>{e.defaultData=function(e,t=.1){return{disabled:!1,type:"linear",hideBase:!1,count:3,radial:{radius:2*Math.max(e[0],e[1]),start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},linear:{scale:[1,1,1],rotation:[0,0,0],position:[e[0]+e[0]*t,0,0]},grid:{count:[2,2,2],size:e.map((e=>e*(1+t))),useCenter:!0},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}},e.merge=function(e,t){let n={...e};if(h5.forEach((r=>{Object.assign(n,{[r]:t[r]??e[r]})})),n.radial={...e.radial},t.radial){let r=e.radial,i=t.radial;d5.forEach((e=>{Object.assign(n.radial,{[e]:i[e]??r[e]})}))}if(n.linear={...e.linear},t.linear){let r=e.linear,i=t.linear;f5.forEach((e=>{Object.assign(n.linear,{[e]:i[e]??r[e]})}))}if(n.grid={...e.grid},t.grid){let r=e.grid,i=t.grid;p5.forEach((e=>{Object.assign(n.grid,{[e]:i[e]??r[e]})}))}if(n.toObject={...e.toObject},t.toObject){let r=e.toObject,i=t.toObject;m5.forEach((e=>{Object.assign(n.toObject,{[e]:i[e]??r[e]})}))}if(n.randomnessObject={...e.randomnessObject},t.randomnessObject){let r=e.randomnessObject,i=t.randomnessObject;g5.forEach((e=>{Object.assign(n.randomnessObject,{[e]:i[e]??r[e]})}))}return n}})(W4||(W4={})),(e=>{e.defaultData={radial:{},linear:{},grid:{},toObject:{},randomnessObject:{}};let t=["radial","linear","grid","toObject","randomnessObject"];e.toOps=function(e,n){let r=[];void 0!==e.count&&r.push({type:0,path:n,props:{count:e.count}});for(let i of t){let t=e[i];t&&Object.keys(t).length>0&&r.push({type:0,path:[...n,i],props:t})}return r}})(q4||(q4={}));var e5,t5,n5,r5,i5,a5,o5,s5,l5,c5,u5,h5=["count"],d5=["radius","start","end","position","scale","rotation"],f5=["position","scale","rotation"],p5=["count","size"],m5=["count","position","scale","rotation"],g5=["strength","scale","rotation","position","movement","seed","freqScale"];(e=>{e.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"],e.is=function(t){return e.all.includes(t)}})(e5||(e5={})),(e=>{e.defaultData=function(e){return function(e){if("PointLight"===e)return{type:e,color:B4.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,penumbraSize:.5,depth:1e5};if("SpotLight"===e)return{type:e,color:B4.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};if("DirectionalLight"===e)return{type:e,color:B4.white,intensity:1,shadows:!0,size:2e3,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}(e)}})(t5||(t5={})),(e=>{e.defaultShapeData={type:"PlaneEmitterShape",size:[100,100,100]},e.defaultCollisionData={colliderEntityId:null,collisionBounce:.75},e.defaultData={renderMaterial:{type:"particleMaterial",color:{r:1,g:.2,b:.545,a:1},color2:{r:.945,g:.714,b:.184,a:1},coloring:"gradient",ease:"linearFadeOut",easeSize:"linearFadeOut",transparent:!0,size:[40,40],texture:"pt_default_particle",spriteRotation:[0,0]},birthRatePerSec:50,gravity:1,noiseStrength:0,noiseScale:0,noiseSeed:1,noiseType:"curl",randomRotation:0,randomScale:.2,randomMass:.5,rootObjectType:"instancedMesh",life:1,direction:[0,0,0],directionMode:"axis",speed:10,shape:e.defaultShapeData,autoPlay:!0,emitTimeDelay:0,emitTimeCycle:"infinity",emitTimeLoopDelayStart:"end",emitTimeDuration:1,...e.defaultCollisionData}})(n5||(n5={})),(e=>{e.defaultData={enabled:"visibility",fusedBody:!0,rigidBody:"positioned",density:1,pointMass:0,gravityScale:1,friction:.5,damping:0,restitution:.2,colliderType:"convex",enabledRotation:[!0,!0,!0],enabledTranslation:[!0,!0,!0]}})(r5||(r5={})),(e=>{e.defaultData={castShadow:!0,receiveShadow:!0},e.equals=function(e,t){return e.castShadow===t.castShadow&&e.receiveShadow===t.receiveShadow}})(i5||(i5={})),(e=>{e.defaultData={flatShading:!1,wireframe:!1,side:0},e.equals=function(e,t){return e.flatShading===t.flatShading&&e.side===t.side&&e.wireframe===t.wireframe}})(a5||(a5={})),(e=>{e.defaultData={...a5.defaultData,...i5.defaultData}})(o5||(o5={})),(e=>{e.getMaterialData=function(e,t){let n=[];if("material"in e){let r="string"==typeof e.material?t.materials[e.material]??t.lib.materials[e.material]?.asset:e.material;r&&n.push(r)}else if("materials"in e)for(let r of e.materials){let e="string"==typeof r?t.materials[r]??t.lib.materials[r]?.asset:r;e&&n.push(e)}return n}})(s5||(s5={})),(e=>{e.defaultVideo={data:"",thumb:"/_assets/_videos/catThumb.png",type:"video",name:"Cat video"},e.maxSize=3e7})(l5||(l5={})),(e=>{e.is=function(e){return"texture"===e||"video"===e||"color"===e||"depth"===e||"normal"===e||"gradient"===e||"noise"===e||"fresnel"===e||"rainbow"===e||"toon"===e||"outline"===e||"particle"===e||"transmission"===e||"matcap"===e||"displace"===e||"pattern"===e||"light"===e}})(c5||(c5={})),(e=>{e.is=function(e){return"phong"===e||"toon"===e||"lambert"===e||"physical"===e}})(u5||(u5={}));var v5,y5,w5,b5,x5=["mode","gradientType","noiseType","displacementType","projection","cnormal","crop","axis","side"],_5=["wrapping","image","video","name"];(e=>{e.patch=function(e,t){let{texture:n,...r}=t;if(Object.assign(e,r),n){let t=e.texture;t&&Object.assign(t,n)}},e.defaultData=function(e,t){return"light"===e&&t?function(e){let t={mode:0,isMask:!1,visible:!0,bumpMap:void 0,bumpMapIntensity:5,roughnessMap:void 0,alphaOverride:1};switch(e){case"phong":return{...t,category:"phong",specular:{r:.2,g:.2,b:.2},shininess:5,type:"light",visible:!0,mode:0,occlusion:!0,alpha:.6};case"toon":return{...t,category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1};case"lambert":return{...t,category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0,occlusion:!0};case"physical":return{...t,category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0,occlusion:!0}}}(t):function(e){let t={alpha:1,mode:0,isMask:!1,visible:!0};switch(e){case"texture":return{...t,type:"texture",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{image:"image_0",wrapping:1e3,repeat:[1,1],offset:[0,0]},crop:!1};case"video":return{...t,type:"video",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{video:l5.defaultVideo,wrapping:1001,repeat:[1,1],offset:[0,0]},crop:!1};case"color":return{...t,type:"color",color:z4.fromHex(J4)};case"depth":return{...t,type:"depth",gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200};case"normal":return{...t,type:"normal",cnormal:[1,1,1]};case"gradient":return{...t,type:"gradient",gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]};case"noise":return{...t,type:"noise",size:[100,100,100],noiseType:0,scale:1,move:1,colorA:{...z4.fromHex(6710886),a:1},colorB:{...z4.fromHex(6710886),a:1},colorC:{...z4.fromHex(16777215),a:1},colorD:{...z4.fromHex(16777215),a:1},distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8],voronoiStyle:0,highCut:1,lowCut:0,smoothness:.3,seed:0,quality:1};case"fresnel":return{...t,type:"fresnel",color:B4.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1};case"rainbow":return{...t,type:"rainbow",filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]};case"toon":return{...t,type:"toon",positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:B4.fromHexAndA(0,0),offset:[0,0,0]};case"outline":return{...t,type:"outline",outlineColor:B4.fromHexAndA(0,1),contourColor:B4.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0};case"matcap":return{...t,type:"matcap",texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0]}};case"transmission":return{...t,type:"transmission",thickness:10,ior:1.5,roughness:1};case"displace":return{visible:!0,type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,voronoiStyle:0,smoothness:.3,seed:0,highCut:1,lowCut:0,quality:1};case"pattern":return{...t,type:"pattern",style:0,projection:0,axis:"y",blending:0,offset:[0,0],colorA:{...z4.fromHex(0),a:1},colorB:{...z4.fromHex(16777215),a:1},frequency:[10,10],size:.5,variation:0,smoothness:.5,zigzag:0,rotation:0,vertical:[0,1],horizontal:[0,1],sides:6}}}(e)}})(v5||(v5={})),(e=>{function t(e,t="layer1",n="layer2"){let r=new s2;return r.push({fi:0,data:v5.defaultData("light",e),id:t}),r.push({fi:1,data:v5.defaultData("color"),id:n}),{layers:r}}e.isMergable=function(e){return!e.layers.some((e=>"texture"===e.data.type&&0!==e.data.projection||"depth"===e.data.type&&!e.data.isWorldSpace||"noise"===e.data.type||"displace"===e.data.type))},e.getHash=function(e){let t="";return e.layers.forEach((e=>{Object.entries(e.data).forEach((([e,n])=>{t+=`${e}${n}`,Array.isArray(n)?n.forEach((e=>t+=`${e}`)):"object"==typeof n?Object.values(n).forEach((e=>{t+="number"==typeof e?`${e.toFixed(4)}`:`${e}`})):t+=`${n}`}))})),t},e.defaultEmptyData=function(){return{layers:new s2}},e.defaultData=function(e="layer1",n="layer2"){return t("phong",e,n)},e.withName=function(e,t){return{...e,name:t}},e.defaultTwoLayerData=t,e.defaultUIObjectMaterial=function(e){let t=v5.defaultData("texture");e&&Object.assign(t.texture,{image:e});let n=new s2;return n.push({fi:0,data:t,id:"layer1"}),n.push({fi:1,data:{...v5.defaultData("transmission"),alpha:1},id:"layer2"}),n.push({fi:2,data:{...v5.defaultData("light","lambert"),alpha:0},id:"layer3"}),{layers:n}},e.defaultTwoLayerTextureData=function(e,t="phong",n="layer1",r="layer2"){let i=v5.defaultData("texture");Object.assign(i.texture,{image:e});let a=new s2;return a.push({fi:0,data:i,id:n}),a.push({fi:1,data:v5.defaultData("light",t),id:r}),{layers:a}},e.defaultTwoLayerVideoTextureData=function(e,t="phong",n="layer1",r="layer2"){let i=v5.defaultData("video");Object.assign(i.texture,{video:e});let a=new s2;return a.push({fi:0,data:i,id:n}),a.push({fi:1,data:v5.defaultData("light",t),id:r}),{layers:a}}})(y5||(y5={})),(e=>{e.defaultData=function(){return{points:new s2,roundness:0,shapeHoles:[],isClosed:!1}}})(w5||(w5={})),(e=>{e.defaultData=function(){return{points:new s2,lastInsertionPlane:null,subdivisions:12,isClosed:!1}}})(b5||(b5={}));var S5,E5={type:"Ellipse",width:50,height:50,spikes:16,angle:360,innerRadius:0};(e=>{e.merge=function(e,t){let n={...e};return P5.forEach((r=>{Object.assign(n,{[r]:t[r]??e[r]})})),n}})(S5||(S5={}));var C5,A5,T5,M5={shape:E5,depth:1,offset:0,bevel:50,bevelSides:6,angle:0,twist:0,startScale:1,endScale:1,capType:"flat"},P5=["depth","offset","angle","twist","startScale","endScale"];(e=>{e.is2DParametricMesh=function(e){return"PolygonGeometry"===e||"RectangleGeometry"===e||"StarGeometry"===e||"TriangleGeometry"===e||"EllipseGeometry"===e||"UIGeometry"===e},e.isParametricMesh=function(e){return"PolygonGeometry"===e||"PolygonGeometry"===e||"RectangleGeometry"===e||"StarGeometry"===e||"TriangleGeometry"===e||"EllipseGeometry"===e||"PathGeometry"===e||"VectorGeometry"===e||"ConeGeometry"===e||"CubeGeometry"===e||"CylinderGeometry"===e||"DodecahedronGeometry"===e||"HelixGeometry"===e||"IcosahedronGeometry"===e||"LatheGeometry"===e||"PyramidGeometry"===e||"SphereGeometry"===e||"PlaneGeometry"===e||"BackdropGeometry"===e||"TorusGeometry"===e||"TorusKnotGeometry"===e||"BooleanGeometry"===e||"TextGeometry"===e}})(C5||(C5={})),(e=>{e.merge=function(e,t){let n={...e};return Object.assign(n,t),"PathGeometry"===n.type&&"extrusion"in t&&t.extrusion&&(n.extrusion={...e.extrusion},Object.assign(n.extrusion,S5.merge(n.extrusion,t.extrusion))),n}})(A5||(A5={})),(e=>{e.defaultData=function(e){if("RectangleGeometry"===e)return{width:320,height:320,type:e,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if("UIGeometry"===e)return{type:e,frame:"",cornerRadius:[0,0,0,0],cornerType:0,width:1,height:1};if("PathGeometry"===e)return{type:e,width:1,height:1,depth:1,path:b5.defaultData(),extrusion:M5};if("VectorGeometry"===e)return{width:1,height:1,type:e,subdivisions:12,shape:w5.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if("BooleanGeometry"===e)return{type:e,operation:2,width:0,height:0,depth:0,phongAngle:35};if("TextGeometry"===e)return{type:e,width:100,height:100,depth:0,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.2,letterSpacing:0,text:{textValue:""},textTransform:1,font:"Roboto_regular",extrudeBevelSize:0,extrudeBevelSegments:1};if("SphereGeometry"===e)return{type:"SphereGeometry",width:100,height:100,depth:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180};throw new Error("not implemented")}})(T5||(T5={}));var D5,k5,O5,I5,R5,L5,N5,z5,B5,F5,U5,j5,V5,H5,G5,W5,q5,X5,Y5,Q5,K5,Z5,J5,$5,e6,t6,n6,r6,i6,a6,o6,s6,l6,c6,u6,h6,d6,f6,p6,m6,g6,v6=["width","height","depth"];function y6(e){e.layers.forEach((e=>{if("depth"===e.type&&void 0!==e.colorA){let t=e.colorA,n=e.colorB,r=[[t.r,t.g,t.b,t.a],[n.r,n.g,n.b,n.a]],i=[0,1];for(let e=2;e<10;e++)r.push(r[1]),i.push(1);let a={...S1(U2(e),"type","visible","isVector","isWorldSpace","origin","alpha","mode"),near:Math.max(0,e.near),far:Math.max(0,e.far),colors:r,steps:i,num:2,direction:[1,0,0],smooth:!1,gradientType:1};Object.assign(e,a)}else if("depth"===e.type&&1===e.gradientType&&(e.near<0||e.far<0)){let t={...U2(e),near:Math.max(e.near,0),far:Math.max(e.far,0)};Object.assign(e,t)}}))}function w6(e,t){Object.values(e.shared.materials).forEach((e=>t(e)))}function b6(e,t){e.scene.objects.traverse(((e,n)=>{"materials"in n?n.materials.forEach(((e,r)=>{void 0===e&&(n.materials[r]=y5.defaultData(),e=n.materials[r]),"string"!=typeof e&&t(e)})):"material"in n?"string"!=typeof n.material&&(void 0===n.material&&(n.material=y5.defaultData()),t(n.material)):"Mesh"===n.type&&(void 0===n.material&&(n.material=y5.defaultData()),t(n.material)),"overrides"in n&&Object.values(n.overrides).forEach((e=>{e.material&&"string"!=typeof e.material&&Object.getPrototypeOf(e.material)!==p2.prototype&&t(e.material)}))}))}function x6(e){void 0===e.layers&&Object.assign(e,y5.defaultTwoLayerData("lambert"))}function _6(e){!e.layers||e.layers.forEach((e=>{if("depth"===e.type&&10===e.colors.length){let t=[...e.colors];t.push(e.colors[9]);let n=[...e.steps];n.push(e.steps[9]);let r={...U2(e),colors:t,steps:n};Object.assign(e,r)}}))}function S6(e){e.scene.objects.traverse(((e,t)=>{"materials"in t?t.materials.forEach((e=>{"string"!=typeof e&&_6(e)})):"material"in t&&"string"!=typeof t.material&&_6(t.material)})),Object.values(e.shared.materials).forEach((e=>_6(e)))}function E6(e){e.layers&&e.layers.forEach((e=>{"depth"===e.type&&void 0!==e.num&&(e.colors=e.colors.slice(0,e.num),e.steps=e.steps.slice(0,e.num),delete e.num)}))}function C6(e){e.layers&&e.layers.forEach((e=>{(function(e){return"displace"!==e.type})(e)&&void 0===e.isMask&&(e.isMask=!1),("texture"===e.type||"video"===e.type)&&void 0===e.blending&&(e.blending=0),("noise"===e.type||"displace"===e.type&&"noise"===e.displacementType)&&(void 0===e.voronoiStyle&&(e.voronoiStyle=0),void 0===e.highCut&&(e.highCut=1),void 0===e.lowCut&&(e.lowCut=0),void 0===e.smoothness&&(e.smoothness=.3),void 0===e.seed&&(e.seed=0),void 0===e.quality&&(e.quality=1))}))}function A6(e){let t=e.layers.find((e=>"light"===e.type))?.data;if("basic"===t?.category){let e=v5.defaultData("light","phong"),n=t;Object.assign(n,e),n.visible=!1}}function T6(e){w6(e,A6),b6(e,A6)}function M6(e){e.layers.forEach((e=>{"light"===e.type&&"toon"!==e.category&&void 0===e.occlusion&&(e.occlusion=!0)}))}function P6(e){e.layers&&e.layers.forEach((e=>{"light"===e.type&&void 0===e.bumpMapIntensity&&(e.bumpMapIntensity=5)}))}function D6(e){e.layers&&e.layers.forEach((e=>{"light"===e.type&&void 0===e.alphaOverride&&(e.alphaOverride=1)}))}(e=>{e.defaultData={enabled:!1,useBackgroundColor:!1,color:z4.white,near:.1,far:2e3}})(D5||(D5={})),(e=>{let t={opacity:1,blendFunction:13,enabled:!1};e.defaultData={enabled:!1,pixelation:{...t,blendFunction:16,granularity:15},bloom:{...t,blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025,kernelSize:3},chromaticAberration:{...t,offset:[2,2]},vignette:{...t,darkness:1,offset:0},hueSaturation:{...t,hue:3,saturation:0},brightnessContrast:{...t,brightness:.25,contrast:0},depthOfField:{...t,focalLength:2,focusDistance:2,bokehScale:2},noise:{...t,blendFunction:16}}})(k5||(k5={})),(e=>{e.defaultData={softShadowQuality:"low"}})(O5||(O5={})),(e=>{e.defaultData={enabled:!0,color:{r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},intensity:.75}})(I5||(I5={})),(e=>{e.defaultData={occlusion:!1,aoFullRes:!1,radius:256,bias:.5,aoColor:{r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}}})(R5||(R5={})),(e=>{e.defaultData={usePhysics:!1,gravity:-10}})(L5||(L5={})),(e=>{e.defaultData={playCamera:K4,gameControlObject:null}})(N5||(N5={})),(e=>{e.defaultData={backgroundColor:B4.fromHexAndA(2960946,1),postprocessing:k5.defaultData,fog:D5.defaultData,globalPhysics:L5.defaultData,ambient:I5.defaultData,ao:R5.defaultData,shadow:O5.defaultData,publish:N5.defaultData}})(z5||(z5={})),(e=>{e.defaultData={colliderType:"box",size:[100,100,100],colliderHelperVisible:!0,forceType:"collider",forceRange:"global",forceIntensity:.5,forceDambing:.95}})(B5||(B5={})),(e=>{e.isComponentRelated=function(e){return"Component"===e||"Instance"===e},e.isEmptyOrComponent=function(e){return"Empty"===e||"Instance"===e}})(F5||(F5={})),(e=>{e.identity={...F4.identity,hiddenMatrix:N4.identity},e.fromObject=function(e){return{position:e.position,rotation:e.rotation,scale:e.scale,hiddenMatrix:e.hiddenMatrix}},e.merge=function(e,t){return{position:t?.position||e.position,rotation:t?.rotation||e.rotation,scale:t?.scale||e.scale,hiddenMatrix:t?.hiddenMatrix||e.hiddenMatrix}},e.diff=function(e,t){return E1({position:R4.isEqual(e.position,t.position)?void 0:t.position,rotation:R4.isEqual(e.rotation,t.rotation)?void 0:t.rotation,scale:R4.isEqual(e.scale,t.scale)?null:t.scale,hiddenMatrix:N4.isEqual(e.hiddenMatrix,t.hiddenMatrix)?void 0:t.hiddenMatrix})}})(U5||(U5={})),(e=>{e.defaultData={states:new s2,events:new s2,visible:!0,raycastLock:!1,physics:r5.defaultData,pathSnapping:{pathId:null,slide:0,offset:0,orientation:"tangential"},...U5.identity,cloner:null}})(j5||(j5={})),(e=>{e.defaultData={type:"Empty",...j5.defaultData}})(V5||(V5={})),(e=>{e.defaultData={type:"ParticleCollider",...B5.defaultData,...j5.defaultData}})(H5||(H5={})),(e=>{e.defaultData={type:"Component",...j5.defaultData}})(G5||(G5={})),(e=>{e.defaultData={type:"Particle",...j5.defaultData,...n5.defaultData}})(W5||(W5={})),(e=>{e.defaultData={type:"Mesh",...j5.defaultData,...o5.defaultData}})(q5||(q5={})),(e=>{e.defaultData={...j5.defaultData,...U5.identity,position:[0,0,G4.DefaultTargetOffset],...G4.defaultData}})(X5||(X5={})),(e=>{e.defaultData=function(e){return{...j5.defaultData,...t5.defaultData(e)}},e.defaultDirectionalLightData={...e.defaultData("DirectionalLight"),position:[200,300,300],name:"Directional Light",intensity:.7}})(Y5||(Y5={})),(e=>{function t(e,t,n=0){for(;n<t.length;){let r=e?e[t[n]]:void 0;if(t.length===n+1)return r;if(!r)return;e=r.descendants,n+=1}}e.resolveWithDes=t,e.resolve=function(e,n,r=0){let i=t(e,n,r);if(i){let e=Object.keys(i);if(1===e.length&&"descendants"===e[0])return}return i}})(Q5||(Q5={})),(e=>{function t(e,t){return{...j5.defaultData,...t,component:e,overrides:new p2,physics:void 0,events:void 0,type:"Instance"}}e.rootOverrideProps=["physics","events"],e.compositeNonOptionalOverrideProps=["geometry"],e.compositeEntireOverrideOverrideProps=["material"],e.ofComponent=t,e.fromComponentData=function(e){let n=U5.fromObject(e.data);return t(e.id,n)}})(K5||(K5={})),(e=>{e.defaultData={type:"Page",...j5.defaultData,physics:{...r5.defaultData,fusedBody:!1},...z5.defaultData,camera:X5.defaultData},e.isUIPage=function(e){return void 0!==e.uiScene}})(Z5||(Z5={})),(e=>{e.defaultCamera={position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:N4.identity,name:"Play Camera",visible:!0,raycastLock:!1,physics:r5.defaultData,states:new s2,events:new s2,cloner:null,pathSnapping:{pathId:null,orientation:"tangential",slide:0,offset:0},...G4.defaultData},e.KeysByResetCategory={States:["states"],Events:["events"],Material:["material","materials"],Geometry:["geometry"],Position:["position"],Rotation:["rotation"],Scale:["scale"],Transform:["position","scale","rotation","hiddenMatrix"],Name:["name"],Visibility:["visible","raycastLock","flatShading","wireframe","side"],Shadows:["castShadow","receiveShadow"],Cloner:["cloner"],Physics:["physics"]},e.defaultMeshObject={name:"Rectangle",...j5.defaultData,...q5.defaultData,geometry:T5.defaultData("RectangleGeometry"),material:y5.defaultTwoLayerData("phong","layer1","layer2")},e.defaultBooleanObject={name:"Boolean",...j5.defaultData,...q5.defaultData,geometry:T5.defaultData("BooleanGeometry"),material:y5.defaultTwoLayerData("phong","layer1","layer2")},e.defaultTextObject={name:"Text",...j5.defaultData,...q5.defaultData,geometry:T5.defaultData("TextGeometry"),material:y5.defaultTwoLayerData("phong","layer1","layer2")}})(J5||(J5={})),(e=>{e.newEmpty=function(e,t){let n={name:t};return"Mesh"===e.type?(n.geometry={},"material"in e&&(n.material={layers:new p2}),"materials"in e&&(n.materials=e.materials.map((e=>({layers:new p2}))))):H4.is(e.type)&&(n.perspective={},n.orthographic={}),n},e.toOps=function(e,t){let n,r=[],i={orthographic:0,perspective:0,geometry:0};function a(e,t){for(let[n,i]of Object.entries(t.layers)){let{texture:t,...a}=i;if(void 0!==t&&Object.keys(t).length>0){let i={path:[...e,"layers",n,"texture"],props:t,type:0};r.push(i)}if(Object.keys(a).length>0){let t={path:[...e,"layers",n],props:a,type:0};r.push(t)}}}for(let[e,o]of Object.entries(t))if("name"!==e)if("cloner"===e)r.push(...q4.toOps(o,["cloner"]));else if("pathSnapping"===e)r.push({path:[e],props:{slide:o.slide,offset:o.offset},type:0});else if("material"===e)a(["material"],o);else if("materials"===e)for(let[e,t]of Object.entries(o))a(["materials",e],t);else if(0===i[e]){if("geometry"===e&&void 0!==o.extrusion){let t={path:[e,"extrusion"],props:o.extrusion,type:0};r.push(t),o={...o},delete o.extrusion}if(Object.keys(o).length>0){let t={path:[e],props:o,type:0};r.push(t)}}else void 0===n&&(n={path:[],props:{},type:0},r.push(n)),n.props[e]=o;return r},e.patch=function(e,t){if(void 0===t)return e;let n={...e};if(Object.assign(n,U5.merge(n,t)),Object.assign(n,{pathSnapping:Object.assign({},n.pathSnapping,{slide:t.pathSnapping?.slide??n.pathSnapping?.slide??0,offset:t.pathSnapping?.offset??n.pathSnapping?.offset??0})}),H4.is(e.type)){n.orthographic={...n.orthographic},n.perspective={...n.perspective};let e=t;void 0!==e.orthographic?.zoom&&(n.orthographic.zoom=e.orthographic.zoom),void 0!==e.perspective?.zoom&&(n.perspective.zoom=e.perspective.zoom),void 0!==e.isUpVectorFlipped&&(n.isUpVectorFlipped=e.isUpVectorFlipped),void 0!==e.targetOffset&&(n.targetOffset=e.targetOffset)}else if("Mesh"===e.type)"geometry"in t&&Object.assign(n,{geometry:A5.merge(n.geometry,t.geometry)}),(t.material||t.materials)&&(n=function(e,t){if(void 0===t)return e;let n={...e};return"material"in n&&"material"in t&&t.material&&(n.material=F2(n.material,(e=>{if("string"!=typeof e)for(let[n,r]of Object.entries(t.material.layers)){let t=e.layers.data(n);t&&v5.patch(t,r)}})).data),n.materials&&t.materials&&(n.materials=F2(n.materials,(e=>{for(let r=0;r<n.materials.length;r++){let n=t.materials[r];if("string"!=typeof n)for(let[t,i]of Object.entries(n.layers)){let n=e[r]?.layers?.data(t);n&&v5.patch(n,i)}}})).data),n}(n,t)),n.cloner&&"cloner"in t&&Object.assign(n,{cloner:W4.merge(n.cloner,t.cloner)});else if("Empty"===e.type)n.cloner&&"cloner"in t&&Object.assign(n,{cloner:W4.merge(n.cloner,t.cloner)});else if(e5.is(e.type)){let e=t;void 0!==e.intensity&&(n.intensity=e.intensity),void 0!==e.color&&("string"==typeof e.color?n.color=e.color:n.color=z4.clone(e.color))}return n}})($5||($5={})),(e=>{e.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,hoverRotateDamping:.125,isTouchZoom:!0,orbitTouches:2,panTouches:3,resetHoverEffectOnPointerLeave:!0}})(e6||(e6={})),(e=>{e.defaultData={orbitControls:e6.defaultData,playPage:Z4,withBackground:!0,preventScroll:!1,preventTouchScroll:!1,hideCursor:!1,mouseEventTarget:"canvas",joystickSizeAndXYOffset:Array(12).fill(0).map(((e,t)=>{let n=0,r=0;return t<5?r=-30:t<10&&(r=30),0===t||10===t||5===t?n=30:(4===t||11===t||9===t)&&(n=-30),[120,[n,r],"show"]})),settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,ratio:Math.max(1,typeof window<"u"?Math.floor(window.devicePixelRatio):1),stopMode:"manual",duration:5e3},web:{logo:!0,compress:!0,preset:1,preload:!0,hint:!1}},stopRaycast:!0,hdTransmission:!1}})(t6||(t6={})),(e=>{e.defaultData={id:"basic",label:"Basic",style:"None",prompt:""}})(n6||(n6={})),(e=>{e.defaultData={weather:0,shadows:0,lightOrigin:0,temperature:0,sun:0,camera:0,environment:0,particles:0,nature:0,floor:0}})(r6||(r6={})),(e=>{e.defaultData=()=>({mode:"line-art-both",prompt:"",negativePrompt:"",style:{...n6.defaultData},isRandomSeed:!0,seed:e.generateSeed(),guessMode:!1,advanced:!1,steps:20,guidanceScale:7.5,controlNetScale:1,modifiers:r6.defaultData}),e.generateSeed=()=>Math.round(1e5*Math.random())})(i6||(i6={})),(e=>{e.physicsEnabled=function(e){return void 0!==e.find((e=>"Page"===e.data.type&&e.data.globalPhysics.usePhysics))},e.traverseModuleInstances=function(e,t,n){e.scene.objects.traverseFrom(t,((t,r)=>{if("Instance"===r.type){let i=R6.getComponentData(e,r.component)?.data;i&&n(t,r,i.events)}else n(t,r,r.events)}))}})(a6||(a6={})),(e=>{function t(e={withLight:!0,withSquare:!0}){let t=[],n=J5.defaultMeshObject;!0===e.withLight&&t.push({fi:-1,data:Y5.defaultDirectionalLightData,id:"830a2708-8ed9-49cf-a68e-085299899103",children:[]}),!0===e.withSquare&&t.push({fi:1,id:"7ba78968-2a55-48f2-b14c-5191da3e075e",data:n,children:[]});let r=new o2;return r.push({fi:1,id:Z4,data:{...Z5.defaultData,name:"Scene 1"},children:t}),r}function n(t){return{...e.defaultData,objects:C1(t,o2.prototype)}}e.TRASH_CAN_ID="830a2708-8ed9-49cf-a68e-085299892222",e.defaultData={objects:t(),publish:t6.defaultData,styles:i6.defaultData()},e.emptyDataWithoutPage=function(){return{objects:new o2,publish:t6.defaultData,styles:i6.defaultData()}},e.emptyDataWithPage=function(e){return{objects:t(e),publish:t6.defaultData,styles:i6.defaultData()}},e.emptyData=function(){return{objects:new o2,publish:{...t6.defaultData},styles:i6.defaultData()}},e.withObjs=n,e.withObj=function(e,t){return n([{id:e,data:t,children:[],fi:0}])}})(o6||(o6={})),(e=>{e.defaultData={preset:"fullscreen",allowResponsive:!1,size:[512,512],coords:[0,0],sceneScale:1,color:{r:0,g:0,b:0,a:.5}}})(s6||(s6={})),(e=>{e.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",name:"empty"}})(l6||(l6={})),(e=>{function t(e){return void 0!==e.textValue}function n(e){return"boolean"==typeof e}e.isTextValue=t,e.isNumber=function(e){return"number"==typeof e},e.isBoolean=n,e.typeOfVariable=function(e){return t(e)?"string":n(e)?"boolean":"number"},e.getDisplayedValue=function(t){return e.isTextValue(t)?Array.isArray(t.textValue)?t.textValue.map((e=>e.toString().padStart(t.padding??2,"0"))).join(t.deliminator??":")+(void 0!==t.suffix?" "+t.suffix:""):t.textValue.toString():e.isBoolean(t)?t?"True":"False":e.isNumber(t)?parseFloat(t.toFixed(3)).toString():t.toString()}})(c6||(c6={})),(e=>{e.all=["images","videos","colors","audios","particles","fonts","materials","variables"]})(u6||(u6={})),(e=>{e.all=[...u6.all,"components"]})(h6||(h6={})),(e=>{e.defaultData=function(){return{images:new Z1,videos:new Z1,colors:new Z1,audios:new Z1,particles:new Z1,fonts:new Z1,materials:new Z1,components:new Z1,variables:new Z1}}})(d6||(d6={})),(e=>{e.defaultData=function(){return{images:new Z1,videos:new Z1,colors:new Z1,audios:new Z1,particles:new Z1,fonts:new Z1,materials:new Z1,components:new Z1,variables:new Z1}}})(f6||(f6={})),(e=>{e.defaultColors=function(){return C1({"89b10010-844c-11ec-a8a3-0242ac120002":{r:.5,g:.5,b:.5,a:1,name:"Default Color"}},Z1.prototype)},e.defaultImages=function(e){let t={};return e?.withAITexture&&(t["a1b10010-844c-a8a3-11ec-0242ac2011ec"]={...l6.emptyImage,name:"AI generated image"}),C1(t,Z1.prototype)},e.emptyData=function(){return{catelogs:new Z1,materials:new Z1,images:new Z1,videos:new Z1,colors:new Z1,audios:new Z1,particles:new Z1,fonts:new Z1,variables:new s2,lib:f6.defaultData()}},e.defaultVariables=function(e){switch(e){case"number":return{value:0,name:"Number"};case"boolean":return{value:!1,name:"Boolean"};case"string":return{value:{textValue:"String value"},name:"String"};case"time":let t=[0,0,0];return{name:"Time",value:{textValue:t,deliminator:":",padding:2,suffix:"AM"},dynamicVariableType:"time",format:"HH:mm:ss",format12h24h:"12ampm",timeZone:null,hasEnd:!1,endValue:{textValue:t,deliminator:":",padding:2,suffix:"AM"},autoStart:!0,repeat:!1};case"counter":return{name:"Counter",value:0,dynamicVariableType:"counter",updateInterval:1e3,increment:1,autoStart:!0,hasEnd:!0,endValue:60,repeat:!0,randomStart:!1,range:[0,100],decimals:0};case"random":return{name:"Random",value:0,dynamicVariableType:"random",updateInterval:1e3,increment:1,autoStart:!0,isStatic:!1,hasEnd:!0,endValue:60,repeat:!0,min:0,max:100,decimals:0};default:console.error("Unknown variable type",e)}},e.getFormattedTimerTime=function(e,t){if("HH:mm:ss"===t.format){let t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60);return{textValue:[t,n,Math.round(e-3600*t-60*n)]}}if("mm:ss"===t.format){let t=Math.floor(e/60);return{textValue:[t,Math.round(e-60*t)]}}return"number"===t.format?Math.round(e):Math.round(1e3*e)/1e3}})(p6||(p6={})),(e=>{e.list=["idle","move","jump","run"]})(m6||(m6={})),(e=>{e.defaultColliderData={type:"capsule",height:200,radius:50,position:[0,0,0],rotation:[0,0,0]},e.defaultDataThirdPerson={moveMode:"walk",forwardDirection:"+z",speedTranslate:1e3,speedRotate:100,runMultiplier:2,rotationMode:"normal",rotBy:"keys",rotByTouch:"drag",delayPos:[.3,.3],delayRot:[.3,.3],keyAssignments:[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","▲"],["rotPosY","◀"],["rotNegX","▼"],["rotNegY","▶"],["jump","Space"],["run","⇧"],["none","Ctrl"]],touchControl:!0,joystickPosLoc:5,joystickRotLoc:11,jumpTouchButtonLoc:9,collider:e.defaultColliderData,colliderHelperVisible:!0,collisionEnabled:!0,jumpPower:100,resetYPosition:3e3,alignToGround:!1,autoOrientMove:!0,orientWith:"camera",orientMode:"radial",delayPosCamera:.3,delayRotCamera:.3,camera:"",cameraXAxis:"Limit",cameraYAxis:"Free",cameraRotXLimits:[0,Math.PI/2],cameraRotYLimits:[-Math.PI/2,Math.PI/2],gameActions:{idle:new s2,move:new s2,jump:new s2,run:new s2},navmesh:{enabled:!1,ch:6,cs:6,walkableClimb:5,walkableHeight:1,walkableRadius:0,zones:"all",objects:[],helperVisible:!0,destinationHelperRadius:0,destinationHelperColor:B4.fromHexAndA(3728051,1)}}})(g6||(g6={}));var k6=180/Math.PI;function O6(e){e.rotation=e.rotation.slice(0,3).map((e=>e*k6))}function I6(e){O6(e),"Page"===e.type&&O6(e.camera),e.states?.forEach((e=>{void 0===e.rotation||null===e.rotation||(e.rotation=e.rotation.slice(0,3).map((e=>e*k6)))}));let t=e.geometry;t&&"SphereGeometry"===t.type&&(t.thetaLength=(t.thetaLength??180)*k6),t&&"TorusGeometry"===t.type&&(t.arc=t.arc*k6),t&&"PathGeometry"===t.type&&(t.extrusion.angle*=k6,t.extrusion.twist*=k6),"Mesh"===e.type&&"TextGeometry"===e.geometry.type&&(e.geometry.text={textValue:e.geometry.text}),Array.isArray(U2(e.events))&&e.events?.forEach((e=>{("MouseDown"===e.type||"MouseUp"===e.type||"MousePress"===e.type||"KeyDown"===e.type||"KeyUp"===e.type||"KeyPress"===e.type||"Collision"===e.type||"Trigger"===e.type)&&(e.runMode=e.toggle?"Toggle":"Repeat")}))}var R6,L6,N6,z6,B6,F6,U6,j6,V6,H6,G6,W6,q6,X6,Y6,Q6,K6,Z6=111;function J6(e,t){t(e.data);for(let n of e.children)J6(n,t)}function $6(e){let t=e.schema??104;t!==Z6&&t<105&&(J6(e.asset,I6),e.schema=105)}function e8(e){let t=e.schema??0;if(t!==Z6){console.warn("updating from ",t,"to ",Z6),function(e,t){if(t<1&&(b6(e,y6),w6(e,y6),e.schema=1),t<2&&(function(e){Object.assign(e.scene.publish,{orbitControls:{...e6.defaultData,...U2(e.scene.publish.orbitControls)}})}(e),e.schema=2),t<3&&(function(e){function t(e){if(e.layers)for(let t of Object.values(e.layers))if(t)for(let[e,n]of Object.entries(t))if((x5.includes(e)||"boolean"==typeof n)&&delete t[e],"texture"===e)for(let[e,t]of Object.entries(n))(_5.includes(e)||"boolean"==typeof t)&&delete n[e]}e.scene.objects.traverse(((e,n)=>{n.states.forEach((e=>{let n=e;n.material?t(n.material):n.materials&&n.materials.forEach((e=>{t(e)}))}))}))}(e),e.schema=3),t<4&&(function(e){e.scene.publish.withBackground=!0}(e),e.schema=4),t<5&&(function(e){e.scene.publish.settings.web={compress:!0,preload:!0,preset:1,logo:!0,hint:!1}}(e),e.schema=5),t<6&&(function(e){e.scene.objects.traverse(((e,t)=>{let n=t.cloner;n&&(n.radial.scale=n.radial.scale.map((e=>e+1)),n.linear.scale=n.linear.scale.map((e=>e+1)))}))}(e),e.schema=6),t<7&&(function(e){e.scene.objects.traverse(((e,t)=>{let n=t.geometry;n&&("DodecahedronGeometry"===n.type||"IcosahedronGeometry"===n.type)&&(n.detail=Math.round(n.detail))}))}(e),e.schema=7),t<8&&(e.schema=8),t<9&&(S6(e),e.schema=9),t<10&&(function(e){e.scene.objects.traverse(((e,t)=>{"Mesh"===t.type&&("BooleanGeometry"===t.geometry.type||"SubdivGeometry"===t.geometry.type)&&(t.geometry.phongAngle=35)}))}(e),e.schema=10),t<11&&(function(e){e.scene.environment.ambientLight.softShadows=!1,e.scene.environment.ambientLight.softShadowQuality="low",e.scene.objects.traverse(((e,t)=>{("DirectionalLight"===t.type||"SpotLight"===t.type)&&(t.shadowResolution=1024,t.shadowRadius=1,t.depth=1e5)})),e.shared.penumbraSize=new Array(5).fill(.5)}(e),e.schema=11),t<12&&(S6(e),e.schema=12),t<13&&(function(e){e.shared.audios=C1({},Z1.prototype)}(e),e.schema=13),t<14&&(function(e){let t=e.shared.materials;Object.entries(t).forEach((([e,n])=>{if(!n.layers){let n={name:"Untitled Material",layers:[{fi:0,data:{type:"light",category:"phong",alpha:.6,visible:!0,mode:0,specular:{r:.2,g:.2,b:.2},shininess:5},id:"layer1"},{fi:1,data:{type:"color",alpha:1,visible:!0,mode:0,color:{r:.2823529411764706,g:.2823529411764706,b:.30196078431372547}},id:"layer2"}]};Object.assign(t,{[e]:n})}}))}(e),e.schema=14),t<15&&(function(e){Object.entries(U2(e.shared.images)).filter((e=>!1===e[1].asset)).map((e=>e[0])).forEach((t=>{delete e.shared.images[t]})),Object.entries(U2(e.shared.audios)).filter((e=>!1===e[1].asset)).map((e=>e[0])).forEach((t=>{delete e.shared.audios[t]}))}(e),e.schema=15),t<16&&(function(e){e.scene.publish.settings.web.preload=!1}(e),e.schema=16),t<17&&(b6(e,E6),w6(e,E6),e.schema=17),t<18&&(b6(e,x6),w6(e,x6),e.schema=18),t<19&&(function(e){Object.assign(e.scene.publish.settings,{video:{...t6.defaultData.settings.video,...U2(e.scene.publish.settings.video)}})}(e),e.schema=19),t<20&&(function(e){e.shared.fonts=C1({},Z1.prototype)}(e),function(e){let t=[];e.scene.objects.traverse(((n,r)=>{let i=r;if("TextFrame"===i.type){let r=y5.defaultTwoLayerData("phong"),a="string"==typeof i.color?e.shared.colors[i.color]:i.color;r.layers[1].data.color={r:a.r,g:a.g,b:a.b},r.layers[1].data.alpha=i.alpha;let o=function(e){return e.replace(".typeface","").replace(/optimer/gi,"open sans").replace("space_mono","space mono").replace(/alma_mono/gi,"varela round").replace(/droid_sans_mono/gi,"noto sans mono").replace(/droid_sans|gentilis|gnomon_(simple|foreground)|helvetiker/gi,"roboto").replace(/droid_serif/gi,"roboto slab").replace("_sans"," sans").replace("crimson_text","crimson text").replace("medium_medium","medium").replace("fatface_fatface","fatface").replace("100hairline","thin").replace("200thin","extralight").replace("300light","light").replace("500medium","medium").replace("600semi","semibold").replace("800heavy","extrabold").replace("900black","black").replace(/bodoni_(11|16|24|36|48|72|96)([^_])/gi,"bodoni_$1_$2").replace(/bodoni_(11|16|24|36|48|72|96)/gi,"bodoni moda").replace(/(thin|hairline)(_regular)?/gi,"100").replace(/(extra|ultra)light(_regular)?/gi,"200").replace(/light(_regular)?/gi,"300").replace(/_book|_normal|_roman/gi,"_regular").replace(/medium(_regular)?/gi,"500").replace(/(semi|demi)bold(_regular)?/gi,"600").replace(/(extra|ultra)bold(_regular)?/gi,"800").replace(/bold(_regular)?/gi,"700").replace(/(black|heavy|fatface)(_regular)?/gi,"900").replace(/([1-9]00)_italic/gi,"$1italic").replace(/regularitalic/gi,"italic").replace(/regularitalic/gi,"italic").split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}(i.font);void 0===e.shared.fonts[o]&&(e.shared.fonts[o]={name:o});let s={name:i.name,...j5.defaultData,...q5.defaultData,flatShading:!1,wireframe:!1,geometry:{...T5.defaultData("TextGeometry"),width:i.width,height:i.height,font:o,depth:0,horizontalAlign:i.horizontalAlign,verticalAlign:i.verticalAlign,fontSize:1.40625*i.fontSize,lineHeight:i.lineHeight/1.40625,letterSpacing:i.letterSpacing-1,text:i.text,textTransform:i.textTransform,extrudeBevelSize:0,extrudeBevelSegments:1},material:r,states:U2(i.states),events:U2(i.events),visible:i.visible,raycastLock:i.raycastLock,position:i.position,rotation:i.rotation,scale:i.scale,hiddenMatrix:i.hiddenMatrix},l=U2(e.scene.objects).parent(n);e.scene.objects.insertAfter(l??null,n,[{id:n+"new",data:s,children:[]}]),t.push(n)}})),t.forEach((t=>{e.scene.objects.delete(t)}))}(e),e.schema=20),t<21&&(function(e){let t={0:"MouseDown",1:"MouseUp",2:"MouseHover",5:"KeyDown",6:"KeyUp",7:"Start",9:"LookAt",10:"Follow",11:"Scroll",12:"Audio",13:"GameControl"};e.scene.objects.traverse(((e,n)=>{n.events.forEach((e=>{if(t[Number(e.type)])if(Object.assign(e,{type:t[Number(e.type)]}),"Audio"===e.type&&"audioEvent"in e&&(Object.assign(e,{playAudio:e.audioEvent}),delete e.audioEvent),"GameControl"===e.type)Object.assign(e,{gameActions:{idle:new s2,move:new s2,jump:new s2}});else{let t=new s2;Object.assign(e,{actions:t}),("MouseDown"===e.type||"MouseUp"===e.type||"KeyDown"===e.type||"KeyUp"===e.type)&&"url"in e&&t.push({fi:0,id:CV.generateUUID(),data:{type:"Link",url:e.url,delay:0}}),"targets"in e&&(e.targets.forEach(((e,n,r)=>{let i={easing:e.easing,duration:e.duration};6===e.easing?Object.assign(i,S1(e,"mass","stiffness","damping","velocity")):5===e.easing&&Object.assign(i,{control1:{...e.control1},control2:{...e.control2}});let a={repeat:e.repeat?-1:0,delay:e.delay,delayDirection:e.delayDirection,direction:e.cycle&&e.rewind?"pingpong-rewind":e.cycle?"pingpong":"normal"},o={state:e.state,...a,...i},s={allowSlerp:!0,type:"Transition",object:e.object,repeat:0,delay:0,delayDirection:void 0,direction:"normal",tweens:new s2({fi:0,id:CV.generateUUID(),data:{state:void 0,repeat:0,delay:0,delayDirection:void 0,direction:"normal",duration:0,easing:4}},{fi:1,id:CV.generateUUID(),data:o})};t.push({fi:r,id:n,data:s})})),delete e.targets)}}))}))}(e),function(e){e.scene.objects.traverse(((e,t)=>{function n(e,n){let r=new s2,i=[];if(t.events.forEach(((e,t,a)=>{if("Audio"===e.type&&e.trigger===n){let n;i.push(t),"play"===e.interaction?n={...S1(e,"interaction","audio","delay","volume","loop"),triggerAfter:"after"in e?e.after:void 0,toggle:"after"in e?e.toggle:void 0,type:"Audio"}:("pause"===e.interaction||"stop"===e.interaction)&&(n={...S1(e,"interaction","delay","object","playAudio"),type:"Audio"}),n&&r.push({fi:a,id:t,data:n})}})),i.forEach((e=>t.events.delete(e))),r.length){let n=t.events.find((t=>t.type===e))?.data;n?"actions"in n&&n.actions.insertBefore(null,r):t.events.insertBefore(null,[{id:CV.generateUUID(),data:{type:e,actions:r}}])}}n("Start","start"),n("MouseDown","mouseDown"),n("MouseUp","mouseUp"),n("KeyDown","keyDown"),n("KeyUp","keyUp")}))}(e),e.schema=21),t<22&&(T6(e),e.schema=22),t<23&&(function(e){e.scene.objects.traverse(((e,t)=>{"Mesh"===t.type&&"SubdivGeometry"===t.geometry.type&&(t.geometry.scaleBaked||(t.geometry.scaleBaked=[1,1,1]))}))}(e),e.schema=23),t<24&&(function(e){e.scene.objects.traverse(((e,t)=>{("Empty"===t.type||"Mesh"===t.type)&&t.cloner&&!t.cloner.randomnessObject&&!t.cloner.toObject&&!t.cloner.randomness&&(t.cloner={...t.cloner,toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}})}))}(e),e.schema=24),(t<25||void 0===e.shared.videos)&&(function(e){e.shared.videos=C1({},Z1.prototype)}(e),t<25&&(e.schema=25)),t<26&&(function(e){e.scene.objects.traverse(((t,n)=>{let r=e.scene.objects.unproxy().parent(t);if(r){let t=U2(e.scene.objects.data(r));t&&"Mesh"===t.type&&"BooleanGeometry"===t.geometry.type&&"Mesh"===n.type&&(n.visible=!0!==U2(n).booleanExclude)}}))}(e),e.schema=26),t<27&&(function(e){e.scene.objects.traverse(((e,t)=>{if("Mesh"===t.type){let e=t;"NonParametricGeometry"===t.geometry.type?void 0!==e.material&&delete e.material:void 0!==e.materials&&delete e.materials}}))}(e),e.schema=27),t<28&&(T6(e),e.schema=28),t<29&&(function(e){function t(e){Object.setPrototypeOf(e,p2.prototype),e.texture&&Object.setPrototypeOf(e.texture,p2.prototype)}function n(e){Object.setPrototypeOf(e,p2.prototype);for(let n in e)t(e[n])}e.scene.objects.traverse(((e,t)=>{t.states.forEach((e=>{let t=e;if(t.material){let e=U2(t.material).layers;n(e),t.material.layers=e}if(t.materials)for(let e=0;e<t.materials.length;e++){let r=t.materials[e],i=U2(r).layers;n(i),r.layers=i}}))}))}(e),e.schema=29),t<30&&(function(e){e.scene.objects.traverse(((e,t)=>{"Mesh"===t.type&&"NonParametricGeometry"===t.geometry.type&&!("material"in t)&&!("materials"in t)&&(t.material=y5.defaultTwoLayerData("phong"))}))}(e),e.schema=30),t<31&&(function(e){void 0===e.scene.publish.orbitControls.autoZoom&&(e.scene.publish.orbitControls.autoZoom=!1),e.scene.objects.traverse(((e,t)=>{("OrthographicCamera"===t.type||"PerspectiveCamera"===t.type)&&(void 0===t.orthographic.autoZoom&&(t.orthographic.autoZoom=!1),void 0===t.orthographic.autoZoomFrustumSize&&(t.orthographic.autoZoomFrustumSize=790))}))}(e),e.schema=31),t<33&&(function(e){e.scene.objects.traverse(((e,t)=>{void 0===t.pathSnapping&&(t.pathSnapping={pathId:null,slide:0,offset:0,orientation:"tangential"}),void 0===t.pathSnapping.offset&&(t.pathSnapping.offset=0)}))}(e),e.schema=33),t<34&&(function(e){void 0===e.scene.publish.mouseEventTarget&&(e.scene.publish.mouseEventTarget="canvas"),void 0===e.scene.publish.settings.web.hint&&(e.scene.publish.settings.web.hint=!1)}(e),e.schema=34),t<35&&(function(e){let{video:t}=e.scene.publish.settings;"gif"===t.format&&t.fps>48&&(t.fps=15)}(e),e.schema=35),t<36&&(function(e){e.scene.objects.traverse(((e,t)=>{t.events.forEach((e=>{"GameControl"===e.type&&(e.resetYPosition=Math.abs(e.resetYPosition-t.position[1]))}))}))}(e),e.schema=36),t<37&&(function(e){let t=e.scene.environment.usePhysics;e.scene.objects.traverse(((e,n)=>{t&&null===n.physics?n.collision=!1:n.collision="visibility"}))}(e),e.schema=37),t<38&&(b6(e,C6),w6(e,C6),e.schema=38),t<39&&(function(e){e.scene.objects.traverse(((e,t)=>{t.events.forEach((e=>{"GameControl"===e.type&&(e.navmesh=g6.defaultDataThirdPerson.navmesh)}))}))}(e),e.schema=39),t<40&&(function(e){e.scene.styles||(e.scene.styles=i6.defaultData())}(e),e.schema=40),t<41&&(function(e){void 0===e.scene.environment.ambientLight.occlusion&&(e.scene.environment.ambientLight.occlusion=!1),void 0===e.scene.environment.ambientLight.aoFullRes&&(e.scene.environment.ambientLight.aoFullRes=!1),void 0===e.scene.environment.ambientLight.radius&&(e.scene.environment.ambientLight.radius=256),void 0===e.scene.environment.ambientLight.bias&&(e.scene.environment.ambientLight.bias=.5),void 0===e.scene.environment.ambientLight.aoColor&&(e.scene.environment.ambientLight.aoColor={r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}),b6(e,M6),w6(e,M6)}(e),e.schema=41),t<42&&(function(e){e.scene.objects.traverse(((e,t)=>{t.events.forEach((e=>{"GameControl"===e.type&&Object.assign(e.gameActions,{run:new s2})}))}))}(e),e.schema=42),t<43&&(function(e){e.scene.objects.traverse(((e,t)=>{t.events.forEach((e=>{"GameControl"===e.type&&(e.keyAssignments=[...e.keyAssignments,["run","⇧"],["none","Ctrl"]])}))}))}(e),e.schema=43),t<99){b6(e,P6),w6(e,P6),null===e.scene.publish.playCamera&&(e.scene.publish.playCamera=K4);let t=U2(e.scene.objects),n=e.scene.objects;e.scene.publish.playPage=Z4,n.insertBefore(null,null,[{id:Z4,data:{...Z5.defaultData,backgroundColor:e.scene.backgroundColor,fog:e.scene.fog,postprocessing:e.scene.postprocessing,ao:S1(e.scene.environment.ambientLight,"occlusion","aoFullRes","radius","bias","aoColor"),publish:{playCamera:e.scene.publish.playCamera,gameControlObject:e.scene.publish.gameControlObject},shadow:S1(e.scene.environment.ambientLight,"softShadowQuality"),globalPhysics:{...L5.defaultData,...S1(e.scene.environment,"usePhysics","gravity")},camera:U2(e.scene.ownerCamera)??Z5.defaultData.camera,name:"Scene"},children:[]}]);for(let e of t)e.id!==o6.TRASH_CAN_ID&&n.move(Z4,e.fi,e.id);let r=0,i=0;e.shared.penumbraSize&&e.scene.objects.traverse(((t,n)=>{"DirectionalLight"===n.type?(n.penumbraSize=e.shared.penumbraSize[Math.min(r,2)],r+=1):"SpotLight"===n.type&&(n.penumbraSize=e.shared.penumbraSize[3+Math.min(i,1)],i+=1),(void 0===n.physics||null===n.physics)&&"Instance"!==n.type&&(n.physics={},Object.assign(n.physics,r5.defaultData)),void 0!==n.physics&&null!==n.physics&&(n.physics.enabled=n.collision??"visibility",delete n.collision)})),e.schema=99}}(e,t),t<100&&(void 0===e.scene.publish.joystickSizeAndXYOffset&&(e.scene.publish.joystickSizeAndXYOffset=t6.defaultData.joystickSizeAndXYOffset),e.schema=100),t<101&&(b6(e,D6),w6(e,D6),e.schema=101),t<102&&(function(e){e.scene.objects.traverse(((e,t)=>{let n=t.geometry;n&&"PathGeometry"===n.type&&(n.extrusion.capType="flat",n.extrusion.bevel=50,n.extrusion.bevelSides=6,"Custom"===n.extrusion.shape.type&&(n.extrusion.shape.shapeQuality="low"))}))}(e),e.schema=102),t<104&&(e.shared.catelogs=new Z1,e.shared.lib=f6.defaultData(),e.schema=104),t<105&&(function(e){e.shared.variables=C1({},Z1.prototype)}(e),e.scene.objects.traverse(((e,t)=>{I6(t)})),e.schema=105);for(let t of Object.values(e.shared.lib.components))$6(t);t<106&&(function(e){let t=U2(e.shared.variables);e.shared.variables=C1(Object.entries(t??{}).map((([e,t],n)=>({fi:n,id:e,data:t}))),s2.prototype)}(e),e.schema=106),t<107&&(e.shared.lib.variables=f6.defaultData().variables,e.schema=107),t<109&&(function(e){e.shared.particles=C1({},Z1.prototype),e.shared.lib&&(e.shared.lib.particles=f6.defaultData().particles)}(e),e.schema=109),t<110&&(function(e){e.scene.objects.traverse(((e,t)=>{"Particle"===t.type&&"number"==typeof t.renderMaterial.size&&Object.assign(t.renderMaterial,{size:[t.renderMaterial.size,t.renderMaterial.size]})}))}(e),e.schema=110),t<111&&(e.scene.objects.traverse(((e,t)=>{!function(e){Array.isArray(U2(e.events))&&e.events?.forEach((e=>{"disabled"in e||(e.disabled=!1),("MouseDown"===e.type||"MouseUp"===e.type||"MousePress"===e.type)&&(e.mode=e.mode||"Object")}))}(t)})),e.schema=111)}}function t8(e,t=!1){let n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),a={},o={},s=e[0].morphTargetsRelative,l=new DG,c=0;for(let u=0;u<e.length;++u){let h=e[u],d=0;if(n!==(null!==h.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let e in h.attributes){if(!r.has(e))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+e+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[e]&&(a[e]=[]),a[e].push(h.attributes[e]),d++}if(d!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(s!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let e in h.morphAttributes){if(!i.has(e))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===o[e]&&(o[e]=[]),o[e].push(h.morphAttributes[e])}if(t){let e;if(n)e=h.index.count;else{if(void 0===h.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;e=h.attributes.position.count}l.addGroup(c,e,u),c+=e}}if(n){let t=0,n=[];for(let r=0;r<e.length;++r){let i=e[r].index;for(let e=0;e<i.count;++e)n.push(i.getX(e)+t);t+=e[r].attributes.position.count}l.setIndex(n)}for(let e in a){let t=n8(a[e]);if(!t)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+e+" attribute."),null;l.setAttribute(e,t)}for(let e in o){let t=o[e][0].length;if(0===t)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[e]=[];for(let n=0;n<t;++n){let t=[];for(let r=0;r<o[e].length;++r)t.push(o[e][r][n]);let r=n8(t);if(!r)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+e+" morphAttribute."),null;l.morphAttributes[e].push(r)}}return l}function n8(e){let t,n,r,i=0;for(let a=0;a<e.length;++a){let o=e[a];if(o.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=o.array.constructor),t!==o.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=o.itemSize),n!==o.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===r&&(r=o.normalized),r!==o.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=o.array.length}let a=new t(i),o=0;for(let t=0;t<e.length;++t)a.set(e[t].array,o),o+=e[t].array.length;return new wG(a,n,r)}(e=>{e.defaultData={schema:Z6,scene:o6.defaultData,frames:(new Z1).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",s6.defaultData),shared:{...p6.emptyData(),colors:p6.defaultColors()}},e.emptyDataForImports=function(e){let t=o6.emptyDataWithPage(e);return{schema:Z6,scene:t,frames:(new Z1).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",s6.defaultData),shared:{...p6.emptyData(),colors:p6.defaultColors(),images:p6.defaultImages(e)}}},e.emptyData=function(){return{schema:Z6,scene:o6.emptyDataWithPage(),frames:(new Z1).add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",s6.defaultData),shared:p6.emptyData()}},e.clipboard2dData=function(){return{schema:Z6,scene:o6.emptyData(),frames:new Z1,shared:p6.emptyData()}},e.collabHelper={...d2,updateSchema(e){return(e.schema??0)<Z6?F2(e,e8):(e.schema??0)-Z6}},e.updateSchemaDirectly=function(t){let n=e.collabHelper.updateSchema(t);return"number"==typeof n?0===n?t:null:n.data},e.withoutLib=function(e){return{...e,shared:{...e.shared,lib:f6.defaultData()}}},e.getComponentData=function(e,t){let n=e.scene.objects.get(t);if(n&&"Component"===n.data.type)return n;{let n=e.shared.lib.components[t];if(n)return n.asset}}})(R6||(R6={})),(e=>{e.is=function(e){return!0}})(L6||(L6={})),(e=>{e.defaultData={position:[0,0],scale:[1,1],rotation:0},e.merge=function(e,t){return{position:t?.position??e.position,rotation:t?.rotation??e.rotation,scale:t?.scale??e.scale}},e.diff=function(e,t){return E1({position:I4.isEqual(e.position,t.position)?void 0:t.position,rotation:e.rotation===t.rotation?void 0:t.rotation,scale:I4.isEqual(e.scale,t.scale)?void 0:t.scale})}})(N6||(N6={})),(e=>{e.defaultData={horizontalConstraint:0,verticalConstraint:0}})(z6||(z6={})),(e=>{e.defaultData={opacity:1,fill:{color:B4.white,enabled:!0},stroke:{color:B4.from0to1([0,0,0,1]),thickness:1,enabled:!1,mode:"inside"},layerBlur:{radius:2,enabled:!1},backgroundBlur:{radius:2,enabled:!1},dropShadow:{offset:[10,10],blurRadius:10,color:B4.from0to1([0,0,0,1]),enabled:!1,spread:0},innerShadow:{offset:[10,10],blurRadius:10,color:B4.from0to1([0,0,0,1]),enabled:!1,spread:0}}})(B6||(B6={})),(e=>{e.newEmpty=function(e,t){return{name:t}},e.patch=function(e,t){if(void 0===t)return e;let n={...e};return Object.assign(n,N6.merge(n,t)),n=function(e,t){if(void 0===t)return e;let n={...e},r=["width","height","cornerRadius"];for(let e of r)e in n&&e in t&&void 0!==t[e]&&Object.assign(n,{[e]:t[e]});return n}(n,t),n=function(e,t){if(void 0===t)return e;let n={...e};return"fill"in n&&"fill"in t&&void 0!==t.fill&&Object.assign(n,{fill:{...n.fill,...t.fill}}),"stroke"in n&&"stroke"in t&&void 0!==t.stroke&&Object.assign(n,{stroke:{...n.stroke,...t.stroke}}),"layerBlur"in n&&"layerBlur"in t&&void 0!==t.layerBlur&&Object.assign(n,{layerBlur:{...n.layerBlur,...t.layerBlur}}),"backgroundBlur"in n&&"backgroundBlur"in t&&void 0!==t.backgroundBlur&&Object.assign(n,{backgroundBlur:{...n.backgroundBlur,...t.backgroundBlur}}),"dropShadow"in n&&"dropShadow"in t&&void 0!==t.dropShadow&&Object.assign(n,{dropShadow:{...n.dropShadow,...t.dropShadow}}),"innerShadow"in n&&"innerShadow"in t&&void 0!==t.innerShadow&&Object.assign(n,{innerShadow:{...n.innerShadow,...t.innerShadow}}),n}(n,t),n},e.toOps=function(e,t){let n,r=[];for(let[e,i]of Object.entries(t))"name"!==e&&(void 0===n&&(n={path:[],props:{},type:0},r.push(n)),n.props[e]=i);return r}})(F6||(F6={})),(e=>{e.defaultData={...N6.defaultData,...z6.defaultData,states:new s2,events:new s2,visible:!0,raycastLock:!1}})(U6||(U6={})),(e=>{e.defaultData={...U6.defaultData,...B6.defaultData}})(j6||(j6={})),(e=>{e.defaultData={cornerRadius:[0,0,0,0]}})(V6||(V6={})),(e=>{e.defaultData={...j6.defaultData,type:"ellipse2d",width:100,height:100,name:"Ellipse"}})(H6||(H6={})),(e=>{e.defaultData={...j6.defaultData,...V6.defaultData,type:"rectangle2d",width:100,height:100,name:"Rectangle"}})(G6||(G6={})),(e=>{e.defaultData={...j6.defaultData,type:"text2d",width:100,height:100,fontSize:12,lineHeight:1.2,letterSpacing:0,text:{textValue:"Hello world"},horizontalAlign:1,verticalAlign:1,textTransform:1,font:"Roboto_regular",name:"Text"}})(W6||(W6={})),(e=>{e.is=function(e){return"ellipse2d"===e.type||"rectangle2d"===e.type||"text2d"===e.type||"vector2d"===e.type}})(q6||(q6={})),(e=>{e.defaultData={...U6.defaultData,name:"Group",type:"group2d"}})(X6||(X6={})),(e=>{e.defaultData={...U6.defaultData,...V6.defaultData,...B6.defaultData,name:"Frame",type:"frame2d",width:200,height:200,fill:{color:B4.fromHexAndA(J4,1),enabled:!0},stroke:{color:B4.fromHexAndA(0,1),thickness:1,enabled:!1,mode:"inside"},backgroundBlur:{radius:2,enabled:!1},layerBlur:{radius:2,enabled:!1}}})(Y6||(Y6={})),(e=>{e.defaultData=function(e){switch(e){case"rectangle2d":case"vector2d":return{...G6.defaultData};case"ellipse2d":return{...H6.defaultData};case"text2d":return{...W6.defaultData};case"frame2d":return{...Y6.defaultData};case"group2d":return{...X6.defaultData}}},e.getPivot=function(e){return"width"in e&&"height"in e?["number"==typeof e.width?.5*e.width:0,"number"==typeof e.height?.5*e.height:0]:[0,0]},e.isResizeable=function(e){return"rectangle2d"===e.type||"ellipse2d"===e.type||"text2d"===e.type||"frame2d"===e.type},e.hasCorners=function(e){return"rectangle2d"===e.type||"frame2d"===e.type}})(Q6||(Q6={})),(e=>{e.defaultData={name:"UI",type:"scene2d",objects:new o2},e.emptyData=function(){return{type:"scene2d",objects:new o2}}})(K6||(K6={}));var r8=Math.pow(2,-24),i8=class{constructor(){}};function a8(e,t,n){return n.min.x=t[e],n.min.y=t[e+1],n.min.z=t[e+2],n.max.x=t[e+3],n.max.y=t[e+4],n.max.z=t[e+5],n}function o8(e){let t=-1,n=-1/0;for(let r=0;r<3;r++){let i=e[r+3]-e[r];i>n&&(n=i,t=r)}return t}function s8(e,t){t.set(e)}function l8(e,t,n){let r,i;for(let a=0;a<3;a++){let o=a+3;r=e[a],i=t[a],n[a]=r<i?r:i,r=e[o],i=t[o],n[o]=r>i?r:i}}function c8(e,t,n){for(let r=0;r<3;r++){let i=t[e+2*r],a=t[e+2*r+1],o=i-a,s=i+a;o<n[r]&&(n[r]=o),s>n[r+3]&&(n[r+3]=s)}}function u8(e){let t=e[3]-e[0],n=e[4]-e[1],r=e[5]-e[2];return 2*(t*n+n*r+r*t)}function h8(e,t,n,r,i=null){let a=1/0,o=1/0,s=1/0,l=-1/0,c=-1/0,u=-1/0,h=1/0,d=1/0,f=1/0,p=-1/0,m=-1/0,g=-1/0,v=null!==i;for(let r=6*t,i=6*(t+n);r<i;r+=6){let t=e[r+0],n=e[r+1],i=t-n,y=t+n;i<a&&(a=i),y>l&&(l=y),v&&t<h&&(h=t),v&&t>p&&(p=t);let w=e[r+2],b=e[r+3],x=w-b,_=w+b;x<o&&(o=x),_>c&&(c=_),v&&w<d&&(d=w),v&&w>m&&(m=w);let S=e[r+4],E=e[r+5],C=S-E,A=S+E;C<s&&(s=C),A>u&&(u=A),v&&S<f&&(f=S),v&&S>g&&(g=S)}r[0]=a,r[1]=o,r[2]=s,r[3]=l,r[4]=c,r[5]=u,v&&(i[0]=h,i[1]=d,i[2]=f,i[3]=p,i[4]=m,i[5]=g)}var d8=32,f8=(e,t)=>e.candidate-t.candidate,p8=new Array(d8).fill().map((()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0}))),m8=new Float32Array(6);var g8=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let n=1/0,r=-1/0;for(let i=0,a=e.length;i<a;i++){let a=e[i][t];n=a<n?a:n,r=a>r?a:r}this.min=n,this.max=r}setFromPoints(e,t){let n=1/0,r=-1/0;for(let i=0,a=t.length;i<a;i++){let a=t[i],o=e.dot(a);n=o<n?o:n,r=o>r?o:r}this.min=n,this.max=r}isSeparated(e){return this.min>e.max||e.min>this.max}};g8.prototype.setFromBox=function(){let e=new tH;return function(t,n){let r=n.min,i=n.max,a=1/0,o=-1/0;for(let n=0;n<=1;n++)for(let s=0;s<=1;s++)for(let l=0;l<=1;l++){e.x=r.x*n+i.x*(1-n),e.y=r.y*s+i.y*(1-s),e.z=r.z*l+i.z*(1-l);let c=t.dot(e);a=Math.min(c,a),o=Math.max(c,o)}this.min=a,this.max=o}}(),new g8;var v8=function(){let e=new tH,t=new tH,n=new tH;return function(r,i,a){let o=r.start,s=e,l=i.start,c=t;n.subVectors(o,l),e.subVectors(r.end,r.start),t.subVectors(i.end,i.start);let u,h,d=n.dot(c),f=c.dot(s),p=c.dot(c),m=n.dot(s),g=s.dot(s)*p-f*f;u=0!==g?(d*f-m*p)/g:0,h=(d+u*f)/p,a.x=u,a.y=h}}(),y8=function(){let e=new AV,t=new tH,n=new tH;return function(r,i,a,o){v8(r,i,e);let s=e.x,l=e.y;if(s>=0&&s<=1&&l>=0&&l<=1)return r.at(s,a),void i.at(l,o);if(s>=0&&s<=1)return l<0?i.at(0,o):i.at(1,o),void r.closestPointToPoint(o,!0,a);if(l>=0&&l<=1)return s<0?r.at(0,a):r.at(1,a),void i.closestPointToPoint(a,!0,o);{let e,c;e=s<0?r.start:r.end,c=l<0?i.start:i.end;let u=t,h=n;return r.closestPointToPoint(c,!0,t),i.closestPointToPoint(e,!0,n),u.distanceToSquared(c)<=h.distanceToSquared(e)?(a.copy(u),void o.copy(c)):(a.copy(e),void o.copy(h))}}}(),w8=function(){let e=new tH,t=new tH,n=new sW,r=new zK;return function(i,a){let{radius:o,center:s}=i,{a:l,b:c,c:u}=a;if(r.start=l,r.end=c,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o||(r.start=l,r.end=u,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o)||(r.start=c,r.end=u,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o))return!0;let h=a.getPlane(n);if(Math.abs(h.distanceToPoint(s))<=o){let e=h.projectPoint(s,t);if(a.containsPoint(e))return!0}return!1}}();function b8(e){return Math.abs(e)<1e-15}var x8=class extends fG{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map((()=>new tH)),this.satBounds=new Array(4).fill().map((()=>new g8)),this.points=[this.a,this.b,this.c],this.sphere=new _H,this.plane=new sW,this.needsUpdate=!0}intersectsSphere(e){return w8(e,this)}update(){let e=this.a,t=this.b,n=this.c,r=this.points,i=this.satAxes,a=this.satBounds,o=i[0],s=a[0];this.getNormal(o),s.setFromPoints(o,r);let l=i[1],c=a[1];l.subVectors(e,t),c.setFromPoints(l,r);let u=i[2],h=a[2];u.subVectors(t,n),h.setFromPoints(u,r);let d=i[3],f=a[3];d.subVectors(n,e),f.setFromPoints(d,r),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(o,e),this.needsUpdate=!1}};x8.prototype.closestPointToSegment=function(){let e=new tH,t=new tH,n=new zK;return function(r,i=null,a=null){let o,{start:s,end:l}=r,c=this.points,u=1/0;for(let s=0;s<3;s++){let l=(s+1)%3;n.start.copy(c[s]),n.end.copy(c[l]),y8(n,r,e,t),o=e.distanceToSquared(t),o<u&&(u=o,i&&i.copy(e),a&&a.copy(t))}return this.closestPointToPoint(s,e),o=s.distanceToSquared(e),o<u&&(u=o,i&&i.copy(e),a&&a.copy(s)),this.closestPointToPoint(l,e),o=l.distanceToSquared(e),o<u&&(u=o,i&&i.copy(e),a&&a.copy(l)),Math.sqrt(u)}}(),x8.prototype.intersectsTriangle=function(){let e=new x8,t=new Array(3),n=new Array(3),r=new g8,i=new g8,a=new tH,o=new tH,s=new tH,l=new tH,c=new zK,u=new zK,h=new zK;return function(d,f=null,p=!1){this.needsUpdate&&this.update(),d.isExtendedTriangle?d.needsUpdate&&d.update():(e.copy(d),e.update(),d=e);let m=this.plane,g=d.plane;if(Math.abs(m.normal.dot(g.normal))>1-1e-10){let e=this.satBounds,o=this.satAxes;n[0]=d.a,n[1]=d.b,n[2]=d.c;for(let t=0;t<4;t++){let i=e[t],a=o[t];if(r.setFromPoints(a,n),i.isSeparated(r))return!1}let s=d.satBounds,l=d.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let e=0;e<4;e++){let n=s[e],i=l[e];if(r.setFromPoints(i,t),n.isSeparated(r))return!1}for(let e=0;e<4;e++){let s=o[e];for(let e=0;e<4;e++){let o=l[e];if(a.crossVectors(s,o),r.setFromPoints(a,t),i.setFromPoints(a,n),r.isSeparated(i))return!1}}return f&&(p||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),f.start.set(0,0,0),f.end.set(0,0,0)),!0}{let e=this.points,t=!1,n=0;for(let r=0;r<3;r++){let i=e[r],a=e[(r+1)%3];c.start.copy(i),c.end.copy(a),c.delta(o);let s=t?u.start:u.end,l=b8(g.distanceToPoint(i));if(b8(g.normal.dot(o))&&l){u.copy(c),n=2;break}if((g.intersectLine(c,s)||l)&&!b8(s.distanceTo(a))){if(n++,t)break;t=!0}}if(1===n&&d.containsPoint(u.end))return f&&(f.start.copy(u.end),f.end.copy(u.end)),!0;if(2!==n)return!1;let r=d.points,i=!1,a=0;for(let e=0;e<3;e++){let t=r[e],n=r[(e+1)%3];c.start.copy(t),c.end.copy(n),c.delta(s);let o=i?h.start:h.end,l=b8(m.distanceToPoint(t));if(b8(m.normal.dot(s))&&l){h.copy(c),a=2;break}if((m.intersectLine(c,o)||l)&&!b8(o.distanceTo(n))){if(a++,i)break;i=!0}}if(1===a&&this.containsPoint(h.end))return f&&(f.start.copy(h.end),f.end.copy(h.end)),!0;if(2!==a)return!1;if(u.delta(o),h.delta(s),o.dot(s)<0){let e=h.start;h.start=h.end,h.end=e}let p=u.start.dot(o),v=u.end.dot(o),y=h.start.dot(o),w=h.end.dot(o);return(p===w||y===v||v<y!=p<w)&&(f&&(l.subVectors(u.start,h.start),l.dot(o)>0?f.start.copy(u.start):f.start.copy(h.start),l.subVectors(u.end,h.end),l.dot(o)<0?f.end.copy(u.end):f.end.copy(h.end)),!0)}}}(),x8.prototype.distanceToPoint=function(){let e=new tH;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),x8.prototype.distanceToTriangle=function(){let e=new tH,t=new tH,n=["a","b","c"],r=new zK,i=new zK;return function(a,o=null,s=null){let l=o||s?r:null;if(this.intersectsTriangle(a,l))return(o||s)&&(o&&l.getCenter(o),s&&l.getCenter(s)),0;let c=1/0;for(let t=0;t<3;t++){let r,i=n[t],l=a[i];this.closestPointToPoint(l,e),r=l.distanceToSquared(e),r<c&&(c=r,o&&o.copy(e),s&&s.copy(l));let u=this[i];a.closestPointToPoint(u,e),r=u.distanceToSquared(e),r<c&&(c=r,o&&o.copy(u),s&&s.copy(e))}for(let l=0;l<3;l++){let u=n[l],h=n[(l+1)%3];r.set(this[u],this[h]);for(let l=0;l<3;l++){let u=n[l],h=n[(l+1)%3];i.set(a[u],a[h]),y8(r,i,e,t);let d=e.distanceToSquared(t);d<c&&(c=d,o&&o.copy(e),s&&s.copy(t))}}return Math.sqrt(c)}}();var _8=class{constructor(e,t,n){this.isOrientedBox=!0,this.min=new tH,this.max=new tH,this.matrix=new kH,this.invMatrix=new kH,this.points=new Array(8).fill().map((()=>new tH)),this.satAxes=new Array(3).fill().map((()=>new tH)),this.satBounds=new Array(3).fill().map((()=>new g8)),this.alignedSatBounds=new Array(3).fill().map((()=>new g8)),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),n&&this.matrix.copy(n)}set(e,t,n){this.min.copy(e),this.max.copy(t),this.matrix.copy(n),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};_8.prototype.update=function(){let e=this.matrix,t=this.min,n=this.max,r=this.points;for(let i=0;i<=1;i++)for(let a=0;a<=1;a++)for(let o=0;o<=1;o++){let s=r[1*i|2*a|4*o];s.x=i?n.x:t.x,s.y=a?n.y:t.y,s.z=o?n.z:t.z,s.applyMatrix4(e)}let i=this.satBounds,a=this.satAxes,o=r[0];for(let e=0;e<3;e++){let t=a[e],n=i[e],s=r[1<<e];t.subVectors(o,s),n.setFromPoints(t,r)}let s=this.alignedSatBounds;s[0].setFromPointsField(r,"x"),s[1].setFromPointsField(r,"y"),s[2].setFromPointsField(r,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1},_8.prototype.intersectsBox=function(){let e=new g8;return function(t){this.needsUpdate&&this.update();let n=t.min,r=t.max,i=this.satBounds,a=this.satAxes,o=this.alignedSatBounds;if(e.min=n.x,e.max=r.x,o[0].isSeparated(e)||(e.min=n.y,e.max=r.y,o[1].isSeparated(e))||(e.min=n.z,e.max=r.z,o[2].isSeparated(e)))return!1;for(let n=0;n<3;n++){let r=a[n],o=i[n];if(e.setFromBox(r,t),o.isSeparated(e))return!1}return!0}}(),_8.prototype.intersectsTriangle=function(){let e=new x8,t=new Array(3),n=new g8,r=new g8,i=new tH;return function(a){this.needsUpdate&&this.update(),a.isExtendedTriangle?a.needsUpdate&&a.update():(e.copy(a),e.update(),a=e);let o=this.satBounds,s=this.satAxes;t[0]=a.a,t[1]=a.b,t[2]=a.c;for(let e=0;e<3;e++){let r=o[e],i=s[e];if(n.setFromPoints(i,t),r.isSeparated(n))return!1}let l=a.satBounds,c=a.satAxes,u=this.points;for(let e=0;e<3;e++){let t=l[e],r=c[e];if(n.setFromPoints(r,u),t.isSeparated(n))return!1}for(let e=0;e<3;e++){let a=s[e];for(let e=0;e<4;e++){let o=c[e];if(i.crossVectors(a,o),n.setFromPoints(i,t),r.setFromPoints(i,u),n.isSeparated(r))return!1}}return!0}}(),_8.prototype.closestPointToPoint=function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t},_8.prototype.distanceToPoint=function(){let e=new tH;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),_8.prototype.distanceToBox=function(){let e=["x","y","z"],t=new Array(12).fill().map((()=>new zK)),n=new Array(12).fill().map((()=>new zK)),r=new tH,i=new tH;return function(a,o=0,s=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(a))return(s||l)&&(a.getCenter(i),this.closestPointToPoint(i,r),a.closestPointToPoint(r,i),s&&s.copy(r),l&&l.copy(i)),0;let c=o*o,u=a.min,h=a.max,d=this.points,f=1/0;for(let e=0;e<8;e++){let t=d[e];i.copy(t).clamp(u,h);let n=t.distanceToSquared(i);if(n<f&&(f=n,s&&s.copy(t),l&&l.copy(i),n<c))return Math.sqrt(n)}let p=0;for(let r=0;r<3;r++)for(let i=0;i<=1;i++)for(let a=0;a<=1;a++){let o=(r+1)%3,s=(r+2)%3,l=1<<r|i<<o|a<<s,c=d[i<<o|a<<s],f=d[l];t[p].set(c,f);let m=e[r],g=e[o],v=e[s],y=n[p],w=y.start,b=y.end;w[m]=u[m],w[g]=i?u[g]:h[g],w[v]=a?u[v]:h[g],b[m]=h[m],b[g]=i?u[g]:h[g],b[v]=a?u[v]:h[g],p++}for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)for(let n=0;n<=1;n++){i.x=e?h.x:u.x,i.y=t?h.y:u.y,i.z=n?h.z:u.z,this.closestPointToPoint(i,r);let a=i.distanceToSquared(r);if(a<f&&(f=a,s&&s.copy(r),l&&l.copy(i),a<c))return Math.sqrt(a)}for(let e=0;e<12;e++){let a=t[e];for(let e=0;e<12;e++){let t=n[e];y8(a,t,r,i);let o=r.distanceToSquared(i);if(o<f&&(f=o,s&&s.copy(r),l&&l.copy(i),o<c))return Math.sqrt(o)}}return Math.sqrt(f)}}();var S8=new tH,E8=new tH,C8=new tH,A8=new AV,T8=new AV,M8=new AV,P8=new tH,D8=new tH,k8=new tH,O8=new tH;function I8(e,t,n,r,i){let a=3*r,o=e.index.getX(a),s=e.index.getX(a+1),l=e.index.getX(a+2),{position:c,normal:u,uv:h,uv1:d}=e.attributes,f=function(e,t,n,r,i,a,o,s,l){S8.fromBufferAttribute(t,a),E8.fromBufferAttribute(t,o),C8.fromBufferAttribute(t,s);let c=function(e,t,n,r,i,a){let o;return o=a===XF?e.intersectTriangle(r,n,t,!0,i):e.intersectTriangle(t,n,r,a!==YF,i),null===o?null:{distance:e.origin.distanceTo(i),point:i.clone()}}(e,S8,E8,C8,O8,l);if(c){r&&(A8.fromBufferAttribute(r,a),T8.fromBufferAttribute(r,o),M8.fromBufferAttribute(r,s),c.uv=fG.getInterpolation(O8,S8,E8,C8,A8,T8,M8,new AV)),i&&(A8.fromBufferAttribute(i,a),T8.fromBufferAttribute(i,o),M8.fromBufferAttribute(i,s),c.uv1=fG.getInterpolation(O8,S8,E8,C8,A8,T8,M8,new AV)),n&&(P8.fromBufferAttribute(n,a),D8.fromBufferAttribute(n,o),k8.fromBufferAttribute(n,s),c.normal=fG.getInterpolation(O8,S8,E8,C8,P8,D8,k8,new tH),c.normal.dot(e.direction)>0&&c.normal.multiplyScalar(-1));let t={a:a,b:o,c:s,normal:new tH,materialIndex:0};fG.getNormal(S8,E8,C8,t.normal),c.face=t,c.faceIndex=a}return c}(n,c,u,h,d,o,s,l,t);return f?(f.faceIndex=r,i&&i.push(f),f):null}function R8(e,t,n,r){let i=e.a,a=e.b,o=e.c,s=t,l=t+1,c=t+2;n&&(s=n.getX(t),l=n.getX(t+1),c=n.getX(t+2)),i.x=r.getX(s),i.y=r.getY(s),i.z=r.getZ(s),a.x=r.getX(l),a.y=r.getY(l),a.z=r.getZ(l),o.x=r.getX(c),o.y=r.getY(c),o.z=r.getZ(c)}function L8(e,t,n,r,i,a,o){let s=n.index,l=n.attributes.position;for(let n=e,c=t+e;n<c;n++)if(R8(o,3*n,s,l),o.needsUpdate=!0,r(o,n,i,a))return!0;return!1}var N8=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return 0===e.length?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};function z8(e,t){return 65535===t[e+15]}function B8(e,t){return t[e+6]}function F8(e,t){return t[e+14]}function U8(e){return e+8}function j8(e,t){return t[e+6]}var V8=new iH,H8=new tH,G8=["x","y","z"];function W8(e,t,n,r,i){let a=2*e,o=Z8,s=J8,l=$8;if(z8(a,s))!function(e,t,n,r,i,a){for(let o=r,s=r+i;o<s;o++)I8(e,t,n,o,a)}(t,n,r,B8(e,l),F8(a,s),i);else{let a=U8(e);Q8(a,o,r,H8)&&W8(a,t,n,r,i);let s=j8(e,l);Q8(s,o,r,H8)&&W8(s,t,n,r,i)}}function q8(e,t,n,r){let i=2*e,a=Z8,o=J8,s=$8;if(z8(i,o))return function(e,t,n,r,i){let a=1/0,o=null;for(let s=r,l=r+i;s<l;s++){let r=I8(e,t,n,s);r&&r.distance<a&&(o=r,a=r.distance)}return o}(t,n,r,B8(e,s),F8(i,o));{let i,o,l=function(e,t){return t[e+7]}(e,s),c=G8[l],u=r.direction[c]>=0;u?(i=U8(e),o=j8(e,s)):(i=j8(e,s),o=U8(e));let h=Q8(i,a,r,H8)?q8(i,t,n,r):null;if(h){let e=h.point[c];if(u?e<=a[o+l]:e>=a[o+l+3])return h}let d=Q8(o,a,r,H8)?q8(o,t,n,r):null;return h&&d?h.distance<=d.distance?h:d:h||d||null}}var X8=function(){let e,t,n=[],r=new N8((()=>new iH));return function(...a){e=r.getPrimitive(),t=r.getPrimitive(),n.push(e,t);let o=i(...a);r.releasePrimitive(e),r.releasePrimitive(t),n.pop(),n.pop();let s=n.length;return s>0&&(t=n[s-1],e=n[s-2]),o};function i(n,r,a,o,s=null,l=0,c=0){function u(e){let t=2*e,n=J8,r=$8;for(;!z8(t,n);)t=2*(e=U8(e));return B8(e,r)}function h(e){let t=2*e,n=J8,r=$8;for(;!z8(t,n);)t=2*(e=j8(e,r));return B8(e,r)+F8(t,n)}let d=2*n,f=Z8,p=J8,m=$8;if(z8(d,p)){let t=B8(n,m),r=F8(d,p);return a8(n,f,e),o(t,r,!1,c,l+n,e)}{let d,g,v,y,w=U8(n),b=j8(n,m),x=w,_=b;if(s&&(v=e,y=t,a8(x,f,v),a8(_,f,y),d=s(v),g=s(y),g<d)){x=b,_=w;let e=d;d=g,g=e,v=y}v||(v=e,a8(x,f,v));let S,E=a(v,z8(2*x,p),d,c+1,l+x);if(2===E){let e=u(x);S=o(e,h(x)-e,!0,c+1,l+x,v)}else S=E&&i(x,r,a,o,s,l,c+1);if(S)return!0;y=t,a8(_,f,y);let C,A=a(y,z8(2*_,p),g,c+1,l+_);if(2===A){let e=u(_);C=o(e,h(_)-e,!0,c+1,l+_,y)}else C=A&&i(_,r,a,o,s,l,c+1);return!!C}}}(),Y8=function(){let e=new x8,t=new x8,n=new kH,r=new _8,i=new _8;return function a(o,s,l,c,u=null){let h=2*o,d=Z8,f=J8,p=$8;if(null===u&&(l.boundingBox||l.computeBoundingBox(),r.set(l.boundingBox.min,l.boundingBox.max,c),u=r),!z8(h,f)){let e=o+8,t=p[o+6];return a8(e,d,V8),!!(u.intersectsBox(V8)&&a(e,s,l,c,u)||(a8(t,d,V8),u.intersectsBox(V8)&&a(t,s,l,c,u)))}{let r=s,a=r.index,u=r.attributes.position,m=l.index,g=l.attributes.position,v=B8(o,p),y=F8(h,f);if(n.copy(c).invert(),l.boundsTree)return a8(o,d,i),i.matrix.copy(n),i.needsUpdate=!0,l.boundsTree.shapecast({intersectsBounds:e=>i.intersectsBox(e),intersectsTriangle:e=>{e.a.applyMatrix4(c),e.b.applyMatrix4(c),e.c.applyMatrix4(c),e.needsUpdate=!0;for(let n=3*v,r=3*(y+v);n<r;n+=3)if(R8(t,n,a,u),t.needsUpdate=!0,e.intersectsTriangle(t))return!0;return!1}});for(let r=3*v,i=y+3*v;r<i;r+=3){R8(e,r,a,u),e.a.applyMatrix4(n),e.b.applyMatrix4(n),e.c.applyMatrix4(n),e.needsUpdate=!0;for(let n=0,r=m.count;n<r;n+=3)if(R8(t,n,m,g),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}}}();function Q8(e,t,n,r){return a8(e,t,V8),n.intersectBox(V8,r)}var K8,Z8,J8,$8,e7=[];function t7(e){K8&&e7.push(K8),K8=e,Z8=new Float32Array(e),J8=new Uint16Array(e),$8=new Uint32Array(e)}function n7(){K8=null,Z8=null,J8=null,$8=null,e7.length&&t7(e7.pop())}var r7=Symbol("skip tree generation"),i7=new iH,a7=new iH,o7=new kH,s7=new _8,l7=new _8,c7=new tH,u7=new tH,h7=new tH,d7=new tH,f7=new tH,p7=new iH,m7=new N8((()=>new x8)),g7=class{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),g7.serialize(arguments[0],{cloneBuffers:void 0===arguments[2]||arguments[2]});t={cloneBuffers:!0,...t};let n,r=e.geometry,i=e._roots,a=r.getIndex();return n=t.cloneBuffers?{roots:i.map((e=>e.slice())),index:a.array.slice()}:{roots:i,index:a.array},n}static deserialize(e,t,n={}){if("boolean"==typeof n)return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),g7.deserialize(arguments[0],arguments[1],{setIndex:void 0===arguments[2]||arguments[2]});n={setIndex:!0,...n};let{index:r,roots:i}=e,a=new g7(t,{...n,[r7]:!0});if(a._roots=i,n.setIndex){let n=t.getIndex();if(null===n){let n=new wG(e.index,1,!1);t.setIndex(n)}else n.array!==r&&(n.array.set(r),n.needsUpdate=!0)}return a}constructor(e,t={}){if(!e.isBufferGeometry)throw new Error("MeshBVH: Only BufferGeometries are supported.");if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.");if((t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[r7]:!1},t)).useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[r7]||(this._roots=function(e,t){let n,r,i,a=function(e,t){function n(e){d&&d(e/f)}function r(t,i,d,f=null,m=0){if(!p&&m>=l&&(p=!0,c&&(console.warn(`MeshBVH: Max depth of ${l} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),d<=u||m>=l)return n(i+d),t.offset=i,t.count=d,t;let g=function(e,t,n,r,i,a){let o=-1,s=0;if(0===a)o=o8(t),-1!==o&&(s=(t[o]+t[o+3])/2);else if(1===a)o=o8(e),-1!==o&&(s=function(e,t,n,r){let i=0;for(let a=t,o=t+n;a<o;a++)i+=e[6*a+2*r];return i/n}(n,r,i,o));else if(2===a){let a=u8(e),l=1.25*i,c=6*r,u=6*(r+i);for(let e=0;e<3;e++){let r=t[e],h=(t[e+3]-r)/d8;if(i<8){let t=[...p8];t.length=i;let r=0;for(let i=c;i<u;i+=6,r++){let a=t[r];a.candidate=n[i+2*e],a.count=0;let{bounds:o,leftCacheBounds:s,rightCacheBounds:l}=a;for(let e=0;e<3;e++)l[e]=1/0,l[e+3]=-1/0,s[e]=1/0,s[e+3]=-1/0,o[e]=1/0,o[e+3]=-1/0;c8(i,n,o)}t.sort(f8);let h=i;for(let e=0;e<h;e++){let n=t[e];for(;e+1<h&&t[e+1].candidate===n.candidate;)t.splice(e+1,1),h--}for(let r=c;r<u;r+=6){let i=n[r+2*e];for(let e=0;e<h;e++){let a=t[e];i>=a.candidate?c8(r,n,a.rightCacheBounds):(c8(r,n,a.leftCacheBounds),a.count++)}}for(let n=0;n<h;n++){let r=t[n],c=r.count,u=i-r.count,h=r.leftCacheBounds,d=r.rightCacheBounds,f=0;0!==c&&(f=u8(h)/a);let p=0;0!==u&&(p=u8(d)/a);let m=1+1.25*(f*c+p*u);m<l&&(o=e,l=m,s=r.candidate)}}else{for(let e=0;e<d8;e++){let t=p8[e];t.count=0,t.candidate=r+h+e*h;let n=t.bounds;for(let e=0;e<3;e++)n[e]=1/0,n[e+3]=-1/0}for(let t=c;t<u;t+=6){let i=~~((n[t+2*e]-r)/h);i>=d8&&(i=31);let a=p8[i];a.count++,c8(t,n,a.bounds)}let t=p8[31];s8(t.bounds,t.rightCacheBounds);for(let e=30;e>=0;e--){let t=p8[e],n=p8[e+1];l8(t.bounds,n.rightCacheBounds,t.rightCacheBounds)}let d=0;for(let t=0;t<31;t++){let n=p8[t],r=n.count,c=n.bounds,u=p8[t+1].rightCacheBounds;0!==r&&(0===d?s8(c,m8):l8(c,m8,m8)),d+=r;let h=0,f=0;0!==d&&(h=u8(m8)/a);let p=i-d;0!==p&&(f=u8(u)/a);let m=1+1.25*(h*d+f*p);m<l&&(o=e,l=m,s=n.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${a} used.`);return{axis:o,pos:s}}(t.boundingData,f,o,i,d,h);if(-1===g.axis)return n(i+d),t.offset=i,t.count=d,t;let v=function(e,t,n,r,i){let a=n,o=n+r-1,s=i.pos,l=2*i.axis;for(;;){for(;a<=o&&t[6*a+l]<s;)a++;for(;a<=o&&t[6*o+l]>=s;)o--;if(!(a<o))return a;for(let n=0;n<3;n++){let r=e[3*a+n];e[3*a+n]=e[3*o+n],e[3*o+n]=r;let i=t[6*a+2*n+0];t[6*a+2*n+0]=t[6*o+2*n+0],t[6*o+2*n+0]=i;let s=t[6*a+2*n+1];t[6*a+2*n+1]=t[6*o+2*n+1],t[6*o+2*n+1]=s}a++,o--}}(s,o,i,d,g);if(v===i||v===i+d)n(i+d),t.offset=i,t.count=d;else{t.splitAxis=g.axis;let e=new i8,n=i,s=v-i;t.left=e,e.boundingData=new Float32Array(6),h8(o,n,s,e.boundingData,a),r(e,n,s,a,m+1);let l=new i8,c=v,u=d-s;t.right=l,l.boundingData=new Float32Array(6),h8(o,c,u,l.boundingData,a),r(l,c,u,a,m+1)}return t}!function(e,t){if(!e.index){let n,r=e.attributes.position.count,i=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;n=r>65535?new Uint32Array(new i(4*r)):new Uint16Array(new i(2*r)),e.setIndex(new wG(n,1));for(let e=0;e<r;e++)n[e]=e}}(e,t);let i=new Float32Array(6),a=new Float32Array(6),o=function(e,t){let n=e.attributes.position,r=e.index.array,i=r.length/3,a=new Float32Array(6*i),o=n.normalized,s=n.array,l=n.offset||0,c=3;n.isInterleavedBufferAttribute&&(c=n.data.stride);let u=["getX","getY","getZ"];for(let e=0;e<i;e++){let i,h,d,f=3*e,p=6*e;o?(i=r[f+0],h=r[f+1],d=r[f+2]):(i=r[f+0]*c+l,h=r[f+1]*c+l,d=r[f+2]*c+l);for(let e=0;e<3;e++){let r,l,c;o?(r=n[u[e]](i),l=n[u[e]](h),c=n[u[e]](d)):(r=s[i+e],l=s[h+e],c=s[d+e]);let f=r;l<f&&(f=l),c<f&&(f=c);let m=r;l>m&&(m=l),c>m&&(m=c);let g=(m-f)/2,v=2*e;a[p+v+0]=f+g,a[p+v+1]=g+(Math.abs(f)+g)*r8,f<t[e]&&(t[e]=f),m>t[e+3]&&(t[e+3]=m)}}return a}(e,i),s=e.index.array,l=t.maxDepth,c=t.verbose,u=t.maxLeafTris,h=t.strategy,d=t.onProgress,f=e.index.count/3,p=!1,m=[],g=function(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],n=new Set;for(let t of e.groups)n.add(t.start),n.add(t.start+t.count);let r=Array.from(n.values()).sort(((e,t)=>e-t));for(let e=0;e<r.length-1;e++){let n=r[e],i=r[e+1];t.push({offset:n/3,count:(i-n)/3})}return t}(e);if(1===g.length){let e=g[0],t=new i8;t.boundingData=i,function(e,t,n,r){let i=1/0,a=1/0,o=1/0,s=-1/0,l=-1/0,c=-1/0;for(let r=6*t,u=6*(t+n);r<u;r+=6){let t=e[r+0];t<i&&(i=t),t>s&&(s=t);let n=e[r+2];n<a&&(a=n),n>l&&(l=n);let u=e[r+4];u<o&&(o=u),u>c&&(c=u)}r[0]=i,r[1]=a,r[2]=o,r[3]=s,r[4]=l,r[5]=c}(o,e.offset,e.count,a),r(t,e.offset,e.count,a),m.push(t)}else for(let e of g){let t=new i8;t.boundingData=new Float32Array(6),h8(o,e.offset,e.count,t.boundingData,a),r(t,e.offset,e.count,a),m.push(t)}return m}(e,t),o=[],s=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let e=0;e<a.length;e++){let t=a[e],u=new s(32*l(t));n=new Float32Array(u),r=new Uint32Array(u),i=new Uint16Array(u),c(0,t),o.push(u)}return o;function l(e){return e.count?1:1+l(e.left)+l(e.right)}function c(e,t){let a=e/4,o=e/2,s=!!t.count,l=t.boundingData;for(let e=0;e<6;e++)n[a+e]=l[e];if(s){let n=t.offset,s=t.count;return r[a+6]=n,i[o+14]=s,i[o+15]=65535,e+32}{let n,i=t.left,o=t.right,s=t.splitAxis;if(n=c(e+32,i),n/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return r[a+6]=n/4,n=c(n,o),r[a+7]=s,n}}}(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new iH))),this.geometry=e}refit(e=null){e&&Array.isArray(e)&&(e=new Set(e));let t,n,r,i,a=this.geometry,o=a.index.array,s=a.attributes.position,l=0,c=this._roots;for(let e=0,a=c.length;e<a;e++)t=c[e],n=new Uint32Array(t),r=new Uint16Array(t),i=new Float32Array(t),u(0,l),l+=t.byteLength;function u(t,a,l=!1){let c=2*t;if(65535===r[c+15]){let e=n[t+6],a=1/0,l=1/0,u=1/0,h=-1/0,d=-1/0,f=-1/0;for(let t=3*e,n=3*(e+r[c+14]);t<n;t++){let e=o[t],n=s.getX(e),r=s.getY(e),i=s.getZ(e);n<a&&(a=n),n>h&&(h=n),r<l&&(l=r),r>d&&(d=r),i<u&&(u=i),i>f&&(f=i)}return(i[t+0]!==a||i[t+1]!==l||i[t+2]!==u||i[t+3]!==h||i[t+4]!==d||i[t+5]!==f)&&(i[t+0]=a,i[t+1]=l,i[t+2]=u,i[t+3]=h,i[t+4]=d,i[t+5]=f,!0)}{let r=t+8,o=n[t+6],s=r+a,c=o+a,h=l,d=!1,f=!1;e?h||(d=e.has(s),f=e.has(c),h=!d&&!f):(d=!0,f=!0);let p=h||f,m=!1;(h||d)&&(m=u(r,a,h));let g=!1;p&&(g=u(o,a,h));let v=m||g;if(v)for(let e=0;e<3;e++){let n=r+e,a=o+e,s=i[n],l=i[n+3],c=i[a],u=i[a+3];i[t+e]=s<c?s:c,i[t+e+3]=l>u?l:u}return v}}}traverse(e,t=0){let n=this._roots[t],r=new Uint32Array(n),i=new Uint16Array(n);!function t(a,o=0){let s=2*a,l=65535===i[s+15];if(l){let t=r[a+6],c=i[s+14];e(o,l,new Float32Array(n,4*a,6),t,c)}else{let i=a+8,s=r[a+6],c=r[a+7];e(o,l,new Float32Array(n,4*a,6),c)||(t(i,o+1),t(s,o+1))}}(0)}raycast(e,t=qF){let n=this._roots,r=this.geometry,i=[],a=t.isMaterial,o=Array.isArray(t),s=r.groups,l=a?t.side:t;for(let a=0,c=n.length;a<c;a++){let c=o?t[s[a].materialIndex].side:l,u=i.length;if(t7(n[a]),W8(0,r,c,e,i),n7(),o){let e=s[a].materialIndex;for(let t=u,n=i.length;t<n;t++)i[t].face.materialIndex=e}}return i}raycastFirst(e,t=qF){let n=this._roots,r=this.geometry,i=t.isMaterial,a=Array.isArray(t),o=null,s=r.groups,l=i?t.side:t;for(let i=0,c=n.length;i<c;i++){let c=a?t[s[i].materialIndex].side:l;t7(n[i]);let u=q8(0,r,c,e);n7(),null!=u&&(null==o||u.distance<o.distance)&&(o=u,a&&(u.face.materialIndex=s[i].materialIndex))}return o}intersectsGeometry(e,t){let n=this.geometry,r=!1;for(let i of this._roots)if(t7(i),r=Y8(0,n,e,t),n7(),r)break;return r}shapecast(e,t,n){let r=this.geometry;if(e instanceof Function){if(t){let e=t;t=(t,n,r,i)=>{let a=3*n;return e(t,a,a+1,a+2,r,i)}}e={boundsTraverseOrder:n,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let i=m7.getPrimitive(),{boundsTraverseOrder:a,intersectsBounds:o,intersectsRange:s,intersectsTriangle:l}=e;if(s&&l){let e=s;s=(t,n,a,o,s)=>!!e(t,n,a,o,s)||L8(t,n,r,l,a,o,i)}else s||(s=l?(e,t,n,a)=>L8(e,t,r,l,n,a,i):(e,t,n)=>n);let c=!1,u=0;for(let e of this._roots){if(t7(e),c=X8(0,r,o,s,a,u),n7(),c)break;u+=e.byteLength}return m7.releasePrimitive(i),c}bvhcast(e,t,n){let{intersectsRanges:r,intersectsTriangles:i}=n,a=this.geometry.index,o=this.geometry.attributes.position,s=e.geometry.index,l=e.geometry.attributes.position;o7.copy(t).invert();let c=m7.getPrimitive(),u=m7.getPrimitive();if(i){let e=function(e,n,r,h,d,f,p,m){for(let g=r,v=r+h;g<v;g++){R8(u,3*g,s,l),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let t=e,r=e+n;t<r;t++)if(R8(c,3*t,a,o),c.needsUpdate=!0,i(c,u,t,g,d,f,p,m))return!0}return!1};if(r){let t=r;r=function(n,r,i,a,o,s,l,c){return!!t(n,r,i,a,o,s,l,c)||e(n,r,i,a,o,s,l,c)}}else r=e}e.getBoundingBox(a7),a7.applyMatrix4(t);let h=this.shapecast({intersectsBounds:e=>a7.intersectsBox(e),intersectsRange:(t,n,i,a,o,s)=>(i7.copy(s),i7.applyMatrix4(o7),e.shapecast({intersectsBounds:e=>i7.intersectsBox(e),intersectsRange:(e,i,s,l,c)=>r(t,n,e,i,a,o,l,c)}))});return m7.releasePrimitive(c),m7.releasePrimitive(u),h}intersectsBox(e,t){return s7.set(e.min,e.max,t),s7.needsUpdate=!0,this.shapecast({intersectsBounds:e=>s7.intersectsBox(e),intersectsTriangle:e=>s7.intersectsTriangle(e)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,n={},r={},i=0,a=1/0){e.boundingBox||e.computeBoundingBox(),s7.set(e.boundingBox.min,e.boundingBox.max,t),s7.needsUpdate=!0;let o=this.geometry,s=o.attributes.position,l=o.index,c=e.attributes.position,u=e.index,h=m7.getPrimitive(),d=m7.getPrimitive(),f=u7,p=h7,m=null,g=null;r&&(m=d7,g=f7);let v=1/0,y=null,w=null;return o7.copy(t).invert(),l7.matrix.copy(o7),this.shapecast({boundsTraverseOrder:e=>s7.distanceToBox(e),intersectsBounds:(e,t,n)=>n<v&&n<a&&(t&&(l7.min.copy(e.min),l7.max.copy(e.max),l7.needsUpdate=!0),!0),intersectsRange:(n,r)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:e=>l7.distanceToBox(e),intersectsBounds:(e,t,n)=>n<v&&n<a,intersectsRange:(e,a)=>{for(let o=3*e,b=3*(e+a);o<b;o+=3){R8(d,o,u,c),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(let e=3*n,t=3*(n+r);e<t;e+=3){R8(h,e,l,s),h.needsUpdate=!0;let t=h.distanceToTriangle(d,f,m);if(t<v&&(p.copy(f),g&&g.copy(m),v=t,y=e/3,w=o/3),t<i)return!0}}}});for(let e=0,a=u?u.count:c.count;e<a;e+=3){R8(d,e,u,c),d.a.applyMatrix4(t),d.b.applyMatrix4(t),d.c.applyMatrix4(t),d.needsUpdate=!0;for(let t=3*n,a=3*(n+r);t<a;t+=3){R8(h,t,l,s),h.needsUpdate=!0;let n=h.distanceToTriangle(d,f,m);if(n<v&&(p.copy(f),g&&g.copy(m),v=n,y=t/3,w=e/3),n<i)return!0}}}}),m7.releasePrimitive(h),m7.releasePrimitive(d),v===1/0?null:(n.point?n.point.copy(p):n.point=p.clone(),n.distance=v,n.faceIndex=y,r&&(r.point?r.point.copy(g):r.point=g.clone(),r.point.applyMatrix4(o7),p.applyMatrix4(o7),r.distance=p.sub(r.point).length(),r.faceIndex=w),n)}closestPointToPoint(e,t={},n=0,r=1/0){let i=n*n,a=r*r,o=1/0,s=null;if(this.shapecast({boundsTraverseOrder:t=>(c7.copy(e).clamp(t.min,t.max),c7.distanceToSquared(e)),intersectsBounds:(e,t,n)=>n<o&&n<a,intersectsTriangle:(t,n)=>{t.closestPointToPoint(e,c7);let r=e.distanceToSquared(c7);return r<o&&(u7.copy(c7),o=r,s=n),r<i}}),o===1/0)return null;let l=Math.sqrt(o);return t.point?t.point.copy(u7):t.point=u7.clone(),t.distance=l,t.faceIndex=s,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach((t=>{a8(0,new Float32Array(t),p7),e.union(p7)})),e}},v7=xF(SF()),y7=.5*(Math.sqrt(3)-1),w7=(3-Math.sqrt(3))/6,b7=1/6,x7=(Math.sqrt(5),Math.sqrt(5),e=>0|Math.floor(e)),_7=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),S7=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function E7(e=Math.random){let t=C7(e),n=new Float64Array(t).map((e=>_7[e%12*2])),r=new Float64Array(t).map((e=>_7[e%12*2+1]));return function(e,i){let a,o,s=0,l=0,c=0,u=(e+i)*y7,h=x7(e+u),d=x7(i+u),f=(h+d)*w7,p=e-(h-f),m=i-(d-f);p>m?(a=1,o=0):(a=0,o=1);let g=p-a+w7,v=m-o+w7,y=p-1+2*w7,w=m-1+2*w7,b=255&h,x=255&d,_=.5-p*p-m*m;if(_>=0){let e=b+t[x];_*=_,s=_*_*(n[e]*p+r[e]*m)}let S=.5-g*g-v*v;if(S>=0){let e=b+a+t[x+o];S*=S,l=S*S*(n[e]*g+r[e]*v)}let E=.5-y*y-w*w;if(E>=0){let e=b+1+t[x+1];E*=E,c=E*E*(n[e]*y+r[e]*w)}return 70*(s+l+c)}}function C7(e){let t=new Uint8Array(512);for(let e=0;e<256;e++)t[e]=e;for(let n=0;n<255;n++){let r=n+~~(e()*(256-n)),i=t[n];t[n]=t[r],t[r]=i}for(let e=256;e<512;e++)t[e]=t[e-256];return t}var A7,T7=new fG,M7=xF(EF()),P7=new kH,D7=new kH,k7=new kH;(e=>{e.is=function(e){return e&&e.__isSPEObject}})(A7||(A7={}));var O7,I7=e=>class extends e{constructor(){super(...arguments),this.previousModelViewMatrix=new kH,this.copyPreviousMatrix=!0,this.hiddenMatrix=new kH,this.matrixWorldRigid=new kH,this.shearScale=new kH,this.shearScaleInv=new kH}get __isSPEObject(){return!0}isDescendantOf(e){e instanceof nG&&(e=e.uuid);let t=this;for(;t.parent;){if(t.parent.uuid===e)return!0;t=t.parent}return!1}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);for(let t of this.children)t.updateMatrixWorld(e)}updateWorldMatrix(e,t){let n=this.parent;if(e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),t)for(let e of this.children)e.updateWorldMatrix(!1,!0)}traverseChildren(e,t=0){for(let n of this.children)A7.is(n)&&n.traverseObject(e,t+1)}traverseObject(e,t=0){if(!0!==e(this,t))for(let n of this.children)A7.is(n)&&n.traverseObject(e,t+1)}updateMatrixWorldSVD(){let e=this.matrixWorld.elements,t=[[e[0],e[4],e[8]],[e[1],e[5],e[9]],[e[2],e[6],e[10]]],{u:n,v:r,q:i}=(0,M7.SVD)(t),a=P7.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),o=D7.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),s=k7.copy(o).transpose();this.shearScale.makeScale(i[0],i[1],i[2]).multiply(s).premultiply(o),this.shearScaleInv.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(a,s).copyPosition(this.matrixWorld),i.every((e=>Math.abs(i[0]-e)<.01))?this.hasNonUniformScale=!1:this.hasNonUniformScale=!0}attach(e,t){this.updateWorldMatrix(!0,!1);let n=(new kH).copy(this.matrixWorld).invert();return null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),n.multiply(e.parent.matrixWorld)),"hiddenMatrix"in e&&e.hiddenMatrix instanceof kH?e.hiddenMatrix.premultiply(n):e.applyMatrix4(n),e.updateWorldMatrix(!1,!1),this.add(e),void 0!==t&&(this.children.pop(),this.children.splice(t,0,e)),this}copy(e,t=!1){return super.copy(e,t),this.hasNonUniformScale=e.hasNonUniformScale,this}onAfterRender(e,t,n,r,i,a){this.copyPreviousMatrix&&this.previousModelViewMatrix.copy(this.modelViewMatrix)}},R7=class extends(I7(nG)){},L7=class extends R7{constructor(e){super(),this.object=e,this.matrixAutoUpdate=!1,this.hasNonUniformScale=e.hasNonUniformScale}raycast(e,t){}expand(){let e=0,t=this.object.entityChildren(e);for(;t;){let n=this.children[e];n?.object!==t&&(n&&this.remove(n),n=new L7(t),this.add(n),this.children.splice(e,0,this.children.pop()),n.matrixWorldNeedsUpdate=!0,n.matrixAutoUpdate=!1,n.matrix=t.matrix,n.hiddenMatrix=t.hiddenMatrix),n.expand(),e+=1,t=this.object.entityChildren(e)}for(;this.children.length>e;)this.remove(this.children[e])}get visible(){return void 0!==this.playModeVisible?this.playModeVisible:this.object.visible||this.object.dataPatched.visible&&!0===this.object.dataPatched.cloner?.hideBase}set visible(e){}get castShadow(){return this.object.castShadow}set castShadow(e){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(e){}get isMesh(){return(e=>"Mesh"===this.object.type)()}get isLight(){return this.object.isLight}get layers(){return this.object.layers}set layers(e){}get isCamera(){return!1}get geometry(){if(this.object.geometry)return this.object.geometry}get material(){if(this.object.material)return this.object.material}},N7=new tH,z7=new tH,B7=new kH,F7=[new tH(-1,1,1),new tH(-1,-1,1),new tH(1,-1,1),new tH(1,1,1),new tH(-1,1,-1),new tH(-1,-1,-1),new tH(1,-1,-1),new tH(1,1,-1)],U7=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],j7=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]],V7=(e,t,n)=>{e.updateEntityBoxSize(N7,z7),B7.copy(t).multiply(e.matrixWorld),0===z7.x&&0===z7.y&&0===z7.z?n.push(new tH(N7.x,N7.y,N7.z).applyMatrix4(B7)):F7.forEach((e=>{n.push(e.clone().multiply(z7).add(N7).applyMatrix4(B7))}))},H7=class extends iH{constructor(){super(...arguments),this.matrix=new kH,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map((e=>e.clone())),this.faces=e.faces.map((e=>e.clone())),this.edges=e.edges.map((e=>e.clone())),this.centerEdges=e.centerEdges.map((e=>e.clone())),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let n=(new kH).copy(e.matrixWorld).invert();return this.expandByObjectSize(e,n,t)}expandByObjectSize(e,t,n=!1){let r=[];return!0===n?e.traverseEntity((e=>{if(e.visible||e.cloner&&e.data.visible){if(!("geometry"in e))return void r.push(new tH);V7(e,t,r)}})):V7(e,t,r),this.setFromPoints(r)}getCenter(e){return(e=super.getCenter(e)).applyMatrix4(this.matrix),e}getPositionToCenter(e){return(e=super.getCenter(e)).applyMatrix4(B7.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize(z7).multiplyScalar(.5),this.getCenter(N7),B7.copy(this.matrix).setPosition(N7),this.vertices=F7.map((e=>e.clone().multiply(z7).applyMatrix4(B7)))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=U7.map((([e,t])=>new zK(this.vertices[e],this.vertices[t]))),this.centerEdges=this.edges.map((e=>e.getCenter(new tH)))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=j7.map((([e,t])=>this.vertices[e].clone().add(this.vertices[t]).multiplyScalar(.5)))}},G7={Cloner:()=>{},changeEntityProptotype:()=>{},createEntity:()=>{}},W7=class extends NY{constructor(){super()}getPoints(e=12){let t,n=[],r=this.getCurveLengths(),i=r[r.length-1]/r.length;for(let a=0,o=this.curves;a<o.length;a++){let s=o[a],l=0===a?r[a]:r[a]-r[a-1],c=Math.ceil(e*l/i),u=s.getPoints(c);for(let e=0;e<u.length;e++){let r=u[e];t&&t.equals(r)||(n.push(r),t=r)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},q7=.001;function X7(e,t,n){return t.clone().sub(e).cross(t.clone().sub(n)).length()<=q7}function Y7(e,t){let n=new tH(...e.position),r=new tH(...e.controlNext.position),i=new tH(...t.controlPrevious.position),a=new tH(...t.position);return X7(n,r,a)&&X7(n,i,a)}function Q7(e){let t=e.points.map((e=>new tH(...e.data.position))),n=[e.points[0]],r=new tH(...n[0].data.position);for(let i=0;i<e.points.length-1;i++)X7(r,t[i],t[i+1])||(n.push(e.points[i]),r=t[i]);n.push(e.points[e.points.length-1]);let i=e.isClosed,a=n.length-(i?0:1),o=n.length,s=[];for(let t=0;t<o;t++){let r=n[t].data,a=new tH(...r.position),l=new tH(...r.controlPrevious.position),c=new tH(...r.controlNext.position),u={position:a,baseRoundness:r.roundness,controlPrevious:l,controlNext:c};if(0===r.roundness||!e.isClosed&&(0===t||t===o-1)){s[t]={...u,removedLength:0};continue}let h=i&&t==o-1?0:t+1,d=n[i&&0==t?o-1:t-1].data,f=n[h].data,p=new tH(...d.position),m=new tH(...f.position),g=p.clone().sub(a).normalize(),v=m.clone().sub(a).normalize();Object.assign(u,{prevDir:g,nextDir:v});let y=Y7(d,r),w=Y7(r,f);if(y&&w){let e=g.clone().add(v).normalize(),n=e.clone().cross(g).length()/g.dot(e);s[t]={...u,tan:n,removedLength:r.roundness/n}}else s[t]={...u,removedLength:0}}for(let e=0;e<a;e++){let t=i&&e===o-1?0:e+1,n=s[e],r=s[t];if(0!==n.removedLength||0!==r.removedLength){let e=n.position.distanceTo(r.position);n.removedLength=Math.min(n.removedLength,e/2),r.removedLength=Math.min(r.removedLength,e/2)}}let l=[];for(let e=0;e<a;e++){let t=e,r=i&&e===o-1?0:e+1,a=s[t],c=s[r],u=null;if(Y7(n[t].data,n[r].data)){let e=a.position.clone(),t=c.position.clone();(0!==a.removedLength||0!==c.removedLength)&&(a.nextDir&&e.add(a.nextDir.clone().setLength(a.removedLength)),c.prevDir&&t.add(c.prevDir.clone().setLength(c.removedLength))),e.distanceTo(t)>q7&&(u=new DY(e,e.clone().lerp(t,.3),t.clone().lerp(e,.3),t))}else a.position.distanceTo(c.position)>q7&&(u=new DY(a.position,a.controlNext,c.controlPrevious,c.position));l[2*e+1]=u}for(let e=0;e<o;e++){let t=s[e];if(0===t.removedLength){l[2*e]=null;continue}let n=t.position,r=t.prevDir.clone().multiplyScalar(t.removedLength).add(n),i=t.nextDir.clone().multiplyScalar(t.removedLength).add(n),a=t.tan*t.removedLength,o=t.prevDir.clone().add(t.nextDir).normalize(),c=r.clone().lerp(i,.5),u=r.distanceTo(i)/2,h=o.clone().multiplyScalar(Math.sqrt(Math.pow(a,2)-Math.pow(u,2))).add(c),d=o.clone().multiplyScalar(-a).add(h),f=n.distanceTo(d)/n.distanceTo(c),p=t.prevDir.clone().multiplyScalar(f*n.distanceTo(r)).add(n),m=p.clone().lerp(d,2),g=r.clone().lerp(p,4/3),v=i.clone().lerp(m,4/3);l[2*e]=new DY(r,g,v,i)}let c=new W7;return l.forEach((e=>{e&&c.add(e)})),c}(e=>{e.is=function(e){return e&&e.__isEntity}})(O7||(O7={}));var K7=e=>O7.is(e),Z7={type:"completeState",isfromEntity:!0},J7=["x","y","z"],$7=new tH,e9=(new tH).set(0,1,0),t9=e=>class extends(I7(e)){constructor(){super(...arguments),this.raycastLock=!1,this.scaleLock=!1,this.disposed=!1,this.stateSelection=null,this.destroyedInAction=!1,this.instances=[],this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this._singleBBox=new H7,this._recursiveBBox=new H7,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this._needApplyPathSnapping=!0,this.attachedPaths=new Set}get __isEntity(){return!0}entityChildren(e){let t=this.children[e];if(O7.is(t))return t}entityChildrenCount(){let e=this.children.length;for(;e--;)if(O7.is(this.children[e]))return e+1;return 0}get isConcreteEntity(){return"string"==typeof this.identity}get isVirtualEntity(){return"string"!=typeof this.identity}get isInstanceRoot(){return this.isConcreteEntity&&"Instance"===this.data.type}nearestInstanceSelfOrParent(){let e=this;for(;"Instance"!==e.data.type;){let t=e.parent;if(!O7.is(t))return;e=t}return e}forInstancesRec(e){this.instances.forEach((t=>{t.disposed||e(t),t.forInstancesRec(e)}))}super_Entity(e,t){"string"==typeof e&&(this.uuid=e),this.identity=e,this.data=t,this.matrixAutoUpdate=!1,this.dataPatched=this.data}changeSelectedState(e,t,n=!1){if(0!==this.data.states.length||n){for(let e of this.data.states)$5.toOps(this.data,e.data).forEach((e=>{let n=u2.replaceProps(e,this.data);this.dataPatched=this.data,this.updateByPatchedOp(n,this.data,t)}));if(null!==e){let n=this.data.states.data(e);n&&(this.dataPatched=$5.patch(this.data,n),$5.toOps(this.data,n).forEach((e=>{this.updateByPatchedOp(e,this.dataPatched,t)})))}n&&this.updateTransformState(this.dataPatched,t),this.stateSelection=e,this.updatePathSnapping(this.dataPatched.pathSnapping)}}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}updateEntityBoxSize(e,t){e.setScalar(0),t.setScalar(0)}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors((e=>{K7(e)&&e.resetBBoxNeedsUpdateSelf()})),this.traverseEntity((e=>{e.resetBBoxNeedsUpdateSelf()}))}find(e){let t;return this.traverseEntity((n=>{n.uuid===e&&(t=n)})),t}traverseSortNextHelper(){let e=this.parent;if(e){let t=e.children,n=t.indexOf(this)+1;if(O7.is(t[n]))return t[n];if(O7.is(e))return e.traverseSortNextHelper()}}sortNext(){let e=this.children;return this.children.length>0&&O7.is(this.children[0])?e[0]:this.traverseSortNextHelper()}goUp(e){let t=this;for(;e>0&&null!==t;)t=t.parent,e-=1;return t}hasAnccestorOrSelf(e){return this===e||this.hasAnccestor(e)}hasAnccestor(e){let t=this.parent;for(;t;){if(e===t)return!0;t=t.parent}return!1}countToAccestor(e){let t=0,n=this;for(;n!==e;){if(null===n)return-1;n=n.parent,t+=1}return t}forEachEntity(e){for(let t of this.children)K7(t)&&e(t)}traverseEntityAncestors(e){this.traverseAncestors((t=>{O7.is(t)&&e(t)}))}traverseConcreteEntity(e,t=0){if(!0!==e(this,t))for(let n of this.children)K7(n)&&n.isConcreteEntity&&n.traverseEntity(e,t+1)}traverseEntity(e,t=0){if(!0!==e(this,t))for(let n of this.children)K7(n)&&n.traverseEntity(e,t+1)}traverseVisibleEntity(e){e(this);for(let t of this.children)K7(t)&&t.visible&&t.traverseVisibleEntity(e)}updateMatrix(){super.updateMatrix(),this.cloner&&this.cloner.onObjUpdateMatrix(),this.dispatchEvent({type:"updateMatrix"})}updateMatrixWorld(e){super.updateMatrixWorld(e),this.dispatchEvent({type:"updateMatrixWorld"})}copy(e,t=!1){return super.copy(e,t),this.dataPatched=e.dataPatched,this.raycastLock=e.raycastLock,this.scaleLock=e.scaleLock,this.hiddenMatrix.copy(e.hiddenMatrix),this}hasEntityChild(){return this.children.some((e=>K7(e)))}isAncestorOf(e){if(this.uuid===e)return!1;let t=!1;return this.traverseEntity((n=>{n.uuid===e&&(t=!0)})),t}toObjectTransformState(e=[]){this.updateWorldMatrix(!0,!1);let t={position:this.position.toArray(),rotation:[this.rotation.x*CV.RAD2DEG,this.rotation.y*CV.RAD2DEG,this.rotation.z*CV.RAD2DEG],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return w1(t,e)}getTransformValues(e,t,n){return t[e].map(((t,r)=>n?.shared.getVariable(t,[this.uuid,e,J7[r]])??t))}updateTransformState(e,t){let n=!1;return e.position&&(this.position.fromArray(this.getTransformValues("position",e,t)),n=!0),e.rotation&&($7.fromArray(this.getTransformValues("rotation",e,t)).multiplyScalar(CV.DEG2RAD),this.rotation.setFromVector3($7),n=!0),e.scale&&(this.scale.fromArray(this.getTransformValues("scale",e,t)),n=!0),void 0!==e.hiddenMatrix&&(n=!0,this.hiddenMatrix.fromArray(e.hiddenMatrix??N4.identity)),n&&(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors((e=>{e.invalidateClonerTransform(this)}))),e.position&&e.rotation&&e.scale&&void 0!==e.hiddenMatrix&&this.updateWorldMatrix(!1,!0),n}onVariableUpdate(e=!1){e?this.resetBBoxNeedsUpdate():(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors((e=>{e.invalidateClonerTransform(this)})))}dispose(){this.disposed=!0,this.cloner&&(this.cloner.removeFromParent(),this.cloner=void 0)}disposeChildrenRecursively(){for(let e of this.children)O7.is(e)&&e.disposeRecursively()}disposeRecursively(){this.dispose(),this.children.forEach((e=>{O7.is(e)&&e.disposeRecursively()}))}toState(e=[]){let t={name:this.name,visible:this.visible,raycastLock:this.raycastLock,...this.toObjectTransformState(e)};return w1(t,e)}updateByObjUpdateOp(e,t){void 0!==e&&this.updateByOp({type:0,props:e,path:[]},{...this.data,...e},t,!1)}updateByOp(e,t,n,r){let i=this.data;this.data=t;let a=e,o=j2(e.path,["states","*"]);if(null!==o){if(0===e.type){let[t]=o;if(this?.stateSelection===t){let t={...e.props};if(delete t.name,Object.values(e.props).some((e=>void 0===e))){let n=this.data;if(void 0!==n){let r=L2.zoom(n,e.path.slice(2));if(r)for(let n in e.props)void 0===e.props[n]&&n in r&&(t[n]=r[n])}}a={...e,props:t,path:e.path.slice(2)}}}}else if(0===e.type){let t=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(void 0!==t){if(void 0!==e.props.name&&t.name){let{name:e,...n}=t;t=n}if(void 0!==e.props.material&&"material"in t){let{material:e,...n}=t;t=n}let n=L2.removeOverridden(e.path,e.props,t);a={...e,props:n}}}if(this.updateByPatchedOpBase(a,$5.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),n),j2(e.path,["overrides"])){let r=[],i=[...e.path];for(r.push(i[1]),i.splice(0,2);i.length>0&&"descendants"===i[0];)r.push(i[1]),i.splice(0,2);if(void 0===r[r.length-1]){if(0===e.type)for(let t of Object.keys(e.props)){r[r.length-1]=t;let i=n.scene.findInstance([this.uuid,...r]);i&&(i.overrideData=e.props[t],i.updateState(c2.apply(i.component.data,i.overrideData),n))}}else{let a=n.scene.findInstance([this.uuid,...r]);if(a){let o=L2.zoom(a.component.data,i);if(0===(e={...e,path:i}).type){let t=e.props;if(o)for(let[n,r]of Object.entries(e.props))void 0===r&&(t===e.props&&(t={...e.props}),t[n]=o[n]);e={...e,props:t}}a.overrideData=Q5.resolve(t.overrides,r),a.updateByOp(e,h2.applySimple(a.data,e),n,!1)}}}else if(this.instances.length>0){let r;if(0===e.path.length&&0===e.type){let t;for(let n of K5.rootOverrideProps)n in e.props&&(void 0===t&&(t={}),t[n]=e.props[n]);t&&(r={...e,props:t})}else for(let t of K5.rootOverrideProps)if(j2(e.path,[t])){r=e;break}void 0!==r&&this.instances.forEach((e=>{if(e.isInstanceRoot){let t=c2.filterOp(e.overrideData,r);t&&e.updateByOp(t,h2.applySimple(e.data,t),n,!0)}})),this.instances.forEach((r=>{if(!r.isInstanceRoot){let a=c2.filterOp(r.overrideData,e);if(a){let o;o=i===r.data&&e===a?t:h2.applySimple(r.data,a),r.updateByOp(a,o,n,!0)}}}))}}updateByPatchedOpBase(e,t,n){if(this.dataPatched=t,0===e.path.length&&0===e.type)void 0!==e.props.type&&!H4.is(e.props.type)&&G7.changeEntityProptotype(this,t,n);else if(1===e.path.length&&"geometry"===e.path[0]&&0===e.type&&"type"in e.props){G7.changeEntityProptotype(this,t,n);for(let e of this.children)O7.is(e)&&e.updateVisible(n.scene)}this.updateByPatchedOp(e,t,n)}updateByPatchedOp(e,t,n){if(0===e.path.length&&0===e.type&&this.updateState(e.props,n),null!==j2(e.path,["pathSnapping"])&&this.updatePathSnapping(t.pathSnapping),null!==j2(e.path,["cloner"])){let r=h2.drop(e,1);0===r.path.length&&0===r.type&&!0===r.props.disabled?this.setFromClonerState(null,n):this.cloner?this.cloner.updateState(t.cloner,n.scene):(this.setFromClonerState(t.cloner,n),this.expandCloner(n.scene)),this.updateVisible(n.scene)}}updatePathSnapping(e=this.dataPatched.pathSnapping){this._updatedPathSnapping=e,this._needApplyPathSnapping=!0}get updatedPathSnapping(){return this._updatedPathSnapping}applyPathSnapping(e){let t=this._updatedPathSnapping?.pathId??this.dataPatched.pathSnapping.pathId,n=this._updatedPathSnapping?.slide??this.dataPatched.pathSnapping.slide??0,r=this._updatedPathSnapping?.offset??this.dataPatched.pathSnapping.offset??0,i=this._updatedPathSnapping?.orientation??this.dataPatched.pathSnapping.orientation;if(null===t)return;let a=e.find(t);if(!a||!1===this._needApplyPathSnapping)return;this._needApplyPathSnapping=!1;let o=a.data;if(o.geometry.path.points.length<=1)return;let s=Q7(o.geometry.path),l=(n+r)%1;n+r===1&&0===l&&(l=1);let c=s.getPointAt(l);if(null===c)return;let u=this.parent?this.parent?.matrixWorld:new kH;a.updateMatrixWorld();let h=(new kH).multiplyMatrices(u.clone().invert(),a.matrixWorld);c.applyMatrix4(h);let d={position:c.toArray(),rotation:o.rotation};if("tangential"===i){let e=(new kH).extractRotation(a.matrixWorld),t=s.getTangentAt(l).applyMatrix4(e).add(c),n=(new kH).lookAt(c,t,e9),r=$7.setFromEuler((new jH).setFromRotationMatrix(n)).multiplyScalar(CV.RAD2DEG);d={...d,rotation:r.toArray()}}this.updateTransformState(d),this.traverseEntity((e=>{e._cameraType&&e.dispatchEvent(Z7)}))}updateVisible(e){if(this.visible=this.dataPatched.visible&&(!this.dataPatched.cloner||(this.dataPatched.cloner.disabled??!1)||!0!==this.dataPatched.cloner?.hideBase),!e)return;let t=!1;this.traverseEntity((e=>{if("Splat"===e.data.type)return t=!0,!0})),t&&e.reloadSplats()}updateState_Entity(e,t){void 0!==e.name&&(this.name=e.name),void 0!==e.raycastLock&&(this.raycastLock=e.raycastLock),void 0!==e.visible&&(this.updateVisible(t?.scene),this.resetBBoxNeedsUpdate()),t&&"cloner"in e&&void 0!==e.cloner&&(this.setFromClonerState(e.cloner,t),this.updateVisible(t.scene)),this.updateTransformState(e,t)}get attachedSurfaceCloners(){return this.children.filter((e=>e instanceof G7.Cloner&&"toObject"===e.parameters.type))}setFromClonerState(e,t){this.disposed||(null===e||e.disabled?(this.cloner&&this.cloner.removeFromParent(),this.cloner=void 0):void 0===this.cloner?(this.cloner=new G7.Cloner(this,e),t.scene.addPendingExpandCloner(this)):this.cloner.updateState(e,t.scene))}expandCloner(e){!this.disposed&&this.cloner&&this.cloner.expandClones(e)}invalidateClonerTransform(e){this.cloner&&this.cloner.invalidateTransform(e)}requestRender(){this.dispatchEvent({type:"requestRender"})}},n9=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:8,cornerSegments:8,hollow:0},e.parameters);n.thetaLength=CV.clamp(n.thetaLength,0,360);let r=n.width/2,i=n.radiusTop??r,a=n.radiusBottom??r;return i===a?(i=r,a=r):i>a?(i=r,a=a*r/i):(i=i*r/a,a=r),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width),radiusTop:i,radiusBottom:a})}}static build(e){let t,{width:n,depth:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:c,radiusTop:u,radiusBottom:h,cornerRadius:d,cornerSegments:f,hollow:p}=e.parameters;return 0===c?(t=new DG,t.setAttribute("position",new _G([],3))):t=d||p?new a9(u,h,i,a,o,s,l,c*Math.PI/180,d,d,f,p):new FY(u,h,i,a,o,s,l,c*Math.PI/180),t.scale(1,1,r/n),Object.assign(t,{userData:{...e,type:"CylinderGeometry"}})}};function r9(e,t,n){n.x=e.x*t.x,n.y=e.y,n.z=e.x*t.y}function i9(e){return new AV(e.y,-e.x)}var a9=class extends DG{constructor(e,t,n,r,i,a,o,s,l,c,u,h,d=!1){super(),this.type="RoundedCylinderBufferGeometry",e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI,a&&(l=0,c=0);let f=[],p=[],m=[],g=[],v=0,y=n/2,w=new tH,b=new tH;d&&0==e&&(e=l),d&&0==t&&(t=c);let x=new AV(e,y),_=new AV(t,-y),S=null,E=null,C=null,A=null,T=x.clone().sub(_),M=0,P=0,D=0;h>0&&(M=Math.min(e,t)*(1-h),P=e-M,D=t-M);let k=x.clone();k.x-=M;let O=Math.PI-T.angle(),I=T.angle(),R=Math.tan(I/2),L=Math.tan(O/2),N=R+L,z=h?N:L,B=h?N:R;if(l=Math.min(l,(e-P)/z,T.length()/N),c=Math.min(c,(t-D)/B,T.length()/N),l>0){let e=l/R;S=x.clone().sub(new AV(e,l)),h&&(C=S.clone(),C.x-=M-N*l),x.sub(T.clone().setLength(e))}if(c>0){let e=c/L;E=_.clone().sub(new AV(e,-c)),_.add(T.clone().setLength(e)),h&&(A=E.clone(),A.x-=M-N*c,k.sub(T.clone().setLength(e)))}T=x.clone().sub(_);let F=T.length()<.5,U=[];for(let u=0;u<=r;u++){let d=[],f=u/r,y=f*s+o,x=new AV(Math.sin(y),Math.cos(y));if(A&&E?(j(d,f,x,O,c,A,-1,!0),j(d,f,x,I,c,E,-1,!1)):E?(V(d,x,E.x,0,-1),j(d,f,x,I,c,E,-1,!1)):a||V(d,x,t,D,-1),r9(i9(T).normalize(),x,w),!F)for(let e=0;e<=i;e++){let t=e/i;r9(T.clone().multiplyScalar(t).add(_),x,b),p.push(b.x,b.y,b.z),m.push(w.x,w.y,w.z),g.push(f,.5+b.y/n),d.push(v++)}if(C&&S?(j(d,f,x,O,l,S,1,!1),j(d,f,x,I,l,C,1,!0)):S?(j(d,f,x,O,l,S,1,!1),V(d,x,S.x,0,1)):a||V(d,x,e,P,1),h&&!F){r9(i9(T).multiplyScalar(-1).normalize(),x,w);for(let e=0;e<=i;e++){let t=e/i;r9(T.clone().multiplyScalar(-t).add(k),x,b),p.push(b.x,b.y,b.z),m.push(w.x,w.y,w.z),g.push(f,.5+b.y/n),d.push(v++)}}h&&!a&&d.push(d[0]),U.push(d)}for(let e=0;e<U.length-1;e++)for(let t=0;t<U[0].length-1;t++){if(a&&h&&t==i)continue;let n=U[e][t],r=U[e+1][t],o=U[e+1][t+1],s=U[e][t+1],l=p[3*o+0],c=p[3*o+2];f.push(n,r,s),(0!=l||0!=c)&&f.push(r,o,s)}function j(e,t,r,i,a,o,s,l){for(let c=0;c<u+1;c++){let h=c/u,d=s<0?h:1-h;l&&(d-=1),d*=i;let f=new AV(Math.sin(d),Math.cos(d)*s);r9(f.clone().multiplyScalar(a).add(o),r,b),p.push(b.x,b.y,b.z),r9(f,r,w),m.push(w.x,w.y,w.z),g.push(t,.5+b.y/n),e.push(v++)}}function V(e,t,n,r,i){let a=new tH,o=new AV,s=[n,r];i<0&&s.reverse();for(let n of s)o.set(n,y*i),r9(o,t,a),p.push(a.x,a.y,a.z),m.push(0,i,0),g.push(.5,.5),e.push(v++)}function H(n,r,i){let a=new AV(Math.sin(i),Math.cos(i)),o=new AV(-Math.cos(i),Math.sin(i)),s=new tH,l=n<0?(e,t,n)=>f.push(e,t,n):(e,t,n)=>f.push(e,n,t);r9(new AV((e+t+P+D)/4,0),a,s),p.push(s.x,s.y,s.z),m.push(o.x,0,o.y),g.push(.5,.5);let c=v++;for(let e of r){let t=p.slice(3*e,3*e+3);p.push(...t),m.push(o.x,0,o.y);let n=g.slice(2*e,2*e+2);g.push(...n),v++}for(let e=c+1;e<v-1;e++)l(c,e,e+1);l(c,v-1,c+1)}s<2*Math.PI&&(H(-1,U[0],o),H(1,U[U.length-1],o+s)),this.setIndex(f),this.setAttribute("position",new _G(p,3)),this.setAttribute("normal",new _G(m,3)),this.setAttribute("uv",new _G(g,2))}},o9=Math.PI/2,s9=class extends DG{constructor(e=1,t=1,n=1,r=1,i=1,a=1,o=0,s=4){super(),this.type="BoxGeometry";let l=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a),s=Math.floor(s),o=Math.min(o,e/2,t/2,n/2);let c=[],u=[],h=[],d=[],f=0,p=0;function m(e,t,n,r,i,a,s,m,g,v,y){let w=(a-2*o)/g,b=(s-2*o)/v,x=a/2-o,_=s/2-o,S=m/2,E=g+1,C=v+1,A=0,T=0,M=new tH;for(let a=0;a<C;a++){let o=a*b-_;for(let s=0;s<E;s++){let l=s*w-x;M[e]=l*r,M[t]=o*i,M[n]=S,u.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=m>0?1:-1,h.push(M.x,M.y,M.z),d.push(s/g),d.push(1-a/v),A+=1}}for(let e=0;e<v;e++)for(let t=0;t<g;t++){let n=f+t+E*e,r=f+t+E*(e+1),i=f+(t+1)+E*(e+1),a=f+(t+1)+E*e;c.push(n,r,a),c.push(r,i,a),T+=6}l.addGroup(p,T,y),p+=T,f+=A}function g(e,t,n,r,i,a,m,g,v,y,w){let b=(m-2*o)/y,x=m/2-o,_=g/2-o,S=v/2,E=y+1,C=0,A=0,T=new tH,M=new tH;for(let l=0;l<s+1;l++){let c=l/s*o9,f=Math.sin(c)*o,p=(1-Math.cos(c))*o,m=Math.sin(c),g=Math.cos(c);T[t]=(_+f)*i,T[n]=(S-p)*a,M[e]=0,M[t]=m*Math.sign(T[t]),M[n]=g*Math.sign(T[n]);for(let t=0;t<E;t++){let n=t*b-x;T[e]=n*r,u.push(T.x,T.y,T.z),h.push(M.x,M.y,M.z),d.push(t/y),d.push(0),C+=1}}for(let e=0;e<s;e++)for(let t=0;t<y;t++){let n=f+t+E*e,r=f+t+E*(e+1),i=f+(t+1)+E*(e+1),a=f+(t+1)+E*e;c.push(n,r,a),c.push(r,i,a),A+=6}l.addGroup(p,A,w),p+=A,f+=C}function v(r,i,a){let l=new tH,p=new tH(e/2,t/2,n/2);p.subScalar(o);let m=[],g=r*i*a>0?(e,t,n)=>c.push(e,t,n):(e,t,n)=>c.push(e,n,t);for(let e=0;e<=s;e++){let t=[],n=o9*(1-e/s),c=Math.cos(n),g=Math.sin(n),v=0;for(let n=0;n<=e;n++){let n=Math.cos(v),s=Math.sin(v);l.x=c*n,l.y=g,l.z=c*s;let m=p.clone().addScaledVector(l,o);u.push(r*m.x,i*m.y,a*m.z),h.push(r*l.x,i*l.y,a*l.z),d.push(0,0),t.push(f++),v+=o9/e}m.push(t)}let v=m.length-1;for(let e=0;e<v;e++){let t=m[e],n=m[e+1],r=t.length-1;g(t[0],n[1],n[0]);for(let e=1;e<=r;e++)g(t[e-1],t[e],n[e]),g(t[e],n[e+1],n[e])}}m("z","y","x",-1,-1,n,t,e,a,i,0),m("z","y","x",1,-1,n,t,-e,a,i,1),m("x","z","y",1,1,e,n,t,r,a,2),m("x","z","y",1,-1,e,n,-t,r,a,3),m("x","y","z",1,-1,e,t,n,r,i,4),m("x","y","z",-1,-1,e,t,-n,r,i,5),o>0&&(g("z","y","x",-1,-1,1,n,t,e,a,0),g("z","y","x",1,-1,-1,n,t,e,a,1),g("z","y","x",-1,1,-1,n,t,e,a,1),g("z","y","x",1,1,1,n,t,e,a,0),g("x","y","z",-1,-1,-1,e,t,n,r,0),g("x","y","z",1,-1,1,e,t,n,r,1),g("x","y","z",-1,1,1,e,t,n,r,0),g("x","y","z",1,1,-1,e,t,n,r,1),g("y","x","z",-1,-1,1,t,e,n,i,0),g("y","x","z",1,-1,-1,t,e,n,i,1),g("y","x","z",1,1,1,t,e,n,i,1),g("y","x","z",-1,1,-1,t,e,n,i,0),v(1,1,1),v(-1,1,1),v(1,-1,1),v(-1,-1,1),v(1,1,-1),v(-1,1,-1),v(1,-1,-1),v(-1,-1,-1)),this.setIndex(c),this.setAttribute("position",new _G(u,3)),this.setAttribute("normal",new _G(h,3)),this.setAttribute("uv",new _G(d,2))}},l9=class extends DG{constructor(e=[],t=[],n="",r=1,i=.2,a=4){super(),this.type="PolyhedronGeometryRound";let o=[],s=[],l=[];return function(){0==(i=Math.min(.99999,i))&&(a=0);let s={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[n],c=new tH,u=c.clone(),h=new fG,d=i*r,f=r-d,p=a+1,m=new tH,g=(e,t)=>m.subVectors(e,t).normalize(),v=(e,t)=>Array(e).fill(void 0).map(t),y=v(e.length/3,((t,n)=>(new tH).fromArray(e,3*n).setLength(r))),w=[],b=1e6;for(let e=0;e<y.length;e++){let n,r,i,a=y[e],o=[],s=1e10,l=-1;for(;-1!=(l=t.indexOf(e,l+1));){let e=l-l%3;n=t[e+(l+1)%3],r=t[e+(l+2)%3],i=a.distanceToSquared(y[n]),s=Math.min(s,i),o.push([n,r,i])}s+=1e-6;let c=[],u=0,h=o.length;for(let t=0;t<h;t++){[n,r,i]=o[u];let t=1==w[n]?.includes(e);i<=s&&c.push(n+ +t*b),u=o.findIndex((e=>e[0]==r))}w.push(c)}let x=[];{let e,t,n=0,r=0,i=3==s;for(let o=0;o<=a;o++){e=o*(o+1)/2,t=(o+1)*(o+2)/2;for(let s=0;s<a-o;s++)[n,r]=[e+s+o+2,t+s+o+3],x.push(e,t,...i?[r,e]:[n,t],r,n),[e,t]=[n,r];x.push(e,t,e+a+2)}}let _=c.clone(),S=c.clone(),E=c.clone(),C=c.clone(),A=c.clone(),T=[],M=v(y.length,(()=>v(s,(()=>c.clone()))));for(let e=0;e<y.length;e++){c.copy(y[e]).normalize(),_.copy(c).multiplyScalar(f);let t=w[e];for(let n=0;n<t.length;n++){let r=t[n],i=t[(n+1)%s];h.setFromPointsAndIndices(y,e,r%b,i%b),h.b.sub(h.a).setLength(1e10).add(h.a),h.c.sub(h.a).setLength(1e10).add(h.a),h.closestPointToPoint(_,M[e][n])}let n=[],r=[],i=[],v=new tH;0==a&&[...M[e]].reduce(((e,t)=>e.add(t)),v).multiplyScalar(1/s);for(let t=0;t<s;t++){let o=[],l=(t-1+s)%s,h=M[e][l],y=M[e][t];c.copy(h).sub(_),u.copy(y).sub(_);let w=_.angleTo(c),b=c.angleTo(u),x=Math.cos(w)*d;0==a?S.copy(v):S.copy(_).setLength(f+x),r.push(x);let T=[S,h,y];for(let e=0;e<2;e++){let t=T[e],r=T[e+1];C.subVectors(t,_),A.subVectors(r,_),E.crossVectors(C,A).normalize();for(let r=0;r<p;r++){let i=[w,b][e]*r/p;c.copy(C).applyAxisAngle(E,i).add(_),n.push(c.clone()),e&&(g(c,_),o.push([0==r?t:c.clone(),m.clone()]))}e&&(g(r,_),o.push([r,m.clone()]))}i.push(o)}T.push(i);let P=2*p,D=2;for(let e=0;e<s;e++){let t=P*e,i=P*((e+1)%s),a=[n[t]];for(let o=1;o<p;o++){C=n[t+o],A=n[i+o],a.push(C);for(let t=1,n=o-D+1;t<=n;t++)c.lerpVectors(C,A,t/(n+1)),c.sub(_).setLength(r[e]).add(_),a.push(c.clone());a.push(A)}for(let e=0;e<p;e++)a.push(n[e+p+t]);a.push(n[i+p]);let u=x.map((e=>a[e]));o.push(...u.map((e=>[e.x,e.y,e.z])).flat()),l.push(...u.map((e=>(g(e,_),[m.x,m.y,m.z]))).flat())}}let P=[];for(let e=0;e<w.length;e++)for(let t=0;t<s;t++){let n=w[e][t];if(n<b){let r=w[n].findIndex((t=>t%b==e)),i=T[e][t],a=T[n][r];for(let e=0;e<p;e++){let t=i[e],n=a[p-e],r=i[e+1];[t,n,r,r,n,a[p-(e+1)]].forEach((e=>{o.push(e[0].x,e[0].y,e[0].z),l.push(e[1].x,e[1].y,e[1].z)}))}P.push(i[0][0],a[p][0],i[p][0],a[0][0])}}for(;P.length;){let e,t,n,r;[e,t]=P.splice(0,2);let i=[e];for(;e!=t;)i.push(t),n=P.indexOf(t),r=n%2,t=P.splice(n-r,2)[1-r];m.subVectors(i[0],i[1]).cross(c.subVectors(i[0],i[2])).normalize();let a=m.dot(i[0])<0;a&&m.negate();for(let e=1;e<=i.length-2;e++)[i[e+ +a],i[e+1-+a],i[0]].forEach((e=>{o.push(e.x,e.y,e.z),l.push(m.x,m.y,m.z)}))}}(),function(){let e=new tH;for(let t=0;t<o.length;t+=3){e.x=o[t+0],e.y=o[t+1],e.z=o[t+2];let n=h(e)/2/Math.PI+.5,r=d(e)/Math.PI+.5;s.push(n,1-r)}let t=new tH,n=new tH,r=new tH,i=new tH,a=new AV,l=new AV,c=new AV,u=(e,t,n,r)=>{r<0&&1===e.x&&(s[t]=e.x-1),0===n.x&&0===n.z&&(s[t]=r/2/Math.PI+.5)};for(let e=0,d=0;e<o.length;e+=9,d+=6){t.set(o[e+0],o[e+1],o[e+2]),n.set(o[e+3],o[e+4],o[e+5]),r.set(o[e+6],o[e+7],o[e+8]),a.set(s[d+0],s[d+1]),l.set(s[d+2],s[d+3]),c.set(s[d+4],s[d+5]),i.copy(t).add(n).add(r).divideScalar(3);let f=h(i);u(a,d+0,t,f),u(l,d+2,n,f),u(c,d+4,r,f)}for(let e=0;e<s.length;e+=6){let t=s[e+0],n=s[e+2],r=s[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(s[e+0]+=1),n<.2&&(s[e+2]+=1),r<.2&&(s[e+4]+=1))}function h(e){return Math.atan2(e.z,-e.x)}function d(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}}(),this.setAttribute("position",new _G(o,3)),this.setAttribute("normal",new _G(l,3)),void this.setAttribute("uv",new _G(s,2))}static fromJSON(e){return new l9(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}},c9=class extends l9{constructor(e=1,t=.2,n=4){let r=(1+Math.sqrt(5))/2,i=1/r,a="DodecahedronGeometry";super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,e,t,n),this.type=a}static fromJSON(e){return new c9(e.radius,e.corner,e.cornerSides)}},u9=1e-12,h9=class{constructor(e){this.position=new AV,this.startPosition=new AV,this.uuid=CV.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new h9(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},d9=class extends h9{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new d9(this.parent).copy(this)}},f9=class extends h9{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new d9(this),new d9(this))}static create(e,t){let n=new f9(e,new AV(...t.position));return n.controls[0].position.set(...t.controlPrevious.position),n.controls[1].position.set(...t.controlNext.position),n.roundness=t.roundness,n.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,n}getOppositeControl(e){let t=this.controls.indexOf(e);return 0===t?this.controls[1]:1===t?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let n=0,r=this.controls.length;n<r;n++){let r=this.controls[n];this.position.distanceTo(r.position)<=t?r.position.copy(this.position):r.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new f9(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){let e=this.curveBefore?.getTangentAt(1),t=this.curveAfter?.getTangentAt(0);return[e,t]}computeNormals(e=new AV,t=new AV){let[n,r]=this.computeTangents();return n&&r&&(p9(n,e),p9(r,t)),[e,t]}computeTangent(e=new AV){let[t,n]=this.computeTangents();return t&&n&&e.copy(t).add(n).normalize(),e}computeNormal(e=new AV){let[t,n]=this.computeNormals();return e.copy(t).add(n).normalize(),e}};function p9(e,t=new AV){let n=e.length();return t.set(-e.y/n,e.x/n)}var m9=new AV,g9=new AV,v9=new AV,y9=new AV,w9=new AV,b9=new AV,x9=new tH,_9=new tH;function S9(e){let t=new AV;t.addVectors(e.v0,m9.subVectors(e.v1,e.v0).multiplyScalar(2/3));let n=new AV;return n.addVectors(e.v2,g9.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new PY(e.v0,t,n,e.v2)}function E9(e,t,n=Number.EPSILON){return Math.abs(e-t)<n}function C9(e,t,n=Number.EPSILON){return e.distanceTo(t)<n}function A9(e,t,n=Number.EPSILON){return e.distanceTo(t)<n}function T9(e,t,n){let r=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),i=Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)),a=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));return Math.acos((i*i+r*r-a*a)/(2*i*r))}function M9(e,t,n){return R9(e,t)&&R9(t,n)&&P9(e.position,t.position,n.position)}function P9(e,t,n){return 0===m9.copy(t).sub(e).cross(g9.copy(n).sub(e))}function D9(e,t,n,r,i){let a=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),o=(e.y+t.y)/2,s=(e.x+t.x)/2,l=Math.sqrt(Math.pow(n,2)-Math.pow(a/2,2))*(e.y-t.y)/a,c=Math.sqrt(Math.pow(n,2)-Math.pow(a/2,2))*(t.x-e.x)/a;return r.set(s+l,o+c),i.set(s-l,o-c),[r,i]}function k9(e,t,n){return e.distanceTo(n)<t.distanceTo(n)?t:e}function O9(e,t,n,r,i,a){let o,s=t.x-e.x,l=t.y-e.y,c=n.x-e.x,u=n.y-e.y,h=Math.sqrt((s+c)*(s+c)+(l+u)*(l+u));return T9(t,e,n)>Math.PI&&(h*=-1),o=E9(u,l)?(l+u)*(r/h-.5)*8/3/(s-c):(s+c)*(r/h-.5)*8/3/(u-l),i.set(t.x-o*l,t.y+o*s),a.set(n.x+o*u,n.y-o*c),[i,a]}function I9(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function R9(e,t){return P9(e.position,e.controls[1].position,t.position)&&P9(e.position,t.controls[0].position,t.position)}function L9(e,t=12,n=!1){let r=[];for(let i=0,a=e.length;i<a;i++){let a=e[i],o=0;if(n&&void 0!==a.roundedCurveCorner){let e=.5*N9(a.roundedCurveCorner,t);i>0&&(r[i-1]+=e),o+=e}void 0!==a.curveAfter&&(o+=N9(a.curveAfter,t)),r.push(o)}return e.length>0&&n&&void 0!==e[0].roundedCurveCorner&&(r[e.length-1]+=.5*N9(e[0].roundedCurveCorner,t)),r}function N9(e,t=12){return e&&e instanceof bY?2*t:e&&(e instanceof kY||e instanceof OY)?1:e&&e instanceof RY?t*e.points.length:t}var z9,B9,F9=new AV,U9=new AV,j9=new AV,V9=new AV,H9=new AV,G9=new AV,W9=class extends HY{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.plane=new sW(new tH(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this.isText=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=CV.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,n){let r=new W9;return r.isClosed=e.isClosed,r.points=e.points.map((e=>f9.create(e.id,e.data))),"number"==typeof e.roundness&&(r.roundness=e.roundness),r.shapeHoles=e.shapeHoles.map((e=>W9.createFromState(e))),void 0!==t&&void 0!==n&&r.applySize(t,n),r.update(),r}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,n=this.points.length;t<n;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map((e=>this.getPointIndexById(e))).filter((e=>e>=0))}getPointIndexById(e){let t=this.points.length,n=this.points.findIndex((t=>t.uuid===e));if(n<0){let n=t;for(let t=0,r=this.shapeHoles.length;t<r;t++){let r=this.shapeHoles[t],i=r.points.length,a=r.getPointIndexById(e);if(!(a<0))return a+n;n+=i}}return n}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0){let t=this.points.length;for(let n=0,r=this.shapeHoles.length;n<r;n++){let r=this.shapeHoles[n],i=e-t;if(i<=r.points.length-1)return r.points[i];t+=r.points.length}}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let n=0,r=this.shapeHoles.length;n<r;n++){let r=this.shapeHoles[n],i=r.points.indexOf(e);if(i>=0)return t+i;t+=r.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map((e=>e.points)));return[...this.points,...e]}applySize(e,t){0===e&&(e=.001),0===t&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let n=F9.set(e,t);for(let e=0,t=this.points.length;e<t;e++){let t=this.points[e];t.position.multiply(n),t.controls[0].position.multiply(n),t.controls[1].position.multiply(n)}for(let n=0,r=this.shapeHoles.length;n<r;n++)this.shapeHoles[n].applyScale(e,t);this._update()}createPoint(e,t=0,n=CV.generateUUID()){let r;r=e instanceof AV?e:new AV(e,t);let i=new f9(n,r);return i.roundness=this.roundness,i}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,n=this.points.length;t<n;t++){let n=this.points[t];if(n.uuid===e)return n}for(let t=0,n=this.shapeHoles.length;t<n;t++){let n=this.shapeHoles[t].getPointByUuid(e);if(n)return n}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find((t=>t.uuid===e));t&&this.removePoint(t)}update(){for(let e=0,t=this.shapeHoles.length;e<t;e++)this.shapeHoles[e].update();this._update()}extractShapePointsToBuffer(e,t=12,n=!1){this.subdivision=t,void 0===this.curveDivisions&&this.computeCurveDivisions(t);let r=n?this.roundedCurveDivisions:this.curveDivisions;return function(e,t,n=12,r=!0){let i,a=_9.set(0,0,0),o=0,s=[];for(let r=0;r<t.length;r++){let l=t[r],c=m9,u=N9(l,n);s.push(u);for(let t=0;t<=u;t++)if(l instanceof PY||l instanceof IY||l instanceof kY){if(l.getPoint(t/u,c),a.set(c.x,c.y,0),void 0!==i&&A9(i,a))continue;void 0===i&&(i=x9),i.copy(a),e.setXYZ(o,a.x,a.y,a.z),o++}}r&&o>1&&(e.getX(o-1)!==e.getX(0)||e.getY(o-1)!==e.getY(0)||e.getZ(o-1)!==e.getZ(0))&&(e.setXYZ(o,e.getX(0),e.getY(0),e.getZ(0)),o++)}(e,n?this.roundedCurves:this.curves,t,this.autoClose),r.reduce(((e,t)=>e+t),0)+1}computeCurveDivisions(e=12){return this.curveDivisions=L9(this.points,e,!1),this.roundedCurveDivisions=L9(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,n=12){return 2*function(e,t,n,r=12,i=!0){let a=_9.set(0,0,0),o=0,s=[];for(let i=0;i<t.length;i++){if(!1===n[i])continue;let l,c=t[i],u=m9,h=N9(c,r);s.push(h);for(let t=0;t<=h;t++)if(c instanceof PY||c instanceof IY||c instanceof kY){if(c.getPoint(t/h,u),a.set(u.x,u.y,0),l?.equals(a))continue;void 0===l?l=x9:(e.setXYZ(o,l.x,l.y,l.z),o++,e.setXYZ(o,a.x,a.y,a.z),o++),l.copy(a)}}return i&&o>1&&!(e.getX(o-1)===e.getX(0)&&e.getY(o-1)===e.getY(0)&&e.getZ(o-1)===e.getZ(0))&&(e.setXYZ(o,e.getX(0),e.getY(0),e.getZ(0)),o++),s}(e,this.curves,t,n,this.autoClose).reduce(((e,t)=>e+t),0)}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,void 0===this.curveDivisions&&this.computeCurveDivisions(t),function(e,t,n=12,r=!0){let i,a=0;for(let r=0;r<t.length;r++){let o=t[r],s=N9(o,n),l=m9;for(let t=0;t<=s;t++)if(o instanceof PY||o instanceof IY||o instanceof kY){if(o.getPoint(t/s,l),void 0!==i&&C9(i,l,u9))continue;void 0===i&&(i=g9),i.copy(l),e.push(l.x,l.y),a++}}return E9(e[0],e[e.length-2],u9)&&E9(e[1],e[e.length-1],u9)&&(e.pop(),e.pop()),r&&a>1&&!(E9(e[a-1],e[1],u9)&&E9(e[a-2],e[0],u9))&&(e.push(e[0],e[1]),a++),e}(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let n=0;void 0===this.curveDivisions&&this.computeCurveDivisions(this.subdivision);let r=t?this.roundedCurveDivisions:this.curveDivisions,i=0;t&&void 0!==this.points[0].roundedCurveCorner&&(i=.5*N9(this.points[0].roundedCurveCorner,this.subdivision));let a=e-i;a<0&&(a+=r.reduce(((e,t)=>e+t),0));for(let e=0,t=r.length;e<t;e++){let t=r[e];if(a<n+t)return[e,(a-n+1)/t];n+=t}return[0,1]}getCurveT(e,t,n){let r=this.points[e],i=this.points[e>=this.points.length-1?0:e+1],a=this.curveDivisions,o=a[e];if(I9(r,i)){let e=r.position.distanceTo(i.position);return r.position.distanceTo(F9.set(n.x,n.y))/e}let s=0;for(let t=0;t<e;t++)s+=a[t];return(t-s)/o}dispose(){}_applyCurveForPoint(e,t){I9(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let n=this.curves[this.curves.length-1];e.curveBefore=n,t.curveAfter=n;let r=n.clone();e.roundedCurveBefore=r,t.roundedCurveAfter=r,e.roundedCurveCorner=void 0,this.roundedCurves.push(r)}_update(){if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let e=0,t=this.points.length;e<t;e++){let t=this.points[e];if(0===e)this.moveTo(t.position.x,t.position.y);else{let n=this.points[e-1];this._applyCurveForPoint(t,n)}}let e=this.getLastPoint();if(e?.curveAfter&&(e.curveAfter=void 0),this.isClosed){let e=this.points[0],t=this.points[this.points.length-1];this._applyCurveForPoint(e,t)}if(this.points.length>2){let e=0;for(let t=0,n=this.points.length;t<n;t++){let n=this.points[t],r=this.points[t-1]??this.points[this.points.length-1],i=this.points[t+1]??this.points[0],a=n.roundness,o=r&&i&&M9(r,n,i);if(!n.controlsMoved()&&a>0&&!o){let r=n.curveBefore,i=n.curveAfter;if(void 0===r||void 0===i)continue;let o,s=n.roundedCurveBefore,l=n.roundedCurveAfter,c=r.getLength(),u=i.getLength(),h=Math.min(a,.499*c),d=Math.min(a,.499*u),f=Math.min(h,d),p=1-f/c,m=f/u,g=r.getPointAt(p,F9),v=i.getPointAt(m,U9);if(this._subSplitCurve(r,s,p,g,void 0),this._subSplitCurve(i,l,m,void 0,v),this.useCubicForRoundedCorners){let e=T9(g,n.position,v)/2,t=Math.tan(e)*g.distanceTo(n.position),[r,i]=D9(g,v,t,j9,V9),a=k9(r,i,n.position),[s,l]=O9(a,g,v,t,H9,G9);o=new PY(g.clone(),s.clone(),l.clone(),v.clone())}else o=new IY(g.clone(),n.position.clone(),v.clone());n.roundedCurveCorner=o,this.roundedCurves.splice(t+e,0,o),e++}}}}_subSplitCurve(e,t,n,r,i){if(!(e instanceof kY)){let a=e,o=t,s=a.getUtoTmapping(n,0),l=function(e,t,n,r,i=.5){let a=m9.subVectors(t,e).multiplyScalar(i).add(e),o=g9.subVectors(n,t).multiplyScalar(i).add(t),s=v9.subVectors(r,n).multiplyScalar(i).add(n),l=a,c=y9.subVectors(o,a).multiplyScalar(i).add(a),u=w9.subVectors(s,o).multiplyScalar(i).add(o),h=s,d=b9.subVectors(u,c).multiplyScalar(i).add(c);return[e.x,e.y,l.x,l.y,c.x,c.y,d.x,d.y,u.x,u.y,h.x,h.y,r.x,r.y]}(a.v0,a.v1,a.v2,a.v3,s);return void 0!==r&&(o.v0.set(l[0],l[1]),o.v1.set(l[2],l[3]),o.v2.set(l[4],l[5]),o.v3.set(l[6],l[7])),void 0!==i&&(o.v0.set(l[6],l[7]),o.v1.set(l[8],l[9]),o.v2.set(l[10],l[11]),o.v3.set(l[12],l[13])),o}return void 0!==r&&t.v2.copy(r),void 0!==i&&t.v1.copy(i),t}clone(){let e=new W9(this._width,this._height);return e.points=this.points.map((e=>e.clone())),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map((e=>e.clone())),e}toJSON(){return{points:this.points.reduce(((e,t)=>e.concat(t.toJSON())),[]),shapeHoles:this.shapeHoles.map((e=>e.toJSON())),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){this.points=[],this.pointIDs=0;let t=e.points.length/7;for(let n=0;n<t;n++){let t=7*n,r=e.points[t+0],i=e.points[t+1],a=e.points[t+2],o=e.points[t+3],s=e.points[t+4],l=e.points[t+5],c=e.points[t+6],u=new f9(CV.generateUUID(),new AV(r,i));u.controls[0].position.set(a,o),u.controls[1].position.set(s,l),u.roundness=c,this.points.push(u)}return this.shapeHoles=e.shapeHoles?.length?e.shapeHoles.map((e=>{let t=new W9;return t.fromJSON(e),t})):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e,t=!1){this.isText=t;let n=(e,t)=>{t instanceof PY&&t.v3.equals(e.position)&&e.controls[0].position.copy(t.v2)};return this.points=(e=>{let t,r,i=[];for(t=0,r=e.length;t<r;t++)e[t]instanceof IY&&(e[t]=S9(e[t]));for(t=0,r=e.length;t<r;t++){let r,a=e[t],o=t>0?e[t-1]:null;a instanceof PY?(r=this.createPoint(a.v0),r.controls[1].position.copy(a.v1)):a instanceof kY&&(r=this.createPoint(a.v1)),void 0!==r&&(null!==o&&n(r,o),i.push(r))}let a=e[e.length-1],o=!1;return a instanceof PY?a.v3.equals(i[0].position)&&(i[0].controls[0].position.copy(a.v2),o=!0):a instanceof kY&&a.v2.equals(i[0].position)&&(o=!0),this.isClosed=o,i})(e.curves),e instanceof HY&&(this.shapeHoles=e.holes.map((e=>{let t=new W9;return t.fromShape(e),t}))),this.update(),this}updatePoint(e,t){let n=this.getPointByUuid(e);n&&(void 0!==t.position&&n.position.fromArray(t.position),void 0!==t.roundness&&(n.roundness=t.roundness),void 0!==t.areControlsDirectionsMirrored&&(n.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored),this.needsUpdate=!0)}updatePreviousControl(e,t){let n=this.getPointByUuid(e)?.controls[0];n&&(t.position&&n.position.fromArray(t.position),this.needsUpdate=!0)}updateNextControl(e,t){let n=this.getPointByUuid(e)?.controls[1];n&&(t.position&&n.position.fromArray(t.position),this.needsUpdate=!0)}},q9=2*Math.PI;function X9({x:e,y:t},n,r,i,a){return{x:e*n+i,y:t*r+a}}function Y9(e,t){let n=1.5707963267948966===t?.551915024494:-1.5707963267948966===t?-.551915024494:1.3333333333333333*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[{x:r-i*n,y:i+r*n},{x:a+o*n,y:o-a*n},{x:a,y:o}]}function Q9(e,t,n,r){let i=e*r-t*n<0?-1:1,a=Math.min(1,Math.max(-1,e*n+t*r));return i*Math.acos(a)}function K9(e,t){if(!e)throw t||"Assertion Failed!"}!function(e){e[e.ODD=0]="ODD",e[e.NONZERO=1]="NONZERO",e[e.POSITIVE=2]="POSITIVE",e[e.NEGATIVE=3]="NEGATIVE",e[e.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"}(z9||(z9={})),function(e){e[e.POLYGONS=0]="POLYGONS",e[e.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",e[e.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"}(B9||(B9={}));var Z9=function(){function e(){}return e.vertEq=function(e,t){return e.s===t.s&&e.t===t.t},e.vertLeq=function(e,t){return e.s<t.s||e.s===t.s&&e.t<=t.t},e.transLeq=function(e,t){return e.t<t.t||e.t===t.t&&e.s<=t.s},e.edgeGoesLeft=function(t){return e.vertLeq(t.Dst,t.Org)},e.edgeGoesRight=function(t){return e.vertLeq(t.Org,t.Dst)},e.vertL1dist=function(e,t){return Math.abs(e.s-t.s)+Math.abs(e.t-t.t)},e.edgeEval=function(t,n,r){K9(e.vertLeq(t,n)&&e.vertLeq(n,r));var i=n.s-t.s,a=r.s-n.s;return i+a>0?i<a?n.t-t.t+(t.t-r.t)*(i/(i+a)):n.t-r.t+(r.t-t.t)*(a/(i+a)):0},e.edgeSign=function(t,n,r){K9(e.vertLeq(t,n)&&e.vertLeq(n,r));var i=n.s-t.s,a=r.s-n.s;return i+a>0?(n.t-r.t)*i+(n.t-t.t)*a:0},e.transEval=function(t,n,r){K9(e.transLeq(t,n)&&e.transLeq(n,r));var i=n.t-t.t,a=r.t-n.t;return i+a>0?i<a?n.s-t.s+(t.s-r.s)*(i/(i+a)):n.s-r.s+(r.s-t.s)*(a/(i+a)):0},e.transSign=function(t,n,r){K9(e.transLeq(t,n)&&e.transLeq(n,r));var i=n.t-t.t,a=r.t-n.t;return i+a>0?(n.s-r.s)*i+(n.s-t.s)*a:0},e.vertCCW=function(e,t,n){return e.s*(t.t-n.t)+t.s*(n.t-e.t)+n.s*(e.t-t.t)>=0},e.interpolate=function(e,t,n,r){return(e=e<0?0:e)<=(n=n<0?0:n)?0===n?(t+r)/2:t+e/(e+n)*(r-t):r+n/(e+n)*(t-r)},e.intersect=function(t,n,r,i,a){var o,s,l;e.vertLeq(t,n)||(l=t,t=n,n=l),e.vertLeq(r,i)||(l=r,r=i,i=l),e.vertLeq(t,r)||(l=t,t=r,r=l,l=n,n=i,i=l),e.vertLeq(r,n)?e.vertLeq(n,i)?((o=e.edgeEval(t,r,n))+(s=e.edgeEval(r,n,i))<0&&(o=-o,s=-s),a.s=e.interpolate(o,r.s,s,n.s)):((o=e.edgeSign(t,r,n))+(s=-e.edgeSign(t,i,n))<0&&(o=-o,s=-s),a.s=e.interpolate(o,r.s,s,i.s)):a.s=(r.s+n.s)/2,e.transLeq(t,n)||(l=t,t=n,n=l),e.transLeq(r,i)||(l=r,r=i,i=l),e.transLeq(t,r)||(l=t,t=r,r=l,l=n,n=i,i=l),e.transLeq(r,n)?e.transLeq(n,i)?((o=e.transEval(t,r,n))+(s=e.transEval(r,n,i))<0&&(o=-o,s=-s),a.t=e.interpolate(o,r.t,s,n.t)):((o=e.transSign(t,r,n))+(s=-e.transSign(t,i,n))<0&&(o=-o,s=-s),a.t=e.interpolate(o,r.t,s,i.t)):a.t=(r.t+n.t)/2},e}(),J9=function(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1},$9=function(){function e(e){this.side=e,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(e.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(e){this.Sym.Lface=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(e){this.Sym.Org=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(e){this.Sym.Lnext=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(e){this.Onext.Sym=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(e){this.Lnext.Sym=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(e){this.Sym.Onext=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(e){this.Sym.Onext.Sym=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(e){this.Sym.Lnext.Sym=e},enumerable:!0,configurable:!0}),e}(),eee=function(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0},tee=function(){function e(){var e=new eee,t=new J9,n=new $9(0),r=new $9(1);e.next=e.prev=e,e.anEdge=null,t.next=t.prev=t,n.next=n,n.Sym=r,r.next=r,r.Sym=n,this.vHead=e,this.fHead=t,this.eHead=n,this.eHeadSym=r}return e.prototype.makeEdge_=function(e){var t=new $9(0),n=new $9(1);e.Sym.side<e.side&&(e=e.Sym);var r=e.Sym.next;return n.next=r,r.Sym.next=t,t.next=e,e.Sym.next=n,t.Sym=n,t.Onext=t,t.Lnext=n,t.Org=null,t.Lface=null,t.winding=0,t.activeRegion=null,n.Sym=t,n.Onext=n,n.Lnext=t,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,t},e.prototype.splice_=function(e,t){var n=e.Onext,r=t.Onext;n.Sym.Lnext=t,r.Sym.Lnext=e,e.Onext=r,t.Onext=n},e.prototype.makeVertex_=function(e,t,n){var r=e;K9(r,"Vertex can't be null!");var i=n.prev;r.prev=i,i.next=r,r.next=n,n.prev=r,r.anEdge=t;var a=t;do{a.Org=r,a=a.Onext}while(a!==t)},e.prototype.makeFace_=function(e,t,n){var r=e;K9(r,"Face can't be null");var i=n.prev;r.prev=i,i.next=r,r.next=n,n.prev=r,r.anEdge=t,r.trail=null,r.marked=!1,r.inside=n.inside;var a=t;do{a.Lface=r,a=a.Lnext}while(a!==t)},e.prototype.killEdge_=function(e){e.Sym.side<e.side&&(e=e.Sym);var t=e.next,n=e.Sym.next;t.Sym.next=n,n.Sym.next=t},e.prototype.killVertex_=function(e,t){var n=e.anEdge,r=n;do{r.Org=t,r=r.Onext}while(r!==n);var i=e.prev,a=e.next;a.prev=i,i.next=a},e.prototype.killFace_=function(e,t){var n=e.anEdge,r=n;do{r.Lface=t,r=r.Lnext}while(r!==n);var i=e.prev,a=e.next;a.prev=i,i.next=a},e.prototype.makeEdge=function(){var e=new eee,t=new eee,n=new J9,r=this.makeEdge_(this.eHead);return this.makeVertex_(e,r,this.vHead),this.makeVertex_(t,r.Sym,this.vHead),this.makeFace_(n,r,this.fHead),r},e.prototype.splice=function(e,t){var n=!1,r=!1;if(e!==t){if(t.Org!==e.Org&&(r=!0,this.killVertex_(t.Org,e.Org)),t.Lface!==e.Lface&&(n=!0,this.killFace_(t.Lface,e.Lface)),this.splice_(t,e),!r){var i=new eee;this.makeVertex_(i,t,e.Org),e.Org.anEdge=e}if(!n){var a=new J9;this.makeFace_(a,t,e.Lface),e.Lface.anEdge=e}}},e.prototype.delete=function(e){var t=e.Sym,n=!1;if(e.Lface!==e.Rface&&(n=!0,this.killFace_(e.Lface,e.Rface)),e.Onext===e)this.killVertex_(e.Org,null);else if(e.Rface.anEdge=e.Oprev,e.Org.anEdge=e.Onext,this.splice_(e,e.Oprev),!n){var r=new J9;this.makeFace_(r,e,e.Lface)}t.Onext===t?(this.killVertex_(t.Org,null),this.killFace_(t.Lface,null)):(e.Lface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev)),this.killEdge_(e)},e.prototype.addEdgeVertex=function(e){var t=this.makeEdge_(e),n=t.Sym;this.splice_(t,e.Lnext),t.Org=e.Dst;var r=new eee;return this.makeVertex_(r,n,t.Org),t.Lface=n.Lface=e.Lface,t},e.prototype.splitEdge=function(e){var t=this.addEdgeVertex(e).Sym;return this.splice_(e.Sym,e.Sym.Oprev),this.splice_(e.Sym,t),e.Dst=t.Org,t.Dst.anEdge=t.Sym,t.Rface=e.Rface,t.winding=e.winding,t.Sym.winding=e.Sym.winding,t.idx=e.idx,t.Sym.idx=e.Sym.idx,t},e.prototype.connect=function(e,t){var n=!1,r=this.makeEdge_(e),i=r.Sym;if(t.Lface!==e.Lface&&(n=!0,this.killFace_(t.Lface,e.Lface)),this.splice_(r,e.Lnext),this.splice_(i,t),r.Org=e.Dst,i.Org=t.Org,r.Lface=i.Lface=e.Lface,e.Lface.anEdge=i,!n){var a=new J9;this.makeFace_(a,r,e.Lface)}return r},e.prototype.zapFace=function(e){var t,n,r,i,a,o=e.anEdge;n=o.Lnext;do{n=(t=n).Lnext,t.Lface=null,null===t.Rface&&(t.Onext===t?this.killVertex_(t.Org,null):(t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev)),(r=t.Sym).Onext===r?this.killVertex_(r.Org,null):(r.Org.anEdge=r.Onext,this.splice_(r,r.Oprev)),this.killEdge_(t))}while(t!=o);i=e.prev,(a=e.next).prev=i,i.next=a},e.prototype.countFaceVerts_=function(e){var t=e.anEdge,n=0;do{n++,t=t.Lnext}while(t!==e.anEdge);return n},e.prototype.mergeConvexFaces=function(e){var t,n,r,i,a;for(t=this.fHead.next;t!==this.fHead;t=t.next)if(t.inside)for(a=(n=t.anEdge).Org;r=n.Lnext,(i=n.Sym)&&i.Lface&&i.Lface.inside&&this.countFaceVerts_(t)+this.countFaceVerts_(i.Lface)-2<=e&&Z9.vertCCW(n.Lprev.Org,n.Org,i.Lnext.Lnext.Org)&&Z9.vertCCW(i.Lprev.Org,i.Org,n.Lnext.Lnext.Org)&&(r=i.Lnext,this.delete(i),n=null,i=null),!n||n.Lnext.Org!==a;)n=r;return!0},e.prototype.check=function(){var e,t,n,r,i,a,o=this.fHead,s=this.vHead,l=this.eHead;for(t=o,t=o;(e=t.next)!==o;t=e){K9(e.prev===t),i=e.anEdge;do{K9(i.Sym!==i),K9(i.Sym.Sym===i),K9(i.Lnext.Onext.Sym===i),K9(i.Onext.Sym.Lnext===i),K9(i.Lface===e),i=i.Lnext}while(i!==e.anEdge)}for(K9(e.prev===t&&null===e.anEdge),r=s,r=s;(n=r.next)!==s;r=n){K9(n.prev===r),i=n.anEdge;do{K9(i.Sym!==i),K9(i.Sym.Sym===i),K9(i.Lnext.Onext.Sym===i),K9(i.Onext.Sym.Lnext===i),K9(i.Org===n),i=i.Onext}while(i!==n.anEdge)}for(K9(n.prev===r&&null===n.anEdge),a=l,a=l;(i=a.next)!==l;a=i)K9(i.Sym.next===a.Sym),K9(i.Sym!==i),K9(i.Sym.Sym===i),K9(null!==i.Org),K9(null!==i.Dst),K9(i.Lnext.Onext.Sym===i),K9(i.Onext.Sym.Lnext===i);K9(i.Sym.next===a.Sym&&i.Sym===this.eHeadSym&&i.Sym.Sym===i&&null===i.Org&&null===i.Dst&&null===i.Lface&&null===i.Rface)},e}(),nee=function(){this.handle=null},ree=function(){this.key=null,this.node=0},iee=function(){function e(e,t){this.leq=t,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=e,this.nodes=[],this.handles=[];for(var n=0;n<e+1;n++)this.nodes[n]=new nee,this.handles[n]=new ree;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return e.prototype.floatDown_=function(e){var t,n,r,i=this.nodes,a=this.handles;for(t=i[e].handle;;){if((r=e<<1)<this.size&&this.leq(a[i[r+1].handle].key,a[i[r].handle].key)&&++r,K9(r<=this.max),n=i[r].handle,r>this.size||this.leq(a[t].key,a[n].key)){i[e].handle=t,a[t].node=e;break}i[e].handle=n,a[n].node=e,e=r}},e.prototype.floatUp_=function(e){var t,n,r,i=this.nodes,a=this.handles;for(t=i[e].handle;;){if(n=i[r=e>>1].handle,0===r||this.leq(a[n].key,a[t].key)){i[e].handle=t,a[t].node=e;break}i[e].handle=n,a[n].node=e,e=r}},e.prototype.init=function(){for(var e=this.size;e>=1;--e)this.floatDown_(e);this.initialized=!0},e.prototype.min=function(){return this.handles[this.nodes[1].handle].key},e.prototype.insert=function(e){var t,n;if(2*(t=++this.size)>this.max){var r,i;for(this.max*=2,i=this.nodes.length,this.nodes.length=this.max+1,r=i;r<this.nodes.length;r++)this.nodes[r]=new nee;for(i=this.handles.length,this.handles.length=this.max+1,r=i;r<this.handles.length;r++)this.handles[r]=new ree}return 0===this.freeList?n=t:(n=this.freeList,this.freeList=this.handles[n].node),this.nodes[t].handle=n,this.handles[n].node=t,this.handles[n].key=e,this.initialized&&this.floatUp_(t),n},e.prototype.extractMin=function(){var e=this.nodes,t=this.handles,n=e[1].handle,r=t[n].key;return this.size>0&&(e[1].handle=e[this.size].handle,t[e[1].handle].node=1,t[n].key=null,t[n].node=this.freeList,this.freeList=n,--this.size,this.size>0&&this.floatDown_(1)),r},e.prototype.delete=function(e){var t,n=this.nodes,r=this.handles;K9(e>=1&&e<=this.max&&null!==r[e].key),n[t=r[e].node].handle=n[this.size].handle,r[n[t].handle].node=t,--this.size,t<=this.size&&(t<=1||this.leq(r[n[t>>1].handle].key,r[n[t].handle].key)?this.floatDown_(t):this.floatUp_(t)),r[e].key=null,r[e].node=this.freeList,this.freeList=e},e}(),aee=function(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1},oee=function(){this.key=null,this.next=null,this.prev=null},see=function(){function e(e,t){this.frame=e,this.leq=t,this.head=new oee,this.head.next=this.head,this.head.prev=this.head}return e.prototype.min=function(){return this.head.next},e.prototype.max=function(){return this.head.prev},e.prototype.insert=function(e){return this.insertBefore(this.head,e)},e.prototype.search=function(e){var t=this.head;do{t=t.next}while(null!==t.key&&!this.leq(this.frame,e,t.key));return t},e.prototype.insertBefore=function(e,t){do{e=e.prev}while(null!==e.key&&!this.leq(this.frame,e.key,t));var n=new oee;return n.key=t,n.next=e.next,e.next.prev=n,n.prev=e,e.next=n,n},e.prototype.delete=function(e){e.next.prev=e.prev,e.prev.next=e.next},e}(),lee=function(){function e(){}return e.regionBelow=function(e){return e.nodeUp.prev.key},e.regionAbove=function(e){return e.nodeUp.next.key},e.debugEvent=function(e){},e.addWinding=function(e,t){e.winding+=t.winding,e.Sym.winding+=t.Sym.winding},e.edgeLeq=function(e,t,n){var r=e.event,i=t.eUp,a=n.eUp;return i.Dst===r?a.Dst===r?Z9.vertLeq(i.Org,a.Org)?Z9.edgeSign(a.Dst,i.Org,a.Org)<=0:Z9.edgeSign(i.Dst,a.Org,i.Org)>=0:Z9.edgeSign(a.Dst,r,a.Org)<=0:a.Dst===r?Z9.edgeSign(i.Dst,r,i.Org)>=0:Z9.edgeEval(i.Dst,r,i.Org)>=Z9.edgeEval(a.Dst,r,a.Org)},e.deleteRegion=function(e,t){t.fixUpperEdge&&K9(0===t.eUp.winding),t.eUp.activeRegion=null,e.dict.delete(t.nodeUp)},e.fixUpperEdge=function(e,t,n){K9(t.fixUpperEdge),e.mesh.delete(t.eUp),t.fixUpperEdge=!1,t.eUp=n,n.activeRegion=t},e.topLeftRegion=function(t,n){var r,i=n.eUp.Org;do{n=e.regionAbove(n)}while(n.eUp.Org===i);if(n.fixUpperEdge){if(null===(r=t.mesh.connect(e.regionBelow(n).eUp.Sym,n.eUp.Lnext)))return null;e.fixUpperEdge(t,n,r),n=e.regionAbove(n)}return n},e.topRightRegion=function(t){var n=t.eUp.Dst;do{t=e.regionAbove(t)}while(t.eUp.Dst===n);return t},e.addRegionBelow=function(e,t,n){var r=new aee;return r.eUp=n,r.nodeUp=e.dict.insertBefore(t.nodeUp,r),r.fixUpperEdge=!1,r.sentinel=!1,r.dirty=!1,n.activeRegion=r,r},e.isWindingInside=function(e,t){switch(e.windingRule){case z9.ODD:return 0!=(1&t);case z9.NONZERO:return 0!==t;case z9.POSITIVE:return t>0;case z9.NEGATIVE:return t<0;case z9.ABS_GEQ_TWO:return t>=2||t<=-2}throw new Error("Invalid winding rulle")},e.computeWinding=function(t,n){n.windingNumber=e.regionAbove(n).windingNumber+n.eUp.winding,n.inside=e.isWindingInside(t,n.windingNumber)},e.finishRegion=function(t,n){var r=n.eUp,i=r.Lface;i.inside=n.inside,i.anEdge=r,e.deleteRegion(t,n)},e.finishLeftRegions=function(t,n,r){for(var i,a=null,o=n,s=n.eUp;o!==r;){if(o.fixUpperEdge=!1,(i=(a=e.regionBelow(o)).eUp).Org!=s.Org){if(!a.fixUpperEdge){e.finishRegion(t,o);break}i=t.mesh.connect(s.Lprev,i.Sym),e.fixUpperEdge(t,a,i)}s.Onext!==i&&(t.mesh.splice(i.Oprev,i),t.mesh.splice(s,i)),e.finishRegion(t,o),s=a.eUp,o=a}return s},e.addRightEdges=function(t,n,r,i,a,o){var s,l,c,u,h=!0;c=r;do{K9(Z9.vertLeq(c.Org,c.Dst)),e.addRegionBelow(t,n,c.Sym),c=c.Onext}while(c!==i);for(null===a&&(a=e.regionBelow(n).eUp.Rprev),l=n,u=a;(c=(s=e.regionBelow(l)).eUp.Sym).Org===u.Org;)c.Onext!==u&&(t.mesh.splice(c.Oprev,c),t.mesh.splice(u.Oprev,c)),s.windingNumber=l.windingNumber-c.winding,s.inside=e.isWindingInside(t,s.windingNumber),l.dirty=!0,!h&&e.checkForRightSplice(t,l)&&(e.addWinding(c,u),e.deleteRegion(t,l),t.mesh.delete(u)),h=!1,l=s,u=c;l.dirty=!0,K9(l.windingNumber-c.winding===s.windingNumber),o&&e.walkDirtyRegions(t,l)},e.spliceMergeVertices=function(e,t,n){e.mesh.splice(t,n)},e.vertexWeights=function(e,t,n){var r=Z9.vertL1dist(t,e),i=Z9.vertL1dist(n,e),a=.5*i/(r+i),o=.5*r/(r+i);e.coords[0]+=a*t.coords[0]+o*n.coords[0],e.coords[1]+=a*t.coords[1]+o*n.coords[1],e.coords[2]+=a*t.coords[2]+o*n.coords[2]},e.getIntersectData=function(t,n,r,i,a,o){n.coords[0]=n.coords[1]=n.coords[2]=0,n.idx=-1,e.vertexWeights(n,r,i),e.vertexWeights(n,a,o)},e.checkForRightSplice=function(t,n){var r=e.regionBelow(n),i=n.eUp,a=r.eUp;if(Z9.vertLeq(i.Org,a.Org)){if(Z9.edgeSign(a.Dst,i.Org,a.Org)>0)return!1;Z9.vertEq(i.Org,a.Org)?i.Org!==a.Org&&(t.pq.delete(i.Org.pqHandle),e.spliceMergeVertices(t,a.Oprev,i)):(t.mesh.splitEdge(a.Sym),t.mesh.splice(i,a.Oprev),n.dirty=r.dirty=!0)}else{if(Z9.edgeSign(i.Dst,a.Org,i.Org)<0)return!1;e.regionAbove(n).dirty=n.dirty=!0,t.mesh.splitEdge(i.Sym),t.mesh.splice(a.Oprev,i)}return!0},e.checkForLeftSplice=function(t,n){var r,i=e.regionBelow(n),a=n.eUp,o=i.eUp;if(K9(!Z9.vertEq(a.Dst,o.Dst)),Z9.vertLeq(a.Dst,o.Dst)){if(Z9.edgeSign(a.Dst,o.Dst,a.Org)<0)return!1;e.regionAbove(n).dirty=n.dirty=!0,r=t.mesh.splitEdge(a),t.mesh.splice(o.Sym,r),r.Lface.inside=n.inside}else{if(Z9.edgeSign(o.Dst,a.Dst,o.Org)>0)return!1;n.dirty=i.dirty=!0,r=t.mesh.splitEdge(o),t.mesh.splice(a.Lnext,o.Sym),r.Rface.inside=n.inside}return!0},e.checkForIntersect=function(t,n){var r,i,a=e.regionBelow(n),o=n.eUp,s=a.eUp,l=o.Org,c=s.Org,u=o.Dst,h=s.Dst,d=new eee;if(K9(!Z9.vertEq(h,u)),K9(Z9.edgeSign(u,t.event,l)<=0),K9(Z9.edgeSign(h,t.event,c)>=0),K9(l!==t.event&&c!==t.event),K9(!n.fixUpperEdge&&!a.fixUpperEdge),l===c||Math.min(l.t,u.t)>Math.max(c.t,h.t))return!1;if(Z9.vertLeq(l,c)){if(Z9.edgeSign(h,l,c)>0)return!1}else if(Z9.edgeSign(u,c,l)<0)return!1;return e.debugEvent(t),Z9.intersect(u,l,h,c,d),K9(Math.min(l.t,u.t)<=d.t),K9(d.t<=Math.max(c.t,h.t)),K9(Math.min(h.s,u.s)<=d.s),K9(d.s<=Math.max(c.s,l.s)),Z9.vertLeq(d,t.event)&&(d.s=t.event.s,d.t=t.event.t),r=Z9.vertLeq(l,c)?l:c,Z9.vertLeq(r,d)&&(d.s=r.s,d.t=r.t),Z9.vertEq(d,l)||Z9.vertEq(d,c)?(e.checkForRightSplice(t,n),!1):!Z9.vertEq(u,t.event)&&Z9.edgeSign(u,t.event,d)>=0||!Z9.vertEq(h,t.event)&&Z9.edgeSign(h,t.event,d)<=0?h===t.event?(t.mesh.splitEdge(o.Sym),t.mesh.splice(s.Sym,o),n=e.topLeftRegion(t,n),o=e.regionBelow(n).eUp,e.finishLeftRegions(t,e.regionBelow(n),a),e.addRightEdges(t,n,o.Oprev,o,o,!0),!0):u===t.event?(t.mesh.splitEdge(s.Sym),t.mesh.splice(o.Lnext,s.Oprev),a=n,n=e.topRightRegion(n),i=e.regionBelow(n).eUp.Rprev,a.eUp=s.Oprev,s=e.finishLeftRegions(t,a,null),e.addRightEdges(t,n,s.Onext,o.Rprev,i,!0),!0):(Z9.edgeSign(u,t.event,d)>=0&&(e.regionAbove(n).dirty=n.dirty=!0,t.mesh.splitEdge(o.Sym),o.Org.s=t.event.s,o.Org.t=t.event.t),Z9.edgeSign(h,t.event,d)<=0&&(n.dirty=a.dirty=!0,t.mesh.splitEdge(s.Sym),s.Org.s=t.event.s,s.Org.t=t.event.t),!1):(t.mesh.splitEdge(o.Sym),t.mesh.splitEdge(s.Sym),t.mesh.splice(s.Oprev,o),o.Org.s=d.s,o.Org.t=d.t,o.Org.pqHandle=t.pq.insert(o.Org),e.getIntersectData(t,o.Org,l,u,c,h),e.regionAbove(n).dirty=n.dirty=a.dirty=!0,!1)},e.walkDirtyRegions=function(t,n){for(var r,i,a=e.regionBelow(n);;){for(;a.dirty;)n=a,a=e.regionBelow(a);if(!n.dirty&&(a=n,null===(n=e.regionAbove(n))||!n.dirty))return;if(n.dirty=!1,r=n.eUp,i=a.eUp,r.Dst!==i.Dst&&e.checkForLeftSplice(t,n)&&(a.fixUpperEdge?(e.deleteRegion(t,a),t.mesh.delete(i),i=(a=e.regionBelow(n)).eUp):n.fixUpperEdge&&(e.deleteRegion(t,n),t.mesh.delete(r),r=(n=e.regionAbove(a)).eUp)),r.Org!==i.Org)if(r.Dst===i.Dst||n.fixUpperEdge||a.fixUpperEdge||r.Dst!==t.event&&i.Dst!==t.event)e.checkForRightSplice(t,n);else if(e.checkForIntersect(t,n))return;r.Org===i.Org&&r.Dst===i.Dst&&(e.addWinding(i,r),e.deleteRegion(t,n),t.mesh.delete(r),n=e.regionAbove(a))}},e.connectRightVertex=function(t,n,r){var i,a=r.Onext,o=e.regionBelow(n),s=n.eUp,l=o.eUp,c=!1;s.Dst!==l.Dst&&e.checkForIntersect(t,n),Z9.vertEq(s.Org,t.event)&&(t.mesh.splice(a.Oprev,s),n=e.topLeftRegion(t,n),a=e.regionBelow(n).eUp,e.finishLeftRegions(t,e.regionBelow(n),o),c=!0),Z9.vertEq(l.Org,t.event)&&(t.mesh.splice(r,l.Oprev),r=e.finishLeftRegions(t,o,null),c=!0),c?e.addRightEdges(t,n,r.Onext,a,a,!0):(i=Z9.vertLeq(l.Org,s.Org)?l.Oprev:s,i=t.mesh.connect(r.Lprev,i),e.addRightEdges(t,n,i,i.Onext,i.Onext,!1),i.Sym.activeRegion.fixUpperEdge=!0,e.walkDirtyRegions(t,n))},e.connectLeftDegenerate=function(t,n,r){var i,a,o,s,l;return i=n.eUp,Z9.vertEq(i.Org,r)?(K9(!1),void e.spliceMergeVertices(t,i,r.anEdge)):Z9.vertEq(i.Dst,r)?(K9(!1),n=e.topRightRegion(n),a=s=(o=(l=e.regionBelow(n)).eUp.Sym).Onext,l.fixUpperEdge&&(K9(a!==o),e.deleteRegion(t,l),t.mesh.delete(o),o=a.Oprev),t.mesh.splice(r.anEdge,o),Z9.edgeGoesLeft(a)||(a=null),void e.addRightEdges(t,n,o.Onext,s,a,!0)):(t.mesh.splitEdge(i.Sym),n.fixUpperEdge&&(t.mesh.delete(i.Onext),n.fixUpperEdge=!1),t.mesh.splice(r.anEdge,i),void e.sweepEvent(t,r))},e.connectLeftVertex=function(t,n){var r,i,a,o,s,l,c=new aee;if(c.eUp=n.anEdge.Sym,r=t.dict.search(c).key,i=e.regionBelow(r)){if(o=r.eUp,s=i.eUp,0===Z9.edgeSign(o.Dst,n,o.Org))return void e.connectLeftDegenerate(t,r,n);a=Z9.vertLeq(s.Dst,o.Dst)?r:i,r.inside||a.fixUpperEdge?(l=a===r?t.mesh.connect(n.anEdge.Sym,o.Lnext):t.mesh.connect(s.Dnext,n.anEdge).Sym,a.fixUpperEdge?e.fixUpperEdge(t,a,l):e.computeWinding(t,e.addRegionBelow(t,r,l)),e.sweepEvent(t,n)):e.addRightEdges(t,r,n.anEdge,n.anEdge,null,!0)}},e.sweepEvent=function(t,n){t.event=n,e.debugEvent(t);for(var r=n.anEdge;null===r.activeRegion;)if((r=r.Onext)===n.anEdge)return void e.connectLeftVertex(t,n);var i=e.topLeftRegion(t,r.activeRegion);K9(null!==i);var a=e.regionBelow(i),o=a.eUp,s=e.finishLeftRegions(t,a,null);s.Onext===o?e.connectRightVertex(t,i,s):e.addRightEdges(t,i,s.Onext,o,o,!0)},e.addSentinel=function(e,t,n,r){var i=new aee,a=e.mesh.makeEdge();a.Org.s=n,a.Org.t=r,a.Dst.s=t,a.Dst.t=r,e.event=a.Dst,i.eUp=a,i.windingNumber=0,i.inside=!1,i.fixUpperEdge=!1,i.sentinel=!0,i.dirty=!1,i.nodeUp=e.dict.insert(i)},e.initEdgeDict=function(t){t.dict=new see(t,e.edgeLeq);var n=t.bmax[0]-t.bmin[0],r=t.bmax[1]-t.bmin[1],i=t.bmin[0]-n,a=t.bmax[0]+n,o=t.bmin[1]-r,s=t.bmax[1]+r;e.addSentinel(t,i,a,o),e.addSentinel(t,i,a,s)},e.doneEdgeDict=function(t){for(var n,r=0;null!==(n=t.dict.min().key);)n.sentinel||(K9(n.fixUpperEdge),K9(1==++r)),K9(0===n.windingNumber),e.deleteRegion(t,n)},e.removeDegenerateEdges=function(t){var n,r,i,a=t.mesh.eHead;for(n=a.next;n!==a;n=r)r=n.next,i=n.Lnext,Z9.vertEq(n.Org,n.Dst)&&n.Lnext.Lnext!==n&&(e.spliceMergeVertices(t,i,n),t.mesh.delete(n),i=(n=i).Lnext),i.Lnext===n&&(i!==n&&((i===r||i===r.Sym)&&(r=r.next),t.mesh.delete(i)),(n===r||n===r.Sym)&&(r=r.next),t.mesh.delete(n))},e.initPriorityQ=function(e){var t,n,r,i=0;for(n=(r=e.mesh.vHead).next;n!==r;n=n.next)i++;for(i+=8,t=e.pq=new iee(i,Z9.vertLeq),n=(r=e.mesh.vHead).next;n!==r;n=n.next)n.pqHandle=t.insert(n);return n===r&&(t.init(),!0)},e.donePriorityQ=function(e){e.pq=null},e.removeDegenerateFaces=function(t,n){var r,i,a;for(r=n.fHead.next;r!==n.fHead;r=i)i=r.next,K9((a=r.anEdge).Lnext!==a),a.Lnext.Lnext===a&&(e.addWinding(a.Onext,a),t.mesh.delete(a));return!0},e.computeInterior=function(t,n){var r,i;if(void 0===n&&(n=!0),e.removeDegenerateEdges(t),!e.initPriorityQ(t))return!1;for(e.initEdgeDict(t);null!==(r=t.pq.extractMin());){for(;null!==(i=t.pq.min())&&Z9.vertEq(i,r);)i=t.pq.extractMin(),e.spliceMergeVertices(t,r.anEdge,i.anEdge);e.sweepEvent(t,r)}return t.event=t.dict.min().key.eUp.Org,e.debugEvent(t),e.doneEdgeDict(t),e.donePriorityQ(t),!!e.removeDegenerateFaces(t,t.mesh)&&(n&&t.mesh.check(),!0)},e}(),cee=function(){function e(){this.mesh=new tee,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=z9.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return e.prototype.dot_=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.prototype.normalize_=function(e){var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];if(!t)throw"Zero-size vector!";t=Math.sqrt(t),e[0]/=t,e[1]/=t,e[2]/=t},e.prototype.longAxis_=function(e){var t=0;return Math.abs(e[1])>Math.abs(e[0])&&(t=1),Math.abs(e[2])>Math.abs(e[t])&&(t=2),t},e.prototype.computeNormal_=function(e){var t,n,r,i,a,o,s=[0,0,0],l=[0,0,0],c=[0,0,0],u=[0,0,0],h=[0,0,0],d=[null,null,null],f=[null,null,null],p=this.mesh.vHead;t=p.next;for(var m=0;m<3;++m)i=t.coords[m],l[m]=i,f[m]=t,s[m]=i,d[m]=t;for(t=p.next;t!==p;t=t.next)for(var g=0;g<3;++g)(i=t.coords[g])<l[g]&&(l[g]=i,f[g]=t),i>s[g]&&(s[g]=i,d[g]=t);var v=0;if(s[1]-l[1]>s[0]-l[0]&&(v=1),s[2]-l[2]>s[v]-l[v]&&(v=2),l[v]>=s[v])return e[0]=0,e[1]=0,void(e[2]=1);for(o=0,n=f[v],r=d[v],c[0]=n.coords[0]-r.coords[0],c[1]=n.coords[1]-r.coords[1],c[2]=n.coords[2]-r.coords[2],t=p.next;t!==p;t=t.next)u[0]=t.coords[0]-r.coords[0],u[1]=t.coords[1]-r.coords[1],u[2]=t.coords[2]-r.coords[2],h[0]=c[1]*u[2]-c[2]*u[1],h[1]=c[2]*u[0]-c[0]*u[2],h[2]=c[0]*u[1]-c[1]*u[0],(a=h[0]*h[0]+h[1]*h[1]+h[2]*h[2])>o&&(o=a,e[0]=h[0],e[1]=h[1],e[2]=h[2]);o<=0&&(e[0]=e[1]=e[2]=0,e[this.longAxis_(c)]=1)},e.prototype.checkOrientation_=function(){for(var e,t,n=this.mesh.fHead,r=this.mesh.vHead,i=0,a=n.next;a!==n;a=a.next)if(!((t=a.anEdge).winding<=0))do{i+=(t.Org.s-t.Dst.s)*(t.Org.t+t.Dst.t),t=t.Lnext}while(t!==a.anEdge);if(i<0){for(e=r.next;e!==r;e=e.next)e.t=-e.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},e.prototype.projectPolygon_=function(){var e,t,n=this.mesh.vHead,r=[0,0,0],i=!1;r[0]=this.normal[0],r[1]=this.normal[1],r[2]=this.normal[2],!r[0]&&!r[1]&&!r[2]&&(this.computeNormal_(r),i=!0),e=this.sUnit,t=this.tUnit;var a=this.longAxis_(r);e[a]=0,e[(a+1)%3]=1,e[(a+2)%3]=0,t[a]=0,t[(a+1)%3]=0,t[(a+2)%3]=r[a]>0?1:-1;for(var o=n.next;o!==n;o=o.next)o.s=this.dot_(o.coords,e),o.t=this.dot_(o.coords,t);i&&this.checkOrientation_();for(var s=!0,l=n.next;l!==n;l=l.next)s?(this.bmin[0]=this.bmax[0]=l.s,this.bmin[1]=this.bmax[1]=l.t,s=!1):(l.s<this.bmin[0]&&(this.bmin[0]=l.s),l.s>this.bmax[0]&&(this.bmax[0]=l.s),l.t<this.bmin[1]&&(this.bmin[1]=l.t),l.t>this.bmax[1]&&(this.bmax[1]=l.t))},e.prototype.addWinding_=function(e,t){e.winding+=t.winding,e.Sym.winding+=t.Sym.winding},e.prototype.tessellateMonoRegion_=function(e,t){var n,r;if((n=t.anEdge).Lnext===n||n.Lnext.Lnext===n)throw"Mono region invalid";for(;Z9.vertLeq(n.Dst,n.Org);n=n.Lprev);for(;Z9.vertLeq(n.Org,n.Dst);n=n.Lnext);for(r=n.Lprev;n.Lnext!==r;)if(Z9.vertLeq(n.Dst,r.Org)){for(;r.Lnext!==n&&(Z9.edgeGoesLeft(r.Lnext)||Z9.edgeSign(r.Org,r.Dst,r.Lnext.Dst)<=0);)r=e.connect(r.Lnext,r).Sym;r=r.Lprev}else{for(;r.Lnext!==n&&(Z9.edgeGoesRight(n.Lprev)||Z9.edgeSign(n.Dst,n.Org,n.Lprev.Org)>=0);)n=e.connect(n,n.Lprev).Sym;n=n.Lnext}if(r.Lnext===n)throw"Mono region invalid";for(;r.Lnext.Lnext!==n;)r=e.connect(r.Lnext,r).Sym;return!0},e.prototype.tessellateInterior_=function(e){for(var t,n=e.fHead.next;n!==e.fHead;n=t)if(t=n.next,n.inside&&!this.tessellateMonoRegion_(e,n))return!1;return!0},e.prototype.discardExterior_=function(e){for(var t,n=e.fHead.next;n!==e.fHead;n=t)t=n.next,n.inside||e.zapFace(n)},e.prototype.setWindingNumber_=function(e,t,n){for(var r,i=e.eHead.next;i!==e.eHead;i=r)r=i.next,i.Rface.inside!==i.Lface.inside?i.winding=i.Lface.inside?t:-t:n?e.delete(i):i.winding=0},e.prototype.getNeighbourFace_=function(e){return e.Rface&&e.Rface.inside?e.Rface.n:-1},e.prototype.outputPolymesh_=function(e,t,n,r){var i,a,o=0,s=0;n>3&&e.mergeConvexFaces(n);for(var l=e.vHead.next;l!==e.vHead;l=l.next)l.n=-1;for(var c=e.fHead.next;c!==e.fHead;c=c.next)if(c.n=-1,c.inside){i=c.anEdge,a=0;do{-1===(l=i.Org).n&&(l.n=s,s++),a++,i=i.Lnext}while(i!==c.anEdge);if(a>n)throw"Face vertex greater that support polygon";c.n=o,++o}for(this.elementCount=o,t===B9.CONNECTED_POLYGONS&&(o*=2),this.elements=[],this.elements.length=o*n,this.vertexCount=s,this.vertices=[],this.vertices.length=s*r,this.vertexIndices=[],this.vertexIndices.length=s,l=e.vHead.next;l!==e.vHead;l=l.next)if(-1!==l.n){var u=l.n*r;this.vertices[u+0]=l.coords[0],this.vertices[u+1]=l.coords[1],r>2&&(this.vertices[u+2]=l.coords[2]),this.vertexIndices[l.n]=l.idx}var h=0;for(c=e.fHead.next;c!==e.fHead;c=c.next)if(c.inside){i=c.anEdge,a=0;do{l=i.Org,this.elements[h++]=l.n,a++,i=i.Lnext}while(i!==c.anEdge);for(var d=a;d<n;++d)this.elements[h++]=-1;if(t===B9.CONNECTED_POLYGONS){i=c.anEdge;do{this.elements[h++]=this.getNeighbourFace_(i),i=i.Lnext}while(i!==c.anEdge);for(var f=a;f<n;++f)this.elements[h++]=-1}}},e.prototype.outputContours_=function(e,t){var n,r,i=0,a=0;this.vertexCount=0,this.elementCount=0;for(var o=e.fHead.next;o!==e.fHead;o=o.next)if(o.inside){r=n=o.anEdge;do{this.vertexCount++,n=n.Lnext}while(n!==r);this.elementCount++}this.elements=[],this.elements.length=2*this.elementCount,this.vertices=[],this.vertices.length=this.vertexCount*t,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var s=0,l=0,c=0;for(i=0,o=e.fHead.next;o!==e.fHead;o=o.next)if(o.inside){a=0,r=n=o.anEdge;do{this.vertices[s++]=n.Org.coords[0],this.vertices[s++]=n.Org.coords[1],t>2&&(this.vertices[s++]=n.Org.coords[2]),this.vertexIndices[l++]=this.vertexIdCallback?this.vertexIdCallback(n):n.Org.idx,a++,n=n.Lnext}while(n!==r);this.elements[c++]=i,this.elements[c++]=a,i+=a}},e.prototype.addContour=function(e,t){null===this.mesh&&(this.mesh=new tee),e<2&&(e=2),e>3&&(e=3);for(var n=null,r=0;r<t.length;r+=e)null===n?(n=this.mesh.makeEdge(),this.mesh.splice(n,n.Sym)):(this.mesh.splitEdge(n),n=n.Lnext),n.Org.coords[0]=t[r+0],n.Org.coords[1]=t[r+1],n.Org.coords[2]=e>2?t[r+2]:0,n.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(n),n.winding=1,n.Sym.winding=-1},e.prototype.tesselate=function(e,t,n,r,i,a){if(void 0===e&&(e=z9.ODD),void 0===t&&(t=B9.POLYGONS),void 0===a&&(a=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,i&&(this.normal[0]=i[0],this.normal[1]=i[1],this.normal[2]=i[2]),this.windingRule=e,r<2&&(r=2),r>3&&(r=3),!this.mesh)return!1;this.projectPolygon_(),lee.computeInterior(this,a);var o=this.mesh;return t===B9.BOUNDARY_CONTOURS?this.setWindingNumber_(o,1,!0):this.tessellateInterior_(o),a&&o.check(),t===B9.BOUNDARY_CONTOURS?this.outputContours_(o,r):this.outputPolymesh_(o,t,n,r),!0},e}();function uee(e){var t=e.windingRule,n=void 0===t?z9.ODD:t,r=e.elementType,i=void 0===r?B9.POLYGONS:r,a=e.polySize,o=void 0===a?3:a,s=e.vertexSize,l=void 0===s?2:s,c=e.normal,u=void 0===c?[0,0,1]:c,h=e.contours,d=void 0===h?[]:h,f=e.strict,p=void 0===f||f,m=e.debug,g=void 0!==m&&m;if(!d&&p)throw new Error("Contours can't be empty");if(d){var v=new cee;e.edgeCreateCallback&&(v.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&(v.vertexIdCallback=e.vertexIdCallback);for(var y=0;y<d.length;y++)v.addContour(l||2,d[y]);return v.tesselate(n,i,o,l,u,p),{vertices:v.vertices,vertexIndices:v.vertexIndices,vertexCount:v.vertexCount,elements:v.elements,elementCount:v.elementCount,mesh:g?v.mesh:void 0}}}z9.ODD,z9.NONZERO,z9.POSITIVE,z9.NEGATIVE,z9.ABS_GEQ_TWO,B9.POLYGONS,B9.CONNECTED_POLYGONS,B9.BOUNDARY_CONTOURS;var hee=class{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`);let n=e*hee.eSize;this.buffer=new ArrayBuffer(n);let r=Float32Array.BYTES_PER_ELEMENT,i=0;this.positions=new Float32Array(this.buffer,i*r,3*e),i+=3*e,this.normals=new Float32Array(this.buffer,i*r,3*e),i+=3*e,this.uvs=new Float32Array(this.buffer,i*r,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity} → ${e}`);let n=e*hee.eSize,r=new ArrayBuffer(n),i=Float32Array.BYTES_PER_ELEMENT,a=0,o=new Float32Array(r,a*i,3*e);a+=3*e;let s=new Float32Array(r,a*i,3*e);a+=3*e;let l=new Float32Array(r,a*i,2*e);t?(o.set(this.positions.subarray(0,3*this.size)),s.set(this.normals.subarray(0,3*this.size)),l.set(this.uvs.subarray(0,2*this.size))):(o.set(this.positions),s.set(this.normals),l.set(this.uvs)),this.buffer=r,this.positions=o,this.normals=s,this.uvs=l,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let e=this.capacity;for(;t>e;)e*=2;this.realloc(e)}let n=this.size;return this.size=t,n}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity} → ${this.size}`),this.realloc(this.size,!0)}},dee=hee;dee.eSize=8*Float32Array.BYTES_PER_ELEMENT;var fee=xF(AF()),pee={vertices:[160,160,-160,160,-160,-160,160,-160],vertexIndices:[1,0,3,2],vertexCount:4,elements:[0,4],elementCount:1,mesh:void 0},mee={vertices:[],vertexIndices:[],vertexCount:0,elements:[],elementCount:0,mesh:void 0},gee={vertices:[-160,160,160,-160,160,160,-160,-160],vertexIndices:[1,3,0,2],vertexCount:4,elements:[0,1,2,1,0,3],elementCount:2,mesh:void 0},vee=(e,t)=>([n,r])=>(r<n&&(r+=t),(e>=n?e:e+t)<=r),yee=class extends DG{constructor(e,t,n=0,r=12,i=3,a=z9.ODD,o=!1){super(),this.forPathBevel=o,this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._curveSegments=r,this._bevelSegmentsInput=i;let s,l,c,u=this._shape.extractShapePointsToFlatArray([],r),h=this._shape.shapeHoles.map((e=>{let t=e.extractShapePointsToFlatArray([],r),n=[];for(let e=t.length-1;e>=1;e-=2){let r=t[e-1],i=t[e-0];n.push(r,i)}return n})),d=[],f=[];for(let e=0;e<u.length;e+=2)f.push([u[e],u[e+1]]);d.push(f);for(let e=0;e<h.length;e++){let t=h[e],n=[];for(let e=0;e<t.length;e+=2)n.push([t[e],t[e+1]]);d.push(n)}s=e.isText?.1*(new RK).setFromPoints(e.points.map((e=>e.position))).getSize(new AV).length():0===d[0].length?n:(0,fee.default)(d).distance,n<=0?(this._bevel=0,this._bevelSegments=0):(this._bevel=Math.min(n,s,t/2),this._bevelSegments=Math.floor(i));try{l=uee({windingRule:a,elementType:B9.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[u]})}catch{l=pee}try{c=uee({windingRule:z9.ODD,elementType:B9.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...h]})}catch{c=mee}if(!l)throw new Error("error generating geometry");let p=l.elementCount;if(c){l.elementCount+=c.elementCount;for(let e=0;e<c.elements.length;e++){let t=c.elements[e],n=e%2==0?l.vertexCount:0;l.elements.push(t+n)}for(let e=0;e<c.vertexIndices.length;e++){let t=c.vertexIndices[e],n=l.vertexCount;l.vertexIndices.push(t+n)}for(let e=0;e<c.vertices.length;e++){let t=c.vertices[e];l.vertices.push(t)}}let m=1/0,g=-1/0,v=1/0,y=-1/0;for(let e=0,t=l.vertexCount;e<t;e++){let t=2*e,n=l.vertices[t+0],r=l.vertices[t+1];n<m&&(m=n),n>g&&(g=n),r<v&&(v=r),r>y&&(y=r)}this._minX=m,this._minY=v,this._width=g-m,this._height=y-v,this._buffer=new dee(this._computeBufferEstimatedSize(l));let w=[],b=[];for(let e=l.elementCount-1;e>=0;e--){let t=e>=p,n=2*e,i=l.elements[n+0],a=l.elements[n+1],c=i+a,u={start:i,count:a,normals:[],continuous:[],concave:[]},d=i,f=c-1,m=i+1,g=this._shape.roundedCurves.length;do{let e=d-i,n=l.vertices[2*f+0],r=l.vertices[2*f+1],o=l.vertices[2*d+0],s=l.vertices[2*d+1],h=l.vertices[2*m+0],p=l.vertices[2*m+1],v=o-n,y=s-r,w=Math.sqrt(v*v+y*y);v/=w,y/=w;let b=o-h,x=s-p,_=Math.sqrt(b*b+x*x);b/=_,x/=_,u.normals[2*e+0]=-x,u.normals[2*e+1]=b,u.concave[e]=v*x-y*b>0;let S=l.vertexIndices[d];if(Array.isArray(S))u.continuous[e]=!1;else{let[t,n]=this._shape.getCurveIndexFromVertexId(S-1,!0);if(n>0&&n<1)u.continuous[e]=!0;else{let r=1===n?t+1:t-1;r=(r+g)%g;let i=1===n?0:1,a=this._shape.roundedCurves[t].getTangent(n),o=this._shape.roundedCurves[r].getTangent(i);u.continuous[e]=a.dot(o)>.95}}t&&(u.normals[2*e+0]*=-1,u.normals[2*e+1]*=-1),[f,d,m]=[d,m,m+1],m>=c&&(m-=a)}while(m!==i+1);let v=[];v.push({bevelI:0,angle:0,size:0,boundary:{vertices:l.vertices.slice(2*i,2*c),vertexCount:a,vertexIndices:new Array(a).fill(!0).map(((e,t)=>[t,t])),elements:[0,a],elementCount:1,mesh:null},reverseMap:[],insetPoints:l.vertices.slice(2*i,2*c)});let y=0;for(let e=1;e<=this._bevelSegments;e++){let n=e/this._bevelSegments*Math.PI/2,i=(1-Math.cos(n))*this._bevel,o=[],s=[],c=[],h=[],d=0;for(let e=0;e<a;e++){let n=2*e,f=(e-1+a)%a*2,p=l.vertices[2*u.start+n+0],m=l.vertices[2*u.start+n+1],g=-u.normals[f+0]*i,v=-u.normals[f+1]*i,y=-u.normals[n+0]*i,w=-u.normals[n+1]*i;if(u.concave[e]||!u.concave[e]&&t){let n=Math.atan2(v,g),a=Math.atan2(w,y);a>n&&(a-=2*Math.PI);let s=a-n;if(u.continuous[e]||t){let r=n+s/2,a=Math.cos(r)*i,l=Math.sin(r)*i;o[2*d+0]=p+a*(t?-1:1),o[2*d+1]=m+l*(t?-1:1),h[d]=e,d++}else{let t=Math.max(1,Math.floor(r/4*Math.abs(s)/Math.PI));for(let r=0;r<=t;r++){let a=n+s*(r/t),l=Math.cos(a)*i,c=Math.sin(a)*i;o[2*d+0]=p+l,o[2*d+1]=m+c,h[d]=e,d++}}}else o[2*d+0]=p+g,o[2*d+1]=m+v,h[d]=e,s[e]=d,d++,o[2*d+0]=p,o[2*d+1]=m,h[d]=e,d++,o[2*d+0]=p+y,o[2*d+1]=m+w,h[d]=e,c[e]=d,d++}let f=uee({windingRule:z9.POSITIVE,elementType:B9.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[o],edgeCreateCallback:e=>{let t=e.Org.idx,n=h[t],r=h[(t+1)%h.length];e.idx=[n,r],e.Sym.idx=[r,n]},vertexIdCallback:e=>{let t=e.Lprev.idx;return[t?t[1]:0,e.idx?e.idx[0]:0]}});if(!f)throw console.log("Error"),new Error(`error generating bevel geometry for ${e}'th loop`);if(!f.vertexCount){let t=(e-1)/this._bevelSegments*Math.PI/2;y=(1-Math.sin(t))*this._bevel;break}for(let e=0;e<f.vertexIndices.length;e++){let[t,n]=f.vertexIndices[e];if(t===n)continue;let r=n;n<t&&(r+=a);for(let i=t;i<r;i++){let r=i%a,o=(i+1)%a;if(!u.continuous[r]||!u.continuous[o]){f.vertexIndices[e]=[t,r],f.vertexIndices.splice(e+1,0,[o,n]),f.vertices.splice(2*(e+1),0,f.vertices[2*e],f.vertices[2*e+1]);break}}}v.push({bevelI:e,angle:n,size:i,boundary:f,reverseMap:h,insetPoints:o})}let x=(e,t,n)=>{let r=0,i=e.boundary.vertexIndices.length;for(;r<i&&n(e.boundary.vertexIndices[t]);)t=(t+1)%i,r++;return r},_=w.length;for(let e=1;e<v.length;e++){let t=v[e-1],n=v[e],r=t.boundary.vertexIndices.length,i=n.boundary.vertexIndices.length;if(!r||!i)break;let s=u.concave.length,l=0,c=vee(l,a);for(;!t.boundary.vertexIndices.filter(c).length||!n.boundary.vertexIndices.filter(c).length;)l++,c=vee(l,a);let h=t.boundary.vertexIndices.findIndex(c),d=n.boundary.vertexIndices.findIndex(c);do{h=(h+1)%r}while(c(t.boundary.vertexIndices[h]));do{d=(d+1)%i}while(c(n.boundary.vertexIndices[d]));l=(l+1)%a;let f,p,m=l,g=0,y=this._buildBevelVert(u,t,(h-1+r)%r,void 0,g),b=this._buildBevelVert(u,n,(d-1+i)%i,void 0,g),_=!1;do{g=(l||s)/s,c=vee(l,a);let e=x(t,h,c),m=x(n,d,c),v=_;if(_=!1,e&&!m){for(let n=0;n<e;n++)f=this._buildBevelVert(u,t,(h+n)%r,n/(e-1),g),w.push(y.topN,f.topP,b.topN),!1===o&&w.push(f.bottomP,y.bottomN,b.bottomN),y=f;_=!0}else if(!e&&m)for(let e=0;e<m;e++)p=this._buildBevelVert(u,n,(d+e)%i,e/(m-1),g),w.push(b.topN,y.topP,p.topP),!1===o&&w.push(y.bottomP,b.bottomN,p.bottomP),b=p;else if(e&&m)if(f=this._buildBevelVert(u,t,h,0,g),p=this._buildBevelVert(u,n,d,0,g),v?(w.push(y.topN,p.topP,b.topN),w.push(y.topN,f.topP,p.topP),!1===o&&(w.push(p.bottomP,y.bottomN,b.bottomN),w.push(p.bottomP,f.bottomP,y.bottomN))):(w.push(b.topN,y.topN,f.topP),w.push(b.topN,f.topP,p.topP),!1===o&&(w.push(f.bottomP,y.bottomN,b.bottomN),w.push(f.bottomP,b.bottomN,p.bottomP))),y=f,b=p,e===m)for(let a=1;a<e;a++)f=this._buildBevelVert(u,t,(h+a)%r,a/(e-1),g),p=this._buildBevelVert(u,n,(d+a)%i,a/(m-1),g),w.push(y.topN,f.topP,b.topN),w.push(b.topN,f.topP,p.topP),!1===o&&(w.push(f.bottomP,y.bottomN,b.bottomN),w.push(f.bottomP,b.bottomN,p.bottomP)),y=f,b=p;else if(e>m){let a=e/m,s=0;for(let l=1;l<e;l++)f=this._buildBevelVert(u,t,(h+l)%r,l/(e-1),g),w.push(y.topN,f.topP,b.topN),!1===o&&w.push(f.bottomP,y.bottomN,b.bottomN),y=f,l>(s+1)*a&&(s++,p=this._buildBevelVert(u,n,(d+s)%i,s/(m-1),g),w.push(b.topN,f.topP,p.topP),!1===o&&w.push(f.bottomP,b.bottomN,p.bottomP),b=p)}else{let a=m/e,s=0;for(let l=1;l<m;l++)p=this._buildBevelVert(u,n,(d+l)%i,l/(m-1),g),w.push(b.topN,f.topP,p.topP),!1===o&&w.push(f.bottomP,b.bottomN,p.bottomP),b=p,l>(s+1)*a&&(s++,f=this._buildBevelVert(u,t,(h+s)%r,s/(e-1),g),w.push(y.topN,f.topP,b.topN),!1===o&&w.push(f.bottomP,y.bottomN,b.bottomN),y=f)}h=(h+e)%r,d=(d+m)%i,l=(l+1)%s}while(l!==m)}if(!1===o&&this._depth>2*this._bevel&&this._buildWall(v,u,w),t){let e=[];for(let t=w.length-1;t>=_+2;t-=3){let n=w[t-2],r=w[t-1],i=w[t-0];e.push(i,r,n)}w.splice(_,w.length-_,...e)}if(t){let e=[];for(let t=v[v.length-1].boundary.vertices.length-1;t>=1;t-=2){let n=v[v.length-1].boundary.vertices[t-1],r=v[v.length-1].boundary.vertices[t-0];e.push(n,r)}b.push(e)}if(!t){let e,t=v[v.length-1];try{e=uee({windingRule:v.length>1?z9.POSITIVE:z9.ODD,elementType:B9.POLYGONS,vertexSize:2,strict:!0,contours:[t.insetPoints,...b]})}catch{e=gee}if(!e)throw new Error("Error generating geometry for surface");0===h.length&&this._bevel<s&&Object.assign(this,{useNgonForTopBottomFaceDuringBake:!0});for(let t=0;t<3*e.elementCount;t+=3){let n=this._buildSurfaceVert(e,e.elements[t+0],y),r=this._buildSurfaceVert(e,e.elements[t+1],y),i=this._buildSurfaceVert(e,e.elements[t+2],y);w.push(n.top,r.top,i.top),!1===o&&w.push(i.bottom,r.bottom,n.bottom)}}this.vertexCache={}}this._buffer.shrink();let x=new wG(Uint32Array.from(w),1),_=new wG(this._buffer.positions,3),S=new wG(this._buffer.normals,3),E=new wG(this._buffer.uvs,2);_.needsUpdate=!0,S.needsUpdate=!0,E.needsUpdate=!0,x.needsUpdate=!0,this.setAttribute("position",_),this.setAttribute("normal",S),this.setAttribute("uv",E),this.setIndex(x)}_computeBufferEstimatedSize(e){return 2*e.vertexCount*(2+this._bevelSegments)}_buildWall(e,t,n){let r=e[0];for(let e=0,i=r.boundary.vertexCount;e<i;e++){let a=this._buildBevelVert(t,r,e),o=this._buildBevelVert(t,r,(e+1)%i);n.push(o.topP,a.topN,a.bottomN),n.push(o.topP,a.bottomN,o.bottomP)}}_buildSurfaceVert(e,t,n){let r=t.toString();if(r in this.vertexCache)return this.vertexCache[r];let i=e.vertices[2*t+0],a=e.vertices[2*t+1],o=(i-this._minX)/this._width,s=(a-this._minY)/this._height;this.forPathBevel&&(s=1);let l=this._buffer.get(this.forPathBevel?1:2),c=3*l,u=2*l,h={top:l+0,bottom:l+1};return this._buffer.positions[c+0]=i,this._buffer.positions[c+1]=a,this._buffer.positions[c+2]=this.forPathBevel?this._bevel:this._depth-n,this._buffer.normals[c+0]=0,this._buffer.normals[c+1]=0,this._buffer.normals[c+2]=1,this._buffer.uvs[u+0]=o,this._buffer.uvs[u+1]=s,!1===this.forPathBevel&&(this._buffer.positions[c+3]=i,this._buffer.positions[c+4]=a,this._buffer.positions[c+5]=n,this._buffer.normals[c+3]=0,this._buffer.normals[c+4]=0,this._buffer.normals[c+5]=-1,this._buffer.uvs[u+2]=o,this._buffer.uvs[u+3]=s),this.vertexCache[r]=h,h}_buildBevelVert(e,t,n,r=1,i){let a=`${t.bevelI}:${n}`;if(a in this.vertexCache&&0!==i&&1!==i&&(!i||i===this.vertexCache[a].pathBevelUCoord))return this.vertexCache[a];let o,s,l,c,[u,h]=t.boundary.vertexIndices[n];u!==h?(s=u,o=h,c=!1,l=e.continuous[s]&&e.continuous[o]):(o=u,s=(o-1+e.count)%e.count,c=e.concave[o]&&t.bevelI>0,l=e.continuous[o]||c);let d=Math.cos(t.angle),f=Math.sin(t.angle),p=2*n,m=2*o,g=2*s,v=t.boundary.vertices[p+0],y=t.boundary.vertices[p+1],w=(1-f)*this._bevel,b=(v-this._minX)/this._width,x=(y-this._minY)/this._height;this.forPathBevel&&(void 0!==i&&(b=i),x=1);let _=e.normals[m+0],S=e.normals[m+1],E=e.normals[g+0],C=e.normals[g+1];if(c){_+=(E-_)*(1-r),S+=(C-S)*(1-r);let e=Math.sqrt(_*_+S*S);_/=e,S/=e}let A=this.forPathBevel?this._buffer.get(l?1:2):this._buffer.get(l?2:4),T=3*A,M=2*A,P={i:n,fi:o,topP:A+0,topN:A+0,bottomP:A+1,bottomN:A+1,pathBevelUCoord:i};return this._buffer.positions[T+0]=v,this._buffer.positions[T+1]=y,this._buffer.positions[T+2]=(this.forPathBevel?this._bevel:this._depth)-w,this._buffer.normals[T+0]=_*d,this._buffer.normals[T+1]=S*d,this._buffer.normals[T+2]=f,this._buffer.uvs[M+0]=b,this._buffer.uvs[M+1]=x,!1===this.forPathBevel&&(this._buffer.positions[T+3]=v,this._buffer.positions[T+4]=y,this._buffer.positions[T+5]=w,this._buffer.normals[T+3]=_*d,this._buffer.normals[T+4]=S*d,this._buffer.normals[T+5]=-f,this._buffer.uvs[M+2]=x,this._buffer.uvs[M+3]=b),l||(this.forPathBevel?(A+=1,T+=3,M+=2):(A+=2,T+=6,M+=4),P.topP=A+0,P.bottomP=A+1,this._buffer.positions[T+0]=v,this._buffer.positions[T+1]=y,this._buffer.positions[T+2]=(this.forPathBevel?this._bevel:this._depth)-w,this._buffer.normals[T+0]=E*d,this._buffer.normals[T+1]=C*d,this._buffer.normals[T+2]=f,this._buffer.uvs[M+0]=b,this._buffer.uvs[M+1]=x,!1===this.forPathBevel&&(this._buffer.positions[T+3]=v,this._buffer.positions[T+4]=y,this._buffer.positions[T+5]=w,this._buffer.normals[T+3]=E*d,this._buffer.normals[T+4]=C*d,this._buffer.normals[T+5]=-f,this._buffer.uvs[M+2]=x,this._buffer.uvs[M+3]=b)),this.vertexCache[a]=P,P}clone(){let e=new yee(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=W0(this.userData),e}},wee=class extends DG{constructor(e,t=12,n={}){super(),this.type="ShapeGeometry",this.windingRule=z9.ODD,this.elementType=B9.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=e,this._curveSegments=t,this._triangulationOptions=Object.assign({windingRule:z9.ODD,elementType:B9.POLYGONS,polySize:3,vertexSize:2,strict:!0},n);let r,i,a,o=this._shape.extractShapePointsToFlatArray([],this._curveSegments),s=this._shape.shapeHoles.map((e=>e.extractShapePointsToFlatArray([],this._curveSegments))),l=!0,c=!0;for(let e=0,t=o.length/2;e<t;e++){let t=2*e,n=o[t+0],r=o[t+1];if(void 0!==i&&n!==i&&(l=!1),void 0!==a&&r!==a&&(c=!1),i=n,a=r,!l&&!c)break}if(!l&&!c)try{r=uee({contours:[o,...s],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})}catch{r=pee}let u=r?.vertexCount??1,h=r?.elementCount??1;if(this._positionAttribute=new wG(new Float32Array(3*u),3),this._normalAttribute=new wG(new Float32Array(3*u),3),this._uvAttribute=new wG(new Float32Array(2*u),2),this._indexAttribute=new wG(new Uint32Array(3*h),1),r){let e=1/0,t=-1/0,n=1/0,i=-1/0;for(let a=0,o=u;a<o;a++){let o=2*a,s=r.vertices[o+0],l=r.vertices[o+1];s<e&&(e=s),s>t&&(t=s),l<n&&(n=l),l>i&&(i=l)}let a=t-e,o=i-n;for(let t=0,i=u;t<i;t++){let i=2*t,s=r.vertices[i+0],l=r.vertices[i+1],c=(s-e)/a,u=(l-n)/o;this._positionAttribute.setXYZ(t,s,l,0),this._normalAttribute.setXYZ(t,0,0,1),this._uvAttribute.setXY(t,c,u)}for(let e=0,t=h;e<t;e++){let t=3*e,n=r.elements[t+0],i=r.elements[t+1],a=r.elements[t+2];this._indexAttribute.setX(t+0,n),this._indexAttribute.setX(t+1,i),this._indexAttribute.setX(t+2,a)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,3*(r?.elementCount??1))}clone(){let e=new wee(this._shape,this._curveSegments);return e.userData=W0(this.userData),e}},bee=class extends yee{constructor(e,t,n=0,r=12,i=3,a=z9.ODD){super(e,t,n,r,i,a),this.type="ShapeGeometry"}_computeBufferEstimatedSize(e){return 2*e.vertexCount*(2+this._bevelSegments)}_buildWall(e,t,n){let r=e[0];for(let e=0,i=r.boundary.vertexCount;e<i;e++){let a=this._buildBevelVert(t,r,e),o=this._buildBevelVert(t,r,(e+1)%i);n.push(o.topP,a.topN,a.bottomN),n.push(o.topP,a.bottomN,o.bottomP)}}clone(){let e=new bee(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=W0(this.userData),e}},xee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3,windingRule:z9.ODD},e.parameters),r=Math.abs(n.width),i=Math.abs(n.height??n.width),a=Math.abs(n.depth??0),o=e.shape??t?.shape,s=o?.roundness??n.roundness;void 0!==o&&(o instanceof W9?(o.width!==r||o.height!==i)&&o.applySize(r,i):o=new W9(r,i).fromJSON(o),void 0!==e.parameters?.roundness&&e.parameters?.roundness>0&&o.update());let l=o??new W9(r,i);return{parameters:Object.assign(n,{width:r,height:i,depth:a,roundness:s}),shape:l}}static build(e){let t,{depth:n,extrudeBevelSize:r,extrudeBevelSegments:i,subdivisions:a,roundness:o,windingRule:s}=e.parameters;return e.shape.roundness=o,t=n<=0?new wee(e.shape,a,{windingRule:s}):new bee(e.shape,n,r,a,i,s),Object.assign(t,{userData:{...e,type:"VectorGeometry"}})}},_ee=2*Math.PI,See=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return n.angle=CV.clamp(n.angle,0,360),{shape:e.shape&&e.shape instanceof W9?e.shape:new W9,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let t,{width:n,height:r,spikes:i,angle:a,innerRadius:o,depth:s,extrudeBevelSize:l,extrudeBevelSegments:c}=e.parameters,u=e.shape,h=function(e,t,n,r,i,a){if(r>=_ee)return i>30||i%4==0?(function(e,t,n,r=0,i=0,a=0){let o=.5522847498,s=t*o,l=n*o;e.addPoint(Aee(i-t,a,i-t,a-l,i-t,a+l)),e.addPoint(Aee(i,a+n,i-s,a+n,i+s,a+n)),e.addPoint(Aee(i+t,a,i+t,a+l,i+t,a-l)),e.addPoint(Aee(i,a-n,i+s,a-n,i-s,a-n)),r>0&&Mee(e,t,n,r)}(e,t,n,a),Math.round(i/4)):Eee(e,r,i,t,n,a);let o={x:0,y:n},s=(r=Math.max(r,.001))+.5*Math.PI,l={x:Math.cos(s)*t,y:Math.sin(s)*n},c=function({px:e,py:t,cx:n,cy:r,rx:i,ry:a,largeArcFlag:o,sweepFlag:s}){let l=[];if(0===i||0===a)return[];let c=(e-n)/2,u=(t-r)/2;if(0===c&&0===u)return[];i=Math.abs(i),a=Math.abs(a);let h=Math.pow(c,2)/Math.pow(i,2)+Math.pow(u,2)/Math.pow(a,2);h>1&&(i*=Math.sqrt(h),a*=Math.sqrt(h));let d=function(e,t,n,r,i,a,o,s,l,c){let u=Math.pow(i,2),h=Math.pow(a,2),d=Math.pow(o,2),f=Math.pow(s,2),p=u*h-u*f-h*d;p<0&&(p=0),p/=u*f+h*d,p=Math.sqrt(p)*(l===c?-1:1);let m=p*i/a*s,g=p*-a/i*o,v=m+(e+n)/2,y=g+(t+r)/2,w=(o-m)/i,b=(s-g)/a,x=(-o-m)/i,_=(-s-g)/a,S=Q9(1,0,w,b),E=Q9(w,b,x,_);return!c&&E>0&&(E-=q9),c&&E<0&&(E+=q9),{centerx:v,centery:y,ang1:S,ang2:E}}(e,t,n,r,i,a,c,u,o,s),{ang1:f,ang2:p}=d,{centerx:m,centery:g}=d,v=Math.abs(p)/(q9/4);Math.abs(1-v)<1e-7&&(v=1);let y=Math.max(Math.ceil(v),1);p/=y;for(let e=0;e<y;e++)l.push(Y9(f,p)),f+=p;return l.map((e=>{let{x:t,y:n}=X9(e[0],i,a,m,g),{x:r,y:o}=X9(e[1],i,a,m,g),{x:s,y:l}=X9(e[2],i,a,m,g);return{x1:t,y1:n,x2:r,y2:o,x:s,y:l}}))}({px:o.x,py:o.y,cx:l.x,cy:l.y,rx:t,ry:n,largeArcFlag:r>Math.PI,sweepFlag:!0});return i>30||i%c.length==0?function(e,t,n,r,i,a,o,s){let l=Math.round(i/r.length);e.addPoint(Cee(t,n));for(let t=0,n=r.length;t<n;t++){let n=r[t],i=e.points[t],a=Cee(n.x,n.y);i.controls[1].position.set(n.x1,n.y1),a.controls[0].position.set(n.x2,n.y2),e.addPoint(a)}return s>0?Tee(e,a,o,s):e.addPoint(Cee(0,0)),l}(e,o.x,o.y,c,i,t,n,a):Eee(e,r,i,t,n,a)}(u,.5*n,.5*r,a*Math.PI/180,i,o);return u.isClosed=!0,u.update(),0===a?(t=new DG,t.setAttribute("position",new _G([],3))):t=xee.create({shape:u,parameters:{subdivisions:h,depth:s,extrudeBevelSize:l,extrudeBevelSegments:c}}),Object.assign(t,{userData:{...e,type:"EllipseGeometry"}})}};function Eee(e,t,n,r,i,a){let o=-t/n;for(let t=0;t<=n;t++){let n=o*t,a=Math.sin(n)*r,s=Math.cos(n)*i;e.addPoint(Cee(a,s))}return t<_ee?a>0?Tee(e,r,i,a):e.addPoint(Cee(0,0)):(e.removePoint(e.points[e.points.length-1]),a>0&&Mee(e,r,i,a)),1}function Cee(e,t){return new f9(CV.generateUUID(),new AV(e,t))}function Aee(e,t,n,r,i,a){let o=Cee(e,t);return o.controls[0].position.set(n,r),o.controls[1].position.set(i,a),o}function Tee(e,t,n,r){Pee(e,t,n,r).forEach((t=>e.addPoint(t)))}function Mee(e,t,n,r){let i=Pee(e,t,n,r),a=new W9;i.forEach((e=>a.addPoint(e))),a.isClosed=!0,e.shapeHoles.push(a)}function Pee(e,t,n,r){let i=r*t/100,a=i*(Math.abs(n)/Math.abs(t)),o=new AV(i/t,a/n),s=e.points.map((e=>{let t=e.clone();return t.uuid=CV.generateUUID(),t})).reverse();return s.forEach((e=>{e.position.multiply(o);let t=e.controls[0].position.clone().multiply(o),n=e.controls[1].position.clone().multiply(o);e.controls[0].position.copy(n),e.controls[1].position.copy(t)})),s}var Dee=new xG([0,0,0],1),kee=class extends DG{constructor(e=!0,t=1,n=1,r=1,i=1,a=1,o=1,s=1,l=1,c=1,u=1,h=1){if(super(),0===a)return;let d=e&&1===a;d&&(h=0),u>100&&(u=100),0===u&&(h=0);let f,p,m,g,v,y,w,b,x=()=>new tH,_=new tH,S=x(),E=x(),C=x(),A=x(),T=x(),M=x(),P=x(),D=x(),k=x(),O=x(),I=x(),R=n-2*s+.001,L=R/a,N=Math.ceil(o*a),z=N+1,B=R/N,F=-R/2,U=c+1,j=2*Math.PI/c,V=Math.PI/2/h,H=Math.min((1-u/100)*s,s-.01),G=s-H,W=0,q=2*h+2,X=U*q/2,Y=X+U*z,Q=Math.max(0,U*(z+q)),[K,Z,J]=[3,3,2].map((e=>Array(Q*e).fill(0))),$=[],ee=i-s;function te(t,n){let r=Math.PI/2;y=n*B,b=2*Math.PI*(y%L)/L+r,y+=F,w=Math.sin(b)*ee,v=Math.cos(b)*ee,e?t.set(v,w,y):t.set(v,y,w)}te(_,-1e-10),te(S,0),A.copy(_),te(_,1);let ne=_.distanceTo(S),re=d?0:G+H,ie=ne*N+2*re,ae=H,oe=ie-re;for(let t=0;t<=N;t++){te(E,t),I.subVectors(E,A).normalize(),A.copy(E),k.copy(E).setComponent(+e+1,0).normalize(),O.crossVectors(I,k).normalize();let n=0===t,r=t===N,i=n?3*Math.PI/2:V,a=n?ae:oe,o=n?U:Y,l=n?0:Q-U,u=I.clone().multiplyScalar(n?-G:G).add(E),f=I.clone().multiplyScalar(n?-1:1).normalize();for(let e=0;e<U;e++){let p=e*j;if(T.addVectors(_.copy(k).multiplyScalar(s*Math.cos(p)),S.copy(O).multiplyScalar(s*Math.sin(p))),M.copy(T).normalize(),n||r){d||(W=l+e,[0,1,2].forEach((e=>{K[3*W+e]=u.getComponent(e),Z[3*W+e]=f.getComponent(e)})),J[2*W]=+r,J[2*W+1]=e/c),S.copy(M).multiplyScalar(H),C.addVectors(E,S);for(let t=0;t<h;t++){let r=t*V+i;P.addVectors(_.copy(I).multiplyScalar(G*Math.sin(r)),S.copy(M).multiplyScalar(G*Math.cos(r))),D.copy(P).normalize(),S.addVectors(C,P),P.normalize(),W=o+t*U+e,[0,1,2].forEach((e=>{K[3*W+e]=S.getComponent(e),Z[3*W+e]=D.getComponent(e)}));let s=+n+Math.sin(r);J[2*W]=(a+G*s)/ie,J[2*W+1]=e/c}}S.addVectors(E,T),W=X+t*U+e,[0,1,2].forEach((e=>{K[3*W+e]=S.getComponent(e),Z[3*W+e]=M.getComponent(e)})),J[2*W]=(re+t*ne)/ie,J[2*W+1]=e/c}}let se=z+2*h+2,[le,ce]=[+d,se-1];for(let e=le;e<=ce-1;e++){let t=d&&e===ce-1;for(let n=0;n<U-1;n++)f=e*U+n,p=f+1,m=(t?n:f)+U,g=(t?n+1:p)+U,0===e?$.push(p,g,m):e===se-2?$.push(f,p,m):$.push(f,p,m,p,g,m)}this.setIndex($),this.setAttribute("position",new _G(K,3)),this.setAttribute("normal",new _G(Z,3)),this.setAttribute("uv",new _G(J,2))}getClosedTorusIndicesForBooleanOrSubdiv(){let e,t,n,r,i=this.userData.parameters,a=Math.ceil(i.tubularSegments),o=i.radialSegments+1,s=Array.from(this.getIndex().array),l=6*(a-1)*i.radialSegments,c=a,u=c===a;for(let a=0;a<i.radialSegments;a++)e=c*o+a,t=e+1,n=(u?a:e)+o,r=(u?a+1:t)+o,s[l++]=e,s[l++]=t,s[l++]=n,s[l++]=t,s[l++]=r,s[l++]=n;return s.length=l,Dee.array=s,Dee.count=s.length,Dee}},Oee=class extends l9{constructor(e=1,t=.2,n=4){let r=(1+Math.sqrt(5))/2,i="IcosahedronGeometry";super([-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],i,e,t,n),this.type=i}static fromJSON(e){return new Oee(e.radius,e.corner,e.cornerSides)}},Iee=new kH,Ree=new nG,Lee=new tH,Nee=class extends hV{constructor(){super(),this.uuid=CV.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){let t=(new TV).getNormalMatrix(e);for(let t=0,n=this.vertices.length;t<n;t++)this.vertices[t].applyMatrix4(e);for(let e=0,n=this.faces.length;e<n;e++){let n=this.faces[e];n.normal.applyMatrix3(t).normalize();for(let e=0,r=n.vertexNormals.length;e<r;e++)n.vertexNormals[e].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return Iee.makeRotationX(e),this.applyMatrix4(Iee),this}rotateY(e){return Iee.makeRotationY(e),this.applyMatrix4(Iee),this}rotateZ(e){return Iee.makeRotationZ(e),this.applyMatrix4(Iee),this}translate(e,t,n){return Iee.makeTranslation(e,t,n),this.applyMatrix4(Iee),this}scale(e,t,n){return Iee.makeScale(e,t,n),this.applyMatrix4(Iee),this}lookAt(e){return Ree.lookAt(e),Ree.updateMatrix(),this.applyMatrix4(Ree.matrix),this}fromBufferGeometry(e){let t=this,n=null!==e.index?e.index:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let i=r.position,a=r.normal,o=r.color,s=r.uv,l=r.uv2;void 0!==l&&(this.faceVertexUvs[1]=[]);for(let e=0;e<i.count;e++)t.vertices.push((new tH).fromBufferAttribute(i,e)),void 0!==o&&t.colors.push((new HV).fromBufferAttribute(o,e));function c(e,n,r,i){let c=void 0===o?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],u=void 0===a?[]:[(new tH).fromBufferAttribute(a,e),(new tH).fromBufferAttribute(a,n),(new tH).fromBufferAttribute(a,r)],h=new Bee(e,n,r,u,c,i);t.faces.push(h),void 0!==s&&t.faceVertexUvs[0].push([(new AV).fromBufferAttribute(s,e),(new AV).fromBufferAttribute(s,n),(new AV).fromBufferAttribute(s,r)]),void 0!==l&&t.faceVertexUvs[1].push([(new AV).fromBufferAttribute(l,e),(new AV).fromBufferAttribute(l,n),(new AV).fromBufferAttribute(l,r)])}let u=e.groups;if(u.length>0)for(let e=0;e<u.length;e++){let t=u[e],r=t.start;for(let e=r,i=r+t.count;e<i;e+=3)void 0!==n?c(n.getX(e),n.getX(e+1),n.getX(e+2),t.materialIndex):c(e,e+1,e+2,t.materialIndex)}else if(void 0!==n)for(let e=0;e<n.count;e+=3)c(n.getX(e),n.getX(e+1),n.getX(e+2));else for(let e=0;e<i.count;e+=3)c(e,e+1,e+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Lee).negate(),this.translate(Lee.x,Lee.y,Lee.z),this}normalize(){this.computeBoundingSphere();let e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new kH;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(r),this}computeFaceNormals(){let e=new tH,t=new tH;for(let n=0,r=this.faces.length;n<r;n++){let r=this.faces[n],i=this.vertices[r.a],a=this.vertices[r.b],o=this.vertices[r.c];e.subVectors(o,a),t.subVectors(i,a),e.cross(t),e.normalize(),r.normal.copy(e)}}computeVertexNormals(e=!0){let t=new Array(this.vertices.length);for(let e=0,n=this.vertices.length;e<n;e++)t[e]=new tH;if(e){let e=new tH,n=new tH;for(let r=0,i=this.faces.length;r<i;r++){let i=this.faces[r],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),n.subVectors(a,o),e.cross(n),t[i.a].add(e),t[i.b].add(e),t[i.c].add(e)}}else{this.computeFaceNormals();for(let e=0,n=this.faces.length;e<n;e++){let n=this.faces[e];t[n.a].add(n.normal),t[n.b].add(n.normal),t[n.c].add(n.normal)}}for(let e=0,n=this.vertices.length;e<n;e++)t[e].normalize();for(let e=0,n=this.faces.length;e<n;e++){let n=this.faces[e],r=n.vertexNormals;3===r.length?(r[0].copy(t[n.a]),r[1].copy(t[n.b]),r[2].copy(t[n.c])):(r[0]=t[n.a].clone(),r[1]=t[n.b].clone(),r[2]=t[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){let t=this.faces[e],n=t.vertexNormals;3===n.length?(n[0].copy(t.normal),n[1].copy(t.normal),n[2].copy(t.normal)):(n[0]=t.normal.clone(),n[1]=t.normal.clone(),n[2]=t.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let e=0,t=this.faces.length;e<t;e++){let t=this.faces[e];t.__originalFaceNormal?t.__originalFaceNormal.copy(t.normal):t.__originalFaceNormal=t.normal.clone(),t.__originalVertexNormals||(t.__originalVertexNormals=[]);for(let e=0,n=t.vertexNormals.length;e<n;e++)t.__originalVertexNormals[e]?t.__originalVertexNormals[e].copy(t.vertexNormals[e]):t.__originalVertexNormals[e]=t.vertexNormals[e].clone()}let e=new Nee;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];let e=this.morphNormals[t].faceNormals,n=this.morphNormals[t].vertexNormals;for(let t=0,r=this.faces.length;t<r;t++){let t=new tH,r={a:new tH,b:new tH,c:new tH};e.push(t),n.push(r)}}let n=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let e=0,t=this.faces.length;e<t;e++){let t=this.faces[e],r=n.faceNormals[e],i=n.vertexNormals[e];r.copy(t.normal),i.a.copy(t.vertexNormals[0]),i.b.copy(t.vertexNormals[1]),i.c.copy(t.vertexNormals[2])}}for(let e=0,t=this.faces.length;e<t;e++){let t=this.faces[e];t.normal=t.__originalFaceNormal,t.vertexNormals=t.__originalVertexNormals}}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new iH),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new _H),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,n=0){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);let r,i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,c=this.colors,u=e.colors;void 0!==t&&(r=(new TV).getNormalMatrix(t));for(let e=0,n=o.length;e<n;e++){let n=o[e].clone();void 0!==t&&n.applyMatrix4(t),a.push(n)}for(let e=0,t=u.length;e<t;e++)c.push(u[e].clone());for(let e=0,t=l.length;e<t;e++){let t,a,o=l[e],c=o.vertexNormals,u=o.vertexColors,h=new Bee(o.a+i,o.b+i,o.c+i);h.normal.copy(o.normal),void 0!==r&&h.normal.applyMatrix3(r).normalize();for(let e=0,n=c.length;e<n;e++)t=c[e].clone(),void 0!==r&&t.applyMatrix3(r).normalize(),h.vertexNormals.push(t);h.color.copy(o.color);for(let e=0,t=u.length;e<t;e++)a=u[e],h.vertexColors.push(a.clone());h.materialIndex=o.materialIndex+n,s.push(h)}for(let t=0,n=e.faceVertexUvs.length;t<n;t++){let n=e.faceVertexUvs[t];void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]);for(let e=0,r=n.length;e<r;e++){let r=n[e],i=[];for(let e=0,t=r.length;e<t;e++)i.push(r[e].clone());this.faceVertexUvs[t].push(i)}}}mergeMesh(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)}mergeVertices(e=4){let t={},n=[],r=[],i=Math.pow(10,e);for(let e=0,a=this.vertices.length;e<a;e++){let a=this.vertices[e],o=Math.round(a.x*i)+"_"+Math.round(a.y*i)+"_"+Math.round(a.z*i);void 0===t[o]?(t[o]=e,n.push(this.vertices[e]),r[e]=n.length-1):r[e]=r[t[o]]}let a=[];for(let e=0,t=this.faces.length;e<t;e++){let t=this.faces[e];t.a=r[t.a],t.b=r[t.b],t.c=r[t.c];let n=[t.a,t.b,t.c];for(let t=0;t<3;t++)if(n[t]===n[(t+1)%3]){a.push(e);break}}for(let e=a.length-1;e>=0;e--){let t=a[e];this.faces.splice(t,1);for(let e=0,n=this.faceVertexUvs.length;e<n;e++)this.faceVertexUvs[e].splice(t,1)}let o=this.vertices.length-n.length;return this.vertices=n,o}setFromPoints(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){let n=e[t];this.vertices.push(new tH(n.x,n.y,n.z||0))}return this}sortFacesByMaterialIndex(){let e=this.faces,t=e.length;for(let n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));let n,r,i=this.faceVertexUvs[0],a=this.faceVertexUvs[1];i&&i.length===t&&(n=[]),a&&a.length===t&&(r=[]);for(let o=0;o<t;o++){let t=e[o]._id;n&&n.push(i[t]),r&&r.push(a[t])}n&&(this.faceVertexUvs[0]=n),r&&(this.faceVertexUvs[1]=r)}toJSON(){let e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){let t=this.parameters;for(let n in t)void 0!==t[n]&&(e[n]=t[n]);return e}let t=[];for(let e=0;e<this.vertices.length;e++){let n=this.vertices[e];t.push(n.x,n.y,n.z)}let n=[],r=[],i={},a=[],o={},s=[],l={};for(let e=0;e<this.faces.length;e++){let t=this.faces[e],r=!0,i=!1,a=void 0!==this.faceVertexUvs[0][e],o=t.normal.length()>0,s=t.vertexNormals.length>0,l=1!==t.color.r||1!==t.color.g||1!==t.color.b,f=t.vertexColors.length>0,p=0;if(p=c(p,0,0),p=c(p,1,r),p=c(p,2,i),p=c(p,3,a),p=c(p,4,o),p=c(p,5,s),p=c(p,6,l),p=c(p,7,f),n.push(p),n.push(t.a,t.b,t.c),n.push(t.materialIndex),a){let t=this.faceVertexUvs[0][e];n.push(d(t[0]),d(t[1]),d(t[2]))}if(o&&n.push(u(t.normal)),s){let e=t.vertexNormals;n.push(u(e[0]),u(e[1]),u(e[2]))}if(l&&n.push(h(t.color)),f){let e=t.vertexColors;n.push(h(e[0]),h(e[1]),h(e[2]))}}function c(e,t,n){return n?e|1<<t:e&~(1<<t)}function u(e){let t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==i[t]||(i[t]=r.length/3,r.push(e.x,e.y,e.z)),i[t]}function h(e){let t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==o[t]||(o[t]=a.length,a.push(e.getHex())),o[t]}function d(e){let t=e.x.toString()+e.y.toString();return void 0!==l[t]||(l[t]=s.length/2,s.push(e.x,e.y)),l[t]}return e.data={},e.data.vertices=t,e.data.normals=r,a.length>0&&(e.data.colors=a),s.length>0&&(e.data.uvs=[s]),e.data.faces=n,e}clone(){return(new Nee).copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;let t=e.vertices;for(let e=0,n=t.length;e<n;e++)this.vertices.push(t[e].clone());let n=e.colors;for(let e=0,t=n.length;e<t;e++)this.colors.push(n[e].clone());let r=e.faces;for(let e=0,t=r.length;e<t;e++)this.faces.push(r[e].clone());for(let t=0,n=e.faceVertexUvs.length;t<n;t++){let n=e.faceVertexUvs[t];void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]);for(let e=0,r=n.length;e<r;e++){let r=n[e],i=[];for(let e=0,t=r.length;e<t;e++){let t=r[e];i.push(t.clone())}this.faceVertexUvs[t].push(i)}}let i=e.morphTargets;for(let e=0,t=i.length;e<t;e++){let t={};if(t.name=i[e].name,void 0!==i[e].vertices){t.vertices=[];for(let n=0,r=i[e].vertices.length;n<r;n++)t.vertices.push(i[e].vertices[n].clone())}if(void 0!==i[e].normals){t.normals=[];for(let n=0,r=i[e].normals.length;n<r;n++)t.normals.push(i[e].normals[n].clone())}this.morphTargets.push(t)}let a=e.morphNormals;for(let e=0,t=a.length;e<t;e++){let t={};if(void 0!==a[e].vertexNormals){t.vertexNormals=[];for(let n=0,r=a[e].vertexNormals.length;n<r;n++){let r=a[e].vertexNormals[n],i={};i.a=r.a.clone(),i.b=r.b.clone(),i.c=r.c.clone(),t.vertexNormals.push(i)}}if(void 0!==a[e].faceNormals){t.faceNormals=[];for(let n=0,r=a[e].faceNormals.length;n<r;n++)t.faceNormals.push(a[e].faceNormals[n].clone())}this.morphNormals.push(t)}let o=e.skinWeights;for(let e=0,t=o.length;e<t;e++)this.skinWeights.push(o[e].clone());let s=e.skinIndices;for(let e=0,t=s.length;e<t;e++)this.skinIndices.push(s[e].clone());let l=e.lineDistances;for(let e=0,t=l.length;e<t;e++)this.lineDistances.push(l[e]);let c=e.boundingBox;null!==c&&(this.boundingBox=c.clone());let u=e.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){let e=(new zee).fromGeometry(this),t=new DG,n=new Float32Array(3*e.vertices.length);if(t.setAttribute("position",Vee.call(new wG(n,3),e.vertices)),e.normals.length>0){let n=new Float32Array(3*e.normals.length);t.setAttribute("normal",Vee.call(new wG(n,3),e.normals))}if(e.colors.length>0){let n=new Float32Array(3*e.colors.length);t.setAttribute("color",Uee.call(new wG(n,3),e.colors))}if(e.uvs.length>0){let n=new Float32Array(2*e.uvs.length);t.setAttribute("uv",jee.call(new wG(n,2),e.uvs))}if(e.uvs2.length>0){let n=new Float32Array(2*e.uvs2.length);t.setAttribute("uv2",jee.call(new wG(n,2),e.uvs2))}t.groups=e.groups;for(let n in e.morphTargets){let r=[],i=e.morphTargets[n];for(let e=0,t=i.length;e<t;e++){let t=i[e],n=new _G(3*t.data.length,3);n.name=t.name,r.push(Vee.call(n,t.data))}t.morphAttributes[n]=r}if(e.skinIndices.length>0){let n=new _G(4*e.skinIndices.length,4);t.setAttribute("skinIndex",Hee.call(n,e.skinIndices))}if(e.skinWeights.length>0){let n=new _G(4*e.skinWeights.length,4);t.setAttribute("skinWeight",Hee.call(n,e.skinWeights))}return null!==e.boundingSphere&&(t.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new DG,n=e.geometry;if(e.isPoints||e.isLine){let e=new _G(3*n.vertices.length,3),r=new _G(3*n.colors.length,3);if(t.setAttribute("position",Vee.call(e,n.vertices)),t.setAttribute("color",Uee.call(r,n.colors)),n.lineDistances&&n.lineDistances.length===n.vertices.length){let e=new _G(n.lineDistances.length,1);t.setAttribute("lineDistance",Fee.call(e,n.lineDistances))}null!==n.boundingSphere&&(t.boundingSphere=n.boundingSphere.clone()),null!==n.boundingBox&&(t.boundingBox=n.boundingBox.clone())}else e.isMesh&&(t=n.toBufferGeometry());return t}};Nee.prototype.isGeometry=!0;var zee=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){let t,n,r,i=[],a=e.faces;for(n=0;n<a.length;n++){let e=a[n];e.materialIndex!==r&&(r=e.materialIndex,void 0!==t&&(t.count=3*n-t.start,i.push(t)),t={start:3*n,materialIndex:r})}void 0!==t&&(t.count=3*n-t.start,i.push(t)),this.groups=i}fromGeometry(e){let t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,l=s.length;if(l>0){t=[];for(let e=0;e<l;e++)t[e]={name:s[e].name,data:[]};this.morphTargets.position=t}let c,u=e.morphNormals,h=u.length;if(h>0){c=[];for(let e=0;e<h;e++)c[e]={name:u[e].name,data:[]};this.morphTargets.normal=c}let d=e.skinIndices,f=e.skinWeights,p=d.length===r.length,m=f.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let e=0;e<n.length;e++){let g=n[e];this.vertices.push(r[g.a],r[g.b],r[g.c]);let v=g.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{let e=g.normal;this.normals.push(e,e,e)}let y=g.vertexColors;if(3===y.length)this.colors.push(y[0],y[1],y[2]);else{let e=g.color;this.colors.push(e,e,e)}if(!0===a){let t=i[0][e];void 0!==t?this.uvs.push(t[0],t[1],t[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",e),this.uvs.push(new AV,new AV,new AV))}if(!0===o){let t=i[1][e];void 0!==t?this.uvs2.push(t[0],t[1],t[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",e),this.uvs2.push(new AV,new AV,new AV))}for(let e=0;e<l;e++){let n=s[e].vertices;t[e].data.push(n[g.a],n[g.b],n[g.c])}for(let t=0;t<h;t++){let n=u[t].vertexNormals[e];c[t].data.push(n.a,n.b,n.c)}p&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),m&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}},Bee=class{constructor(e,t,n,r,i,a=0){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new tH,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new HV,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=a}clone(){return(new this.constructor).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}};function Fee(e){return this.array.set(e),this}function Uee(e){let t=this.array,n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new HV),t[n++]=i.r,t[n++]=i.g,t[n++]=i.b}return this}function jee(e){let t=this.array,n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new AV),t[n++]=i.x,t[n++]=i.y}return this}function Vee(e){let t=this.array,n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new tH),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z}return this}function Hee(e){let t=this.array,n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new KV),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n++]=i.w}return this}var Gee=["a","b","c"];function Wee(e,t){switch(t){case"c":return e.c;case"b":return e.b;default:return e.a}}function qee(e,t,n){let r=Math.min(e,t)+"_"+Math.max(e,t);return n.get(r)}function Xee(e,t,n,r,i,a){let o,s=Math.min(e,t),l=Math.max(e,t),c=s+"_"+l;r.has(c)?o=r.get(c):(o={a:n[s],b:n[l],newEdge:null,faces:[]},r.set(c,o)),o.faces.push(i),a[e].edges.push(o),a[t].edges.push(o)}function Yee(e,t,n,r,i){e.push(new Bee(t,n,r,void 0,void 0,i))}function Qee(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function Kee(e,t,n,r){e.push([t.clone(),n.clone(),r.clone()])}var Zee=new tH,Jee=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof W9?e.shape:new W9,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n,spikes:r,cornerRadius:i,depth:a,extrudeBevelSize:o,extrudeBevelSegments:s}=e.parameters,l=e.shape,c=.5*t,u=.5*n,h=2*Math.PI/r;for(let e=0;e<r;e++){let t=h*e,n=0+Math.sin(t)*c,r=0+Math.cos(t)*u;l.addPoint(l.createPoint(n,r))}l.isClosed=!0;for(let e=0,t=l.points.length;e<t;e++)l.points[e].roundness=i;l.roundness=i,l.update();let d=xee.create({shape:l,parameters:{roundness:i,depth:a,extrudeBevelSize:o,extrudeBevelSegments:s}});return Object.assign(d,{userData:{...e,type:"PolygonGeometry"}})}};function $ee(e,t,n){n.x=e.x*t.x,n.y=e.y,n.z=e.x*t.y}function ete(e,t,n,r,i,a){let o=t.clone().sub(e),s=n.clone().sub(e),l=o.angleTo(s);if(o.normalize(),s.normalize(),r===i){let t=o.add(s).normalize();a.copy(e).addScaledVector(t,r/Math.sin(l/2))}else{let t=o.angleTo(s);a.copy(e),a.addScaledVector(o,i/Math.sin(t)),a.addScaledVector(s,r/Math.sin(t))}}function tte(e,t,n){let r=e.clone().sub(t),i=n.clone().sub(t);return r.projectOnVector(i),r.add(t)}var nte=class extends DG{constructor(e=.5,t=1,n=4,r=1,i=!1,a=0,o=4){super(),n=Math.floor(Math.max(3,n)),r=Math.floor(r),o=Math.floor(o);let s,l=[],c=[],u=[],h=[],d=0,f=t/2,p=Math.PI/n,m=e*Math.cos(Math.PI/n),g=2*Math.PI/n,v=(n-2)*Math.PI/n,y=Math.PI-v,w=new tH(0,-f,0),b=new tH(0,f,0),x=new AV(e,-f),_=new AV(m,-f),S=new AV(0,b.y).sub(_),E=new AV(0,b.y).sub(x),C=new AV(S.y,-S.x).normalize(),A=new AV(E.y,-E.x).normalize(),T=e*Math.cos(Math.PI/n)*Math.tan((Math.PI-S.angle())/2)-1e-8;a=Math.min(a,T);{let e=new tH(C.x,C.y,0),t=new tH(Math.cos(g)*e.x,e.y,Math.sin(g)*e.x);s=e.angleTo(t)}let M=a/Math.tan((Math.PI-S.angle())/2),P=a/Math.tan((Math.PI-s)/2),D=new tH;if(!i){c.push(w.x,w.y,w.z),u.push(0,-1,0),h.push(0,0);let e=d++,t=[],r=x.clone(),i=M/Math.cos(Math.PI/n);r.x-=i;for(let e=0;e<n;e++){let i=e/n*Math.PI*2+p;$ee(r,new AV(Math.sin(i),Math.cos(i)),D),c.push(D.x,D.y,D.z),u.push(0,-1,0),h.push(0,0),t.push(d++)}for(let n=0;n<t.length;n++)l.push(t[n],e,t[(n+1)%t.length])}let k=[];{let e=new tH,t=new tH,r=new tH,i=new tH,f=new tH,m=new tH;for(let g=0;g<n;g++){let v=g/n*Math.PI*2+p,y=(g+.5)/n*Math.PI*2+p,_=(g+1)/n*Math.PI*2+p,E=new AV(Math.sin(v),Math.cos(v)),T=new AV(Math.sin(y),Math.cos(y)),D=new AV(Math.sin(_),Math.cos(_));$ee(x,E,t),$ee(x,D,r),$ee(C,T,e),ete(b,t,r,P,P,i),c.push(i.x,i.y,i.z),ete(t,b,r,P,M,f),c.push(f.x,f.y,f.z),ete(r,t,b,M,P,m),c.push(m.x,m.y,m.z),u.push(e.x,e.y,e.z),u.push(e.x,e.y,e.z),u.push(e.x,e.y,e.z),h.push(0,0),h.push(0,0),h.push(0,0);let R=d++,L=d++,N=d++;if(l.push(R,L,N),a>0){{let e=t.clone().add(r).multiplyScalar(.5),n=b.clone().sub(e).normalize(),i=w.clone().sub(e).normalize().add(n).normalize().multiplyScalar(-1);O(e,m.clone().sub(f),i,S.angle())}let p,g;{let e=new tH;$ee(A,D,e);let t=m.clone().add(i).multiplyScalar(.5);t=tte(t,r,b);let n=m.clone().sub(i);[p,g]=O(t,n,e,s,i.y)}{let e=p,t=e.clone().setY(0).normalize(),n=new tH(0,-1,0),r=t.clone().cross(n);I(e,t,n,r)}k.concat(g);{let t=S.angle(),r=Math.PI-t,i=b.clone();i.y-=a/Math.sin(t-Math.PI/2);let s=new tH,f=[];for(let t=0;t<o;t++){let l=[],p=Math.PI/2-r*t/o,m=Math.cos(p),g=Math.sin(p),v=y;for(let r=0;r<=t;r++){let r=Math.cos(v),o=Math.sin(v);e.x=m*o,e.y=g,e.z=m*r,s.copy(i).addScaledVector(e,a),c.push(s.x,s.y,s.z),u.push(e.x,e.y,e.z),h.push(0,0),l.push(d++),v+=2*Math.PI/t/n}f.push(l)}g.reverse(),f.push(g);let p=f.length-1;for(let e=0;e<p;e++){let t=f[e],n=f[e+1],r=t.length-1;l.push(n[1],t[0],n[0]);for(let e=1;e<=r;e++)l.push(t[e],t[e-1],n[e]),l.push(n[e+1],t[e],n[e])}}}}}function O(e,t,n,r,i){let s=-r/2,f=(Math.PI-r)/2,p=t.clone().normalize().cross(n);e.addScaledVector(n,-a/Math.sin(f));let m=new tH,g=new tH,v=d,y=[];for(let l=0;l<=o;l++){let f=s+l/o*r;g.set(0,0,0),g.addScaledVector(p,Math.sin(f)),g.addScaledVector(n,Math.cos(f));for(let n=0;n<=1;n++){let r=n/1-.5;if(m.copy(e),m.addScaledVector(t,r),m.addScaledVector(g,a),null!=i){let e=Math.max(0,m.y-i);m.addScaledVector(t,-e/t.y)}c.push(m.x,m.y,m.z),u.push(g.x,g.y,g.z),h.push(0,0),0===n&&y.push(d),d++}}for(let e=0;e<o;e++)for(let t=0;t<1;t++){let n=v+t+2*e,r=n+2,i=r+1,a=n+1;l.push(n,r,a),l.push(r,i,a)}return[e.clone().addScaledVector(t,.5),y]}function I(e,t,n,r){let i=Math.PI/2,s=E.angle()-i,f=[],p=new tH,m=new tH;for(let l=0;l<=o;l++){let g=[],v=l/o;for(let o=0;o<=l;o++){let f=((l?o/l:0)-.5)*y,w=Math.cos(f),b=Math.sin(f),x=(i+Math.atan(Math.tan(s)*w))*v,_=Math.cos(x),S=Math.sin(x);p.set(0,0,0),p.addScaledVector(t,S*w),p.addScaledVector(n,_),p.addScaledVector(r,S*b),m.copy(e).addScaledVector(p,a),c.push(m.x,m.y,m.z),u.push(p.x,p.y,p.z),h.push(0,0),g.push(d++)}f.push(g)}let g=f.length-1;for(let e=0;e<g;e++){let t=f[e],n=f[e+1],r=t.length-1;l.push(t[0],n[1],n[0]);for(let e=1;e<=r;e++)l.push(t[e-1],t[e],n[e]),l.push(t[e],n[e+1],n[e])}}this.setIndex(l),this.setAttribute("position",new _G(c,3)),this.setAttribute("normal",new _G(u,3)),this.setAttribute("uv",new _G(h,2))}},rte=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),r=Object.assign(t?.ui??{enabledIndieCorners:!1},e.ui);return{shape:e.shape&&e.shape instanceof W9?e.shape:new W9,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)}),ui:r}}static build(e){let t=e.shape,{width:n,height:r,cornerRadius:i,cornerType:a,depth:o,extrudeBevelSize:s,extrudeBevelSegments:l}=e.parameters,c={x:.5*n,y:.5*r},u={x:-c.x,y:-c.y},h={x:c.x,y:c.y};function d(e,t,i){return t>n&&i>r?Math.min(e*n/t,e*r/i):t>n?e*n/t:i>r?e*r/i:e}let f=[];f[0]=0===i[0]?0:d(i[0],i[0]+i[3],i[0]+i[1]),f[1]=0===i[1]?0:d(i[1],i[1]+i[2],i[1]+i[0]),f[2]=0===i[2]?0:d(i[2],i[2]+i[1],i[2]+i[3]),f[3]=0===i[3]?0:d(i[3],i[3]+i[0],i[3]+i[2]);let p=u.x,m=h.x,g=h.y,v=u.y;t.addPoint(t.createPoint(p,g)),t.addPoint(t.createPoint(m,g)),t.addPoint(t.createPoint(m,v)),t.addPoint(t.createPoint(p,v)),t.isClosed=!0;let y=!0;for(let e=0,n=t.points.length;e<n;e++)t.points[e].roundness=f[e],e>0&&f[e]!==f[e-1]&&(y=!1);y&&(t.roundness=f[0]),t.useCubicForRoundedCorners=1!==a,t.update();let w=xee.create({shape:t,parameters:{depth:o,extrudeBevelSize:s,extrudeBevelSegments:l}});return Object.assign(w,{userData:{...e,type:"RectangleGeometry"}})}},ite=class extends DG{constructor(e=1,t=1,n=1,r=90,i=10,a=24){super(),this.type="BackdropGeometry";let o=[],s=[],l=[],c=.001;0==i&&(a=1),a=Math.max(1,Math.floor(a)),i=Math.min(i,100),r=Math.min(180-c,r),r*=Math.PI/180;let u=[],h=Math.PI/2,d=(e=0,t=0,n=0)=>new tH(e,t,n),f=d(),p=d(),[m,g,v]=[t/2,e/2,n/2],y=-g,w=+g,[b,x,_]=[d(y,-m,+v),d(y,-m,-v),d(y,+m,-v)],S=(e,t=!1)=>Math.sin(e-Math.PI/(+t+1)),E=(e,t=!1)=>Math.cos(e-Math.PI/(+t+1));_.y=Math.sin(r)*t-m;let C=Math.cos(r)*t-v,A=b.z-c;r<=h?(_.z=Math.min(C,A),_.z==A&&(_.y-=(C-A)/Math.tan(h-r))):x.z=Math.min(x.z-C-v,b.z-c),f.subVectors(b,x),p.subVectors(_,x);let T=Math.min(f.length(),p.length())*i/100,M=T*Math.tan(r/2),P=T/Math.cos(r/2),D=f.clone().normalize().add(p.normalize()).setLength(P).add(x);f.set(0,S(r,!0),E(r,!0)),u.push([_,f.clone()]);let k=(Math.PI-r)/a;for(let e=0;e<=a;e++){let t=h+r+e*k;f.set(0,Math.sin(t)*M,Math.cos(t)*M),f.add(D),p.set(0,S(t),E(t)),u.push([f.clone(),p.clone()])}u.push([b,d(0,1,0)]);let O=Math.sin(k/2)*M*2,I=u.length-1,R=u[0][0].distanceTo(u[1][0]),L=R+O*a+u[I-1][0].distanceTo(u[I][0]);u[0].push(1);for(let e=0;e<=a;e++)u[e+1].push(1-(R+e*O)/L);u[I].push(0);let N,z,B,[F,U,j]=u[0];for(let e=1;e<u.length;e++)[N,z,B]=u[e],o.push(y,F.y,F.z,y,N.y,N.z,w,F.y,F.z,w,F.y,F.z,y,N.y,N.z,w,N.y,N.z),s.push(0,U.y,U.z,0,z.y,z.z,0,U.y,U.z,0,U.y,U.z,0,z.y,z.z,0,z.y,z.z),l.push(0,j,0,B,1,j,1,j,0,B,1,B),[F,U,j]=[N,z,B];this.setAttribute("position",new _G(o,3)),this.setAttribute("normal",new _G(s,3)),this.setAttribute("uv",new _G(l,2))}},ate=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof W9?e.shape:new W9,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n,innerRadiusPercent:r,spikes:i,cornerRadius:a,angle:o,depth:s,extrudeBevelSize:l,extrudeBevelSegments:c}=e.parameters,u=e.shape,h=.5*t,d=.5*n,f=o*Math.PI/360/i,p=Math.PI/2*3*-1,m=h*r/100,g=d*r/100;if(3===i&&50===r){f=2*Math.PI/i;for(let e=0;e<i;e++){let t=f*e,n=0+Math.sin(t)*h,r=0+Math.cos(t)*d;u.addPoint(u.createPoint(n,r))}}else for(let e=0;e<i;e++){let e=0+Math.cos(p)*h,t=0+Math.sin(p)*d;u.addPoint(u.createPoint(e,t)),p+=f,e=0+Math.cos(p)*m,t=0+Math.sin(p)*g,u.addPoint(u.createPoint(e,t)),p+=f}u.isClosed=!0;for(let e=0,t=u.points.length;e<t;e++)u.points[e].roundness=a;u.roundness=a,u.update();let v=xee.create({shape:u,parameters:{roundness:a,depth:s,extrudeBevelSize:l,extrudeBevelSegments:c}});return Object.assign(v,{userData:{...e,type:"StarGeometry"}})}},ote=class{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+ote.version}static addUnaryOp(e){return ote.max_unop_len=Math.max(e.length,ote.max_unop_len),ote.unary_ops[e]=1,ote}static addBinaryOp(e,t,n){return ote.max_binop_len=Math.max(e.length,ote.max_binop_len),ote.binary_ops[e]=t,n?ote.right_associative.add(e):ote.right_associative.delete(e),ote}static addIdentifierChar(e){return ote.additional_identifier_chars.add(e),ote}static addLiteral(e,t){return ote.literals[e]=t,ote}static removeUnaryOp(e){return delete ote.unary_ops[e],e.length===ote.max_unop_len&&(ote.max_unop_len=ote.getMaxKeyLen(ote.unary_ops)),ote}static removeAllUnaryOps(){return ote.unary_ops={},ote.max_unop_len=0,ote}static removeIdentifierChar(e){return ote.additional_identifier_chars.delete(e),ote}static removeBinaryOp(e){return delete ote.binary_ops[e],e.length===ote.max_binop_len&&(ote.max_binop_len=ote.getMaxKeyLen(ote.binary_ops)),ote.right_associative.delete(e),ote}static removeAllBinaryOps(){return ote.binary_ops={},ote.max_binop_len=0,ote}static removeLiteral(e){return delete ote.literals[e],ote}static removeAllLiterals(){return ote.literals={},ote}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new ote(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map((e=>e.length)))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return ote.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!ote.binary_ops[String.fromCharCode(e)]||ote.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return ote.isIdentifierStart(e)||ote.isDecimalDigit(e)}throwError(e){let t=new Error(e+" at character "+this.index);throw t.index=this.index,t.description=e,t}runHook(e,t){if(ote.hooks[e]){let n={context:this,node:t};return ote.hooks.run(e,n),n.node}return t}searchHook(e){if(ote.hooks[e]){let t={context:this};return ote.hooks[e].find((function(e){return e.call(t.context,t),t.node})),t.node}}gobbleSpaces(){let e=this.code;for(;e===ote.SPACE_CODE||e===ote.TAB_CODE||e===ote.LF_CODE||e===ote.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let e=this.gobbleExpressions(),t=1===e.length?e[0]:{type:ote.COMPOUND,body:e};return this.runHook("after-all",t)}gobbleExpressions(e){let t,n,r=[];for(;this.index<this.expr.length;)if(t=this.code,t===ote.SEMCOL_CODE||t===ote.COMMA_CODE)this.index++;else if(n=this.gobbleExpression())r.push(n);else if(this.index<this.expr.length){if(t===e)break;this.throwError('Unexpected "'+this.char+'"')}return r}gobbleExpression(){let e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,ote.max_binop_len),t=e.length;for(;t>0;){if(ote.binary_ops.hasOwnProperty(e)&&(!ote.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!ote.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=t,e;e=e.substr(0,--t)}return!1}gobbleBinaryExpression(){let e,t,n,r,i,a,o,s,l;if(a=this.gobbleToken(),!a||(t=this.gobbleBinaryOp(),!t))return a;for(i={value:t,prec:ote.binaryPrecedence(t),right_a:ote.right_associative.has(t)},o=this.gobbleToken(),o||this.throwError("Expected expression after "+t),r=[a,i,o];t=this.gobbleBinaryOp();){if(n=ote.binaryPrecedence(t),0===n){this.index-=t.length;break}i={value:t,prec:n,right_a:ote.right_associative.has(t)},l=t;let s=e=>i.right_a&&e.right_a?n>e.prec:n<=e.prec;for(;r.length>2&&s(r[r.length-2]);)o=r.pop(),t=r.pop().value,a=r.pop(),e={type:ote.BINARY_EXP,operator:t,left:a,right:o},r.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+l),r.push(i,e)}for(s=r.length-1,e=r[s];s>1;)e={type:ote.BINARY_EXP,operator:r[s-1].value,left:r[s-2],right:e},s-=2;return e}gobbleToken(){let e,t,n,r;if(this.gobbleSpaces(),r=this.searchHook("gobble-token"),r)return this.runHook("after-token",r);if(e=this.code,ote.isDecimalDigit(e)||e===ote.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===ote.SQUOTE_CODE||e===ote.DQUOTE_CODE)r=this.gobbleStringLiteral();else if(e===ote.OBRACK_CODE)r=this.gobbleArray();else{for(t=this.expr.substr(this.index,ote.max_unop_len),n=t.length;n>0;){if(ote.unary_ops.hasOwnProperty(t)&&(!ote.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!ote.isIdentifierPart(this.expr.charCodeAt(this.index+t.length)))){this.index+=n;let e=this.gobbleToken();return e||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:ote.UNARY_EXP,operator:t,argument:e,prefix:!0})}t=t.substr(0,--n)}ote.isIdentifierStart(e)?(r=this.gobbleIdentifier(),ote.literals.hasOwnProperty(r.name)?r={type:ote.LITERAL,value:ote.literals[r.name],raw:r.name}:r.name===ote.this_str&&(r={type:ote.THIS_EXP})):e===ote.OPAREN_CODE&&(r=this.gobbleGroup())}return r?(r=this.gobbleTokenProperty(r),this.runHook("after-token",r)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let t=this.code;for(;t===ote.PERIOD_CODE||t===ote.OBRACK_CODE||t===ote.OPAREN_CODE||t===ote.QUMARK_CODE;){let n;if(t===ote.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==ote.PERIOD_CODE)break;n=!0,this.index+=2,this.gobbleSpaces(),t=this.code}this.index++,t===ote.OBRACK_CODE?(e={type:ote.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},this.gobbleSpaces(),t=this.code,t!==ote.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):t===ote.OPAREN_CODE?e={type:ote.CALL_EXP,arguments:this.gobbleArguments(ote.CPAREN_CODE),callee:e}:(t===ote.PERIOD_CODE||n)&&(n&&this.index--,this.gobbleSpaces(),e={type:ote.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),n&&(e.optional=!0),this.gobbleSpaces(),t=this.code}return e}gobbleNumericLiteral(){let e,t,n="";for(;ote.isDecimalDigit(this.code);)n+=this.expr.charAt(this.index++);if(this.code===ote.PERIOD_CODE)for(n+=this.expr.charAt(this.index++);ote.isDecimalDigit(this.code);)n+=this.expr.charAt(this.index++);if(e=this.char,"e"===e||"E"===e){for(n+=this.expr.charAt(this.index++),e=this.char,("+"===e||"-"===e)&&(n+=this.expr.charAt(this.index++));ote.isDecimalDigit(this.code);)n+=this.expr.charAt(this.index++);ote.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+n+this.char+")")}return t=this.code,ote.isIdentifierStart(t)?this.throwError("Variable names cannot start with a number ("+n+this.char+")"):(t===ote.PERIOD_CODE||1===n.length&&n.charCodeAt(0)===ote.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:ote.LITERAL,value:parseFloat(n),raw:n}}gobbleStringLiteral(){let e="",t=this.index,n=this.expr.charAt(this.index++),r=!1;for(;this.index<this.expr.length;){let t=this.expr.charAt(this.index++);if(t===n){r=!0;break}if("\\"===t)switch(t=this.expr.charAt(this.index++),t){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=t}else e+=t}return r||this.throwError('Unclosed quote after "'+e+'"'),{type:ote.LITERAL,value:e,raw:this.expr.substring(t,this.index)}}gobbleIdentifier(){let e=this.code,t=this.index;for(ote.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,ote.isIdentifierPart(e));)this.index++;return{type:ote.IDENTIFIER,name:this.expr.slice(t,this.index)}}gobbleArguments(e){let t=[],n=!1,r=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let i=this.code;if(i===e){n=!0,this.index++,e===ote.CPAREN_CODE&&r&&r>=t.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}if(i===ote.COMMA_CODE){if(this.index++,r++,r!==t.length)if(e===ote.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===ote.CBRACK_CODE)for(let e=t.length;e<r;e++)t.push(null)}else if(t.length!==r&&0!==r)this.throwError("Expected comma");else{let e=this.gobbleExpression();(!e||e.type===ote.COMPOUND)&&this.throwError("Expected comma"),t.push(e)}}return n||this.throwError("Expected "+String.fromCharCode(e)),t}gobbleGroup(){this.index++;let e=this.gobbleExpressions(ote.CPAREN_CODE);if(this.code===ote.CPAREN_CODE)return this.index++,1===e.length?e[0]:!!e.length&&{type:ote.SEQUENCE_EXP,expressions:e};this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:ote.ARRAY_EXP,elements:this.gobbleArguments(ote.CBRACK_CODE)}}},ste=new class{add(e,t,n){if("string"!=typeof arguments[0])for(let e in arguments[0])this.add(e,arguments[0][e],arguments[1]);else(Array.isArray(e)?e:[e]).forEach((function(e){this[e]=this[e]||[],t&&this[e][n?"unshift":"push"](t)}),this)}run(e,t){this[e]=this[e]||[],this[e].forEach((function(e){e.call(t&&t.context?t.context:t,t)}))}};Object.assign(ote,{hooks:ste,plugins:new class{constructor(e){this.jsep=e,this.registered={}}register(...e){e.forEach((e=>{if("object"!=typeof e||!e.name||!e.init)throw new Error("Invalid JSEP plugin format");this.registered[e.name]||(e.init(this.jsep),this.registered[e.name]=e)}))}}(ote),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"}),ote.max_unop_len=ote.getMaxKeyLen(ote.unary_ops),ote.max_binop_len=ote.getMaxKeyLen(ote.binary_ops);var lte=e=>new ote(e).parse();Object.getOwnPropertyNames(ote).forEach((e=>{void 0===lte[e]&&"prototype"!==e&&(lte[e]=ote[e])})),lte.Jsep=ote;var cte={name:"ternary",init(e){e.hooks.add("after-expression",(function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;let n=t.node,r=this.gobbleExpression();if(r||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let i=this.gobbleExpression();if(i||this.throwError("Expected expression"),t.node={type:"ConditionalExpression",test:n,consequent:r,alternate:i},n.operator&&e.binary_ops[n.operator]<=.9){let r=n;for(;r.right.operator&&e.binary_ops[r.right.operator]<=.9;)r=r.right;t.node.test=r.right,r.right=t.node,t.node=n}}else this.throwError("Expected :")}}))}};lte.plugins.register(cte);var ute=["+","-","*","/","(",")","==","!=",">","<",">=","<=","and","or","!","%","^",","],hte=["0","1","2","3","4","5","6","7","8","9","."],dte=["sin","cos","tan","asin","acos","atan","atan2","sqrt","abs","log","exp","floor","ceil","round","min","max","random"];function fte(e){return"string"==typeof e&&!isNaN(e)&&!isNaN(parseFloat(e))}function pte(e,t,n="number"){let r,i,a="";for(let r=0;r<e.length;r++){let i=e[r];if("id"in i){let o=e[r-1];if(r>0&&"id"in o)return void console.error("Two variables in a row",e);let s=t.getVariable(i.id),l=c6.getDisplayedValue(s);"number"===n&&c6.isTextValue(s)&&Array.isArray(s.textValue)&&1===s.textValue.length?l=parseFloat(l).toString():"boolean"===n&&c6.isBoolean(s)?l=s?"true":"false":"boolean"===n&&c6.isTextValue(s)&&!Array.isArray(s.textValue)&&(l='"'+l+'"'),a+=l}else"string"!==n?"and"!==i.name?"or"!==i.name?"True"!==i.name?"False"!==i.name?"boolean"!==n||fte(i.name)||hte.includes(i.name)||ute.includes(i.name)||dte.includes(i.name.replace(/\($/g,""))?a+=i.name:a+='"'+i.name+'"':a+="false":a+="true":a+="||":a+="&&":('"'!==i.name&&"+"!==i.name&&(a+=i.name),"+"===i.name&&"\\"===a[a.length-1]&&(a=a.slice(0,-1)+i.name))}if("string"===n)return a;if(0===e.length){if("number"===n)return 0;if("boolean"===n)return!1}try{r=lte(a)}catch(e){return void console.error(a,e)}try{i=mte(r)}catch(e){console.error(a,r,e)}return i}function mte(e){switch(e.type){case"BinaryExpression":switch(e.operator){case"==":return Number(mte(e.left)===mte(e.right));case"!=":return Number(mte(e.left)!==mte(e.right));case">":return Number(mte(e.left)>mte(e.right));case">=":return Number(mte(e.left)>=mte(e.right));case"<":return Number(mte(e.left)<mte(e.right));case"<=":return Number(mte(e.left)<=mte(e.right));case"+":return mte(e.left)+mte(e.right);case"-":return mte(e.left)-mte(e.right);case"*":return mte(e.left)*mte(e.right);case"/":return mte(e.left)/mte(e.right);case"%":return mte(e.left)%mte(e.right);case"&&":return mte(e.left)&&mte(e.right);case"||":return mte(e.left)||mte(e.right);case"^":return Math.pow(mte(e.left),mte(e.right));default:throw new Error("Unknown operator: "+e.operator)}case"UnaryExpression":switch(e.operator){case"-":return-mte(e.argument);case"!":return Number(!mte(e.argument));default:throw new Error("Unknown operator: "+e.operator)}case"Identifier":throw new Error("Unknown identifier: "+e.name);case"Literal":return e.value;case"CallExpression":if("Identifier"===e.callee.type){if("random"===e.callee.name){let t=0,n=1;if(e.arguments.length>=1)try{t=mte(e.arguments[0])}catch(e){console.warn(e)}if(e.arguments.length>=2)try{n=mte(e.arguments[1])}catch(e){console.warn(e)}return t=Math.min(n,t),n=Math.max(n,t),t+Math.random()*(n-t)}return Math[e.callee.name].apply(null,e.arguments.map(mte))}throw new Error("Unknown node");default:throw new Error("Unknown node type: "+e.type)}}lte.addBinaryOp("^",11,!0);var gte=new kH,vte=new kH,yte=class extends DG{constructor(e){super(),this.type="PathExtrusionGeometry",this.inputs=e,this.build()}_isGeometryClosed(){return this.inputs.path.isClosed&&1===this.inputs.parameters.extrusion.depth}_isOpenEnded(){let e=this.inputs.parameters.extrusion;return!(this.inputs.path.isClosed&&1===e.depth&&function(e,t){let n=2*Math.PI;return(e%n+n)%n==(0%n+n)%n}(e.twist)&&e.startScale===e.endScale)}build(){let e=this._extractPathPoints();if(e.length<2)return;let t=this._computeBasisMatrices(e),{depth:n,offset:r}=this.inputs.parameters.extrusion;n=Math.max(0,Math.min(n,1)),r=Math.max(0,Math.min(r,1));let i=this.inputs.path.isClosed?e.length:e.length-1,a=Math.floor(r*i),o=this.inputs.path.isClosed?Math.ceil((n+r)*i):Math.ceil(Math.min(1,n+r)*i),s=Math.min(Math.max(2,o-a+1),i+2),l=[],c=[];for(let n=0;n<s;n++){let r=this.inputs.path.isClosed?(n+a)%e.length:Math.min(n+a,e.length-1);l.push(e[r].clone()),c.push(t[r].clone())}let u=(e,t,n)=>{l[e]=l[e].clone().lerp(l[t],n),c[e]=function(e,t,n){let r=[new tH,new tH,new tH],i=[new tH,new tH,new tH];return e.extractBasis(r[0],r[1],r[2]),t.extractBasis(i[0],i[1],i[2]),r.forEach(((e,t)=>{let r=i[t],a=CV.lerp(e.length(),r.length(),n);e.lerp(r,n).setLength(a)})),(new kH).makeBasis(r[0],r[1],r[2])}(c[e],c[t],n)},h=0,d=r*i%1;(!this.inputs.path.isClosed||n<=1)&&(d||0===r)&&(h=d,u(0,1,h));let f=0,p=(r+n)*i%1;if((this.inputs.path.isClosed&&n<=1||!this.inputs.path.isClosed&&r+n<1)&&p&&(f=p,u(l.length-1,l.length-2,1-f)),0===n){let e=l.length-1;l[e].copy(l[0]),c[e].copy(c[0])}this._applyPathModifiers(c,h,f);let{bevel:m,bevelSides:g}=this.inputs.parameters.extrusion,v=m>0?this.inputs.parameters.extrusion.capType:"flat",y=5;"Custom"===this.inputs.parameters.extrusion.shape.type&&(y="low"===this.inputs.parameters.extrusion.shape.shapeQuality?5:12);let w,{regions:b,infos:x,vertices:_}=this._computeShapePoints(y),S=0;"round"===v&&(w=new yee(this.inputs.shapeData,2*m,m,y,g,void 0,!0),S=w.getAttribute("position").count);let E=0,C=0;x.sort(((e,t)=>e.start-t.start)),x.forEach((e=>{e.verticesStart=E,e.verticesCount=e.continuous.reduce(((e,t,n)=>e+(0!==n&&t?1:2)),0),C+=e.verticesCount,E=C}));let A,T=C*s,M=0;if(this._isOpenEnded()&&"flat"===v){try{A=uee({windingRule:z9.ODD,elementType:B9.POLYGONS,polySize:3,vertexSize:2,strict:!0,contours:b})}catch{A=gee}M=A.vertexCount}let P=T+2*M+2*S,D=T+2*M,k={positions:new Float32Array(3*P),normals:new Float32Array(3*P),uvs:new Float32Array(2*P)},O=[];if(x.forEach((e=>{this._extrudeRegion(e,_,c,l,k,O,this._isGeometryClosed()&&!this._isOpenEnded())})),A&&(this._closeEnd(A,T,O,k,c[0],l[0],!1),this._closeEnd(A,T+M,O,k,c[c.length-1],l[l.length-1],!0)),w){k.positions.set(w.getAttribute("position").array,3*D),k.normals.set(w.getAttribute("normal").array,3*D),k.uvs.set(w.getAttribute("uv").array,2*D);let e=O.length;O.push(...w.getIndex().array.map((e=>e+D))),D+=S,k.positions.set(w.getAttribute("position").array,3*D),k.normals.set(w.getAttribute("normal").array,3*D),k.uvs.set(w.getAttribute("uv").array,2*D);let t=O.length;O.push(...w.getIndex().array.map((e=>e+D))),this.setAttribute("position",new wG(k.positions,3)),this.setAttribute("normal",new wG(k.normals,3)),this.setAttribute("uv",new wG(k.uvs,2)),this.setIndex(O);let n=gte;n.copy(c[c.length-1]).setPosition(l[l.length-1]),this.applyMatrix4OnRange(n,D,P),n.copy(c[0]).setPosition(l[0]).multiply(vte.makeScale(1,1,-1)),this.applyMatrix4OnRange(n,D-S,D),this.reverseIndicesOnRange(e,t)}else this.setAttribute("position",new wG(k.positions,3)),this.setAttribute("normal",new wG(k.normals,3)),this.setAttribute("uv",new wG(k.uvs,2)),this.setIndex(O)}_extractPathPoints(){let e=Q7(this.inputs.path).getPoints(this.inputs.path.subdivisions);if(e.length<2)return[];let t=[e[0]];return e.forEach((e=>{t[t.length-1].distanceToSquared(e)>.001&&t.push(e)})),this.inputs.path.isClosed&&t[t.length-1].distanceTo(t[0])<.001&&t.pop(),t}_computeBasisMatrices(e){let t=[],n=e.length,r=this.inputs.path.isClosed,i=new tH,a=new tH,o=new tH,s=new tH,l=new tH(0,1,0);for(let c=0;c<n;c++){let u,h,d=e[c];u=0===c?r?e[e.length-2]:d.clone().multiplyScalar(2).sub(e[1]):e[c-1],h=c===n-1?r?e[1]:d.clone().multiplyScalar(2).sub(e[c-1]):e[c+1];let f=d.clone().sub(u).normalize(),p=h.clone().sub(d).normalize(),m=f.clone().add(p).normalize();o.copy(m),0===c&&(m.equals(l)||m.clone().negate().equals(l))&&l.set(0,0,1);let g=l.clone().cross(m).normalize(),v=m.clone().cross(g).normalize();l.copy(v),s.copy(g),0===c&&(i.copy(v),a.copy(m));let y=(new kH).makeBasis(g,v,m);t.push(y)}let c=r?a:o,u=r?i:new tH(0,1,0),h=c.clone().cross(s).normalize(),d=Math.acos(u.dot(h));if(isNaN(d))return t;let f=u.clone().cross(h);c.dot(f)>0&&(d*=-1);for(let e=1;e<t.length;e++){let n=(new kH).makeRotationZ(d*e/t.length);t[e].multiply(n)}return t}_applyPathModifiers(e,t,n){let r=e.length,{angle:i,twist:a,startScale:o,endScale:s}=this.inputs.parameters.extrusion,l=new kH,c=new kH;return e.forEach(((e,u)=>{let h=0===u?0:u===r-1?1:(u-t)/(r-(0===n?0:1)-(t+(1-n)));l.makeRotationZ(CV.lerp(i,i+a,h)*CV.DEG2RAD);let d=CV.lerp(o,s,h);c.makeScale(d,d,d),e.multiply(l).multiply(c)})),e}_computeShapePoints(e=12,t=z9.ODD){let n,r,i=this.inputs.shapeData,a=i.extractShapePointsToFlatArray([],e),o=i.shapeHoles.map((t=>{let n=t.extractShapePointsToFlatArray([],e),r=[];for(let e=n.length-1;e>=1;e-=2){let t=n[e-1],i=n[e-0];r.push(t,i)}return r}));try{n=uee({windingRule:t,elementType:B9.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[a]})}catch{n=pee}try{r=uee({windingRule:z9.ODD,elementType:B9.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...o]})}catch{r=mee}if(!n)throw new Error("error generating geometry");let s=n.elementCount;if(r){n.elementCount+=r.elementCount;for(let e=0;e<r.elements.length;e++){let t=r.elements[e],i=e%2==0?n.vertexCount:0;n.elements.push(t+i)}for(let e=0;e<r.vertexIndices.length;e++){let t=r.vertexIndices[e],i=n.vertexCount;n.vertexIndices.push(t+i)}for(let e=0;e<r.vertices.length;e++){let t=r.vertices[e];n.vertices.push(t)}}let l=1/0,c=-1/0,u=1/0,h=-1/0;for(let e=0,t=n.vertexCount;e<t;e++){let t=2*e,r=n.vertices[t+0],i=n.vertices[t+1];r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>h&&(h=i)}let d=[];for(let e=n.elementCount-1;e>=0;e--){let t=e>=s,r=2*e,a=n.elements[r+0],o=n.elements[r+1],l=a+o,c={start:a,count:o,normals:[],isHole:t,continuous:[],verticesStart:0,verticesCount:0};d.push(c);let u=a,h=l-1,f=a+1,p=i.roundedCurves.length;do{let e=u-a,r=n.vertices[2*h+0],s=n.vertices[2*h+1],d=n.vertices[2*u+0],m=n.vertices[2*u+1],g=n.vertices[2*f+0],v=n.vertices[2*f+1],y=d-r,w=m-s,b=Math.sqrt(y*y+w*w);y/=b,w/=b;let x=d-g,_=m-v,S=Math.sqrt(x*x+_*_);x/=S,_/=S,c.normals[2*e+0]=-_,c.normals[2*e+1]=x;let E=n.vertexIndices[u];if(Array.isArray(E))c.continuous[e]=!1;else{let[t,n]=i.getCurveIndexFromVertexId(E-1,!0);if(n>0&&n<1)c.continuous[e]=!0;else{let r=1===n?t+1:t-1;r=(r+p)%p;let a=1===n?0:1,o=i.roundedCurves[t].getTangent(n),s=i.roundedCurves[r].getTangent(a);c.continuous[e]=o.dot(s)>.95}}t&&(c.normals[2*e+0]*=-1,c.normals[2*e+1]*=-1),[h,u,f]=[u,f,f+1],f>=l&&(f-=o)}while(f!==a+1)}return{regions:[a,...o],infos:d,vertices:n.vertices}}_insertVertex(e,t,n,r,i){let a=2*t,o=3*t;e.positions[o+0]=n.x,e.positions[o+1]=n.y,e.positions[o+2]=n.z,e.normals[o+0]=r.x,e.normals[o+1]=r.y,e.normals[o+2]=r.z,e.uvs[a+0]=i.x,e.uvs[a+1]=i.y}_extrudeRegion(e,t,n,r,i,a,o){let s=new tH,l=new tH,c=new tH,u=new tH,h=new AV;n.forEach(((a,o)=>{let d=r[o],f=e.verticesStart*n.length+e.verticesCount*o;for(let r=0;r<e.count;r++){let p=2*(e.start+r);if(s.set(t[p+0],t[p+1],0),c.copy(s).applyMatrix4(a).add(d),e.continuous[r])u.set(e.normals[2*r+0],e.normals[2*r+1],0);else{let n=0===r?2*(e.start+e.count-1):p-2;l.set(t[n+0],t[n+1],0),u.copy(s).sub(l),u.set(-u.y,u.x,0),e.isHole||u.negate()}if(u.applyMatrix4(a).normalize(),h.set(0===r?1:r/e.count,o/(n.length-1)),this._insertVertex(i,f,c,u,h),f++,!e.continuous[r]||0===r){if(0===r)u.set(e.normals[2*r+0],e.normals[2*r+1],0),h.set(0,o/(n.length-1));else{let n=r===e.count-1?2*e.start:p+2;l.set(t[n+0],t[n+1],0),u.copy(l).sub(s),u.set(-u.y,u.x,0),e.isHole||u.negate()}u.applyMatrix4(a).normalize(),this._insertVertex(i,f,c,u,h),f++}}}));let d=n.length-1;for(let t=0;t<d;t++){let r=e.verticesStart*n.length+e.verticesCount*t,i=e.verticesStart*n.length+e.verticesCount*(t+1),o=0;for(let t=0;t<e.count;t++){(!e.continuous[t]||0===t)&&o++;let n=t===e.count-1?0:o+1,s=r+o,l=r+n,c=i+n,u=i+o;e.isHole?a.push(s,c,l,s,u,c):a.push(s,l,c,s,c,u),o++}}}_closeEnd(e,t,n,r,i,a,o){let s=e.vertexCount,l=new tH(0,0,o?-1:1).applyMatrix4(i),c=new tH,u=new AV;for(let n=0;n<s;n++){let o=2*n;c.set(e.vertices[o+0],e.vertices[o+1],0).applyMatrix4(i).add(a),this._insertVertex(r,t+n,c,l,u)}let h=e.elements;for(let r=0;r<e.elementCount;r++){let e=3*r,i=h[e+0]+t,a=h[e+(o?1:2)]+t,s=h[e+(o?2:1)]+t;n.push(i,a,s)}}applyMatrix4OnRange(e,t,n){let r,i,a,o,s=e.elements,l=(new TV).getNormalMatrix(e).elements,c=this.attributes.position,u=this.attributes.normal;if(!c||!u)return;let h=c.array,d=u.array,f=c.itemSize;for(let e=t*f,c=n*f;e<c;e+=f)r=h[e+0],i=h[e+1],a=h[e+2],o=1/(s[3]*r+s[7]*i+s[11]*a+s[15]),h[e+0]=(s[0]*r+s[4]*i+s[8]*a+s[12])*o,h[e+1]=(s[1]*r+s[5]*i+s[9]*a+s[13])*o,h[e+2]=(s[2]*r+s[6]*i+s[10]*a+s[14])*o,r=d[e+0],i=d[e+1],a=d[e+2],d[e+0]=l[0]*r+l[3]*i+l[6]*a,d[e+1]=l[1]*r+l[4]*i+l[7]*a,d[e+2]=l[2]*r+l[5]*i+l[8]*a;c.needsUpdate=!0,u.needsUpdate=!0}reverseIndicesOnRange(e,t){let n=this.index;if(n){for(let r=e;r<t;r+=3){let e=n.getX(r),t=n.getX(r+1),i=n.getX(r+2);n.setXYZ(r,i,t,e)}n.needsUpdate=!0}}};function wte(){let e=new DG;return e.setAttribute("position",new wG(new Float32Array([]),3)),e.setIndex(new wG(new Uint16Array([]),1)),e}var bte,xte,_te=wte().attributes,Ste=class extends DG{constructor(e,t){super(),this.charWidths=[],this.charCoords=[],this.wrappedText=[],this.isLowResolution=!1,this.vectorShapes=[],Object.assign(this.attributes,_te),this.userData={parameters:e,type:"TextGeometry"};let n=t.getFont(e.font);n?.isLoaded?(this.font=n,this.update(e)):this.updateFont(e.font,t).then((()=>{this.update(e),t?.requestRender()}))}async updateFont(e,t){let n=t.getFont(e);n&&(this.font=n,await n.loadingPromise)}update(e){let t=this.font;if(this.userData={parameters:e,type:"TextGeometry"},!t?.isLoaded)return void console.warn("Cannot update text because its font is not loaded");let{width:n,height:r,depth:i,extrudeBevelSize:a,extrudeBevelSegments:o,text:s,textTransform:l}=e,c=c6.getDisplayedValue(s),u=function(e,t,n){let r=[""],i="";for(let a of n)i+=a," "===a||"\n"===a?(r[r.length-1]+=i,i="","\n"===a&&r.push("")):t.getTextWidth(r[r.length-1]+i,e)>e.width&&(r[r.length-1].length&&r.push(""),t.getTextWidth(r[r.length-1]+i,e)>e.width&&(1===i.length?(r[r.length-1]+=i,i=""):(r[r.length-1]+=i.slice(0,-1),i=i[i.length-1],r.push(""))));return r[r.length-1]+=i,r}(e,t,2===l?c.toUpperCase():3===l?c.toLowerCase():c),{shapes:h,charWidths:d,charCoords:f}=t.generateShapes(u,e),p=.5*("number"==typeof n?n:1),m=.5*("number"==typeof r?r:1),g=h.map((e=>(new W9).fromShape(e,!0)));this.vectorShapes=g;let v=g.map((e=>xee.create({shape:e,parameters:{depth:i,extrudeBevelSegments:o,extrudeBevelSize:a,windingRule:i<=0?z9.NONZERO:z9.ODD,subdivisions:this.isLowResolution&&i>0?1:12}}))),y=v.length?t8(v):wte();y.translate(-p,m,0),this.dispose(),this.wrappedText=u,this.charCoords=f,this.charWidths=d,this.deleteAttribute("extrudeNormal"),Object.entries(y.attributes).forEach((([e,t])=>{this.setAttribute(e,t)})),this.setIndex(y.index),this.computeBoundingSphere()}clone(){let e=C1(new DG,Ste.prototype);return e.copy(this),console.log("CloneGeometry",this,e),e}copy(e){return Object.entries(e.attributes).forEach((([e,t])=>{this.setAttribute(e,t)})),this.setIndex(e.index),this.userData={parameters:{...e.userData.parameters},type:"TextGeometry"},this}async setText(e){this.font&&await this.font.loadingPromise,await this.update({...this.userData.parameters,text:e})}get text(){return this.userData.parameters.text??""}},Ete=new Promise((e=>{bte=e})),Cte=!1;function Ate(){if(!Cte)return xte||(xte=async function(){let e=o.e(256).then(o.bind(o,6256)),[t,n]=await Promise.all([e,fetch("https://unpkg.com/@splinetool/modelling-wasm@1.0.19/build/process.wasm").then((e=>e.arrayBuffer()))]),r=t.default,i=await r({wasmBinary:n});bte(i),Cte=!0}(),xte)}var Tte=["font"];function Mte(e,t,n,r){let i,a,o;"PathGeometry"===e.type?(a=JSON.parse(JSON.stringify(e)),o=[[],["extrusion"]]):(a={...e},o=[[]]);for(let e of o){let n=a;for(let t of e)n=n[t];for(i in n){let a=n[i];$4(a)&&!Tte.includes(i)&&(n[i]=t.getVariable(a,[r.uuid,"geometry",...e,i]),$4(n[i])&&(n[i]=1))}}let s,l={parameters:a,type:a.type};if("PathGeometry"===a.type)l.path=a.path;else if("VectorGeometry"===a.type){let e=W9.createFromState(a.shape,a.width,a.height);l.shape=e}else if("NonParametricGeometry"===a.type)a.data.groups&&a.data.groups?.forEach((e=>e.materialIndex=Math.max(e.materialIndex??0,0))),l.geometry=(new dK).parse(a);else{if("SubdivGeometry"===a.type){let t=new zte(a,n);return t.data=e,t}if("TextGeometry"===a.type)return new Ste(a,t);if("UIGeometry"===a.type)return rte.create({parameters:{width:a.width,height:a.height,cornerRadius:a.cornerRadius,cornerType:a.cornerType}})}try{s=ane(l)}catch(e){console.error(e)}if(!s){let e=W9.createFromState(w5.defaultData(),100,100);l.shape=e,s=ane(l)}return s}var Pte=new kH;function Dte(e,t,n,r){let i,a,o,s=e.position.array,l=e.normal.array,c=Pte.makeScale(t,n,r).invert().elements;for(var u=0,h=s.length;u<h;u+=3)s[u]*=t,s[u+1]*=n,s[u+2]*=r,i=l[u],a=l[u+1],o=l[u+2],l[u]=c[0]*i+c[4]*a+c[8]*o,l[u+1]=c[1]*i+c[5]*a+c[9]*o,l[u+2]=c[2]*i+c[6]*a+c[10]*o;e.position.needsUpdate=!0,e.normal.needsUpdate=!0}var kte,Ote=new iH,Ite=new tH;Ete.then((e=>{kte=e}));var Rte=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),Lte=new Uint32Array([0,1,2,3]),Nte=new Uint8Array([4]),zte=class extends DG{constructor(e,t){super(),this.data=e,this.flatShading=t,this.subdivPointer=0,this.rebuild(),this.freeSubdivPointer()}mutateDirectlyScaleBaked(e,t){this.freeSubdivPointer();let n=this.data.scaleBaked,r=R4.div(t,n);this.subdividedGeometry&&Dte(this.subdividedGeometry.attributes,...r),this.originalGeometry&&Dte(this.originalGeometry.attributes,...r),this.data=e;let i=this.userData.parameters;this.userData.parameters={width:i.width*r[0],height:i.height*r[1],depth:i.depth*r[2]},this.originalGeometry.boundingSphere.center.multiply(Ite.fromArray(r));let a=Ite.set(i.width,i.height,i.depth).length();this.originalGeometry.boundingSphere.radius=a/2}ensureSubdivPointer(){return 0===this.subdivPointer&&this.rebuild(),this.subdivPointer}rebuild(){let e,t,n;try{({originalGeometry:e,subdividedGeometry:t,subdivPointer:n}=zte.build(this.data,void 0,!this.flatShading,void 0))}catch{e=new qG(100,100,100),n=0}this.subdivPointer=n,this.originalGeometry=e,this.subdividedGeometry=t??void 0;let r=this.subdividedGeometry??this.originalGeometry;Object.assign(this,r),this.calcBoundingBox()}freeSubdivPointer(){this.subdivPointer&&(zte.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0)}dispose(){super.dispose(),this.freeSubdivPointer()}calcBoundingBox(){let e=this.originalGeometry;null===e.boundingSphere&&(e.boundingSphere=new _H,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,n=e.boundingSphere.center;Ote.setFromBufferAttribute(t),Ote.getCenter(n),e.boundingSphere.radius=n.distanceTo(Ote.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Ote.getSize(Ite);let r={width:Ite.x,height:Ite.y,depth:Ite.z};return this.userData.parameters=r,r}static build(e,t,n,r){let i,a,o,s=e?.phongAngle??35;!1===n&&(s=-1),t&&(kte.free_bvh(t),kte.free_subdivision_surface(t));try{i=zte.allocate(e,r)}catch(t){console.error(t,e),i=zte.allocate({positionWASM:Rte,indexWASM:Lte,verticesPerFaceWASM:Nte},r)}if(kte.set_destination_refinement_level(i,0),a=zte.buildLevel(i,!0,s),e.subdivisions>0)try{kte.set_destination_refinement_level(i,e.subdivisions),o=zte.buildLevel(i,!1,s)}catch{try{kte.set_destination_refinement_level(i,e.subdivisions-1),o=zte.buildLevel(i,!1,s)}catch{o=null}}else o=null;return{subdivPointer:i,originalGeometry:a,subdividedGeometry:o}}static primitiveToQuads(e,t,n){e.widthSegments>16&&(e.widthSegments=16),e.heightSegments>16&&(e.heightSegments=16),e.depthSegments>16&&(e.depthSegments=16),e.radialSegments>16&&(e.radialSegments=16),"DodecahedronGeometry"===e.type&&(e.detail=0);let r,i,a,o,s,l,c=void 0!==e.shape||void 0!==e.path?t.geometry:Mte(e,n,!1);if(r="TorusGeometry"===e.type&&e.arc===2*Math.PI?c.getClosedTorusIndicesForBooleanOrSubdiv():c.getIndex(),({positions:i,triIndices:s}=Fte(c.getAttribute("position"),r)),"CylinderGeometry"===e.type&&0===e.cornerRadius&&0===e.hollow&&!1===e.openEnded){let t=e.radialSegments*e.heightSegments*3*2;l=[t,t+3*e.radialSegments]}return({indices:a,verticesPerFace:o}=Gte(i,s,c,l)),{positions:i,indices:a,verticesPerFace:o}}static allocate(e,t){let n,r,i,a=[],o=[];e.positionWASM&&e.positionWASM.length>0?(n=e.positionWASM,r=e.indexWASM,i=e.verticesPerFaceWASM):(n=Rte,r=Lte,i=Nte);let s,l=n.length,c=r.length,u=i.length,h=n.length+a.length+o.length,d=r.length+i.length,f=h*Float32Array.BYTES_PER_ELEMENT+d*Uint32Array.BYTES_PER_ELEMENT,p=h*Float32Array.BYTES_PER_ELEMENT,m=(Uint32Array.BYTES_PER_ELEMENT,kte._malloc(f)),g=new Float32Array(kte.HEAPF32.buffer,m,h),v=new Uint32Array(kte.HEAPU32.buffer,m+p,d);g.set(n,0),g.set(a,n.length),g.set(o,n.length+a.length),v.set(r,0),v.set(i,r.length),e?.scaleBaked?.some((e=>1!==e))&&(s=(new kH).makeScale(...e.scaleBaked)),t&&(s?s.premultiply(t):s=t);let y=s?kte.alloc_subdivision_surface2(m,l,m+p,c,m+p+r.length*Uint32Array.BYTES_PER_ELEMENT,u,s.elements):kte.alloc_subdivision_surface(m,l,m+p,c,m+p+r.length*Uint32Array.BYTES_PER_ELEMENT,u);return kte._free(m),y}static buildLevel(e,t,n,r,i){let a=i?kte.get_mesh_data2(e,t?kte.Level.CONTROL:kte.Level.REFINED,n,i.elements):kte.get_mesh_data(e,t?kte.Level.CONTROL:kte.Level.REFINED,n),o=kte.HEAPU32.subarray(a>>2,8+(a>>2)),s=o.subarray(4,8),l=0,c=kte.HEAPU32[o[l]>>2],u=kte.HEAPF32.subarray(c>>2,(c>>2)+s[l]);l++;let h=kte.HEAPU32[o[l]>>2],d=kte.HEAPF32.subarray(h>>2,(h>>2)+s[l]);l++;let f=kte.HEAPU32[o[l]>>2],p=kte.HEAPU32.subarray(f>>2,(f>>2)+s[l]);l++;let m=kte.HEAPU32[o[l]>>2],g=kte.HEAPU32.subarray(m>>2,(m>>2)+s[l]);if(l++,void 0===r){let e=new DG;if(e.setIndex(new xG(g,1)),e.setAttribute("position",new _G(u,3)),e.setAttribute("normal",new _G(d,3)),t){e.setAttribute("faceMap",new xG(p,1));let t=new Float32Array(d.length/3*4).fill(0);e.setAttribute("color",new wG(t,4))}return kte.free_mesh_data(a),e.userData.type="SubdivGeometry",e}r.getAttribute("position").copyArray(u),r.getAttribute("normal").copyArray(d),r.attributes.position.needsUpdate=!0,r.attributes.normal.needsUpdate=!0,kte.free_mesh_data(a)}static freeSubdivPointer(e){kte.free_bvh(e),kte.free_subdivision_surface(e)}static buildControlCageWireframe(e,t,n){let r=kte.get_wireframe_data_for_base_level(e),i=kte.HEAPU32.subarray(r>>2,4+(r>>2)),a=i.subarray(2,4),o=0,s=kte.HEAPU32[i[o]>>2],l=kte.HEAPF32.subarray(s>>2,(s>>2)+a[o]);o++;let c=kte.HEAPU32[i[o]>>2],u=kte.HEAPU32.subarray(c>>2,(c>>2)+a[o]);if(void 0===t){let e=new DG;e.setAttribute("position",new _G(l,3));let t=new Float32Array(l.length);for(let e=0,r=l.length;e<r;)t[e++]=n.r,t[e++]=n.g,t[e++]=n.b;return e.setAttribute("color",new wG(t,3)),e.setIndex(new xG(u,1)),kte.free_wireframe_data_for_base_level(r),e}t.getAttribute("position").copyArray(l),t.attributes.position.needsUpdate=!0,kte.free_wireframe_data_for_base_level(r)}static updateCollabMesh(e,t,n){let r=0===t;r||kte.set_destination_refinement_level(e,t);let i=n?kte.get_topological_data2(e,r?kte.Level.CONTROL:kte.Level.REFINED,n.elements):kte.get_topological_data(e,r?kte.Level.CONTROL:kte.Level.REFINED),a=kte.HEAPU32.subarray(i>>2,6+(i>>2)),o=a.subarray(3,6),s=0,l=kte.HEAPU32[a[s]>>2],c=new Float32Array(kte.HEAPF32.subarray(l>>2,(l>>2)+o[s]));s++;let u=kte.HEAPU32[a[s]>>2],h=new Uint32Array(kte.HEAPU32.subarray(u>>2,(u>>2)+o[s]));s++;let d=kte.HEAPU32[a[s]>>2],f=new Uint8Array(kte.HEAPU32.subarray(d>>2,(d>>2)+o[s]));return kte.free_topological_data(i),{positions:c,indices:h,verticesPerFace:f}}},Bte=["getX","getY","getZ"];function Fte(e,t){let n={},r=t?t.count:e.count,i=0,a=[],o=[];for(let s=0;s<r;s++){let r=t?t.getX(s):s,l="";for(let t=0;t<3;t++)l+=~~(1e4*e[Bte[t]](r))+",";if(l in n)a.push(n[l]);else{for(let t=0;t<3;t++)o.push(e[Bte[t]](r));n[l]=i,a.push(i),i++}}let s=[];for(let e=0;e<a.length;e+=3)a[e]===a[e+1]||a[e]===a[e+2]||a[e+1]===a[e+2]||s.push(a[e],a[e+1],a[e+2]);return{positions:o,triIndices:s}}var Ute=new tH,jte=new tH,Vte=new tH,Hte=new tH;function Gte(e,t,n,r){let i=[],a=[];if(void 0!==n.userData.shape&&0===n.userData.parameters.depth&&0===n.userData.shape.shapeHoles.length){let t=n.userData.shape.extractShapePointsToFlatArray([]),r=n.userData.parameters.spikes;if("EllipseGeometry"===n.userData.type&&r<=24&&r%4==0&&n.userData.parameters.angle>=360){let e=t.length/2/r;t=t.filter(((t,n)=>Math.floor(n/2)%e==0))}let o=0;for(let e=0;e<t.length;e+=2)o+=(t[e]-t[(0===e?t.length:e)-2])*(t[e+1]+t[(0===e?t.length:e)-1]);e.length=0;let s=0;if(o<0)for(let n=0;n<t.length;n+=2)e.push(t[n],t[n+1],0),i.push(s++);else for(let n=t.length-2;n>=0;n-=2)e.push(t[n],t[n+1],0),i.push(s++);return a.push(s),{indices:i,verticesPerFace:a}}let o=new Float32Array([n.userData.parameters.depth])[0],s=0;for(;s<t.length;){if(n.useNgonForTopBottomFaceDuringBake){let n=0;if((e[3*t[s]+2]===o||0===e[3*t[s]+2])&&n++,(e[3*t[s+1]+2]===o||0===e[3*t[s+1]+2])&&n++,(e[3*t[s+2]+2]===o||0===e[3*t[s+2]+2])&&n++,3===n)break}if(t[s+1]===t[s+3]&&t[s+2]===t[s+5]||t[s+0]===t[s+3]&&t[s+2]===t[s+4]){Ute.set(e[3*t[s]],e[3*t[s]+1],e[3*t[s]+2]),jte.set(e[3*t[s+1]],e[3*t[s+1]+1],e[3*t[s+1]+2]),Vte.set(e[3*t[s+4]],e[3*t[s+4]+1],e[3*t[s+4]+2]),Hte.set(e[3*t[s+5]],e[3*t[s+5]+1],e[3*t[s+5]+2]),jte.sub(Ute).normalize(),Vte.sub(Ute).normalize(),Hte.sub(Ute).normalize();let n=jte.cross(Vte).dot(Hte);Math.abs(n)>.005||r&&r.some(((e,t)=>t%2!=1&&s>=r[t]&&s<r[t+1]))?(i.push(t[s],t[s+1],t[s+2]),a.push(3),s+=3):(i.push(t[s],t[s+1],t[s+4],t[s+5]),a.push(4),s+=6)}else i.push(t[s],t[s+1],t[s+2]),a.push(3),s+=3}if(n.useNgonForTopBottomFaceDuringBake){let t=[],r=[],s=0;for(let n=0,i=0;n<e.length;n+=3,i++)0===e[n+2]&&(t.push(i),s++),e[n+2]===o&&r.push(i);if(0===n.userData.parameters.extrudeBevelSize){let e=r[0];r[0]=r[1],r[1]=e}t.reverse(),i.push(...t,...r),a.push(s,s)}return{indices:i,verticesPerFace:a}}var Wte,qte,Xte,Yte,Qte={};function Kte(e){let t=e.length,n=t*Uint32Array.BYTES_PER_ELEMENT,r=t*Float32Array.BYTES_PER_ELEMENT,i=Number.isInteger(e[0])?n:r,a=Xte._malloc(i);return(Number.isInteger(e[0])?new Uint32Array(Xte.HEAPU32.buffer,a,t):new Float32Array(Xte.HEAPF32.buffer,a,t)).set(e,0),a}function Zte(e){switch(e){case 0:return Xte.OP.UNION;case 1:return Xte.OP.INTERSECTION;case 2:return Xte.OP.A_MINUS_B;case 3:return Xte.OP.B_MINUS_A;case 4:return Xte.OP.SYMMETRIC_DIFFERENCE;case 5:return Xte.OP.ALL;default:throw new Error("Unknown boolean operation "+e)}}function Jte(e,t){void 0===Yte&&(Yte=Xte.init_csg());let n=Kte(e),r=Xte.csg_calc_topological(Yte,n,e.length,Zte(t));Xte._free(n);let i=Xte.HEAPU32.subarray(r>>2,6+(r>>2)),a=i.subarray(3,6),o=0,s=Xte.HEAPU32[i[o]>>2],l=new Float32Array(Xte.HEAPF32.subarray(s>>2,(s>>2)+a[o]));o++;let c=Xte.HEAPU32[i[o]>>2],u=new Uint32Array(Xte.HEAPU32.subarray(c>>2,(c>>2)+a[o]));o++;let h=Xte.HEAPU32[i[o]>>2],d=new Uint8Array(Xte.HEAPU32.subarray(h>>2,(h>>2)+a[o]));return Xte.free_mesh_data(r),{positions:l,indices:u,verticesPerFace:d}}function $te(e,t,n,r){void 0===Yte&&(Yte=Xte.init_csg());let i=Kte(e),a=Xte.csg_calc(Yte,i,e.length,r,Zte(t));Xte._free(i);let o=Xte.HEAPU32.subarray(a>>2,5+(a>>2)),s=o.subarray(2,5),l=0,c=Xte.HEAPU32[o[l]>>2],u=Xte.HEAPF32.subarray(c>>2,(c>>2)+s[l]);l++;let h=Xte.HEAPU32[o[l]>>2],d=Xte.HEAPF32.subarray(h>>2,(h>>2)+s[l]);l++;let f=s[l];n.setAttribute("position",new _G(u,3)),n.setAttribute("normal",new _G(d,3));let p=Xte.HEAPF32.subarray(5+(a>>2),5+(a>>2)+6);return null===n.boundingSphere&&(n.boundingSphere=new _H),n.boundingSphere.radius=-1,n.userData.parameters={width:2*p[3],height:2*p[4],depth:2*p[5]},Xte.free_mesh_data(a),f}function ene(e,t,n){if(void 0===Xte)return-1;let r,i,a;if(t&&void 0!==e.userData.positions){let t=e.userData;a=t.verticesPerFace.length,r=t.positions,i=Array(t.verticesPerFace.reduce(((e,t)=>e+t),0)+a);for(let e=0,n=0,r=0;e<t.verticesPerFace.length;e++){i[r++]=t.verticesPerFace[e];for(let a=0;a<t.verticesPerFace[e];a++)i[r++]=t.indices[n++]}}else({positions:r,faceIndices:i,nFaces:a}=function(e,t,n){let r,i;i="TorusGeometry"===e.userData.parameters.type&&e.userData.parameters.arc===2*Math.PI?e.getClosedTorusIndicesForBooleanOrSubdiv():e.getIndex();let a,{positions:o,triIndices:s}=Fte(e.getAttribute("position"),i);if(t&&n){let{indices:t,verticesPerFace:n}=Gte(o,s,e);a=n.length,r=[];for(let e=0,i=0;e<a;e++){r.push(n[e]);for(let a=0;a<n[e];a++)r.push(t[i++])}}else{let e=s.length;r=Array(e+e/3),a=0;for(let e=0,t=0;t<r.length;)r[t++]=3,a++,r[t++]=s[e++],r[t++]=s[e++],r[t++]=s[e++]}return{positions:o,faceIndices:r,nFaces:a}}(e,t,n));let o=r.length,s=i.length,l=r.length,c=i.length,u=l*Float32Array.BYTES_PER_ELEMENT+c*Uint32Array.BYTES_PER_ELEMENT,h=l*Float32Array.BYTES_PER_ELEMENT,d=(Uint32Array.BYTES_PER_ELEMENT,Xte._malloc(u)),f=new Float32Array(Xte.HEAPF32.buffer,d,l),p=new Uint32Array(Xte.HEAPU32.buffer,d+h,c);f.set(r,0),p.set(i,0);let m=Xte.get_csg_mesh(d,o,d+h,s,a);return Xte._free(d),m}function tne(e){return Xte.has_open_edges(e)}function nne(e,t){Xte.transform_csg_mesh(e,t.elements)}function rne(e){Xte.free_csg_mesh(e)}((e,t)=>{for(var n in t)mF(e,n,{get:t[n],enumerable:!0})})(Qte,{calcBoolean:()=>$te,calcBooleanTopological:()=>Jte,freeMeshSet:()=>rne,getMeshSet:()=>ene,hasOpenEdges:()=>tne,transformMeshSet:()=>nne}),new Promise((e=>{Wte=e})).then((e=>Xte=e));var ine={ConeGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:8,cornerRadiusBottom:8,cornerSegments:8},e.parameters);return n.thetaLength=CV.clamp(n.thetaLength,0,360),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let t,{width:n,depth:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:c,cornerRadiusTop:u,cornerRadiusBottom:h,cornerSegments:d}=e.parameters;return 0===c?(t=new DG,t.setAttribute("position",new _G([],3))):t=u>0||h>0||c<360?new a9(0,n/2,i,a,o,s,l,c*Math.PI/180,u,h,d,0,!0):new UY(n/2,i,a,o,s),t.scale(1,1,r/n),Object.assign(t,{userData:{...e,type:"ConeGeometry"}})}},CubeGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:8,cornerSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let t,{width:n,height:r,depth:i,widthSegments:a,heightSegments:o,depthSegments:s,cornerRadius:l,cornerSegments:c}=e.parameters;return t=0==l?new qG(n,r,i,a,o,s):new s9(n,r,i,a,o,s,l,c),Object.assign(t,{userData:{...e,type:"CubeGeometry"}})}},CylinderGeometry:n9,DodecahedronGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:r,detail:i,corner:a,cornerSides:o}=e.parameters,s=0===i&&0!==a?new c9(.5*t,a,o):new VY(.5*t,i);return s.scale(1,n/t,r/t),Object.assign(s,{userData:{...e,type:"DodecahedronGeometry"}})}},EllipseGeometry:See,HelixGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),r=Math.abs(n.width),i=Math.abs(n.height??r),a=Math.abs(n.depth??r),o=Math.abs(Math.min(r,a))/2;return{parameters:Object.assign(n,{width:r,height:i,depth:a,radius:o,segments:Math.round(n.segments),pathSegments:Math.round(n.pathSegments),cornerSegments:Math.round(n.cornerSegments)})}}static build(e){let{width:t,height:n,depth:r,radius:i,revolutions:a,segments:o,pathRadius:s,pathType:l,pathSegments:c,cornerRadius:u,cornerSegments:h}=e.parameters,d=new kee(!1,t,n,r,i,a,o,s,l,c,u,h);return Object.assign(d,{userData:{...e,type:"HelixGeometry"}})}},IcosahedronGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:r,detail:i,corner:a,cornerSides:o}=e.parameters,s=0===i&&0!==a?new Oee(.5*t,a,o):new vQ(.5*t,i);return s.scale(1,n/t,r/t),Object.assign(s,{userData:{...e,type:"IcosahedronGeometry"}})}},LatheGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){(e.parameters?.points??[]).forEach((e=>{Array.isArray(e)&&(e.x=e[0],e.y=e[1])}));let n=Object.assign({},t?.parameters??{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{points:t,segments:n,verticalSegments:r}=e.parameters,i=new HY;i.moveTo(t[0].x,t[0].y),i.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let a=new BY(i.extractPoints(r).shape,n);return a.rotateZ(Math.PI),Object.assign(a,{userData:{...e,type:"LatheGeometry"}})}},NonParametricGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n,r=e.geometry??t?.geometry??(new DG).copy(new qG(100,100,100));void 0===t?(r.computeBoundingBox(),r.boundingBox.getSize(Zee),n={width:Zee.x,height:Zee.y,depth:Zee.z,subdivisions:0}):n=t.parameters;let i={...n,...e.parameters};return{parameters:{width:Math.abs(i.width),height:Math.abs(i.height),depth:Math.abs(i.depth),subdivisions:Math.abs(i.subdivisions)},geometry:r}}static build(e){let{width:t,height:n,depth:r,subdivisions:i}=e.parameters,a=e.geometry??(new DG).copy(new qG(100,100,100)),o=a.userData.parameters;void 0===o?(a.computeBoundingBox(),a.boundingBox.getSize(Zee)):Zee.set(o.width,o.height,o.depth),(t!==Zee.x||n!==Zee.y||r!==Zee.z)&&a.scale(0===Zee.x?1:t/Zee.x,0===Zee.y?1:n/Zee.y,0===Zee.z?1:r/Zee.z);let s=a.originalGeometry;try{i>0?(void 0===s||o?.subdivisions!==i)&&(void 0===s&&(s=a),a=new class{constructor(e=1){this.subdivisions=e}modify(e){(e=e instanceof DG?(new Nee).fromBufferGeometry(e):e.clone()).mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let t,n,r,i,a,o=new tH,s=e.vertices,l=e.faces,c=e.faceVertexUvs[0],u=void 0!==c&&c.length>0,h=[],d=new Map;!function(e,t,n,r){let i,a,o;for(i=0,a=e.length;i<a;i++)n[i]={edges:[]};for(i=0,a=t.length;i<a;i++)o=t[i],Xee(o.a,o.b,e,r,o,n),Xee(o.b,o.c,e,r,o,n),Xee(o.c,o.a,e,r,o,n)}(s,l,h,d);let f,p,m,g,v,y,w,b=[];for(let e of Array.from(d.keys())){for(p=d.get(e),m=new tH,v=3/8,y=1/8,w=p.faces.length,2!=w&&(v=.5,y=0),m.addVectors(p.a,p.b).multiplyScalar(v),o.set(0,0,0),i=0;i<w;i++){for(g=p.faces[i],a=0;a<3&&(f=s[Wee(g,Gee[a])],f===p.a||f===p.b);a++);f&&o.add(f)}o.multiplyScalar(y),m.add(o),p.newEdge=b.length,b.push(m)}let x,_,S,E,C,A,T,M=[];for(n=0,r=s.length;n<r;n++){for(A=s[n],C=h[n].edges,t=C.length,3==t?x=3/16:t>3&&(x=3/(8*t)),_=1-t*Number(x),S=x,t<=2&&2==t&&(_=3/4,S=1/8),T=A.clone().multiplyScalar(_),o.set(0,0,0),i=0;i<t;i++)E=C[i],f=E.a!==A?E.a:E.b,o.add(f);o.multiplyScalar(Number(S)),T.add(o),M.push(T)}let P,D,k,O,I,R,L,N=M.concat(b),z=M.length,B=[],F=[],U=new AV,j=new AV,V=new AV;for(n=0,r=l.length;n<r;n++)g=l[n],P=Number(qee(g.a,g.b,d).newEdge)+z,D=Number(qee(g.b,g.c,d).newEdge)+z,k=Number(qee(g.c,g.a,d).newEdge)+z,Yee(B,P,D,k,g.materialIndex),Yee(B,g.a,P,k,g.materialIndex),Yee(B,g.b,D,P,g.materialIndex),Yee(B,g.c,k,D,g.materialIndex),u&&(O=c[n],I=O[0],R=O[1],L=O[2],U.set(Qee(I.x,R.x),Qee(I.y,R.y)),j.set(Qee(R.x,L.x),Qee(R.y,L.y)),V.set(Qee(I.x,L.x),Qee(I.y,L.y)),Kee(F,U,j,V),Kee(F,I,U,V),Kee(F,R,j,U),Kee(F,L,V,j));e.vertices=N,e.faces=B,u&&(e.faceVertexUvs[0]=F)}}(i).modify(s).toBufferGeometry()):(void 0!==s&&(a=s),s=void 0,void 0===a.getAttribute("normal")&&a.computeVertexNormals())}catch{void 0!==s&&(a=s),s=void 0,void 0===a.getAttribute("normal")&&a.computeVertexNormals()}return void 0!==s&&Object.assign(a,{originalGeometry:s}),delete e.geometry,Object.assign(a,{userData:{...e,type:"NonParametricGeometry"}})}static loadFromUrl(e,t,n){new dK(n).load(e,(e=>{let n=this.normalizeInputs({geometry:e});e.boundingBox.getSize(Zee);let r=100/Zee.x;Object.assign(n.parameters,{width:100,height:Zee.y*r,depth:Zee.z*r}),t(this.build(n))}))}},PolygonGeometry:Jee,PyramidGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:r,radialSegments:i,heightSegments:a,openEnded:o,cornerRadius:s,cornerSegments:l}=e.parameters,c=new nte(.5*t,n,i,a,o,s,l);return c.scale(1,1,r/t),Object.assign(c,{userData:{...e,type:"PyramidGeometry"}})}},RectangleGeometry:rte,SphereGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180},e.parameters);return n.thetaLength=CV.clamp(n.thetaLength,0,180),{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let t,{width:n=100,height:r=n,depth:i=n,widthSegments:a=64,heightSegments:o=64,phiStart:s,phiLength:l,thetaStart:c,thetaLength:u}=e.parameters;return 0===u?(t=new DG,t.setAttribute("position",new _G([],3))):t=new yQ(.5*n,a,o,s,l,c,u*CV.DEG2RAD),t.scale(1,r/n,i/n),Object.assign(t,{userData:{...e,type:"SphereGeometry"}})}},PlaneGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:0})}}static build(e){let{width:t=100,height:n=t,widthSegments:r=8,heightSegments:i=8}=e.parameters,a=new fW(t,n,r,i);return a.scale(1,1,1),Object.assign(a,{userData:{...e,type:"PlaneGeometry"}})}},BackdropGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,angle:90,cornerRadius:24,cornerSegments:8},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width)})}}static build(e){let{width:t,height:n,depth:r,angle:i,cornerRadius:a,cornerSegments:o}=e.parameters,s=new ite(t,n,r,i,a,o);return Object.assign(s,{userData:{...e,type:"BackdropGeometry"}})}},StarGeometry:ate,TextFrameGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t,height:n}=e.parameters,r=new fW(t,n);return Object.assign(r,{userData:{...e,type:"TextFrameGeometry"}})}},TorusGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,radialSegments:32,tubularSegments:64,arc:360,cornerRadius:30,cornerSegments:8},e.parameters),r=Math.abs(n.width),i=Math.abs(n.height??n.width),a=Math.round(Math.abs(n.depth??.25*n.width));return{parameters:Object.assign(n,{width:r,height:i,depth:a})}}static build(e){let{width:t,height:n,depth:r,radialSegments:i,tubularSegments:a,arc:o,cornerRadius:s,cornerSegments:l}=e.parameters,c=function(e,t,n,r,i,a,o,s,l,c,u){[t,n]=[n,t],o=t/2;let h=CV.clamp(i/360,0,1);if(0===h){let e=new DG;return e.setAttribute("position",new _G([],3)),e}return 1===h&&(c=0),new kee(!0,e,t,n,r,h,a,o,0,l,c,u)}(t,n,r,.5*t,o,a,0,0,i,s,l);return c.scale(1,n/t,1),Object.assign(c,{userData:{...e,type:"TorusGeometry"}})}},TorusKnotGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width),depth:Math.abs(n.depth??n.width),tube:n.tube??.125*n.width})}}static build(e){let{width:t,tube:n,tubularSegments:r,radialSegments:i,p:a,q:o}=e.parameters,s=.5*t;s!==n&&(s-=n);let l=new bQ(s,n,r,i,a,o);return Object.assign(l,{userData:{...e,type:"TorusKnotGeometry"}})}},TriangleGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof W9?e.shape:new W9,parameters:Object.assign(n,{width:Math.abs(n.width),height:Math.abs(n.height??n.width*(n.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(n.depth??0)})}}static build(e){let{width:t=100,height:n,cornerRadius:r,depth:i,extrudeBevelSize:a,extrudeBevelSegments:o,isRect:s}=e.parameters,l=e.shape,c=.5*t,u=.5*n;s?(l.addPoint(l.createPoint(-c,u)),l.addPoint(l.createPoint(c,-u)),l.addPoint(l.createPoint(-c,-u))):(l.addPoint(l.createPoint(0,u)),l.addPoint(l.createPoint(c,-u)),l.addPoint(l.createPoint(-c,-u))),l.isClosed=!0;for(let e=0,t=l.points.length;e<t;e++)l.points[e].roundness=r;l.roundness=r,l.update();let h=xee.create({shape:l,parameters:{roundness:r,depth:i,extrudeBevelSize:a,extrudeBevelSegments:o}});return Object.assign(h,{userData:{...e,type:"TriangleGeometry"}})}},PathGeometry:class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let n=Object.assign({},t?.parameters??{width:100,height:100,depth:1,subdivisions:12,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),r=Math.abs(n.width),i=Math.abs(n.height??n.width),a=Math.abs(n.depth??0),o=t?.shapeData??See.create({parameters:E5}).userData.shape;return{path:e.path??b5.defaultData(),parameters:Object.assign(n,{width:r,height:i,depth:a,extrusion:{...M5,...n.extrusion}}),shapeData:o}}static build(e){if(e.path.points.length>=2){let t=new yte(e);return Object.assign(t,{userData:{...e,type:"PathGeometry"}})}return Object.assign(new DG,{userData:{...e,type:"PathGeometry"}})}},VectorGeometry:xee},ane=e=>ine[e.type].create(e);function one(e){return null!==e&&"booleanOp"in e}var sne=class extends(t9(GG)){constructor(){super(...arguments),this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new kH}updateVisible(e){super.updateVisible(e),this.visible=!one(this.parent)&&this.visible,one(this.parent)&&this.parent.invalidateDownstreamBooleanData()}freeBooleanPointer(){-1!==this.booleanMeshSetAddress&&(Qte.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(e=!1){return e?this.booleanWasTransformed=!0:this.freeBooleanPointer(),one(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let e of this.children)e instanceof sne&&(e.freeBooleanPointer(),one(e)&&e.invalidateUpstreamBooleanData())}updateTransformState(e,t){let n=super.updateTransformState(e,t);return n&&one(this.parent)&&this.invalidateDownstreamBooleanData(!0),n}onVariableUpdate(e=!1){super.onVariableUpdate(e),one(this.parent)&&this.invalidateDownstreamBooleanData(!0)}},lne=new iH;function cne(e,t=0,n=e.count,r,i){let a=1/0,o=1/0,s=1/0,l=-1/0,c=-1/0,u=-1/0;for(let r=t;r<n;r++){let t=e.getX(r),n=e.getY(r),i=e.getZ(r);t<a&&(a=t),n<o&&(o=n),i<s&&(s=i),t>l&&(l=t),n>c&&(c=n),i>u&&(u=i)}lne.min.set(a,o,s),lne.max.set(l,c,u),lne.getCenter(r),lne.getSize(i).multiplyScalar(.5)}var une=new DG,hne=new gG,dne=class extends sne{constructor(e,t){super(une,hne),this.super_Entity(e,t)}updateState(e,t){this.updateState_Entity(e,t)}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?cne(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},fne=class{constructor(e){e=e??{},this.name=e.name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}},pne=class{constructor(e){this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},this.uuid=CV.generateUUID(),this.type=e,this.name=""}analyze(e,t){t=t??{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,n){return n=n??{},this.analyze(e,n),this.flow(e,t,n)}flow(e,t,n){n=n??{},e.addFlow(n.slot,n.cache,n.context);let r={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),r}build(e,t,n){t=t??this.getType(e,t);let r=e.getNodeData(n??this);return e.analyzing&&this.appendDepsNode(e,r,t),-1===e.nodes.indexOf(this)&&e.nodes.push(this),void 0!==this.updateFrame&&-1===e.updaters.indexOf(this)&&e.updaters.push(this),this.generate(e,t,n)}updateFrame(e){}generateReadonly(e,t,n,r,i,a){return""}generate(e,t,n,r,i){return""}parse(e,t,n,r){}appendDepsNode(e,t,n){t.deps=(t.deps||0)+1;let r=e.getTypeLength(n);(r>(t.outputMax||0)||this.getType(e,n))&&(t.outputMax=r,t.output=n)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return"sampler2D"===t||"samplerCube"===t?t:this.type}getHash(){let e,t,n="{";for(e in this)t=this[e],t instanceof pne&&(n+='"'+e+'":'+t.getHash()+",");if(this.hashProperties)for(let r=0;r<this.hashProperties.length;r++)e=this.hashProperties[r],t=this[e],n+='"'+e+'":"'+String(t)+'",';return n+='"id":"'+this.uuid+'"}',n}},mne=new class{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,n){n=void 0===n||n,this.keywords[e]={callback:t,cache:n}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return void 0!==this.nodes[e]}containsKeyword(e){return void 0!==this.keywords[e]}},gne=class extends pne{constructor(e,t){super(e),this.scope="",t=t??{},this.shared=void 0===t.shared||t.shared,this.unique=void 0!==t.unique&&t.unique}build(e,t,n,r){if(t=t??this.getType(e),this.getShared(e,t)){let i=this.getUnique(e,t);i&&void 0===this.uuid&&(this.uuid=CV.generateUUID()),n=e.getUUID(n??this.getUUID(),!i);let a=e.getNodeData(n),o=a.output||this.getType(e);if(e.analyzing)return(a.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,a,t),this.generate(e,t,n)):super.build(e,t,n);if(i)return a.name=a.name||super.build(e,t,n),a.name;if(!this.getLabel()&&(!this.getShared(e,o)||e.context.ignoreCache||1===a.deps))return super.build(e,t,n);n=this.getUUID(!1);let s=this.getTemp(e,n);if(s)return e.format(s,o,t);{s=super.generate(e,t,n,a.output,r);let i=this.generate(e,o,n);return e.addNodeCode(s+" = "+i+";"),e.format(s,o,t)}}return super.build(e,t,n)}getShared(e,t){return"sampler2D"!==t&&"samplerCube"!==t&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return"string"==typeof this.scope&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let n=e.getVars()[t];return n?n.name:void 0}generate(e,t,n,r,i){return this.getShared(e,t)||console.error("TempNode is not shared"),n=n??this.uuid,e.getTempVar(n,r??this.getType(e),i,this.getLabel()).name}},vne=class extends gne{constructor(e,t){(t=t??{}).shared=void 0!==t.shared&&t.shared,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(e,t,n,r,i,a){n=e.getUUID(n??this.getUUID()),r=r??this.getType(e);let o=e.getNodeData(n);return this.getReadonly()&&void 0!==this.generateReadonly?this.generateReadonly(e,t,n,r,i,a):e.isShader("vertex")?(o.vertex||(o.vertex=e.createVertexUniform(r,this,i,a,this.getLabel())),e.format(o.vertex.name,r,t)):(o.fragment||(o.fragment=e.createFragmentUniform(r,this,i,a,this.getLabel())),e.format(o.fragment.name,r,t))}},yne=class extends vne{constructor(e=0,t){super("v2"),this.nodeType="Vector2",this.value=e instanceof AV?e:new AV(e,t)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}generateReadonly(e,t,n,r,i,a){return e.format("vec2("+this.value.x+", "+this.value.y+")",r,t)}},wne=class extends vne{constructor(e=0,t,n){super("v3"),this.nodeType="Vector3",this.value=e instanceof tH?e:new tH(e,t,n)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,n,r,i,a){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",r,t)}},bne=class extends HV{constructor(e,t,n,r){super(e,t,n),this.isColorA=!0,this.a=r}setRGBA(e,t,n,r){super.setRGB(e,t,n),this.a=r}copy(e){return super.copy(e),this.a="a"in e?e.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}equals(e){return super.equals(e)&&this.a===e.a}setStyle(e,t="srgb"){let n;if("transparent"===e)return this.setRGBA(0,0,0,0),this;if(n=/^((?:rgb|hsl)a?)\(([^)]*)\)/.exec(e)){let r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.a="rgba"===i?parseFloat(r[4]):1,super.setStyle(e,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.a="hsla"===i?parseFloat(r[4]):1,super.setStyle(e,t)}}return super.setStyle(e,t)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}},xne=class extends vne{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof bne?e:new bne(e.r,e.g,e.b,e.a)}generateReadonly(e,t,n,r,i,a){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",r,t)}},_ne=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,Sne=/[a-z_0-9]+/gi,Ene=class extends gne{constructor(e,t,n,r,i){super(i),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=void 0===i,this.isInterface=!1,this.parse(e,t,n,r)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,n,r,i){let a,o=0,s=this.src;if(this.includes)for(let t=0;t<this.includes.length;t++)e.include(this.includes[t],this);for(let t in this.extensions)e.extensions[t]=!0;let l=[];for(;a=Sne.exec(this.src);)l.push(a);for(let t=0;t<l.length;t++){let n=l[t],r=n[0],i=!this.isMethod||!this.getInputByName(r),a=r;if(this.keywords[r]||this.useKeywords&&i&&mne.containsKeyword(r)){let t=this.keywords[r];if(!t){let n=mne.getKeywordData(r);n.cache&&(t=e.keywords[r]),t=t||mne.getKeyword(r,e),n.cache&&(e.keywords[r]=t)}a=t.build(e)}r!==a&&"."!==s[n.index+o-1]&&(s=s.substring(0,n.index+o)+a+s.substring(n.index+r.length+o),o+=a.length-r.length),void 0===this.getIncludeByName(a)&&mne.contains(a)&&e.include(mne.get(a))}return"source"===t?s:this.isMethod?(this.isInterface||e.include(this,void 0,s),this.name):e.format("( "+s+" )",this.getType(e),t)}parse(e,t,n,r){if(this.src=e||"",this.includes=t??[],this.extensions=n??{},this.keywords=r??{},this.isMethod){let e=_ne.exec(this.src);if(this.inputs=[],e&&4==e.length){this.type=e[1],this.name=e[2];let t=e[3].match(Sne);if(t){let e=0;for(;e<t.length;){let n,r=t[e++];"in"===r||"out"===r||"inout"===r?n=t[e++]:(n=r,r="");let i=t[e++];this.inputs.push({name:i,type:n,qualifier:r})}}this.isInterface=-1===this.src.indexOf("{")}else this.type="",this.name=""}}},Cne=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,Ane=class extends gne{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||Ane.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,n,r,i){this.src=e||"";let a,o,s="",l=Cne.exec(e);this.useDefine=i??"#"===this.src.charAt(0),l&&l.length>1?(o=l[1],a=l[2],s=l[3]):(a=this.src,o="f"),this.name=a,this.type=o,this.value=s}build(e,t){if("source"===t){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,n,r,i){return e.format(this.name,this.getType(e),t)}},Tne=Ane;Tne.PI="PI",Tne.PI2="PI2",Tne.RECIPROCAL_PI="RECIPROCAL_PI",Tne.RECIPROCAL_PI2="RECIPROCAL_PI2",Tne.LOG2="LOG2",Tne.EPSILON="EPSILON";var Mne=new RegExp("^structs*([a-z_0-9]+)s*{s*((.|\n)*?)}","gim"),Pne=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),Dne=class extends gne{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,n,r,i){return"source"===t?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=Mne.exec(e);if(t){let e,n=t[2];for(;e=Pne.exec(n);)this.inputs.push({type:e[1],name:e[2]});this.name=t[1]}else this.name="";this.type=this.name}},kne=class extends gne{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=e??0}generate(e,t){e.requires.uv[this.index]=!0;let n=this.index>0?this.index+1:"",r=e.isShader("vertex")?"uv"+n:"vUv"+n;return e.format(r,this.getType(e),t)}};mne.addKeyword("uv",(function(){return new kne})),mne.addKeyword("uv2",(function(){return new kne(1)}));var One=class extends gne{constructor(e,t){super("v4"),this.nodeType="ColorSpace",this.input=e,this.method=t??One.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case $j:return["Linear"];case eV:return["sRGB"];default:return[]}}generate(e,t){let n=this.input.build(e,"v4"),r=this.getType(e),i=One.Nodes[this.method],a=e.include(i);if(a===One.LINEAR_TO_LINEAR)return e.format(n,r,t);if(2===i.inputs?.length){let i=this.factor.build(e,"f");return e.format(a+"( "+n+", "+i+" )",r,t)}return e.format(a+"( "+n+" )",r,t)}fromEncoding(e){let t=One.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=One.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}},Ine=One;Ine.Nodes={LinearToLinear:new Ene(["vec4 LinearToLinear( in vec4 value ) {","\treturn value;","}"].join("\n")),sRGBToLinear:new Ene(["vec4 sRGBToLinear( in vec4 value ) {","\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join("\n")),LinearTosRGB:new Ene(["vec4 LinearTosRGB( in vec4 value ) {","\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join("\n"))},Ine.LINEAR_TO_LINEAR="LinearToLinear",Ine.SRGB_TO_LINEAR="sRGBToLinear",Ine.LINEAR_TO_SRGB="LinearTosRGB";var Rne=class extends Ene{constructor(e="",t,n,r,i){super(e,i,r,n,t),this.nodeType="Expression"}},Lne=class extends vne{constructor(e=new QV,t,n,r){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=t??new kne,this.bias=n,this.project=void 0!==r&&r}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){if("sampler2D"===t)return this.getTexture(e,t);let n,r,i=this.getTexture(e,t),a=this.uv.build(e,this.project?"v4":"v2"),o=this.bias?this.bias.build(e,"f"):void 0;void 0===o&&e.context.bias&&(o=e.context.bias.setTexture(this).build(e,"f")),n=this.project?"texture2DProj":o?"tex2DBias":"tex2D",r=o?n+"( "+i+", "+a+", "+o+" )":n+"( "+i+", "+a+" )";let s={include:e.isShader("vertex"),ignoreCache:!0},l=this.getType(e);return e.addContext(s),this.colorSpace=this.colorSpace??new Ine(new Rne("",l)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(r),r=this.colorSpace.build(e,l),e.removeContext(),e.format(r,l,t)}},Nne=class extends vne{constructor(e){super("f"),this.nodeType="Float",this.value=e??0}generateReadonly(e,t,n,r,i,a){return e.format(this.value+(this.value%1?"":".0"),r,t)}},zne=class extends gne{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=t??[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,n,r,i){r=this.getType(e);let a=this.value,o=a.build(e,t)+"( ",s=[];if(a.inputs){for(let t=0;t<a.inputs.length;t++){let n=a.inputs[t],r=this.inputs[t]||this.inputs[n.name];s.push(r.build(e,e.getTypeByFormat(n.type)))}o+=s.join(", ")+" )"}return e.format(o,r,t)}},Bne=class extends gne{constructor(e,t,n=Bne.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=n}getType(e){let t=this.a.getType(e),n=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(n)>e.getTypeLength(t)?n:t}generate(e,t){let n=this.getType(e);this.type=n;let r=this.a.build(e,n),i=this.b.build(e,n);return e.format("( "+r+" "+this.op+" "+i+" )",n,t)}},Fne=Bne;Fne.ADD="+",Fne.SUB="-",Fne.MUL="*",Fne.DIV="/";var Une=class extends gne{constructor(e,t=Une.ABS,n,r){super(),this.nodeType="Math",this.a=e,"string"!=typeof t?this.b=t:r=t,"string"!=typeof n?this.c=n:r=n,this.method=r,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case Une.MIX:case Une.CLAMP:case Une.REFRACT:case Une.SMOOTHSTEP:case Une.FACEFORWARD:return 3;case Une.MIN:case Une.MAX:case Une.MOD:case Une.STEP:case Une.REFLECT:case Une.DISTANCE:case Une.DOT:case Une.CROSS:case Une.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),n=this.b?e.getTypeLength(this.b.getType(e)):0,r=this.c?e.getTypeLength(this.c.getType(e)):0;return t>n&&t>r?this.a.getType(e):n>r?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case Une.LENGTH:case Une.DISTANCE:case Une.DOT:return"f";case Une.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let n,r,i,a=this.a?e.getTypeLength(this.a.getType(e)):0,o=this.b?e.getTypeLength(this.b.getType(e)):0,s=this.c?e.getTypeLength(this.c.getType(e)):0,l=this.getInputType(e),c=this.getType(e);switch(this.type=c,this.method){case Une.NEGATE:return e.format("( -"+this.a.build(e,l)+" )",l,t);case Une.INVERT:return e.format("( 1.0 - "+this.a.build(e,l)+" )",l,t);case Une.CROSS:n=this.a.build(e,"v3"),r=this.b.build(e,"v3");break;case Une.STEP:n=this.a.build(e,1===a?"f":l),r=this.b.build(e,l);break;case Une.MIN:case Une.MAX:case Une.MOD:n=this.a.build(e,l),r=this.b.build(e,1===o?"f":l);break;case Une.REFRACT:n=this.a.build(e,l),r=this.b.build(e,l),i=this.c.build(e,"f");break;case Une.MIX:n=this.a.build(e,l),r=this.b.build(e,l),i=this.c.build(e,1===s?"f":l);break;default:n=this.a.build(e,l),this.b&&(r=this.b.build(e,l)),this.c&&(i=this.c.build(e,l))}let u=[];u.push(n),r&&u.push(r),i&&u.push(i);let h=this.getNumInputs(e);if(u.length!==h)throw Error(`Arguments not match used in "${this.method}". Require ${h}, currently ${u.length}.`);return e.format(this.method+"( "+u.join(", ")+" )",c,t)}},jne=Une;jne.RAD="radians",jne.DEG="degrees",jne.EXP="exp",jne.EXP2="exp2",jne.LOG="log",jne.LOG2="log2",jne.SQRT="sqrt",jne.INV_SQRT="inversesqrt",jne.FLOOR="floor",jne.CEIL="ceil",jne.NORMALIZE="normalize",jne.FRACT="fract",jne.SATURATE="saturate",jne.SIN="sin",jne.COS="cos",jne.TAN="tan",jne.ASIN="asin",jne.ACOS="acos",jne.ARCTAN="atan",jne.ABS="abs",jne.SIGN="sign",jne.LENGTH="length",jne.NEGATE="negate",jne.INVERT="invert",jne.MIN="min",jne.MAX="max",jne.MOD="mod",jne.STEP="step",jne.REFLECT="reflect",jne.DISTANCE="distance",jne.DOT="dot",jne.CROSS="cross",jne.POW="pow",jne.MIX="mix",jne.CLAMP="clamp",jne.REFRACT="refract",jne.SMOOTHSTEP="smoothstep",jne.FACEFORWARD="faceforward";var Vne=class extends gne{constructor(e,t,n){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=n}bilinearCubeUV(e,t,n,r){let i=new zne(Vne.Nodes.bilinearCubeUV,[t,n,r]);this.colorSpaceTL=this.colorSpaceTL??new Ine(new Rne("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(i.build(e)+".tl"),this.colorSpaceTR=this.colorSpaceTR??new Ine(new Rne("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(i.build(e)+".tr"),this.colorSpaceBL=this.colorSpaceBL??new Ine(new Rne("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(i.build(e)+".bl"),this.colorSpaceBR=this.colorSpaceBR??new Ine(new Rne("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(i.build(e)+".br");let a={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(a),this.colorSpaceTLExp=new Rne(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new Rne(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new Rne(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new Rne(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let o=new Rne("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return o.keywords.cubeUV_TL=this.colorSpaceTLExp,o.keywords.cubeUV_TR=this.colorSpaceTRExp,o.keywords.cubeUV_BL=this.colorSpaceBLExp,o.keywords.cubeUV_BR=this.colorSpaceBRExp,o.keywords.cubeUV=i,o}generate(e,t){if(e.isShader("fragment")){let n=this.uv,r=this.bias||e.context.roughness,i=new zne(Vne.Nodes.roughnessToMip,[r]),a=new jne(i,Vne.Nodes.m0,Vne.Nodes.cubeUV_maxMipLevel,jne.CLAMP),o=new jne(a,jne.FLOOR),s=new jne(a,jne.FRACT),l=this.bilinearCubeUV(e,this.value,n,o),c=this.bilinearCubeUV(e,this.value,n,new Fne(o,new Nne(1).setReadonly(!0),Fne.ADD)),u=new jne(l,c,s,jne.MIX);return e.format(u.build(e),"v4",t)}return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}},Hne=Vne;Hne.Nodes=function(){let e=new Dne("struct TextureCubeUVData {\n\t\t\tvec4 tl;\n\t\t\tvec4 tr;\n\t\t\tvec4 br;\n\t\t\tvec4 bl;\n\t\t\tvec2 f;\n\t\t}"),t=new Tne("float cubeUV_maxMipLevel 8.0",!0),n=new Tne("float cubeUV_minMipLevel 4.0",!0),r=new Tne("float cubeUV_maxTileSize 256.0",!0),i=new Tne("float cubeUV_minTileSize 16.0",!0),a=new Ene("float getFace(vec3 direction) {\n\t\t\t\tvec3 absDirection = abs(direction);\n\t\t\t\tfloat face = -1.0;\n\t\t\t\tif (absDirection.x > absDirection.z) {\n\t\t\t\t\tif (absDirection.x > absDirection.y)\n\t\t\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\t\t\telse\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t} else {\n\t\t\t\t\tif (absDirection.z > absDirection.y)\n\t\t\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\t\t\telse\n\t\t\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t\t\t}\n\t\t\t\treturn face;\n\t\t}");a.useKeywords=!1;let o=new Ene("vec2 getUV(vec3 direction, float face) {\n\t\t\t\tvec2 uv;\n\t\t\t\tif (face == 0.0) {\n\t\t\t\t\tuv = vec2(direction.z, direction.y) / abs(direction.x); // pos x\n\t\t\t\t} else if (face == 1.0) {\n\t\t\t\t\tuv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y\n\t\t\t\t} else if (face == 2.0) {\n\t\t\t\t\tuv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z\n\t\t\t\t} else if (face == 3.0) {\n\t\t\t\t\tuv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x\n\t\t\t\t} else if (face == 4.0) {\n\t\t\t\t\tuv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y\n\t\t\t\t} else {\n\t\t\t\t\tuv = vec2(direction.x, direction.y) / abs(direction.z); // neg z\n\t\t\t\t}\n\t\t\t\treturn 0.5 * (uv + 1.0);\n\t\t}");o.useKeywords=!1;let s=new Ene("TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n\t\t\tfloat face = getFace(direction);\n\t\t\tfloat filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n\t\t\tmipInt = max(mipInt, cubeUV_minMipLevel);\n\t\t\tfloat faceSize = exp2(mipInt);\n\t\t\tfloat texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n\t\t\tvec2 uv = getUV(direction, face) * (faceSize - 1.0);\n\t\t\tvec2 f = fract(uv);\n\t\t\tuv += 0.5 - f;\n\t\t\tif (face > 2.0) {\n\t\t\t\tuv.y += faceSize;\n\t\t\t\tface -= 3.0;\n\t\t\t}\n\t\t\tuv.x += face * faceSize;\n\t\t\tif(mipInt < cubeUV_maxMipLevel){\n\t\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t\t}\n\t\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\t\tuv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n\t\t\tuv *= texelSize;\n\t\t\tvec4 tl = texture2D(envMap, uv);\n\t\t\tuv.x += texelSize;\n\t\t\tvec4 tr = texture2D(envMap, uv);\n\t\t\tuv.y += texelSize;\n\t\t\tvec4 br = texture2D(envMap, uv);\n\t\t\tuv.x -= texelSize;\n\t\t\tvec4 bl = texture2D(envMap, uv);\n\t\t\treturn TextureCubeUVData( tl, tr, br, bl, f );\n\t\t}",[e,a,o,t,n,r,i]);s.useKeywords=!1;let l=new Tne("float r0 1.0",!0),c=new Tne("float v0 0.339",!0),u=new Tne("float m0 -2.0",!0),h=new Tne("float r1 0.8",!0),d=new Tne("float v1 0.276",!0),f=new Tne("float m1 -1.0",!0),p=new Tne("float r4 0.4",!0),m=new Tne("float v4 0.046",!0),g=new Tne("float m4 2.0",!0),v=new Tne("float r5 0.305",!0),y=new Tne("float v5 0.016",!0),w=new Tne("float m5 3.0",!0),b=new Tne("float r6 0.21",!0),x=new Tne("float v6 0.0038",!0),_=new Tne("float m6 4.0",!0);return{bilinearCubeUV:s,roughnessToMip:new Ene("float roughnessToMip(float roughness) {\n\t\t\tfloat mip = 0.0;\n\t\t\tif (roughness >= r1) {\n\t\t\t\tmip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n\t\t\t} else if (roughness >= r4) {\n\t\t\t\tmip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n\t\t\t} else if (roughness >= r5) {\n\t\t\t\tmip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n\t\t\t} else if (roughness >= r6) {\n\t\t\t\tmip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n\t\t\t} else {\n\t\t\t\tmip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25\n\t\t\t}\n\t\t\treturn mip;\n\t\t}",[l,c,u,h,d,f,p,m,g,v,y,w,b,x,_]),m0:u,cubeUV_maxMipLevel:t}}();var Gne=class extends gne{constructor(e){super("v3"),this.nodeType="Normal",this.scope=e??Gne.VIEW}getShared(){return this.scope===Gne.WORLD}build(e,t,n,r){let i=e.context[this.scope+"Normal"];return i?i.build(e,t,n,r):super.build(e,t,n)}generate(e,t,n,r,i){let a;switch(this.scope){case Gne.VIEW:a=e.isShader("vertex")?"transformedNormal":"geometryNormal";break;case Gne.LOCAL:e.isShader("vertex")?a="objectNormal":(e.requires.normal=!0,a="vObjectNormal");break;case Gne.WORLD:e.isShader("vertex")?a="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,a="vWNormal")}return e.format(a,this.getType(e),t)}},Wne=Gne;Wne.LOCAL="local",Wne.WORLD="world",Wne.VIEW="view",Wne.NORMAL="normal",mne.addKeyword("viewNormal",(function(){return new Wne(Wne.VIEW)})),mne.addKeyword("localNormal",(function(){return new Wne(Wne.NORMAL)})),mne.addKeyword("worldNormal",(function(){return new Wne(Wne.WORLD)}));var qne=class extends gne{constructor(e){super("v3"),this.nodeType="Position",this.scope=e??qne.LOCAL}getType(){return this.scope===qne.PROJECTION?"v4":this.type}getShader(){switch(this.scope){case qne.LOCAL:case qne.WORLD:return!1}return!0}generate(e,t,n,r,i){let a;switch(this.scope){case qne.LOCAL:e.isShader("vertex")?a="transformed":(e.requires.position=!0,a="vPosition");break;case qne.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,a="vWPosition";break;case qne.VIEW:a=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case qne.PROJECTION:a=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )"}return e.format(a,this.getType(),t)}},Xne=qne;Xne.LOCAL="local",Xne.WORLD="world",Xne.VIEW="view",Xne.PROJECTION="projection",mne.addKeyword("position",(function(){return new Xne})),mne.addKeyword("worldPosition",(function(){return new Xne(Xne.WORLD)})),mne.addKeyword("viewPosition",(function(){return new Xne(Xne.VIEW)}));var Yne=class extends gne{constructor(e){super("v3"),this.nodeType="Reflect",this.scope=e??Yne.CUBE}getUnique(e){return!e.context.viewNormal}getType(){return this.scope===Yne.SPHERE?"v2":this.type}generate(e,t){let n=this.getUnique(e);if(e.isShader("fragment")){let r;switch(this.scope){case Yne.VECTOR:{let t=new Wne(Wne.VIEW),i=e.context.roughness,a=t.build(e,"v3"),o=new Xne(Xne.VIEW).build(e,"v3"),s=i?i.build(e,"f"):void 0,l=`reflect( -normalize( ${o} ), ${a} )`;s&&(l=`normalize( mix( ${l}, ${a}, ${s} * ${s} ) )`);let c=`inverseTransformDirection( ${l}, viewMatrix )`;n?(e.addNodeCode(`vec3 reflectVec = ${c};`),r="reflectVec"):r=c;break}case Yne.CUBE:{let t=new Yne(Yne.VECTOR).build(e,"v3"),i="vec3( -"+t+".x, "+t+".yz )";n?(e.addNodeCode(`vec3 reflectCubeVec = ${i};`),r="reflectCubeVec"):r=i;break}case Yne.SPHERE:{let t="normalize( ( viewMatrix * vec4( "+new Yne(Yne.VECTOR).build(e,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";n?(e.addNodeCode(`vec2 reflectSphereVec = ${t};`),r="reflectSphereVec"):r=t;break}}return e.format(r,this.getType(),t)}return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}},Qne=Yne;Qne.CUBE="cube",Qne.SPHERE="sphere",Qne.VECTOR="vector";var Kne=class extends gne{constructor(e=new Lne,t,n){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new Hne(this.value,t??new Qne(Qne.VECTOR),n),this.irradianceNode=new Hne(this.value,new Wne(Wne.WORLD),new Nne(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),("irradiance"===e.slot?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}},Zne=class extends vne{constructor(e=new nW,t,n){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=t??new Qne,this.bias=n}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){if("samplerCube"===t)return this.getTexture(e,t);let n,r=this.getTexture(e,t),i=this.uv?.build(e,"v3"),a=this.bias?this.bias.build(e,"f"):void 0;void 0===a&&e.context.bias&&(a=e.context.bias.setTexture(this).build(e,"f")),n=a?"texCubeBias( "+r+", "+i+", "+a+" )":"texCube( "+r+", "+i+" )";let o={include:e.isShader("vertex"),ignoreCache:!0},s=this.getType(e);return e.addContext(o),this.colorSpace=this.colorSpace??new Ine(new Rne("",s)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(n),n=this.colorSpace.build(e,s),e.removeContext(),e.format(n,s,t)}},Jne=["x","y","z","w"],$ne=["float","vec2","vec3","vec4"],ere={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},tre={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},nre=class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.needsJitter=!0,this.getIncludesCode=function(){function e(e,t){return e.deps.length-t.deps.length}return function(t,n){let r=this.getIncludes(t,n);if(!r)return"";let i="";r=r.sort(e);for(let e=0;e<r.length;e++)r[e].src&&(i+=r[e].src+"\n");return i}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","\t#define texCube(a, b) textureCube(a, b)","\t#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","\t#define tex2D(a, b) texture2D(a, b)","\t#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","\t#define texCube(a, b) textureCube(a, b)","\t#define texCubeBias(a, b, c) textureCube(a, b, c)","\t#define tex2D(a, b) texture2D(a, b)","\t#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif","\n\t\t\t// NOTE: Include Spline's blending modes. This could be part of BlendNode\n\t\t\t#define SPE_BLENDING_NORMAL 0\n\t\t\t#define SPE_BLENDING_MULTIPLY 1\n\t\t\t#define SPE_BLENDING_SCREEN 2\n\t\t\t#define SPE_BLENDING_OVERLAY 3\n\n\t\t\tvec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\treturn mix( a, b, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\treturn mix( a, a * b, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\tvec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );\n\t\t\t\treturn mix( a, tmp, alpha );\n\t\t\t}\n\n\t\t\tvec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {\n\t\t\t\tvec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );\n\t\t\t\treturn clamp( mix( a, tmp, alpha ), 0.0, 1.0 );\n\t\t\t}\n\n\t\t\tvec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {\n\t\t\t\tif ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );\n\t\t\t\telse if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );\n\t\t\t\treturn vec3( 1.0 );\n\t\t\t}\n\t\t\t","#include <packing>","#include <common>"].join("\n"),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join("\n"),fragment:["float accumAlpha = 0.0;","void accumulateAlpha(float alpha) {\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * alpha;\n\t\t\t\t}",""].join("\n")},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.addVertexParsCode("\nuniform int frameIndex;\nuniform vec2 resolution;\nuniform mat4 previousModelViewMatrix;\nuniform mat4 previousProjectionMatrix;\n\nvarying vec4 vCurrentPosition;\nvarying vec4 vPreviousPosition;\n"),this.addFragmentParsCode("\nlayout(location = 1) out vec4 gVelocity;\n\nuniform int frameIndex;\nuniform vec2 resolution;\n\nvarying vec4 vCurrentPosition;\nvarying vec4 vPreviousPosition;\n\nconst vec2 haltonSequence[16] = vec2[16](\nvec2( 0.000000,-0.333334),\nvec2(-0.500000, 0.333334),\nvec2( 0.500000,-0.777778),\nvec2(-0.750000,-0.111112),\nvec2( 0.250000, 0.555556),\nvec2(-0.250000,-0.555556),\nvec2( 0.750000, 0.111112),\nvec2(-0.875000, 0.777778),\nvec2(0.125000, -0.925926),\nvec2(-0.375000, -0.259260),\nvec2(0.625000, 0.407408),\nvec2(-0.625000, -0.703704),\nvec2(0.375000, -0.037038),\nvec2(-0.125000, 0.629630),\nvec2(0.875000, -0.481482),\nvec2(-0.937500, 0.185186));\n\nvec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {\n  const float goldenAngle = 2.399963f; // radians\n  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));\n  float theta = float(sampleIndex) * goldenAngle + angle;\n  float sine = sin(theta);\n  float cosine = cos(theta);\n  return vec2(cosine, sine) * r;\n}\n\n// Derived from the interleaved gradient function from Jimenez 2014 http:goo.gl/eomGso\nfloat getNoiseInterleavedGradient(vec2 screenPos) {\n    vec3 magic = vec3(0.06711056f, 0.00583715f, 52.9829189f);\n    return fract(magic.z * fract(dot(screenPos, magic.xy)));\n}\n\n"),this.buildShader("vertex",e),this.buildShader("fragment",t);for(let e=0;e<this.requires.uv.length;e++)if(this.requires.uv[e]){let t=e>0?e+1:"";this.addVaryCode("varying vec2 vUv"+t+";"),e>0&&this.addVertexParsCode("attribute vec2 uv"+t+";"),this.addVertexFinalCode("vUv"+t+" = uv"+t+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.worldPosition,this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this.needsJitter&&(this.addVertexFinalCode("\n// TODO: This could be generated CPU side and passed to the shader every frame\nconst vec2 haltonSequence[16] = vec2[16](\nvec2( 0.000000,-0.333334),\nvec2(-0.500000, 0.333334),\nvec2( 0.500000,-0.777778),\nvec2(-0.750000,-0.111112),\nvec2( 0.250000, 0.555556),\nvec2(-0.250000,-0.555556),\nvec2( 0.750000, 0.111112),\nvec2(-0.875000, 0.777778),\nvec2(0.125000, -0.925926),\nvec2(-0.375000, -0.259260),\nvec2(0.625000, 0.407408),\nvec2(-0.625000, -0.703704),\nvec2(0.375000, -0.037038),\nvec2(-0.125000, 0.629630),\nvec2(0.875000, -0.481482),\nvec2(-0.937500, 0.185186));\n\n// TODO: Pass correct view size\nvec2 offset = haltonSequence[frameIndex];\noffset.x /= resolution.x;\noffset.y /= resolution.y;\n\nvec4 currentPosition = gl_Position;\nvec4 currentPositionJittered = currentPosition + (vec4(offset.x, offset.y, 0.0, 0.0) * currentPosition.w);\n\n// We want to calculate the velocity with unjittered positions\n// so that things that are not moving get a velocity = 0\nvCurrentPosition = currentPosition;\nvPreviousPosition = previousProjectionMatrix * previousModelViewMatrix * vec4(transformed, 1.0);\n#ifdef OUTLINE_COMPENSATION\nvPreviousPosition.xy += OUTLINE_COMPENSATION;\n#endif\ngl_Position = currentPositionJittered;\n\n"),this.addFragmentFinalCode("\nvec2 oldPos = vPreviousPosition.xy;\n    oldPos /= vPreviousPosition.w;\n    oldPos.xy = (oldPos.xy+1.)/2.0;\n\nvec2 newPos = vCurrentPosition.xy;\n    newPos /= vCurrentPosition.w;\n    newPos.xy = (newPos.xy+1.)/2.0;\n\nvec2 velocity = (newPos - oldPos);\n\n// Discard fully transparent pixels \nif (gl_FragColor.a <= 0.0) discard;\n\ngVelocity = vec4(velocity, 0.0, 1.0);\n")),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.defines={},this}addFlow(e,t,n){return this.addSlot(e).addCache(t).addContext(n)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=e??"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){void 0===this.fragmentVariables[e]&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addFragmentParsVariable(e,t){void 0===this.fragmentParsVariables[e]&&(this.addFragmentParsCode(`${t} ${e};`),this.fragmentParsVariables[e]="")}addVertexParsVariable(e,t){void 0===this.vertexParsVariables[e]&&(this.addVertexParsCode(`${t} ${e};`),this.vertexParsVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[t??this.shader]+=e+"\n"}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[t??this.shader]+=e+"\n"}clearNodeCode(e){e=e??this.shader;let t=this.nodeCode[e];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[t??this.shader]+=e+"\n"}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[t??this.shader]+=e+"\n"}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return-1!==this.caches.indexOf(e)}isSlot(e){return-1!==this.slots.indexOf(e)}define(e,t){this.defines[e]=void 0===t?1:t}require(e){this.requires[e]=!0}isDefined(e){return void 0!==this.defines[e]}getVar(e,t,n,r="varying",i="V",a=""){let o=this.getVars(r),s=o[e];if(!s){let r=o.length;s={name:n||"node"+i+r+(a?"_"+a:""),type:t},o.push(s),o[e]=s}return s}getTempVar(e,t,n,r){return this.getVar(e,t,n,this.shader,"T",r)}getAttribute(e,t){if(!this.attributes[e]){let n=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(n.name+" = "+e+";"),this.attributes[e]={varying:n,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join("\n")}getVarListCode(e,t){t=t??"";let n="";for(let r=0,i=e.length;r<i;++r){let i=e[r],a=i.type,o=i.name,s=i.size,l=this.getFormatByType(a);if(void 0===l)throw new Error("Node pars "+l+" not found.");l.includes("[]")?n+=t+" "+l.substring(0,l.length-2)+" "+o+`[${s}];\n`:n+=t+" "+l+" "+o+";\n"}return n}getVars(e){return this.inputs.vars[e??this.shader]}getNodeData(e){let t=e instanceof pne?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,n,r,i,a){if(t.includes("[]")){let o=this.inputs.arrayUniforms,s=o.list.length,l=new fne({type:t,size:n.size,name:r||"nodeUA"+s+(a?"_"+a:""),node:n,needsUpdate:i});return o.list.push(l),o[e].push(l),o[e][l.name]=l,this.uniforms[l.name]=l,l}{let o=this.inputs.uniforms,s=o.list.length,l=new fne({type:t,name:r||"nodeU"+s+(a?"_"+a:""),node:n,needsUpdate:i});return o.list.push(l),o[e].push(l),o[e][l.name]=l,this.uniforms[l.name]=l,l}}createVertexUniform(e,t,n,r,i){return this.createUniform("vertex",e,t,n,r,i)}createFragmentUniform(e,t,n,r,i){return this.createUniform("fragment",e,t,n,r,i)}include(e,t,n){let r;if(e="string"==typeof e?mne.get(e):e,!1===this.context.include)return e.name;e instanceof Ene?r=this.includes.functions:e instanceof Tne?r=this.includes.consts:e instanceof Dne&&(r=this.includes.structs);let i=r[this.shader]=r[this.shader]||[];if(e){let r=i[e.name];if(r||(r=i[e.name]={node:e,deps:[]},i.push(r),r.src=e.build(this,"source")),e instanceof Ene&&t&&i[t.name]&&-1===i[t.name].deps.indexOf(e)&&(i[t.name].deps.push(e),e.includes?.length)){let n=0;do{this.include(e.includes[n++],t)}while(n<e.includes.length)}return n&&(r.src=n),e.name}throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return $ne[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return"f"===e?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return 1===e?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let n=e[t];if(n?.isNode)return n}}resolve(...e){for(let t=0;t<arguments.length;t++){let n=e[t];if(void 0!==n){if(n.isNode)return n;if(n.isTexture)switch(n.mapping){case RU:case LU:return new Zne(n);case BU:return new Kne(new Lne(n));default:return new Lne(n)}else{if(n.isVector2)return new yne(n);if(n.isVector3)return new wne(n);if(n.isVector4)return new xne(n)}}}}format(e,t,n){switch(this.colorToVector(n+" <- "+t)){case"f <- v2":case"f <- v3":case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":case"i <- v3":case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return ere[e]||e}getFormatByType(e){return tre[e]||e}getUUID(e,t){return(t=void 0===t||t)&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return Jne[e]}getIndexByElement(e){return Jne.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=$j,t===$j&&this.context.gamma&&(t=eV),t}},rre=class extends vne{constructor(e=0,t,n,r){super("c"),this.nodeType="Color",this.value=e instanceof bne?e:new bne(e||0,t,n,r)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,n,r,i,a){n=e.getUUID(n??this.getUUID()),r=r??this.getType(e);let o=e.getNodeData(n),s=this.getReadonly()&&void 0!==this.generateReadonly;if(this.alpha){let t=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${t};`)}return s?this.generateReadonly(e,t,n,r,i,a):e.isShader("vertex")?(o.vertex||(o.vertex=e.createVertexUniform(r,this,i,a,this.getLabel())),e.format(o.vertex.name,r,t)):(o.fragment||(o.fragment=e.createFragmentUniform(r,this,i,a,this.getLabel())),e.format(o.fragment.name,r,t))}generateReadonly(e,t,n,r,i,a){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",r,t)}},ire=class extends vne{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(e??0)}generateReadonly(e,t,n,r,i,a){return e.format(this.value.toString(),r,t)}},are=class extends vne{constructor(e){super("b"),this.nodeType="Bool",this.value=e??!1}generateReadonly(e,t,n,r){return e.format(this.value?"true":"false",r,t)}},ore=class extends vne{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:"number"==typeof t?new Array(e).fill(t):new Array(e).fill(0)}},sre=class extends vne{},lre=class extends sre{constructor(e){super("v3"),this.image=e,this._value=new tH}get value(){return this._value.x=this.image.isVideo?this.image.img.videoWidth??0:this.image.img.width,this._value.y=this.image.isVideo?this.image.img.videoHeight??0:this.image.img.height,this._value}},cre=class extends sre{constructor(e,t){super("t"),this.image=e,this.wrap=t}get value(){return this.image.getTexture(this.wrap)}},ure=class extends vne{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=e??new TV}generateReadonly(e,t,n,r,i,a){return e.format("mat3("+this.value.elements.join(", ")+")",r,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}},hre=class extends vne{constructor(e){super("m4"),this.nodeType="Matrix4",this.value=e??new kH}generateReadonly(e,t,n,r,i,a){return e.format("mat4("+this.value.elements.join(", ")+")",r,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}};function dre(e,t,n){e.setUvTransform(n[0],n[1],t[0],t[1],0,0,0)}var fre=class extends ure{constructor(e,t){super(new TV),this.repeat=e,this.offset=t,dre(this.value,e,t)}updateMatrix(){dre(this.value,this.repeat,this.offset)}},pre=class extends vne{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof KV?new Array(e).fill(t):new Array(e).fill(new KV(0))}},mre=class extends gne{constructor(e,t,n,r){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=n,this.mode=r}generate(e,t){if(e.isShader("fragment")){let n=[];return n.push(this.a.build(e,"c")),n.push(this.b.build(e,"c")),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),e.format("spe_blend("+n.join(",")+")",this.getType(e),t)}return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},gre=class extends gne{constructor(e,t){super("v3"),this.nodeType="CustomColor",this.color=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n=e.include(gre.Nodes.customColor);e.addFragmentVariable(this.calpha,"float");let r=[];return r.push(this.color.build(e,"v3")),r.push(this.mask?`luminance(${this.mask.build(e,"v3")})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(n+"("+r.join(",")+")",this.getType(e),t)}return console.warn("CustomColorNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},vre=gre;vre.Nodes={customColor:new Ene("vec3 customColor(vec3 color, float mask, float alpha, out float calpha) {\n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha;\n\n\t\t\t\treturn color;\n\t\t\t}")};var yre=class extends gne{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n=e.include(yre.Nodes.customNormal);e.addFragmentVariable(this.calpha,"float");let r=[];return r.push(this.cnormal.build(e,"v3")),r.push("normal"),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(n+"("+r.join(",")+")",this.getType(e),t)}return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},wre=yre;wre.Nodes={customNormal:new Ene("vec3 customNormal(vec3 cnormal, vec3 norm, float mask, float alpha, out float calpha) {\n\t\t\t\tvec3 normal = packNormalToRGB( norm ).rgb;\n\t\t\t\tnormal *= step( vec3(0.5), cnormal );\n\n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\n\t\t\t\treturn normal;\n\t\t\t}")};var bre=class extends gne{constructor(e,t,n,r,i,a,o,s,l,c,u,h){super("v3"),this.nodeType="CustomTexture",this.texture=e,this.textureSize=t,this.crop=n,this.projection=r,this.axis=i,this.side=a,this.size=o,this.blending=s,this.mat=l,this.isMask=h,this.alpha=c,this.mode=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){e.require("position"),e.require("normal"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0;let n,r=`g${this.uuid.toString().replace(/-/g,"")}`;switch(this.projection.value){case 3:n=e.include(bre.Nodes.cylindrical);break;case 2:n=e.include(bre.Nodes.spherical);break;case 1:let t=["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value],i=["zy","xz","xy"][this.axis.value],a=new Ene(`\n\t\tvec3 ${r}_planarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n\t\t\t\tvec2 projected = (1. + (position.${i})) / 2.;\n\t\t\t\tvec2 uvs = ( mat * vec3( (projected * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n\t\t\t\tvec4 tmp = texture2D( tex, uvs );\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\t${2===this.side.value?"":`lalpha *= step(0.0, ${1===this.side.value?"-1.0 * ":""}dot(vObjectNormal, ${t}));`}\n\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}`);n=e.include(a);break;case 4:n=e.include(bre.Nodes.triplanar);break;default:n=e.include(bre.Nodes.uv)}e.addFragmentVariable(this.calpha,"float");let i=[];if(i.push("normal"),i.push(this.texture.generate(e,"t")),i.push(this.textureSize.build(e,"v2")),i.push(this.crop.build(e,"f")),i.push(this.mat.build(e,"mat3")),i.push(this.size.build(e,"v2")),i.push(this.blending.build(e,"f")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),4===this.projection.value){let t=`${r}_writeUvs`,n=t+"0",a=t+"1",o=t+"2",s=`${r}_triplanarWeights`;e.addFragmentVariable(n,"vec2"),e.addFragmentVariable(a,"vec2"),e.addFragmentVariable(o,"vec2"),e.addFragmentVariable(s,"vec3"),i.push(n),i.push(a),i.push(o),i.push(s)}else{let t=`${r}_writeUvs`;e.addFragmentVariable(t,"vec2"),i.push(t)}return e.format(n+"("+i.join(",")+")",this.getType(e),t)}},xre=bre;xre.Nodes={cylindrical:new Ene("\nvec3 cylindricalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n                vec3 posN = normalize(position);\n                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);\n                float scaledHeight = position.y / (size.y * 0.5);\n                float v =  (scaledHeight / 2.) + .5;\n\n                vec2 calculatedUv = vec2(u,v);\n\t\t\t\tvec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n                vec2 df = fwidth(uvs);\n               \tif(df.x > 0.5) df.x = 0.;\n\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#else\n                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\t\t\t\t\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}\n"),spherical:new Ene("\nvec3 sphericalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n                vec3 posN = normalize(vPosition);\n                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);\n                float v = 0.5 + asin(posN.y) / 3.1415;\n\n                vec2 calculatedUv = vec2(u,v);\n\t\t\t\tvec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n                vec2 df = fwidth(uvs);\n               \tif(df.x > 0.5) df.x = 0.;\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#else\n                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}\n"),uv:new Ene("vec3 uvTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {\n\t\t\t\tvec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;\n\t\t\t\twriteUv = uvs;\n\n\t\t\t\tvec4 tmp = texture2D( tex, uvs );\n\n\t\t\t\tvec3 col = tmp.rgb;\n\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlalpha *= mask;\n\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;\n\t\t\t}"),triplanar:new Ene("vec3 triplanarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUvs0, out vec2 writeUvs1, out vec2 writeUvs2, out vec3 writeWeights) {\n\t\t\t\tvec3 p = position;\n\t\t\t\tvec2 uv0 = (1.0 + p.xy) / 2.0;     \n\t\t\t\tvec2 uv1 = (1.0 + p.zy) / 2.0;\t\t\n\t\t\t\tvec2 uv2 = (1.0 + p.xz) / 2.0;\t\t\n\t\n\t\t\t\tuv0 = (mat * vec3((uv0 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\t\t\t\tuv1 = (mat * vec3((uv1 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\t\t\t\tuv2 = (mat * vec3((uv2 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;\n\n\t\t\t\t// Range from 3 to 128 seems to be good\n\t\t\t\tfloat exponent = (1.0 - blending) * 125.0 + 3.0;\n\n\t\t\t\tvec3 n = vObjectNormal;\n\t\t\t\tvec3 weights = abs(normalize(n));\n\t\t\t\tweights = pow(weights, vec3(exponent));\n\t\t\t\tweights /= dot(weights, vec3(1.0));\n\n\t\t\t\t// Write out all sets of UVs that we generated\n\t\t\t\twriteUvs0 = uv0;\n\t\t\t\twriteUvs1 = uv1;\n\t\t\t\twriteUvs2 = uv2;\n\t\t\t\twriteWeights = weights;\n\n\t\t\t\t// Derivatives for LOD\n\t\t\t\tvec2 df0 = fwidth(uv0);\n\t\t\t\tvec2 df1 = fwidth(uv1);\n\t\t\t\tvec2 df2 = fwidth(uv2);\n\t\t\t\tif (df0.x > 0.5) df0.x = 0.0;\n\t\t\t\tif (df1.x > 0.5) df1.x = 0.0;\n\t\t\t\tif (df2.x > 0.5) df2.x = 0.0;\n\n\t\t\t\t#ifdef GL_EXT_shader_texture_lod\n                \tvec4 tmp = \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + \n\t\t\t\t\t\ttexture2DLodEXT(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;\n\t\t\t\t#else\n                \tvec4 tmp = \n\t\t\t\t\t\ttextureLod(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + \n\t\t\t\t\t\ttextureLod(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + \n\t\t\t\t\t\ttextureLod(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;\n\t\t\t\t#endif\n\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tfloat lalpha = alpha * tmp.a;\n\n\t\t\t\t// Apply cropping across all 3 planes\n\t\t\t\tif ( crop > 0.5 ) {\n\t\t\t\t\tif ( uv0.x < 0.0 || uv0.x > 1.0 || uv0.y < 0.0 || uv0.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t\tif ( uv1.x < 0.0 || uv1.x > 1.0 || uv1.y < 0.0 || uv1.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t\tif ( uv2.x < 0.0 || uv2.x > 1.0 || uv2.y < 0.0 || uv2.y > 1.0 )  {\n\t\t\t\t\t\tlalpha = 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlalpha *= mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn col;//n * 0.5 + 0.5;\n\t\t\t}\t\t\t\n\t\t\t")};var _re=class extends gne{constructor(e,t,n,r,i,a,o,s,l,c,u,h){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=n,this.far=r,this.isVector=i,this.isWorldSpace=a,this.origin=o,this.direction=s,this.colors=l,this.steps=c,this.isMask=h,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let n=`g${this.uuid.toString().replace(/-/g,"")}`,r=new Ene(`vec3 ${n}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${n}_MAX_COLORS], float steps[${n}_MAX_COLORS], bool isMask, float mask, float alpha, out float calpha) {\n               vec4 color = colors[0];\n               #ifdef ${n}_IS_VECTOR\n                   #ifdef ${n}_LINEAR\n                       #ifdef ${n}_WORLDSPACE\n                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);\n                       #else\n                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);\n                       #endif\n                   #else\n                       #ifdef ${n}_WORLDSPACE\n                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);\n                       #else\n                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);\n                       #endif\n                   #endif\n               #else\n                   float dist = length(vWPosition - cameraPosition);\n\t\t\t       float depth = ( dist - near ) / ( far - near );\n               #endif\n\n\n              float p;\n              #ifdef ${n}_SMOOTH\n\t\t\t\tfor ( int i = 1; i < ${n}_MAX_COLORS; i++ ) {\n\t\t\t\t\t\tp = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t\t}\n              #else\n                for ( int i = 1; i < ${n}_MAX_COLORS; i++ ) {\n                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);\n                   color = mix(color, colors[i], p);\n                 }\n              #endif\n\n               float lalpha = alpha * color.a * mask;\n               calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t   accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t   \n               return color.rgb;\n\t\t\t}`,[_re.Nodes.vectorLinearWorldSpaceDepth,_re.Nodes.vectorLinearObjectSpaceDepth,_re.Nodes.vectorSphericalObjectSpaceDepth,_re.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${n}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&e.define(`${n}_SMOOTH`),this.isVector.value>.5&&e.define(`${n}_IS_VECTOR`),0===this.gradientType.value&&e.define(`${n}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${n}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let i=e.include(r),a=[];return a.push(this.near.build(e,"f")),a.push(this.far.build(e,"f")),a.push(this.origin.build(e,"v3")),a.push(this.direction.build(e,"v3")),a.push(this.colors.build(e,"v4[]")),a.push(this.steps.build(e,"f[]")),a.push(this.isMask.build(e,"b")),a.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),a.push(this.alpha.build(e,"f")),a.push(this.calpha),e.format(i+"("+a.join(",")+")",this.getType(e),t)}return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Sre=_re;Sre.Nodes={vectorLinearWorldSpaceDepth:new Ene("float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {\n               vec3 n = normalize(direction);\n               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));\n               return ( dist - near ) / ( far - near );\n            }"),vectorLinearObjectSpaceDepth:new Ene("float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {\n               vec3 n = normalize(direction);\n               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));\n               return ( dist - near ) / ( far - near );\n            }"),vectorSphericalWorldSpaceDepth:new Ene("float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {\n               float dist = length(vWPosition - origin);\n               return ( dist - near ) / ( far - near );\n            }"),vectorSphericalObjectSpaceDepth:new Ene("float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {\n               float dist = length(position - origin);\n               return ( dist - near ) / ( far - near );\n            }")};var Ere=class extends gne{constructor(e,t,n,r,i,a,o,s){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=n,this.intensity=r,this.factor=i,this.isMask=s,this.alpha=a,this.mode=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let n=new Ene("vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, bool isMask, float mask, float alpha, int mode, out float calpha) {\n\t\t\t\t\tfloat fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );\n\n\t\t\t\t\tfloat lalpha = clamp(fresnel, 0.0, 1.0) * alpha * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\t\treturn color;\n\t\t\t\t}"),r=e.include(n),i=[];return i.push(this.color.build(e,"c")),i.push(this.bias.build(e,"f")),i.push(this.scale.build(e,"f")),i.push(this.intensity.build(e,"f")),i.push(this.factor.build(e,"f")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),e.format(r+"("+i.join(",")+")",this.getType(e),t)}return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Cre=class extends gne{constructor(e,t,n,r,i,a,o,s,l){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=n,this.steps=r,this.offset=i,this.morph=a,this.angle=o,this.isMask=l,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(Cre.Nodes.gradient),r=[];return r.push(this.gradientType.build(e,"i")),r.push(this.smooth.build(e,"b")),r.push(this.colors.build(e,"v4[]")),r.push(this.steps.build(e,"f[]")),r.push(this.offset.build(e,"v2")),r.push(this.morph.build(e,"v2")),r.push(this.angle.build(e,"f")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(n+"("+r.join(",")+")",this.getType(e),t)}return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Are=Cre;Are.Nodes={gradient:new Ene("vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\tvec4 color = colors[0];\n\t\t\t\tvec2 m = morph / vUv.xy;\n\t\t\t\tvec2 rot = vec2( 0.5 + m.x, m.y );\n\t\t\t\tvec2 dt = vec2(\n\t\t\t\t\tcos( angle ) * rot.x - sin( angle ) * rot.y,\n\t\t\t\t\tsin( angle ) * rot.x + cos( angle ) * rot.y\n\t\t\t\t);\n\t\t\t\tvec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;\n\t\t\t\tfloat t = dot( pt, dt ) / dot( dt, dt );\n\t\t\t\tif ( gradientType == 1 ) {\n\t\t\t\t\tt = distance (\n\t\t\t\t\t\t( vUv + morph ) * 3.0,\n\t\t\t\t\t\t( vUv + offset ) + 1.0\n\t\t\t\t\t) + angle;\n\t\t\t\t} else if ( gradientType == 2 ) {\n\t\t\t\t\tfloat polar = atan(\n\t\t\t\t\t\tvUv.x + morph.x - 0.5 + offset.x,\n\t\t\t\t\t\tvUv.y + morph.y - 0.5 + offset.y\n\t\t\t\t\t) * -1.0;\n\t\t\t\t\tt = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );\n\t\t\t\t}\n\n\t\t\t\tfloat p;\n\t\t\t\tif (smoothed) {\n\t\t\t\t\tfor ( int i = 1; i < GRAD_MAX; i++ ) {\n\t\t\t\t\t\tp = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfor ( int i = 1; i < GRAD_MAX; i++ ) {\n\t\t\t\t\t\tp = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );\n\t\t\t\t\t\tcolor = mix(color, colors[i], p);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t\t\n\t\t\t\treturn color.xyz;\n\t\t\t}")};var Tre=class extends gne{constructor(e,t,n,r){super("v3"),this.nodeType="Matcap",this.texture=e,this.isMask=r,this.alpha=t,this.mode=n,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let n=e.include(Tre.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let r=[];return r.push(this.texture.generate(e,"t")),r.push("normal"),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),r.push(this.calpha),e.format(n+"("+r.join(",")+")",this.getType(e),t)}return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Mre=Tre;Mre.Nodes={matcap:new Ene("vec3 matcap(sampler2D matcapTex, vec3 normal, bool isMask, float mask, float alpha, int mode, out float calpha) {\n\t\t\t\t\tvec3 viewDir = normalize( vViewPosition );\n\t\t\t\t\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\t\t\t\t\tvec3 y = cross( viewDir, x );\n\t\t\t\t\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n\t\t\t\t\tvec4 matcapColor = texture2D( matcapTex, uv );\n\n\t\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\t\t\t\t\t\n\t\t\t\t\treturn matcapColor.rgb;\n            \t}")};var Pre=(e=>(e.SIMPLEX="simplex3d",e.SIMPLEX_FRACTAL="simplex3dFractal",e.ASHIMA="simplexAshima",e.FBM="fbm",e.PERLIN="perlin",e.VORONOI="voronoi",e))(Pre||{}),Dre=function(){let e=new Ene("vec3 random3(vec3 c) {\n\t\t\tfloat j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\n\t\t\tvec3 r;\n\t\t\tr.z = fract(512.0*j);\n\t\t\tj *= .125;\n\t\t\tr.x = fract(512.0*j);\n\t\t\tj *= .125;\n\t\t\tr.y = fract(512.0*j);\n\t\t\treturn r-0.5;\n\t\t}"),t=new Ene("float simplex3d(vec3 p) {\n\t\t\t vec3 s = floor(p + dot(p, vec3(F3)));\n\t\t\t vec3 x = p - s + dot(s, vec3(G3));\n\t\t\t \n\t\t\t vec3 e = step(vec3(0.0), x - x.yzx);\n\t\t\t vec3 i1 = e*(1.0 - e.zxy);\n\t\t\t vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n\t\t\t\t\n\t\t\t vec3 x1 = x - i1 + G3;\n\t\t\t vec3 x2 = x - i2 + 2.0*G3;\n\t\t\t vec3 x3 = x - 1.0 + 3.0*G3;\n\t\t\t \n\t\t\t vec4 w, d;\n\t\t\t \n\t\t\t w.x = dot(x, x);\n\t\t\t w.y = dot(x1, x1);\n\t\t\t w.z = dot(x2, x2);\n\t\t\t w.w = dot(x3, x3);\n\t\t\t \n\t\t\t w = max(0.6 - w, 0.0);\n\t\t\t \n\t\t\t d.x = dot(random3(s), x);\n\t\t\t d.y = dot(random3(s + i1), x1);\n\t\t\t d.z = dot(random3(s + i2), x2);\n\t\t\t d.w = dot(random3(s + 1.0), x3);\n\t\t\t \n\t\t\t w *= w;\n\t\t\t w *= w;\n\t\t\t d *= w;\n\t\t\t \n\t\t\t return dot(d, vec4(52.0));\n\t\t}",[e]);t.keywords.F3=new Tne("float F3 0.3333333"),t.keywords.G3=new Tne("float G3 0.1666667");let n=new Ene("float simplex3dFractal(vec3 m) {\n\t\t\tmat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);\n\t\t\tmat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);\n\t\t\tmat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);\n\t\t\treturn 0.5333333 * simplex3d(m * rot1)\n\t\t\t\t + 0.2666667 * simplex3d(2.0 * m * rot2)\n\t\t\t\t + 0.1333333 * simplex3d(4.0 * m * rot3)\n\t\t\t\t + 0.0666667 * simplex3d(8.0 * m);\n\t\t}",[t]),r=new Ene("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),i=new Ene("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),a=new Ene("float simplexAshima(vec3 v) {\n\t\t  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n\t\t  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\t\t  vec3 i  = floor(v + dot(v, C.yyy) );\n\t\t  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\t\t  vec3 g = step(x0.yzx, x0.xyz);\n\t\t  vec3 l = 1.0 - g;\n\t\t  vec3 i1 = min( g.xyz, l.zxy );\n\t\t  vec3 i2 = max( g.xyz, l.zxy );\n\t\t  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n\t\t  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n\t\t  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\t\t  i = mod(i, 289.0 ); \n\t\t  vec4 p = permute( permute( permute( \n\t\t\t\t\t i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n\t\t\t\t   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) \n\t\t\t\t   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\t\t  float n_ = 1.0/7.0; // N=7\n\t\t  vec3  ns = n_ * D.wyz - D.xzx;\n\t\t  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\t\t  vec4 x_ = floor(j * ns.z);\n\t\t  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\t\t  vec4 x = x_ *ns.x + ns.yyyy;\n\t\t  vec4 y = y_ *ns.x + ns.yyyy;\n\t\t  vec4 h = 1.0 - abs(x) - abs(y);\n\t\t  vec4 b0 = vec4( x.xy, y.xy );\n\t\t  vec4 b1 = vec4( x.zw, y.zw );\n\t\t  vec4 s0 = floor(b0)*2.0 + 1.0;\n\t\t  vec4 s1 = floor(b1)*2.0 + 1.0;\n\t\t  vec4 sh = -step(h, vec4(0.0));\n\t\t  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n\t\t  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\t\t  vec3 p0 = vec3(a0.xy,h.x);\n\t\t  vec3 p1 = vec3(a0.zw,h.y);\n\t\t  vec3 p2 = vec3(a1.xy,h.z);\n\t\t  vec3 p3 = vec3(a1.zw,h.w);\n\t\t  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n\t\t  p0 *= norm.x;\n\t\t  p1 *= norm.y;\n\t\t  p2 *= norm.z;\n\t\t  p3 *= norm.w;\n\t\t  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n\t\t  m = m * m;\n\t\t  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), \n\t\t\t\t\t\t\t\t\t\tdot(p2,x2), dot(p3,x3) ) );\n\t\t}",[r,i]),o=new Ene("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),s=new Ene("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[o]),l=new Ene("float noise(vec3 p){\n\t\t\tvec3 a = floor(p);\n\t\t\tvec3 d = p - a;\n\t\t\td = d * d * (3.0 - 2.0 * d);\n\t\t\tvec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);\n\t\t\tvec4 k1 = perm(b.xyxy);\n\t\t\tvec4 k2 = perm(k1.xyxy + b.zzww);\n\t\t\tvec4 c = k2 + a.zzzz;\n\t\t\tvec4 k3 = perm(c);\n\t\t\tvec4 k4 = perm(c + 1.0);\n\t\t\tvec4 o1 = fract(k3 * (1.0 / 41.0));\n\t\t\tvec4 o2 = fract(k4 * (1.0 / 41.0));\n\t\t\tvec4 o3 = o2 * d.z + o1 * (1.0 - d.z);\n\t\t\tvec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);\n\t\t\treturn o4.y * d.y + o4.x * (1.0 - d.y);\n\t\t}",[s]),c=new Ene("float fbm(vec3 x) {\n\t\t\tfloat v = 0.0;\n\t\t\tfloat a = 0.5;\n\t\t\tvec3 shift = vec3(100);\n\t\t\tfor (int i = 0; i < NUM_OCTAVES; ++i) {\n\t\t\t\tv += a * noise(x);\n\t\t\t\tx = x * 2.0 + shift;\n\t\t\t\ta *= 0.5;\n\t\t\t}\n\t\t\treturn v;\n\t\t}",[l]);c.keywords.NUM_OCTAVES=new Tne("int NUM_OCTAVES 5");let u=new Ene("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),h=new Ene("float perlin(vec3 P){\n\t\t  vec3 Pi0 = floor(P);\n\t\t  vec3 Pi1 = Pi0 + vec3(1.0);\n\t\t  Pi0 = mod(Pi0, 289.0);\n\t\t  Pi1 = mod(Pi1, 289.0);\n\t\t  vec3 Pf0 = fract(P);\n\t\t  vec3 Pf1 = Pf0 - vec3(1.0);\n\t\t  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n\t\t  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n\t\t  vec4 iz0 = Pi0.zzzz;\n\t\t  vec4 iz1 = Pi1.zzzz;\n\t\t  vec4 ixy = permute(permute(ix) + iy);\n\t\t  vec4 ixy0 = permute(ixy + iz0);\n\t\t  vec4 ixy1 = permute(ixy + iz1);\n\t\t  vec4 gx0 = ixy0 / 7.0;\n\t\t  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n\t\t  gx0 = fract(gx0);\n\t\t  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n\t\t  vec4 sz0 = step(gz0, vec4(0.0));\n\t\t  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n\t\t  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\t\t  vec4 gx1 = ixy1 / 7.0;\n\t\t  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n\t\t  gx1 = fract(gx1);\n\t\t  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n\t\t  vec4 sz1 = step(gz1, vec4(0.0));\n\t\t  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n\t\t  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\t\t  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n\t\t  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n\t\t  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n\t\t  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n\t\t  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n\t\t  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n\t\t  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n\t\t  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\t\t  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n\t\t  g000 *= norm0.x;\n\t\t  g010 *= norm0.y;\n\t\t  g100 *= norm0.z;\n\t\t  g110 *= norm0.w;\n\t\t  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n\t\t  g001 *= norm1.x;\n\t\t  g011 *= norm1.y;\n\t\t  g101 *= norm1.z;\n\t\t  g111 *= norm1.w;\n\t\t  float n000 = dot(g000, Pf0);\n\t\t  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n\t\t  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n\t\t  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n\t\t  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n\t\t  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n\t\t  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n\t\t  float n111 = dot(g111, Pf1);\n\t\t  vec3 fade_xyz = fade(Pf0);\n\t\t  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n\t\t  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n\t\t  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \n\t\t  return 2.2 * n_xyz;\n\t\t}",[r,i,u]),d=new Ene("float hashwithoutsine13(vec3 p3)\n\t\t{\n\t\t\tp3  = fract(p3 * .1031);\n\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t}"),f=new Ene("vec3 hashwithoutsine33(vec3 p3)\n\t\t{\n\t\t\tp3 = fract(p3 * vec3(.1031, .1030, .0973));\n\t\t\tp3 += dot(p3, p3.yxz+33.33);\n\t\t\treturn fract((p3.xxy + p3.yxx)*p3.zyx);\n\t\t}"),p=new Ene("float metric(in vec3 p)\n\t\t{\n\t\t\t// L2 \n\t\t\treturn length(p);\n\n\t\t\t// Chebyshev \n\t\t\t// vec3 a = abs(p);\n\t\t\t// return max(a.x, max(a.y, a.z));\n\t\t}"),m=new Ene("float smin( float a, float b, float k )\n\t\t{\n\t\t\tfloat h = smoothstep(0.0, 1.0, 0.5 + 0.5 * (b - a) / k);\n\t\t\tfloat correction = k * h * (1.0 - h);\n\t\t\treturn mix(b, a, h) - correction;\n\t\t}"),g=new Ene("float smax( float a, float b, float k )\n\t\t{\n\t\t\tfloat h = smoothstep(1.0, 0.0, 0.5 + 0.5 * (a - b) / k);\n\t\t\tfloat correction = k * h * (1.0 - h);\n\t\t\treturn mix(a, b, h) + correction;\n\t\t}"),v=new Ene("float remap(float value, float input_min, float input_max, float output_min, float output_max) {\n\t\t\t// Compute width of each interval\n\t\t\tfloat input_width = input_max - input_min;\n\t\t\tfloat output_width = output_max - output_min;\n\t\t\n\t\t\t// Convert input range into a 0-1 range \n\t\t\tfloat scaled = (value - input_min) / input_width;\n\t\t\n\t\t\t// Convert the 0-1 range into a value in output range\n\t\t\treturn output_min + (scaled * output_width);\n\t\t}");return{simplex:t,simplexFractal:n,simplexAshima:a,fbm:c,perlin:h,voronoi:new Ene('float voronoi(in vec3 x, in int style, in float smoothness, in float seed, in int quality) \n\t\t{\n\t\t\t// Integer and fractional parts of this point\'s coordinates\n\t\t\tivec3 p = ivec3(floor(x));\n\t\t\tvec3 f = fract(x);\n\n\t\t\t// Different variables that we will use to construct noise:\n\t\t\t//\n\t\t\t// f1: distance to the closest feature point\n\t\t\t// f2: distance to the second closest feature point\n\t\t\t// e: distance to the closest edge (cell boundary)\n\t\t\t//\n\t\t\t// We also compute "smooth" versions of all of the above quantites, essentially\n\t\t\t// replacing "hard" minimums with "smooth" minimums (described by IQ)\n\t\t\tfloat f1_smooth = 8.0;\n\t\t\tfloat f1 = 8.0;\n\t\t\tfloat f2_smooth = 8.0;\n\t\t\tfloat f2 = 8.0;\n\t\t\tfloat e_smooth = 8.0;\n\t\t\tfloat e = 8.0;\n\n\t\t\t// Variables stored from closest cell\n\t\t\tivec3 mb;\n\t\t\tvec3 mr; \n\n\t\t\tint steps = quality;\n\t\t\t\n\t\t\tfor (int x = -steps; x <= steps; x++) \n\t\t\tfor (int y = -steps; y <= steps; y++)\n\t\t\tfor (int z = -steps; z <= steps; z++)\n\t\t\t{\n\t\t\t\tivec3 b = ivec3(x, y, z);\n\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\tfloat d = length(r);\n\t\t\t\t\n\t\t\t\tf1_smooth = smin(d, f1_smooth, smoothness);\n\n\t\t\t\t// Store un-smoothed distances too \n\t\t\t\tif (d < f1) \n\t\t\t\t{\n\t\t\t\t\tf2 = f1;\n\t\t\t\t\tf1 = d;\n\n\t\t\t\t\tmb = ivec3(x, y, z);\n\t\t\t\t\tmr = r;\n\t\t\t\t} \n\t\t\t\telse if (d < f2) \n\t\t\t\t{\n\t\t\t\t\tf2 = d;\n\t\t\t\t}\n\t\t\t}\t\n\t\t\t\n\t\t\tfloat id = hashwithoutsine13(vec3(p + mb) + seed);\n\n\t\t\t// Second pass for edge distance  \n\t\t\tfor (int x = -steps; x <= steps; x++) \n\t\t\tfor (int y = -steps; y <= steps; y++)\n\t\t\tfor (int z = -steps; z <= steps; z++)\n\t\t\t{\n\t\t\t\t// Start search at the cell that contains the closest point to "x" (found in 1st pass)\n\t\t\t\tivec3 b = mb + ivec3(x, y, z);\n\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\tfloat d1 = dot(0.5 * (mr + r), (r - mr)); \t\t\t\t// IQ normalizes "r - mr" but that breaks things for the smooth version?\n\t\t\t\tfloat d2 = dot(0.5 * (mr + r), normalize(r - mr));\n\n\t\t\t\te_smooth = smin(d1, e_smooth, smoothness);\n\n\t\t\t\te = min(e, d2);\n\n\t\t\t\t// Also compute a smooth version of F2 in this pass\n\t\t\t\t{\n\t\t\t\t\tivec3 b = ivec3(x, y, z);\n\t\t\t\t\tif (b != mb) \n\t\t\t\t\t{\n\t\t\t\t\t\tvec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;\n\t\t\t\t\t\tfloat d = length(r);\n\n\t\t\t\t\t\tf2_smooth = smin(d, f2_smooth, smoothness);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Different visualization modes \n\t\t\tif (style == 0) \n\t\t\t{\n\t\t\t\treturn f1_smooth;\n\t\t\t}\n\t\t\tif (style == 1) \n\t\t\t{\n\t\t\t\treturn f2_smooth;\n\t\t\t}\n\t\t\tif (style == 2) \n\t\t\t{\n\t\t\t\treturn f2_smooth - f1_smooth;\n\t\t\t\t\n\t\t\t\t// "Pebbles" also cool\n\t\t\t\t//return step(0.2, f2_smooth - f1_smooth);\n\t\t\t}\n\t\t\tif (style == 3) \n\t\t\t{\n\t\t\t\t// This one is really good for rock / stone effects\n\t\t\t\tfloat a = f1; \n\t\t\t\tfloat b = f2;\n\t\t\t\tfloat k = 3.0;\n\t\t\t\tfloat h = max(k - abs(a - b), 0.0) / k;\n\t\t\t\tfloat final = min(a, b) - h * h * k * (1.0 / 4.0);\n\t\t\t\treturn final;\n\t\t\t}\n\t\t\tif (style == 4) \n\t\t\t{\n\t\t\t\t// Some random adjustments to make this style stand out more \n\t\t\t\treturn exp(5.0 * e_smooth);\n\t\t\t}\n\t\t\tif (style == 5) \n\t\t\t{\n\t\t\t\treturn pow(f1_smooth, 3.0);\n\t\t\t}\n\t\t\tif (style == 6) \n\t\t\t{\t\t\t\t\n\t\t\t\tconst float eps = 0.0125;\n\n\t\t\t\t// Thicker lines as the user increases the smoothness slider\n\t\t\t\tfloat thickness = smoothness * 0.25 + eps;\n\n\t\t\t\t// Blurrier lines as the user increases the smoothness slider\n\t\t\t\tfloat blur = pow(smoothness, 3.0) * 0.25 + eps;\n\n\t\t\t\treturn smoothstep(\n\t\t\t\t\tthickness - thickness * blur, \n\t\t\t\t\tthickness + thickness * blur, \n\t\t\t\t\te\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (style == 7) \n\t\t\t{\n\t\t\t\treturn hashwithoutsine13(vec3(p + mb) + seed);\n\t\t\t}\n\t\t}\n\t',[d,f,p,m,g,v])}}(),kre=class extends gne{constructor(e,t,n,r,i,a,o,s,l,c,u,h,d,f,p,m,g,v,y){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=n,this.fA=r,this.fB=i,this.distortion=a,this.colorA=o,this.colorB=s,this.colorC=l,this.colorD=c,this.noiseType=h,this.voronoiStyle=f,this.highCut=p,this.lowCut=m,this.smoothness=g,this.seed=v,this.quality=y,this.isMask=d,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,n,r,i){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let a=Object.values(Pre)[this.noiseType.value],o=new Ene(`vec3 ${a}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, int voronoiStyle, float highCut, float lowCut, float smoothness, float seed, int quality, bool isMask, float mask, float alpha, out float calpha) \n\t\t\t{\n                // Prevent scale of zero \n\t\t\t\tscale = max(abs(scale), 0.001);\n\n\t\t\t\tvec3 st = position / size;\n\t\t\t\tst /= scale;\n\n\t\t\t\t${"voronoi"==a?`\n\t\tfloat v = ${a}(st + move, voronoiStyle, smoothness, seed, quality);\n\n\t\t// Apply clipping to colors\n\t\tv = remap(v, lowCut, highCut, 0.0, 1.0);\n\t\tv = smax(v, 0.0, smoothness * 0.25);\n\t\tv = smin(v, 1.0, smoothness * 0.25);\n\n\t\t// Note that the voronoi mode only uses colors "A" and "C" from the UI \n\t\tvec4 color = mix(colorA, colorC, v); \n\t\t`:`\n\t\tvec3 q = vec3(${a}(st),\n\t\t\t\t\t   ${a}(st + vec3(1.0)),\n\t\t\t\t\t   ${a}(st + vec3(1.0)));\n\t\tvec3 r = vec3(${a}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),\n\t\t\t\t\t  ${a}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), \n\t\t\t\t\t  ${a}(st * q));\n\t\tfloat f = ${a}(st + r);\n\t\tvec4 color;\n\t\tcolor = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));\n\t\tcolor = mix(color, colorC, clamp(length(q), 0.0, 1.0));\n\t\tcolor = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));\n\t\t`}\n\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn clamp(color, 0.0, 1.0).rgb;\n\t\t\t}`,[Dre.simplex,Dre.simplexFractal,Dre.simplexAshima,Dre.fbm,Dre.perlin,Dre.voronoi]),s=e.include(o),l=[];return l.push(this.scale.build(e,"f")),l.push(this.size.build(e,"v3")),l.push(this.move.build(e,"f")),l.push(this.fA.build(e,"v2")),l.push(this.fB.build(e,"v2")),l.push(this.distortion.build(e,"v2")),l.push(this.colorA.build(e,"v4")),l.push(this.colorB.build(e,"v4")),l.push(this.colorC.build(e,"v4")),l.push(this.colorD.build(e,"v4")),l.push(this.voronoiStyle.build(e,"i")),l.push(this.highCut.build(e,"f")),l.push(this.lowCut.build(e,"f")),l.push(this.smoothness.build(e,"f")),l.push(this.seed.build(e,"f")),l.push(this.quality.build(e,"i")),l.push(this.isMask.build(e,"b")),l.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),l.push(this.alpha.build(e,"f")),l.push(this.calpha),e.format(s+"("+l.join(",")+")",this.getType(e),t)}};kre.numOctaves=5;var Ore=class extends gne{constructor(e,t,n,r,i,a,o,s,l,c,u,h,d,f,p,m){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=e,this.contourColor=t,this.outlineWidth=n,this.contourWidth=r,this.contourThreshold=i,this.outlineThreshold=a,this.contourFrequency=o,this.outlineSmoothing=s,this.contourDirection=l,this.positionalLines=c,this.compensation=u,this.resolution=h,this.normalMap=d,this.depthMap=f,this.pixelRatio=p,this.alpha=m,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let n=`g${this.uuid.toString().replace(/-/g,"")}`;if(e.require("vWorldViewDir"),e.require("worldNormal"),e.extensions.derivatives=!0,this.compensation.value&&e.define("OUTLINE_COMPENSATION",`${n}_offset`),this.firstTime){let t=this.outlineWidth.build(e,"f"),r=this.resolution.build(e,"v2"),i=this.compensation.build(e,"b"),a=this.pixelRatio.build(e,"f");e.addVertexParsVariable("randomColor","attribute vec3"),e.addVertexParsVariable("extrudeNormal","attribute vec3"),e.addVertexParsVariable(t,"uniform float"),e.addVertexParsVariable(r,"uniform vec2"),e.addVertexParsVariable(i,"uniform bool"),e.addVertexParsVariable(a,"uniform float"),e.addVertexParsVariable("vID","flat out float"),e.addFragmentParsVariable("vID","flat in float"),e.addVertexFinalCode(`\n                vID = randomColor.r;\n                vec2 ${n}_offset = vec2(0.0);\n                if (${i}) {\n                    vec4 ${n}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));\n                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the\n                    // normals face the camera directly. So we hackily fix this by offsetting the normal\n                    // by a tiny amount.\n                    vec3 ${n}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;\n                    ${n}_offset = normalize(${n}_clipNormal.xy) / ${r} * (${t} / 2.0) * ${n}_clipPosition.w * 2.0 * ${a};\n                    ${n}_clipPosition.xy += ${n}_offset;\n                    // TODO(MAX): To handle multiple outline layers, we only want to extrude\n                    // if this offset is the biggest of all the potential offsets\n                    gl_Position = ${n}_clipPosition;\n                }\n            `)}if(e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(Ore.Nodes.outline),r=[];return r.push(this.outlineColor.build(e,"c")),r.push(this.contourColor.build(e,"c")),r.push(this.outlineWidth.build(e,"f")),r.push(this.contourWidth.build(e,"f")),r.push(this.contourThreshold.build(e,"f")),r.push(this.outlineThreshold.build(e,"f")),r.push(this.contourFrequency.build(e,"f")),r.push(this.outlineSmoothing.build(e,"f")),r.push(this.contourDirection.build(e,"v3")),r.push(this.positionalLines.build(e,"b")),r.push(this.resolution.build(e,"v2")),r.push(this.normalMap.getTexture(e,"t")),r.push(this.depthMap.getTexture(e,"t")),r.push(this.pixelRatio.build(e,"f")),r.push(this.compensation.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),this.firstTime=!this.firstTime,e.format(n+"("+r.join(",")+")",this.getType(e),t)}return console.warn("OutlineNode is not compatible with "+e.shader+" shader."),""}},Ire=Ore;Ire.Nodes=function(){let e=new Ene("\nfloat sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)\n{\n    vec2 halton = haltonSequence[frameIndex];\n    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n    float temporalAngle  = temporalOffset * PI2;\n\n    vec2 texelSize = (vec2(1.0) / resolution);\n    vec2 offsetSize = texelSize * outlineWidth * pixelRatio;\n\n    vec2 uvSamples[9];\n    vec4 normalSamples[9];\n\n\tuvSamples[0] = uv + vec2( -offsetSize.x, -offsetSize.y) + (vogelDiskSample(0, 9, temporalAngle) * texelSize);\n\tuvSamples[1] = uv + vec2(0.0, -offsetSize.y) + (vogelDiskSample(1, 9, temporalAngle) * texelSize);\n\tuvSamples[2] = uv + vec2(  offsetSize.x, -offsetSize.y) + (vogelDiskSample(2, 9, temporalAngle) * texelSize);\n\tuvSamples[3] = uv + vec2( -offsetSize.x, 0.0) + (vogelDiskSample(3, 9, temporalAngle) * texelSize);\n\tuvSamples[4] = uv;\n\tuvSamples[5] = uv + vec2(  offsetSize.x, 0.0) + (vogelDiskSample(5, 9, temporalAngle) * texelSize);\n\tuvSamples[6] = uv + vec2( -offsetSize.x, offsetSize.y) + (vogelDiskSample(6, 9, temporalAngle) * texelSize);\n\tuvSamples[7] = uv + vec2(0.0, offsetSize.y) + (vogelDiskSample(7, 9, temporalAngle) * texelSize);\n\tuvSamples[8] = uv + vec2(  offsetSize.x, offsetSize.y) + (vogelDiskSample(8, 9, temporalAngle) * texelSize);\n\n\n    normalSamples[0] = texture2D(t, uvSamples[0]);\n    normalSamples[1] = texture2D(t, uvSamples[1]);\n    normalSamples[2] = texture2D(t, uvSamples[2]);\n    normalSamples[3] = texture2D(t, uvSamples[3]);\n    normalSamples[4] = texture2D(t, uvSamples[4]);\n    normalSamples[5] = texture2D(t, uvSamples[5]);\n    normalSamples[6] = texture2D(t, uvSamples[6]);\n    normalSamples[7] = texture2D(t, uvSamples[7]);\n    normalSamples[8] = texture2D(t, uvSamples[8]);\n\n    float depthBias = 0.0001;\n    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!\n    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n\n    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {\n        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;\n        if (gl_FragCoord.z > depthAtSample) {\n           return 0.0;\n        }\n    }\n\n    vec3 sobel_edge_h = normalSamples[2].rgb + (2.0*normalSamples[5].rgb) + normalSamples[8].rgb - (normalSamples[0].rgb + (2.0*normalSamples[3].rgb) + normalSamples[6].rgb);\n  \tvec3 sobel_edge_v = normalSamples[0].rgb + (2.0*normalSamples[1].rgb) + normalSamples[2].rgb - (normalSamples[6].rgb + (2.0*normalSamples[7].rgb) + normalSamples[8].rgb);\n\n    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));\n    return edgeNormal;\n}\n");return{outline:new Ene("vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float mask, float alpha, out float calpha) {\n                vec3 result = outlineColor;\n                float resultAlpha = 0.0;\n\n                vec3 N = normalize(vWNormal);\n                vec2 nuv = (gl_FragCoord.xy / resolution);\n                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);\n                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);\n\n                //resultAlpha = 1.0;\n                //result = vec3(sobelSample);\n\n                float t = 1.0 - contourThreshold;\n                if(positionalLines) {\n                    vec3 NDir = position * contourDirection;\n                    float NT = NDir.x + NDir.y + NDir.z;\n                    float f  = fract(NT * contourFrequency * 0.01);\n                    float df = fwidth(NT * contourFrequency);\n\n                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);\n                    if (g < 1.0 && resultAlpha == 0.0) {\n                        result = contourColor;\n                        resultAlpha = 1.0;\n                    }\n                 }\n                 else {\n                    vec3 NDir = N * contourDirection;\n                    float NT = NDir.x + NDir.y + NDir.z;\n                    float df = fwidth(NT * contourThreshold);\n                    float f = sin(NT * 1.0 * contourFrequency);\n                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);\n\n                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {\n                        result = contourColor;\n                        resultAlpha = 1.0 - g;\n                    }\n                 }\n\n                 float lalpha = alpha * resultAlpha * mask;\n                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;\n\t\t\t\t \n                 return result;\n             }",[e])}}();var Rre=class extends gne{constructor(e,t,n,r,i,a,o,s,l,c,u,h,d,f,p,m,g,v){super("v3"),this.nodeType="Pattern",this.style=e,this.projection=t,this.axis=n,this.blending=r,this.offset=i,this.colorA=a,this.colorB=o,this.frequency=s,this.size=l,this.variation=c,this.smoothness=u,this.zigzag=h,this.rotation=d,this.vertical=f,this.horizontal=p,this.sides=m,this.isMask=v,this.alpha=g,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let n;switch(e.require("position"),e.require("uv"),e.requires.uv=[!0],e.require("normal"),e.requires.normal=!0,e.addFragmentVariable(this.calpha,"float"),this.style.value){case 0:default:n="circle";break;case 1:n="ring";break;case 2:n="polygon";break;case 3:n="xcross";break;case 4:n="diamond";break;case 5:n="checkerboard";break;case 6:n="line";break;case 7:n="wave"}let r=`g${this.uuid.toString().replace(/-/g,"")}`,i=new Ene("float hashwithoutsine12(vec2 p)\n\t\t\t\t{\n\t\t\t\t\tvec3 p3 = fract(vec3(p.xyx) * .1031);\n\t\t\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t\t\t}"),a=new Ene("vec2 rotate_uv(in vec2 uv, float a, bool repeat) \n\t\t\t\t{\n\t\t\t\t\tconst float mid = 0.5;\n\t\t\t\t\tfloat radians = a * (PI / 180.0);\n\t\t\t\t\tvec2 rotated = vec2(\n\t\t\t\t\t\tcos(radians) * (uv.x - mid) + sin(radians) * (uv.y - mid) + mid,\n\t\t\t\t\t\tcos(radians) * (uv.y - mid) - sin(radians) * (uv.x - mid) + mid\n\t\t\t\t\t);\n\t\t\t\t\treturn repeat ? fract(rotated): rotated;\n\t\t\t\t}"),o="";if(4===this.projection.value)o=`\n\t\t\t\tvec3 p = position;\n\t\t\t\tfloat factor = 0.0125;\n\t\t\t\tvec2 uv0 = fract(p.xy * factor);\n\t\t\t\tvec2 uv1 = fract(p.zy * factor);\n\t\t\t\tvec2 uv2 = fract(p.xz * factor);\n\t\t\t\t\n\t\t\t\tuv0 = rotate_uv(uv0 + offset, rotation, true);\n\t\t\t\tuv1 = rotate_uv(uv1 + offset, rotation, true);\n\t\t\t\tuv2 = rotate_uv(uv2 + offset, rotation, true);\n\t\n\t\t\t\tfloat d0 = ${2===this.style.value?`${n}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\tfloat d1 = ${2===this.style.value?`${n}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\tfloat d2 = ${2===this.style.value?`${n}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation)`};\n\t\t\t\t\n\t\t\t\t// Range from 3 to 128 seems to be good\n\t\t\t\tfloat exponent = (1.0 - blending) * 125.0 + 3.0;\n\n\t\t\t\tvec3 n = vObjectNormal;\n\t\t\t\tvec3 weights = abs(normalize(n));\n\t\t\t\tweights = pow(weights, vec3(exponent));\n\t\t\t\tweights /= dot(weights, vec3(1.0));\n\t\t\t\td0 *= weights.z;\n\t\t\t\td1 *= weights.x;\n\t\t\t\td2 *= weights.y;\n\t\t\t\tfloat draw = d0 + d1 + d2;\n\t\n\t\t\t\tvec2 custom_uv = uv0 * weights.z + uv1 * weights.x + uv2 * weights.y;\n\t\t\t\t`;else{let e=2===this.style.value?`${n}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${n}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,t="";0===this.axis.value?t="float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.y, p.z);\n\t\t\t\t\tfloat phi = acos(p.x / radius);":1===this.axis.value?t="float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.x, p.z);\n\t\t\t\t\tfloat phi = acos(p.y / radius);":(this.axis.value,t="float radius = length(p);\n\t\t\t\t\tfloat theta = atan(p.y, p.x);\n\t\t\t\t\tfloat phi = acos(p.z / radius);");let r="";switch(this.projection.value){case 0:r="custom_uv = vUv.st;";break;case 1:case 3:default:break;case 2:r=`\n\t\t\t\t\t\t\tvec3 p = position;\n\t\t\t\t\t\t\t${t}\n\t\t\t\t\t\t\tcustom_uv = vec2(theta, phi);\n\t\t\t\t\t\t\tcustom_uv /= PI;\n\t\t\t\t\t\t\t`}o=`\n\t\t\t\tvec2 custom_uv;\n\t\t\t\t${r}\n\t\n\t\t\t\tcustom_uv += offset;\n\t\t\t\tcustom_uv = fract(custom_uv);\n\t\t\t\tcustom_uv = rotate_uv(custom_uv, rotation, true);\n\t\n\t\t\t\tfloat draw = ${e};\n\t\t\t\t`}let s=new Ene(`vec3 ${r}_pattern(vec3 normal, float blending, int style, vec2 offset, vec4 colorA, vec4 colorB, vec2 frequency, float size, float variation, float smoothness, float zigzag, float rotation, vec2 vertical, vec2 horizontal, int sides, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\t\tconst float TWO_PI = PI * 2.0;\n\t\t\t\t\tfloat smoothness_remapped = pow(smoothness, 5.0);\t\n\n\t\t\t\t\t${o}\n\n\t\t\t\t\t// Construct final output color\n\t\t\t\t\tvec4 color = mix(colorA, colorB, draw);\n\t\t\t\t\tcolor.a = clamp(color.a, 0.0, 1.0);\n\n\t\t\t\t\t// Apply cuts\n\t\t\t\t\tcolor.a *= \n\t\t\t\t\t\tstep(vertical.x, custom_uv.y) * \n\t\t\t\t\t\tstep(custom_uv.y, vertical.y);\n\t\t\t\t\tcolor.a *= \n\t\t\t\t\t\tstep(horizontal.x, abs(custom_uv.x)) * \n\t\t\t\t\t\tstep(abs(custom_uv.x), horizontal.y);\n\n\t\t\t\t\t// Accumulate alpha \n\t\t\t\t\tfloat lalpha = alpha * clamp(color.a, 0.0, 1.0) * mask;\n\t\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\t\treturn clamp(color, 0.0, 1.0).rgb;\n\t\t\t\t}`,[a,i,Rre.DrawFunctions.circle,Rre.DrawFunctions.ring,Rre.DrawFunctions.polygon,Rre.DrawFunctions.cross,Rre.DrawFunctions.diamond,Rre.DrawFunctions.checkerboard,Rre.DrawFunctions.line,Rre.DrawFunctions.wave]),l=e.include(s),c=[];return c.push("normal"),c.push(this.blending.build(e,"f")),c.push(this.style.build(e,"i")),c.push(this.offset.build(e,"v2")),c.push(this.colorA.build(e,"v4")),c.push(this.colorB.build(e,"v4")),c.push(this.frequency.build(e,"v2")),c.push(this.size.build(e,"f")),c.push(this.variation.build(e,"f")),c.push(this.smoothness.build(e,"f")),c.push(this.zigzag.build(e,"f")),c.push(this.rotation.build(e,"f")),c.push(this.vertical.build(e,"v2")),c.push(this.horizontal.build(e,"v2")),c.push(this.sides.build(e,"i")),c.push(this.isMask.build(e,"b")),c.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),c.push(this.alpha.build(e,"f")),c.push(this.calpha),e.format(l+"("+c.join(",")+")",this.getType(e),t)}return console.warn("PatterNode is not compatible with "+e.shader+" shader."),e.format("vec3(0.0)",this.getType(e),t)}},Lre=Rre;Lre.DrawFunctions=function(){let e=new Ene("float hashwithoutsine12(vec2 p) {\n\t\t\t\tvec3 p3 = fract(vec3(p.xyx) * 0.1031);\n\t\t\t\tp3 += dot(p3, p3.yzx + 33.33);\n\t\t\t\treturn fract((p3.x + p3.y) * p3.z);\n\t\t\t}"),t=new Ene("vec2 tile_and_center(in vec2 uv, in vec2 frequency, in float variation, in float zigzag, in float rotation) {\n                // Create tiles in UV-space\n                uv *= frequency;\n\n                // Integer coords\n                vec2 i = floor(uv);\n\n                // Offset every other row based on zigzag param, then compute fractional coords\n                float row_offset = mod(i.y, 2.0);\n                uv.x += row_offset * zigzag;\n                vec2 f = fract(uv);\n\n\t\t\t\t// Rotate the tile itself:\n\t\t\t\t// const float mid = 0.5;\n\t\t\t\t// f = vec2(\n\t\t\t\t// \tcos(rotation) * (f.x - mid) + sin(rotation) * (f.y - mid) + mid,\n\t\t\t\t// \tcos(rotation) * (f.y - mid) - sin(rotation) * (f.x - mid) + mid\n\t\t\t\t// );\n\t\t\t\t// f = fract(f);\n\n                f = f * 2.0 - 1.0;\n\n\t\t\t\t// Recompute integer coords after shifting - then, random value per tile \n\t\t\t\ti = floor(uv);\n\t\t\t\tfloat rand = (hashwithoutsine12(i) * 5.0 + 1.0);\n\t\t\t\tfloat jitter = mix(1.0, rand, variation);\n\t\t\t\tf *= jitter;\n\n                return f;\n            }",[e]);return{tileAndCenter:t,circle:new Ene("float circle(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(\n                    -smoothness, \n                     smoothness, \n                     length(f) - size\n                );\n            }",[t]),ring:new Ene("float ring(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n\n\t\t\t\tfloat d = length(f);\n                const float inner_width = 0.5;\n\n                float outer = smoothstep(-smoothness, smoothness, d - size);\n                float inner = smoothstep(-smoothness, smoothness, d - size * inner_width);\n\t\t\t\treturn outer + (1.0 - inner);   \n            }",[t]),polygon:new Ene("float sdf_ngon(in vec2 p, in float r, in int n) {\n                float an = (PI * 2.0) / float(n);\n                float he = r * tan(0.5 * an);\n                \n                // Rotate to first sector\n                p = -p.yx; \n                float bn = an * floor((atan(p.y, p.x) + 0.5 * an) / an);\n                vec2  cs = vec2(cos(bn), sin(bn));\n                p = mat2(cs.x, -cs.y, cs.y, cs.x)*p;\n            \n                // Side of polygon\n                return length(p - vec2(r, clamp(p.y, -he, he))) * sign(p.x - r);\n            }\n            \n            float polygon(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation, in int sides) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(-smoothness, smoothness, sdf_ngon(f, size, sides));\n            }",[t]),cross:new Ene("float sdf_cross(in vec2 p, in vec2 b, float r ) {\n                p = abs(p); \n\t\t\t\tp = (p.y > p.x) ? p.yx : p.xy;\n                vec2  q = p - b;\n                float k = max(q.y, q.x);\n                vec2  w = (k > 0.0) ? q : vec2(b.y - p.x, -k);\n                return sign(k) * length(max(w, 0.0)) + r;\n            }\n            \n            // Avoid namespace conflicts \n            float xcross(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n                return smoothstep(-smoothness, smoothness, sdf_cross(f, vec2(size, size * 0.25), smoothness));\n            }",[t]),diamond:new Ene("float ndot(vec2 a, vec2 b) { \n                return a.x*b.x - a.y*b.y; \n            }\n            \n            float sdf_diamond(in vec2 p, in vec2 b) {\n                p = abs(p);\n                float h = clamp(ndot(b - 2.0 * p, b) / dot(b, b), -1.0, 1.0);\n                float d = length(p - 0.5 * b * vec2(1.0 - h, 1.0 + h));\n                return d * sign(p.x * b.y + p.y * b.x - b.x * b.y);\n            }\n\n            float diamond(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);\n\t            return smoothstep(-smoothness, smoothness, sdf_diamond(f, vec2(size)));\n            }",[t]),checkerboard:new Ene("float checkerboard(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                uv *= frequency;\n                vec2 i = floor(uv);\n\n                float offset = mod(i.y, 2.0);\n\n                uv.x += offset + zigzag * offset;\n                float x = floor(uv.x);\n                \n                return mod(x, 2.0);\n            }"),line:new Ene("float line(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                vec2 f = tile_and_center(uv, frequency, 0.0, zigzag, rotation);\n\t\t\t\t\n\t\t\t\t// Different approach for variation param here\n\t\t\t\tfloat row = floor(uv * frequency).y;\n\t\t\t\tfloat rand = hashwithoutsine12(vec2(row));\n\t\t\t\tfloat s = mix(size, size * rand, variation);\n\n\t\t\t\treturn smoothstep(\n\t\t\t\t\ts - smoothness, \n\t\t\t\t\ts + smoothness, \n\t\t\t\t\tabs(f.y)\n\t\t\t\t);\n            }",[t]),wave:new Ene("// Uses bisection \n            float udf_cos(in vec2 p, in float a, in float b, in float c, in float d) {\n                // Convert all data to a primitive cosine wave\n                p = c * (p - vec2(d, a));\n                \n                const float TWO_PI = PI * 2.0;\n\n                // Reduce to principal half cycle\n                p.x = mod(p.x, TWO_PI); \n                if (p.x > PI) {\n                    p.x = TWO_PI - p.x;\n                }\n            \n                // Find zero of derivative (minimize distance)\n                float xa = 0.0;\n                float xb = TWO_PI;\n\n                // 24 bit precision\n                for (int i = 0; i < 24; i++) {\n                    float x = 0.5 * (xa + xb);\n                    float y = x - p.x + b * c * sin(x) * (p.y - b * c * cos(x));\n                    if (y < 0.0) xa = x; \n                    else xb = x;\n                }\n                float x = 0.5 * (xa + xb);\n                \n                // Compute distance    \n                vec2 q = vec2(x, b * c * cos(x));\n                return length(p - q) / c;\n            }\n\n            float wave(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {\n                float repeat = frequency.x;\n                uv *= repeat;\n                vec2 i = floor(uv);\n                float row_offset = mod(i.y, 2.0);\n                uv.x += row_offset * zigzag;\n                vec2 f = vec2(uv.x, fract(uv.y));\n\n                // Generalized cosine: y(x) = a + b * cos(cx + d)\n                const float amplitude = 0.125;\n                float wave_frequency = frequency.y * 0.1;\n                float distance_estimate = udf_cos(f, 0.50, amplitude, wave_frequency * (2.0 * PI), 0.0);\n\n\t\t\t\t// Different approach for variation param here\n\t\t\t\tfloat rand = hashwithoutsine12(vec2(i.y));\n\t\t\t\tfloat s = mix(size, size * rand, variation);\n\n                return smoothstep(-smoothness, smoothness, distance_estimate - s * 0.5);\n            }")}}();var Nre=class extends gne{constructor(e,t,n,r,i,a,o,s){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=n,this.noiseStrength=r,this.noiseScale=i,this.offset=a,this.isMask=s,this.alpha=o,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(Nre.Nodes.rainbow),r=[];return r.push(this.filmThickness.build(e,"f")),r.push(this.movement.build(e,"f")),r.push(this.wavelengths.build(e,"v3")),r.push(this.noiseStrength.build(e,"f")),r.push(this.noiseScale.build(e,"f")),r.push(this.offset.build(e,"v3")),r.push(this.isMask.build(e,"b")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(n+"("+r.join(",")+")",this.getType(e),t)}return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},zre=Nre;zre.Nodes=function(){let e=new Ene("vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {\n                 vec3 st = position / noiseScale;\n\t\t\t\t vec3 q = vec3(simplex3d(st),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(1.0)),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(1.0)));\n\n\t\t\t\t vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),\n\t\t\t\t\t\t\t  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),\n\t\t\t\t\t\t\t  simplex3d(st * q));\n\n                 float noise = simplex3d(st + r);\n\n                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);\n             }",[Dre.simplex]);return{rainbow:new Ene("vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, bool isMask, float mask, float alpha, out float calpha) {\n\t\t\t\tvec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);\n\n\t\t\t\tfloat rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);\n\n\t\t\t\tfloat lalpha = alpha * rainbowContribution * mask;\n\t\t\t\tcalpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));\n\n\t\t\t\treturn res;\n             }",[e])}}();var Bre=class extends gne{constructor(e,t,n,r,i,a,o,s,l,c){super("v3"),this.nodeType="Toon",this.positioning=e,this.colors=t,this.steps=n,this.source=r,this.isWorldSpace=i,this.noiseStrength=a,this.noiseScale=o,this.shadowColor=s,this.offset=l,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("worldNormal"),e.require("worldPosition"),e.isShader("fragment")){e.define("COLORS_MAX",10),e.addFragmentVariable(this.calpha,"float");let n=e.include(Bre.Nodes.toon),r=[];return r.push(this.positioning.build(e,"i")),r.push(this.colors.build(e,"v4[]")),r.push(this.steps.build(e,"f[]")),r.push(this.source.build(e,"v3")),r.push(this.isWorldSpace.build(e,"b")),r.push(this.noiseStrength.build(e,"f")),r.push(this.noiseScale.build(e,"f")),r.push(this.shadowColor.build(e,"v4")),r.push(this.offset.build(e,"v3")),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(n+"("+r.join(",")+")",this.getType(e),t)}return console.warn("ToonNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Fre=Bre;Fre.Nodes=function(){let e=new Ene("float rand(float n) {\n\t\t\t\treturn fract(sin(n) * 43758.5453123);\n\t\t\t}"),t=new Ene("float hash1(float p) { \n\t\t\t\tp = fract(p * 0.011); \n\t\t\t\tp *= p + 7.5; \n\t\t\t\tp *= p + p; \n\t\t\t\treturn fract(p); \n\t\t\t}"),n=new Ene("float valueNoise(vec3 x) {\n\t\t\t\tconst vec3 step = vec3(110, 241, 171);\n\t\t\t\n\t\t\t\tvec3 i = floor(x);\n\t\t\t\tvec3 f = fract(x);\n\t\t\t \n\t\t\t\t// For performance, compute the base input to a 1D hash from the integer part of the argument and the \n\t\t\t\t// incremental change to the 1D based on the 3D -> 1D wrapping\n\t\t\t\tfloat n = dot(i, step);\n\t\t\t\n\t\t\t\tvec3 u = f * f * (3.0 - 2.0 * f);\n\t\t\t\treturn mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),\n\t\t\t\t\t\t\t   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),\n\t\t\t\t\t\t   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),\n\t\t\t\t\t\t\t   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);\n\t\t\t}",[t]),r=new Ene("vec3 hash3(vec3 x) {\n\t\t\t\tx = vec3(dot(x,vec3(127.1, 311.7, 74.7)),\n\t\t\t\t\t\t dot(x,vec3(269.5, 183.3, 246.1)),\n\t\t\t\t\t\t dot(x,vec3(113.5, 271.9, 124.6)));\n\t\t\t\n\t\t\t\treturn fract(sin(x)*43758.5453123);\n\t\t\t}"),i=new Ene('vec3 voronoiNoise(in vec3 x)\n\t\t\t{\n\t\t\t\tvec3 p = floor(x);\n\t\t\t\tvec3 f = fract(x);\n\n\t\t\t\tfloat id = 0.0;\n\t\t\t\tvec2 res = vec2(100.0);\n\n\t\t\t\tfor(int k=-1; k<=1; k++)\n\t\t\t\tfor(int j=-1; j<=1; j++)\n\t\t\t\tfor(int i=-1; i<=1; i++)\n\t\t\t\t{\n\t\t\t\t\tvec3 b = vec3(float(i), float(j), float(k));\n\n\t\t\t\t\t// Comment out the "+ hash(p + b);" part below to get "square" cells\n\t\t\t\t\tvec3 r = vec3(b) - f + hash3(p + b);\n\t\t\t\t\tfloat d = dot(r, r);\n\n\t\t\t\t\tif (d < res.x)\n\t\t\t\t\t{\n\t\t\t\t\t\tid = dot(p + b, vec3(1.0, 57.0, 113.0));\n\t\t\t\t\t\tres = vec2(d, res.x);\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse if (d < res.y)\n\t\t\t\t\t{\n\t\t\t\t\t\tres.y = d;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn vec3(sqrt(res), abs(id));\n\t\t\t}\n\t\t\t',[r]);return{toon:new Ene('vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float mask, float alpha, out float calpha) {\n\t\t\t\tfloat t = 0.0;\n\t\t\t\tfloat shadow = 1.0;\n\n\t\t\t\tif (positioning == 0) {\n\n\t\t\t\t\t// Can\'t do this mode if lighting is "none"\n\t\t\t\t\t#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))\n\n\t\t\t\t\t\t// Algorithm from Chapter 10 of Graphics Shaders\n\t\t\t\t\t\tconst vec3 weights = vec3(0.2125, 0.7154, 0.0721);\n\t\t\t\t\t\tvec3 lpos;\n\t\t\t\t\t\tvec3 l;\n\t\t\t\t\t\tfloat dproduct;\n\n\t\t\t\t\t\t#if (NUM_POINT_LIGHTS > 0)\n\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tPointLightShadow pointLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_POINT_LIGHTS; i++) {\n\t\t\t\t\t\t\t\t// Light positions are in view-space for some reason?\n\t\t\t\t\t\t\t\tlpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;\n\t\t\t\t\t\t\t\tl = normalize(lpos - worldPosition);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// TODO: we want to use "intensity" but it isn\'t available in the shader code\n\t\t\t\t\t\t\t\t//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);\n\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tpointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getPointShadow( \n\t\t\t\t\t\t\t\t\t\t\tpointShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowRadius,\n\t\t\t\t\t\t\t\t\t\t\tvPointShadowCoord[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowCameraNear, \n\t\t\t\t\t\t\t\t\t\t\tpointLightShadow.shadowCameraFar);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t#if NUM_DIR_LIGHTS > 0 \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tDirectionalLightShadow directionalLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_DIR_LIGHTS; i++) {\n\t\t\t\t\t\t\t\t// Use the direction vector for directional lights instead\n\t\t\t\t\t\t\t\tl = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;\n\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tdirectionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getShadow( \n\t\t\t\t\t\t\t\t\t\tUNROLLED_LOOP_INDEX,\n\t\t\t\t\t\t\t\t\t\tdirectionalShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\tdirectionalLightShadow.shadowRadius, \n\t\t\t\t\t\t\t\t\t\tvDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t#if NUM_SPOT_LIGHTS > 0 \n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)\n\t\t\t\t\t\t\t\tSpotLightShadow spotLightShadow;\n\t\t\t\t\t\t\t#endif \n\n\t\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\t\tfor (int i = 0; i < NUM_SPOT_LIGHTS; i++) {\n\t\t\t\t\t\t\t\tlpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;\n\t\t\t\t\t\t\t\tl = normalize(lpos - worldPosition);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tdproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;\n\t\t\t\t\t\t\t\tt = max(t, dproduct);\n\n\t\t\t\t\t\t\t\t// Accumulate shadow contribution\n\t\t\t\t\t\t\t\t#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)\n\t\t\t\t\t\t\t\t\tspotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];\n\t\t\t\t\t\t\t\t\tshadow *= getShadow(\n\t\t\t\t\t\t\t\t\t\tUNROLLED_LOOP_INDEX,\n\t\t\t\t\t\t\t\t\t\tspotShadowMap[UNROLLED_LOOP_INDEX], \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowMapSize, \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowBias, \n\t\t\t\t\t\t\t\t\t\tspotLightShadow.shadowRadius, \n\t\t\t\t\t\t\t\t\t\tvSpotLightCoord[UNROLLED_LOOP_INDEX]);\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t#pragma unroll_loop_end\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\tt = clamp(t, 0.0, 1.0);\n\t\t\t\t\n\t\t\t\t\t#endif\n\n\t\t\t\t} else if (positioning == 1) {\n\t\t\t\t\t\n\t\t\t\t\tvec3 origin = mix(position, worldPosition, float(isWorldSpace));\n\t\t\t\t\tvec3 direction = normalize(source - origin);\n\t\t\t\t\tt = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;\t\n\n\t\t\t\t} else {\n\n\t\t\t\t\tvec3 origin = worldPosition;\n\t\t\t\t\tvec3 source = cameraPosition - offset;\n\t\t\t\t\tvec3 direction = normalize(source - origin);\n\t\t\t\t\tt = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;\t\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\tif (noiseStrength > 0.0) {\n\t\t\t\t\t// Distort with noise\n\t\t\t\t\tvec3 st = position / noiseScale;\n\t\t\t\t\t\n\t\t\t\t\t// Voronoi "smooth" noise\n\t\t\t\t\tfloat noise = 1.0 - voronoiNoise(st).x;\n\n\t\t\t\t\t// Voronoi cellular noise\n\t\t\t\t\t//float noise = 1.0 - rand(voronoiNoise(st).z);\n\n\t\t\t\t\t// Position warp noise\n\t\t\t\t\t// vec3 offset = vec3(\n\t\t\t\t\t// \tsimplex3d(st),\n\t\t\t\t\t// \tsimplex3d(st + vec3(111.1, 143.89, 217.19)),\n\t\t\t\t\t// \tsimplex3d(st + vec3(171.1, 247.89, 117.23))\n\t\t\t\t\t// );\n\t\t\t\t\t// st += offset;\n\t\t\t\t\t// float noise = valueNoise(st);\n\n\t\t\t\t\tt += noise * noiseStrength;\n\t\t\t\t}\n\n\t\t\t\tt = clamp(t, 0.0, 1.0);\n\n\t\t\t\t// Compute ramp color\n\t\t\t\tfloat p;\n\t\t\t\tvec4 color = colors[0];\n\t\t\t\tfor (int i = 1; i < COLORS_MAX; i++) {\n\t\t\t\t\tp = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);\n\t\t\t\t\tcolor = mix(color, colors[i], smoothstep(0.0, 1.0, p));\n\t\t\t\t}\n\n\t\t\t\t// Incorporate custom shadow color\n\t\t\t\tif (positioning == 0) {\n\n\t\t\t\t\tvec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);\n\t\t\t\t\tcolor.rgb = mix(blendedShadow, color.rgb, shadow);\n\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t// Accumulate alpha as usual\n\t\t\t\tfloat lalpha = alpha * color.a * mask;\n\t\t\t\tcalpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);\n\t\t\t\taccumAlpha += (1.0 - accumAlpha) * lalpha;\n\n\t\t\t\treturn color.xyz;\n\n            }',[Dre.simplex,e,n,i])}}();var Ure={textureBicubic:new Ene("float w0( float a ) {\n            return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n        }\n    \n        float w1( float a ) {\n            return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n        }\n    \n        float w2( float a ){\n            return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n        }\n    \n        float w3( float a ) {\n            return ( 1.0 / 6.0 ) * ( a * a * a );\n        }\n    \n        // g0 and g1 are the two amplitude functions\n        float g0( float a ) {\n            return w0( a ) + w1( a );\n        }\n    \n        float g1( float a ) {\n            return w2( a ) + w3( a );\n        }\n    \n        // h0 and h1 are the two offset functions\n        float h0( float a ) {\n            return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n        }\n    \n        float h1( float a ) {\n            return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n        }\n    \n        vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n            uv = uv * texelSize.zw + 0.5;\n    \n            vec2 iuv = floor( uv );\n            vec2 fuv = fract( uv );\n    \n            float g0x = g0( fuv.x );\n            float g1x = g1( fuv.x );\n            float h0x = h0( fuv.x );\n            float h1x = h1( fuv.x );\n            float h0y = h0( fuv.y );\n            float h1y = h1( fuv.y );\n    \n            vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n            vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n            vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n            vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n    \n            return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) + \n                   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n        }\n\n        vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n            vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n            vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n            vec2 fLodSizeInv = 1.0 / fLodSize;\n            vec2 cLodSizeInv = 1.0 / cLodSize;\n            vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n            vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n            return mix( fSample, cSample, fract( lod ) );\n        }")},jre=class extends gne{constructor(e,t,n,r,i,a,o,s){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=n,this.transmissionSamplerSize=r,this.transmissionSamplerMap=i,this.transmissionDepthMap=a,this.aspectRatio=o,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",6),e.define("BLUR_SLOD",Math.pow(2,qre.transmissionLod.value)),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let n=e.include(jre.Nodes.transmission),r=[];return r.push(this.thickness.build(e,"f")),r.push(this.ior.build(e,"f")),r.push(this.roughness.build(e,"f")),r.push(this.transmissionSamplerSize.build(e,"v2")),r.push(this.transmissionSamplerMap.getTexture(e,"t")),r.push(this.transmissionDepthMap.getTexture(e,"t")),r.push(this.aspectRatio.build(e,"v2")),r.push("normal"),r.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),r.push(this.alpha.build(e,"f")),r.push(this.calpha),e.format(n+"("+r.join(",")+")",this.getType(e),t)}return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Vre=jre;Vre.Nodes=function(){let e=new Ene("vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {\n                // Slightly modified version of this:\n                // https://www.shadertoy.com/view/ltScRG\n\n\t\t\t\t// Special case for blur == 0.0\n\t\t\t\tif (lod == 0.0) {\n\t\t\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\t\treturn texture2DLodEXT( sp, U, 0.0).rgb;\n\t\t\t\t\t#else\n\t\t\t\t\treturn textureLod( sp, U, 0.0).rgb;\n\t\t\t\t\t#endif\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvec2 texelSize = vec2(1.0) / resolution;\n                vec2 halton = haltonSequence[frameIndex];\n                float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n                float temporalAngle  = temporalOffset * PI2;\n\t\t\t\tvec3 res = vec3(0.0);\n                vec2 uv = vec2(0.0);\n                vec2 offset = vec2(0.0);\n                vec2 vogelSample = vec2(0.0);\n                for (int i = 0; i < NUM_SAMPLES; i++) {\n                    vogelSample =  vogelDiskSample(i, NUM_SAMPLES, temporalAngle) * texelSize;\n                    offset = vogelSample * scale * (lod * 10.0); // TODO: used to be hardcoded to 20\n                    uv = U + offset;\n                    float opaqueDepth = unpackRGBAToDepth(textureLod(dm, uv, lod));\n                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {\n                        uv = unrefractedU;\n                        lod = lod > 4.0 ? lod : lod / 2.0;\n                    }\n                    res += textureLod(sp, uv, lod).rgb;\n                }\n                return res / float(NUM_SAMPLES);\n            }"),t=new Ene("vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\t        // Direction of refracted light.\n\t\t        vec3 refractionVector = refract( -v,  n, 1.0 / ior );\n\t\t        \n\t\t\t\t// Compute rotation-independant scaling of the model matrix.\n\t\t        vec3 modelScale;\n\t\t        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\t        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\t        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\n\t\t        // The thickness is specified in local space\n\t\t        return normalize( refractionVector ) * thickness * modelScale;\n\t        }"),n=new Ene("float applyIorToRoughness( float roughness, float ior ) {\n\t\t\t\t// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and\n\t\t\t\t// an IOR of 1.5 results in the default amount of microfacet refraction.\n\t\t\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t\t\t}"),r=new Ene('vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {\n\t\t\t\t// Threejs exports do not pass a depth map to this shader, so we have to fallback to the "Threejs method of blurring" - see\n\t\t\t\t// also the code in convertTransmission.ts, which runs during export\n\t\t\t\t#ifdef IS_THREEJS_EXPORT\n\t\t\t\t\tfloat lod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness / 5.0, ior);\n\t\t\t\t\treturn textureBicubic(transmissionSamplerMap, fragCoord.xy, lod).rgb;\n\t\t\t\t#else\n\t\t\t\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t\t\t\tfloat lod = applyIorToRoughness(roughness, ior);\n\t\t\t\t\treturn blur(transmissionSamplerMap, fragCoord, vec2(lod), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);\n\t\t\t\t#endif\n\t\t\t}',[Ure.textureBicubic,n,e]),i=new Ene("vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\n\t\t\t\t// Project refracted vector on the framebuffer, while mapping to normalized device coordinates.\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\n\t\t\t\tvec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );\n\t\t\t\tvec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;\n\t\t\t\tunrefractedCoords += 1.0;\n\t\t\t\tunrefractedCoords /= 2.0;\n\n\t\t\t\t// Sample framebuffer to get pixel the refracted ray hits.\n\t\t\t\treturn getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );\n    \t\t}",[r,t]);return{transmission:new Ene("vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float mask, float alpha, out float calpha) {\n                vec3 v = vec3(0.);\n                if (isOrthographic) {\n                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n                } else {\n                    v = normalize(vWPosition - cameraPosition);\n                }\n                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );\n                \n\t\t\t\tfloat lalpha = alpha * mask;\n\t\t\t\tcalpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );\n\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * alpha;\n\n\t\t\t\treturn transmission;\n            }",[i])}}();var Hre=(e=>(e.NOISE="noise",e.MAP="map",e))(Hre||{}),Gre=class extends gne{constructor(e,t,n,r,i,a,o,s,l,c,u){super("v3"),this.displacementTypeIndex=new ire(0),this.nodeType="VertexDisplacement",this.intensity=e,this.movementOrTexture=t,"map"===Object.values(Hre)[this.displacementTypeIndex.value]&&(this.mat=new ure(this.movementOrTexture.value.matrix)),this.cropOrOffset=n,this.scale=c,this.noiseFunctionIndex=u,this.voronoiStyle=r,this.smoothness=i,this.seed=a,this.highCut=o,this.lowCut=s,this.quality=l}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let n,r=[];switch(r.push("displaced_position"),r.push("displaced_normal"),Object.values(Hre)[this.displacementTypeIndex.value]){case"map":n=e.include(Gre.Nodes.map),r.push(this.movementOrTexture.getTexture(e,"t")),r.push("uv"),r.push(this.cropOrOffset.build(e,"f")),this.mat&&r.push(this.mat.build(e,"mat3"));break;case"noise":{let t=Object.values(Pre)[this.noiseFunctionIndex.value],i=new Ene("vec3 orthogonal(vec3 v) {\n\t\t\t\t\t\t\treturn normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));\n\t\t\t\t\t\t}"),a=new Ene(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality) {\n\t\t\t\t\t\t\t${"voronoi"==t?`\n\t\t\t\t\tfloat v = ${t}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1), voronoiStyle, smoothness, seed, quality);\n\t\t\t\t\tv = remap(v, lowCut, highCut, 0.0, 1.0);\n\t\t\t\t\tv = smax(v, 0.0, smoothness * 0.25);\n\t\t\t\t\tv = smin(v, 1.0, smoothness * 0.25);\n\n\t\t\t\t\treturn p + n * v * intensity;\n\t\t\t\t\t`:`\n\t\t\t\t\treturn p + n * ${t}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;\n\t\t\t\t\t`}\n\t\t\t\t\t\t}`,[Dre.simplex,Dre.simplexFractal,Dre.simplexAshima,Dre.fbm,Dre.perlin,Dre.voronoi]),o=new Ene("vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality, float intensity, out vec3 displaced_normal) {\n\t\t\t\t\t\t\tvec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tvec3 tangent1 = orthogonal(normal);\n\t\t\t\t\t\t\tvec3 tangent2 = normalize(cross(normal, tangent1));\n\n                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.\n                            // This caused some small oval/circular visual artifacts in the lighting.\n                            // For now, simply using neighbors further away betters the problem,\n                            // but we should figure out the underlying cause when we have some time.\n                            // Maybe its related to how we calculate the tangent and bitangent?\n\t\t\t\t\t\t\tvec3 nearby1 = position + tangent1;\n\t\t\t\t\t\t\tvec3 nearby2 = position + tangent2;\n\t\t\t\t\t\t\tvec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tvec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);\n\t\t\t\t\t\t\tdisplaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));\n\t\t\t\t\t\t\treturn displaced_position;\n\t\t\t\t\t\t}",[a,i]);n=e.include(o),r.push(this.scale.build(e,"f")),r.push(this.cropOrOffset.build(e,"v3")),r.push(this.movementOrTexture.build(e,"f")),r.push(this.voronoiStyle.build(e,"i")),r.push(this.smoothness.build(e,"f")),r.push(this.seed.build(e,"f")),r.push(this.highCut.build(e,"f")),r.push(this.lowCut.build(e,"f")),r.push(this.quality.build(e,"i"));break}}return r.push(this.intensity.build(e,"f")),r.push("displaced_normal"),e.format(n+"("+r.join(",")+")",this.getType(e),t)}return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},Wre=Gre;Wre.Nodes=function(){let e=new Ene("vec3 orthogonal(vec3 v) {\n\t\t\t\treturn normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));\n\t\t\t}"),t=new Ene("float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {\n\t\t\t\tvec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;\n\t\t\t\tvec4 tmp = texture2D(tex, uvs);\n\t\t\t\tvec3 col = tmp.rgb;\n\t\t\t\tif (crop > 0.5) {\n\t\t\t\t\tif ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {\n\t\t\t\t\t\treturn 0.0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn col.r;\n\t\t\t}");return{map:new Ene("vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {\n\t\t\t\tvec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;\n\t\t\t\tvec3 tangent1 = normalize(orthogonal(normal));\n\t\t\t\tvec3 tangent2 = normalize(cross(normal, tangent1));\n\t\t\t\tvec3 nearby1 = position + tangent1 * 0.1;\n\t\t\t\tvec3 nearby2 = position + tangent2 * 0.1;\n\t\t\t\tvec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;\n\t\t\t\tvec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;\n\t\t\t\tdisplaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));\n\t\t\t\treturn displaced_position;\n\t\t\t}",[e,t])}}();var qre={normalRenderTarget:new Lne,normalRenderTargetDepth:new Lne,transmissionRenderTarget:new Lne,aspectRatio:new yne,transmissionSize:new yne(2048,2048),transmissionRenderTargetDepth:new Lne,aoRenderTarget:new Lne,aoEnabled:new are,pixelRatioNode:new Nne(1),resolution:new yne,penumbraSize:new ore(5,.5),frameIndex:new ire(0),transmissionLod:new ire(2)};for(let e of Object.values(qre))e.isRenderGlobal=!0;var Xre,Yre={skiaWasmUrl:"https://unpkg.com/@splinetool/ui-wasm@1.0.19/build/ui.wasm"},Qre=class extends pne{constructor(){super("basic"),this.nodeType="Basic",this.color=new rre(J4),this.shadingAlpha=new Nne(1),this.shadingBlend=new ire(0),this.previousModelViewMatrix=new hre,this.previouseProjectionMatrix=new hre}get category(){return"phong"}generate(e){let t;if(e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:qre.frameIndex}),e.mergeUniform({resolution:qre.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(KG.merge([mW.fog])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>"].join("\n"));let r=["#include <beginnormal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#if defined( USE_LAYER_DISPLACE )\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif /* !USE_LAYER_DISPLACE */\n\t\t\t\t"];n&&r.push(n.code,n.result?"displaced_position = "+n.result+";":""),r.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","\tvNormal = transformedNormal;","#endif"),r.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),r.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=r.join("\n")}else{void 0===this.color&&(this.color=new rre(J4)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let n=this.color.flow(e,"c",{slot:"color"}),r=this.alpha?this.alpha.flow(e,"f"):void 0,i=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,a=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=void 0!==r,e.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join("\n"));let o=["#include <normal_fragment_begin>",n.code];r&&o.push(r.code,"#ifdef ALPHATEST"," if ( "+r.result+" <= ALPHATEST ) discard;","#endif"),a?o.push(a.code,`vec3 outgoingLight = ${n.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${a.result}, 1.0, SPE_BLENDING_NORMAL);`):o.push(`vec3 finalColor = ${n.result};`);let s="1.0";this.mask&&(this.mask.analyze(e),s=`luminance(${this.mask.flow(e,"v3").result})`),r?o.push(`gl_FragColor = vec4( finalColor, accumAlpha * ${r.result} * ${s} );`):o.push("gl_FragColor = vec4("+n.result+", 1.0 );"),i&&o.push(`gl_FragColor.a *= ${i.result};`),o.push("#include <fog_fragment>","#include <dithering_fragment>"),t=o.join("\n")}return t}},Kre=class extends pne{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new rre(J4),this.emissive=new rre(0),this.emissiveIntensity=new Nne(1),this.previousModelViewMatrix=new hre,this.previouseProjectionMatrix=new hre,this.shadingAlpha=new Nne(1),this.shadingBlend=new ire(0),this.occlusion=new are(!0)}get category(){return"lambert"}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:qre.frameIndex}),e.mergeUniform({resolution:qre.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(KG.merge([mW.fog,mW.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","\tvarying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let r=["#include <beginnormal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&r.push(n.code,n.result?"displaced_position = "+n.result+";":""),r.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),r.push("\t#include <project_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\n\t\t\t\t\tvec3 diffuse = vec3( 1.0 );\n\t\t\t\t\tGeometricContext geometry;\n\t\t\t\t\tgeometry.position = mvPosition.xyz;\n\t\t\t\t\tgeometry.normal = normalize( transformedNormal );\n\t\t\t\t\tgeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\n\t\t\t\t"),r.push("\n\t\t\t\t\tGeometricContext backGeometry;\n\t\t\t\t\tbackGeometry.position = geometry.position;\n\t\t\t\t\tbackGeometry.normal = -geometry.normal;\n\t\t\t\t\tbackGeometry.viewDir = geometry.viewDir;\n\t\t\t\t\tvLightFront = vec3( 0.0 );\n\t\t\t\t\tvIndirectFront = vec3( 0.0 );\n\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\tvLightBack = vec3( 0.0 );\n\t\t\t\t\t\tvIndirectBack = vec3( 0.0 );\n\t\t\t\t\t#endif\n\t\t\t\t\tIncidentLight directLight;\n\t\t\t\t\tfloat dotNL;\n\t\t\t\t\tvec3 directLightColor_Diffuse;\n\t\t\t\t\tvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\n\t\t\t\t\tvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\t\t\t\t\t\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_POINT_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_SPOT_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_DIR_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\t\t\t\t\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\t\t\t\t\t\tdirectLightColor_Diffuse = directLight.color;\n\t\t\t\t\t\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t\t#if NUM_HEMI_LIGHTS > 0\n\t\t\t\t\t\t#pragma unroll_loop_start\n\t\t\t\t\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\t\t\t\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t\t\t\t\t\t#ifdef DOUBLE_SIDED\n\t\t\t\t\t\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#pragma unroll_loop_end\n\t\t\t\t\t#endif\n\t\t\t\t","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),r.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=r.join("\n")}else{e.mergeUniform({penumbraSize:qre.penumbraSize}),e.mergeUniform({frameIndex:qre.frameIndex}),e.mergeUniform({aoMap:qre.aoRenderTarget}),e.mergeUniform({aoEnabled:qre.aoEnabled}),void 0===this.color&&(this.color=new rre(J4)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),r=this.emissive.flow(e,"c",{slot:"emissive"}),i=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),a=this.occlusion.flow(e,"b",{slot:"occlusion"}),o=this.shadingAlpha.flow(e,"f"),s=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==c,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","\tvarying vec3 vLightBack;","\tvarying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join("\n"));let h=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx, viewdy));\n\t\t\t\tbool isFrontFacing = (dot(normal, faceNormal) >= 0.0);\n\t\t\t\t","#include <clipping_planes_fragment>"];h.push(n.code,"vec3 diffuseColor = "+n.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),c&&h.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),h.push("#ifdef DOUBLE_SIDED","\treflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","\treflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","\treflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","\treflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),r&&h.push(r.code,"reflectedLight.directDiffuse += "+r.result+" * "+i.result+";"),h.push("vec3 ao = aoEnabled && "+a.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = (reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) ;");let d="1.0";this.mask&&(this.mask.analyze(e),d=`luminance(${this.mask.flow(e,"v3").result})`),h.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * ${d} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result} * ${d}, ${s.result} );\n\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),l&&h.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),c?h.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result} );`):h.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&h.push(`gl_FragColor.a *= ${u.result};`),h.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=h.join("\n")}return t}},Zre={dHdxy:new Ene("vec2 dHdxy(sampler2D bumpMap, vec2 bumpMapUv, float bumpScale) {\n\n            // Gradient of UVs w.r.t. X coordinate (in screen-space)\n            vec2 dSTdx = dFdx(bumpMapUv);\n\n            // Gradient of UVs w.r.t. Y coordinate (in screen-space)\n            vec2 dSTdy = dFdy(bumpMapUv);\n            \n            // Forward differencing\n            float Hll = bumpScale * luminance(texture(bumpMap, bumpMapUv).rgb);\n            float dBx = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdx).rgb) - Hll;\n            float dBy = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdy).rgb) - Hll;\n            \n            return vec2( dBx, dBy );\n        }"),perturbNormalArb:new Ene("vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n            vec3 vSigmaX = dFdx( surf_pos.xyz );\n            vec3 vSigmaY = dFdy( surf_pos.xyz );\n            vec3 vN = surf_norm; // normalized\n            \n            vN = normalize(vN);\n\n            vec3 R1 = cross( vSigmaY, vN );\n            vec3 R2 = cross( vN, vSigmaX );\n\n            R1 = normalize(R1);\n            R2 = normalize(R2);\n    \n            float fDet = dot( vSigmaX, R1 ) * faceDirection;\n    \n            vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n            return normalize( abs( fDet ) * vN - vGrad );\n        }")},Jre=class extends pne{constructor(){super("phong"),this.nodeType="Phong",this.color=new rre(J4),this.specular=new rre(1118481),this.shininess=new Nne(30),this.previousModelViewMatrix=new hre,this.previouseProjectionMatrix=new hre,this.shadingAlpha=new Nne(1),this.shadingBlend=new ire(0),this.occlusion=new are(!0)}get category(){return"phong"}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:qre.frameIndex}),e.mergeUniform({resolution:qre.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(KG.merge([mW.fog,mW.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let r=["#include <beginnormal_vertex>","\n\t\t\t\t#include <skinbase_vertex>\n\t\t\t\t#include <skinnormal_vertex>\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = objectNormal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&r.push(n.code,n.result?"displaced_position = "+n.result+";":""),r.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),r.push("\t#include <project_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),r.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=r.join("\n")}else{e.mergeUniform({penumbraSize:qre.penumbraSize}),e.mergeUniform({frameIndex:qre.frameIndex}),e.mergeUniform({aoMap:qre.aoRenderTarget}),e.mergeUniform({aoEnabled:qre.aoEnabled}),void 0===this.color&&(this.color=new rre(J4)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e);let n=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),i=this.specular.flow(e,"c"),a=this.shininess.flow(e,"f"),o=this.shadingAlpha.flow(e,"f"),s=this.shadingBlend.flow(e,"i"),l=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,c=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==c,e.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join("\n"));let h=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tBlinnPhongMaterial material;"];if(this.bumpMap){e.include(Zre.dHdxy),e.include(Zre.perturbNormalArb);let t=this.bumpMap.texture.flow(e,"t"),n=this.bumpMap.flow(e,"v3"),r=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",i="";i=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${t.result}, uv0, ${r});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${t.result}, uv1, ${r});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${t.result}, uv2, ${r});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${t.result}, bumpMapCachedUv, ${r});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,h.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${n.result};\n\t\t\t\t\t${i}\n\t\t\t\t\t`)}h.push(r.code,"\tvec3 diffuseColor = "+r.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","\tvec3 totalEmissiveRadiance = emissive;",i.code,"\tvec3 specular = "+i.result+";",a.code,"\tfloat shininess = max( 0.0001, "+a.result+" );","\tfloat specularStrength = 1.0;"),c&&h.push(c.code,"#ifdef ALPHATEST","if ( "+c.result+" <= ALPHATEST ) discard;","#endif"),h.push("material.diffuseColor = diffuseColor;"),h.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),h.push("vec3 ao = aoEnabled && "+n.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;");let d="1.0";this.mask&&(this.mask.analyze(e),d=`luminance(${this.mask.flow(e,"v3").result})`),h.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * ${d} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result} * ${d}, ${s.result} );\n\t\t\t\t\t\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),l&&h.push(l.code,`outgoingLight = spe_blend(outgoingLight, ${l.result}, 1.0, SPE_BLENDING_NORMAL);`),c?h.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${c.result});`):h.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&h.push(`gl_FragColor.a *= ${u.result};`),h.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=h.join("\n")}return t}},$re=class extends pne{constructor(){super("standard"),this.nodeType="Standard",this.color=new rre(J4),this.roughness=new Nne(.3),this.metalness=new Nne(0),this.reflectivity=new Nne(.5),this.previousModelViewMatrix=new hre,this.previouseProjectionMatrix=new hre,this.shadingAlpha=new Nne(1),this.shadingBlend=new ire(0),this.occlusion=new are(!0)}get category(){return"physical"}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:qre.frameIndex}),e.mergeUniform({resolution:qre.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(KG.merge([mW.fog,mW.lights])),mW.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let r=["#include <beginnormal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#if defined( USE_LAYER_DISPLACE )\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#if !defined( USE_LAYER_DISPLACE )\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif /* !USE_LAYER_DISPLACE */\n\t\t\t\t"];n&&r.push(n.code,n.result?"displaced_position = "+n.result+";":""),r.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),r.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),r.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=r.join("\n")}else{e.mergeUniform({penumbraSize:qre.penumbraSize}),e.mergeUniform({frameIndex:qre.frameIndex}),e.mergeUniform({aoMap:qre.aoRenderTarget}),e.mergeUniform({aoEnabled:qre.aoEnabled});let n={gamma:!0};void 0===this.color&&(this.color=new rre(J4)),this.color.analyze(e,{slot:"color",context:n}),this.roughness.analyze(e),this.metalness.analyze(e);let r=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let i=this.color.flow(e,"c",{slot:"color",context:n}),a=this.roughness.flow(e,"f"),o=this.metalness.flow(e,"f"),s=this.shadingAlpha.flow(e,"f"),l=this.shadingBlend.flow(e,"i"),c=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,u=this.alpha?this.alpha.flow(e,"f"):void 0,h=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,d=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=void 0!==u,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join("\n"));let f=["#include <clipping_planes_fragment>","\t#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tPhysicalMaterial material;","\tmaterial.diffuseColor = vec3( 1.0 );"];if(this.bumpMap){e.include(Zre.dHdxy),e.include(Zre.perturbNormalArb);let t=this.bumpMap.texture.flow(e,"t"),n=this.bumpMap.flow(e,"v3"),r=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",i="";i=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${t.result}, uv0, ${r});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${t.result}, uv1, ${r});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${t.result}, uv2, ${r});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${t.result}, bumpMapCachedUv, ${r});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,f.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${n.result};\n\t\t\t\t\t${i}\n\t\t\t\t\t`)}if(f.push(i.code,"\tvec3 diffuseColor = "+i.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",o.code,"\tfloat metalnessFactor = "+o.result+";"),this.roughnessMap){let t=this.roughnessMap.texture.flow(e,"t"),n=this.roughnessMap.flow(e,"v3"),r="";r=4===this.roughnessMap.projection.value?`\n\t\t\t\t\tfloat roughnessChange = 1.0;\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tfloat r0 = luminance(texture(${t.result}, uv0).rgb) * roughnessScale;\n\t\t\t\t\t\tfloat r1 = luminance(texture(${t.result}, uv1).rgb) * roughnessScale;\n\t\t\t\t\t\tfloat r2 = luminance(texture(${t.result}, uv2).rgb) * roughnessScale;\n\n\t\t\t\t\t\troughnessChange = (r0 * weights.z + r1 * weights.x + r2 * weights.y);\n\t\t\t\t\t}\n\t\t\t\t\tfloat roughnessFactor = roughnessChange * ${a.result};\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 roughnessMapCachedUv = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\n\t\t\t\t\tvec4 vals = texture(${t.result},  roughnessMapCachedUv);\n\t\t\t\t\tfloat roughnessFactor = luminance(vals.rgb) * ${a.result};\n\t\t\t\t\t`,f.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${n.result};\n\n\t\t\t\t\tconst float roughnessScale = 1.0;\n\n\t\t\t\t\t${r}\n\t\t\t\t`)}else f.push(a.code,"\tfloat roughnessFactor = "+a.result+";");u&&f.push(u.code,"#ifdef ALPHATEST","\tif ( "+u.result+" <= ALPHATEST ) discard;","#endif"),f.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),f.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),d?f.push(d.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+d.result+" ) ), diffuseColor, metalnessFactor );"):f.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),f.push("#include <lights_fragment_begin>"),f.push("#include <lights_fragment_end>"),f.push("vec3 ao = aoEnabled && "+r.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular;");let p="1.0";this.mask&&(this.mask.analyze(e),p=`luminance(${this.mask.flow(e,"v3").result})`),f.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${s.result} * ${p} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${s.result} * ${p}, ${l.result} );\n\t\t\t\t\t\n\t\t\t\t\toutgoingLight *= ao;\n\t\t\t\t}\n\t\t\t\t`),c&&f.push(c.code,`outgoingLight = spe_blend(outgoingLight, ${c.result}, 1.0, SPE_BLENDING_NORMAL);`),u?f.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${u.result} );`):f.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),h&&f.push(`gl_FragColor.a *= ${h.result};`),f.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=f.join("\n")}return t}},eie=class extends pne{constructor(){super("toon"),this.nodeType="Toon",this.color=new rre(J4),this.specular=new rre(1118481),this.shininess=new Nne(30),this.previousModelViewMatrix=new hre,this.previouseProjectionMatrix=new hre,this.shadingAlpha=new Nne(1),this.shadingBlend=new ire(0)}get category(){return"toon"}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let n=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:qre.frameIndex}),e.mergeUniform({resolution:qre.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(KG.merge([mW.fog,mW.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join("\n"));let r=["#include <beginnormal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <defaultnormal_vertex>\n\t\t\t\t#endif\n\n\t\t\t\tvec3 displaced_position = position;\n\t\t\t\tvec3 displaced_normal = normal;\n\n\t\t\t\t#ifdef USE_LAYER_DISPLACE\n\t\t\t\t\tvec3 transformed;\n\t\t\t\t\tvec3 transformedNormal;\n\t\t\t\t#endif\n\t\t\t\t","#include <normal_vertex>","\n\t\t\t\t#ifndef USE_LAYER_DISPLACE\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t#endif\n\t\t\t\t"];n&&r.push(n.code,n.result?"displaced_position = "+n.result+";":""),r.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),r.push("\t#include <project_vertex>","\t#include <fog_vertex>","\t#include <clipping_planes_vertex>","\tvViewPosition = - mvPosition.xyz;","\t#include <worldpos_vertex>","\t#include <shadowmap_vertex>","\t#include <fog_vertex>"),r.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=r.join("\n")}else{e.mergeUniform({penumbraSize:qre.penumbraSize}),e.mergeUniform({frameIndex:qre.frameIndex}),e.mergeUniform({aoMap:qre.aoRenderTarget}),e.mergeUniform({aoEnabled:qre.aoEnabled}),void 0===this.color&&(this.color=new rre(J4)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),r=this.specular.flow(e,"c"),i=this.shininess.flow(e,"f"),a=this.shadingAlpha.flow(e,"f"),o=this.shadingBlend.flow(e,"i"),s=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,l=this.alpha?this.alpha.flow(e,"f"):void 0,c=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=void 0!==l,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>","\n\t\t\t\t\tvarying vec3 vViewPosition;\n\t\t\t\t\tstruct ToonMaterial {\n\t\t\t\t\t\tvec3\tdiffuseColor;\n\t\t\t\t\t\tvec3\tspecularColor;\n\t\t\t\t\t\tfloat\tspecularShininess;\n\t\t\t\t\t\tfloat\tspecularStrength;\n\t\t\t\t\t};\n\t\t\t\t\tvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t\t\t\n\t\t\t\t\t\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\t\t\t\t\t\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n\t\t\t\t\t}\n\t\t\t\t\tvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t\t\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\t\t\t\t\t}\n\t\t\t\t\t#define RE_Direct\t\t\t\tRE_Direct_Toon\n\t\t\t\t\t#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n\t\t\t\t\t#define Material_LightProbeLOD( material )\t(0)\n\t\t\t\t\t","#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join("\n"));let u=["#include <normal_fragment_begin>","\n\t\t\t\t// NOTE: gl_FrontFacing alternative using face normal estimation.\n\t\t\t\tvec3 viewdx = dFdx(vViewPosition);\n\t\t\t\tvec3 viewdy = dFdy(vViewPosition);\n\t\t\t\tvec3 faceNormal = normalize(cross(viewdx,viewdy));\n\t\t\t\tif (dot(normal, faceNormal) < 0.0) {\n\t\t\t\t\tnormal *= -1.0;\n\t\t\t\t}\n\t\t\t\t","\tToonMaterial material;"];if(this.bumpMap){e.include(Zre.dHdxy),e.include(Zre.perturbNormalArb);let t=this.bumpMap.texture.flow(e,"t"),n=this.bumpMap.flow(e,"v3"),r=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",i="";i=4===this.bumpMap.projection.value?`\n\t\t\t\t\tvec3 bumpNormal = vec3(0.0);\n\t\t\t\t\t{\n\t\t\t\t\t\tvec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;\n\t\t\t\t\t\tvec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;\n\t\t\t\t\t\tvec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;\n\t\t\t\t\t\tvec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;\n\n\t\t\t\t\t\tvec2 grad0 = dHdxy(${t.result}, uv0, ${r});\n\t\t\t\t\t\tvec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);\n\n\t\t\t\t\t\tvec2 grad1 = dHdxy(${t.result}, uv1, ${r});\n\t\t\t\t\t\tvec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);\n\n\t\t\t\t\t\tvec2 grad2 = dHdxy(${t.result}, uv2, ${r});\n\t\t\t\t\t\tvec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);\n\t\t\t\t\t\t\n\t\t\t\t\t\tbumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;\n\t\t\t\t\t\tbumpNormal = normalize(bumpNormal);\n\t\t\t\t\t}\n\n\t\t\t\t\tnormal = bumpNormal;\n\t\t\t\t\t`:`\n\t\t\t\t\tvec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;\n\t\t\t\t\tvec2 grad = dHdxy(${t.result}, bumpMapCachedUv, ${r});\n\t\t\t\t\tnormal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );\n\t\t\t\t\t`,u.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates\n\t\t\t\t\t${n.result};\n\t\t\t\t\t${i}\n\t\t\t\t\t`)}u.push(n.code,"\tvec3 diffuseColor = "+n.result+";","\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",r.code,"\tvec3 specular = "+r.result+";",i.code,"\tfloat shininess = max( 0.0001, "+i.result+" );","\tfloat specularStrength = 1.0;"),l&&u.push(l.code,"#ifdef ALPHATEST","if ( "+l.result+" <= ALPHATEST ) discard;","#endif"),u.push("material.diffuseColor = diffuseColor;"),u.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),u.push("vec3 ao = aoEnabled ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) * ao) + reflectedLight.directSpecular;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),u.push(`\n\t\t\t\tif (outgoingLight != diffuseColor) {\n\t\t\t\t\tfloat lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );\n\t\t\t\t\taccumAlpha += ( 1.0 - accumAlpha ) * ${a.result} * ${h} * lightAccu;\n\t\t\t\t\toutgoingLight = spe_blend( diffuseColor, outgoingLight, ${a.result} * ${h}, ${o.result} );\n\t\t\t\t}\n\t\t\t\t`),s&&u.push(s.code,`outgoingLight = spe_blend(outgoingLight, ${s.result}, 1.0, SPE_BLENDING_NORMAL);`),l?u.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${l.result} );`):u.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),c&&u.push(`gl_FragColor.a *= ${c.result};`),u.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=u.join("\n")}return t}},tie=class{constructor(e=1e4){this.timeout=e,this.cache=new Map,this.head={data:null,time:0,src:null,next:null,prev:null},this.tail={data:null,time:1/0,src:null,next:null,prev:null},this.hasClean=!1,this.head.next=this.tail,this.tail.prev=this.head}log(...e){}remove(e){let t=this.cache.get(e);t&&(this.dispose(e,t.data),this.cache.delete(e),t.prev.next=t.next,t.next.prev=t.prev)}scheduleCleanup(){this.hasClean||(this.log("scheduled cleanup"),this.hasClean=!0,setTimeout((()=>{this.hasClean=!1,this.log("cleaning");let e=Date.now(),t=this.head.next;for(;t.time<e-this.timeout;)this.dispose(t.src,t.data),this.cache.delete(t.src),t=t.next,t.prev=this.head,this.head.next=t;this.head.next!==this.tail?this.scheduleCleanup():this.log("no more cleanup")}),this.timeout+1e3))}has(e){return this.cache.get(e)?.data}load(e){let t=Date.now(),n=this.cache.get(e);return void 0===n?(n={data:this.create(e),src:e,time:t,next:null,prev:null},this.cache.set(e,n)):(n.time=t,n.prev.next=n.next,n.next.prev=n.prev),n.prev=this.tail.prev,n.next=this.tail,this.tail.prev.next=n,this.tail.prev=n,this.scheduleCleanup(),n.data}},nie=class extends tie{create(e){return URL.createObjectURL(new Blob([e]))}dispose(e,t){URL.revokeObjectURL(t)}},rie=class{constructor(e,t){this.data=e,this.cache=t,this.refCount=0}deref(){this.refCount,this.refCount-=1,0===this.refCount&&(this.cache.remove(this),this.dispose())}dispose(){this.refCount}},iie=class{constructor(){this.cache=new Map}remove(e){this.cache.delete(e.data)}load(e){let t=this.cache.get(e);return void 0===t&&(t=this.create(e),this.cache.set(e,t)),t.refCount+=1,t}},aie=class extends rie{constructor(e,t){super(e,t.imageHolderCache),this.data=e,this.shared=t,this.loaded=!1,this.isVideo=!1,this.isCanvas=!1,this.isVideo="video"===e.type,this.isCanvas="CANVAS"===e.nodeName,this.updateSrc(this.isCanvas?e:e.data)}async updateSrc(e){if(typeof document>"u")return;this.disposeTextures(),this.loaded=!1;let t=()=>{this.loaded=!0;let e=[1e3,1001,1002];for(let t of e){let e=this[t];e&&(e.image=this.img,e.needsUpdate=!0)}this.shared.requestRender()};if(this.isCanvas)this.img=e,this.loaded=!0;else if(this.isVideo){if(this.img=document.createElement("video"),this.img.preload="auto",this.img.playsInline=!0,this.img.currentTime=.01,"string"!=typeof e){var n=new FileReader;let t;n.readAsDataURL(new Blob([e],{type:"video/mp4"})),await new Promise((e=>{n.onloadend=n=>{t=n.target?.result,e(null)}})),this.img.src=t}else this.img.src=e;this.img.onloadeddata=()=>{t()}}else this.img=new Image,this.img.src=function(e){return"string"==typeof e?e:(Xre||(Xre=new nie),Xre.load(e))}(e),this.img.onload=t}getTexture(e){let t=this[e];if(t)return t;{let t;return this.isCanvas&&(t=new yY(this.img,void 0,e,e)),t=this.isVideo?new vY(this.img,void 0,e,e):new QV(this.img,void 0,e,e),this.loaded&&(t.needsUpdate=!0),this[e]=t,t}}setNeedsUpdate(e){let t=[1e3,1001,1002];for(let n of t){let t=this[n];t&&(t.needsUpdate=e)}}disposeTextures(){this[1e3]?.dispose(),this[1e3]=void 0,this[1001]?.dispose(),this[1001]=void 0,this[1002]?.dispose(),this[1002]=void 0}dispose(){super.dispose(),this.disposeTextures()}},oie=class extends aie{};var sie={year:0,month:1,day:2,hour:3,minute:4,second:5},lie={};function cie(e,t,n,r,i,a,o){var s=new Date(0);return s.setUTCFullYear(e,t,n),s.setUTCHours(r,i,a,o),s}var uie=36e5,hie=6e4,die={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function fie(e,t,n){var r,i,a;if(!e||(r=die.timezoneZ.exec(e)))return 0;if(r=die.timezoneHH.exec(e))return mie(a=parseInt(r[1],10))?-a*uie:NaN;if(r=die.timezoneHHMM.exec(e)){a=parseInt(r[1],10);var o=parseInt(r[2],10);return mie(a,o)?(i=Math.abs(a)*uie+o*hie,a>0?-i:i):NaN}if(function(e){if(gie[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),gie[e]=!0,!0}catch{return!1}}(e)){t=new Date(t||Date.now());var s=n?t:function(e){return cie(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}(t),l=pie(s,e),c=n?l:function(e,t,n){var r=e.getTime()-t,i=pie(new Date(r),n);if(t===i)return t;r-=i-t;var a=pie(new Date(r),n);return i===a?i:Math.max(i,a)}(t,l,e);return-c}return NaN}function pie(e,t){var n=function(e,t){var n=function(e){if(!lie[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n="06/25/2014, 00:00:00"===t||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===t;lie[e]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return lie[e]}(t);return n.formatToParts?function(e,t){try{for(var n=e.formatToParts(t),r=[],i=0;i<n.length;i++){var a=sie[n[i].type];a>=0&&(r[a]=parseInt(n[i].value,10))}return r}catch(e){if(e instanceof RangeError)return[NaN];throw e}}(n,e):function(e,t){var n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}(n,e)}(e,t),r=cie(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),i=e.getTime(),a=i%1e3;return r-(i-(a>=0?a:1e3+a))}function mie(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}var gie={},vie=xF(TF(),1),yie=xF(MF(),1),wie=36e5,bie=6e4,xie=2,_ie={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/};function Sie(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}var Eie=[31,28,31,30,31,30,31,31,30,31,30,31],Cie=[31,29,31,30,31,30,31,31,30,31,30,31];function Aie(e){return e%400==0||e%4==0&&e%100!=0}function Tie(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var r=Aie(e);if(r&&n>Cie[t]||!r&&n>Eie[t])return!1}return!0}function Mie(e,t,n){return!(t<0||t>52||null!=n&&(n<0||n>6))}function Pie(e,t,n){return!(null!=e&&(e<0||e>=25)||null!=t&&(t<0||t>=60)||null!=n&&(n<0||n>=60))}function Die(e,t){return t.color(e)}function kie(e=new Date,t){let n=t.format,r=e.getSeconds(),i=e;t&&null!==t.timeZone&&(i=function(e,t,n){var r=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},r=null==n.additionalDigits?xie:(0,vie.default)(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i=function(e){var t,n={},r=_ie.dateTimePattern.exec(e);if(r?(n.date=r[1],t=r[3]):(r=_ie.datePattern.exec(e))?(n.date=r[1],t=r[2]):(n.date=null,t=e),t){var i=_ie.timeZone.exec(t);i?(n.time=t.replace(i[1],""),n.timeZone=i[1].trim()):n.time=t}return n}(e),a=function(e,t){var n,r=_ie.YYY[t],i=_ie.YYYYY[t];if(n=_ie.YYYY.exec(e)||i.exec(e)){var a=n[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(n=_ie.YY.exec(e)||r.exec(e)){var o=n[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(i.date,r),o=a.year,s=function(e,t){if(null===t)return null;var n,r,i,a;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=_ie.MM.exec(e))return r=new Date(0),Tie(t,i=parseInt(n[1],10)-1)?(r.setUTCFullYear(t,i),r):new Date(NaN);if(n=_ie.DDD.exec(e)){r=new Date(0);var o=parseInt(n[1],10);return function(e,t){if(t<1)return!1;var n=Aie(e);return!(n&&t>366||!n&&t>365)}(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(n=_ie.MMDD.exec(e)){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return Tie(t,i,s)?(r.setUTCFullYear(t,i,s),r):new Date(NaN)}if(n=_ie.Www.exec(e))return Mie(0,a=parseInt(n[1],10)-1)?Sie(t,a):new Date(NaN);if(n=_ie.WwwD.exec(e)){a=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return Mie(0,a,l)?Sie(t,a,l):new Date(NaN)}return null}(a.restDateString,o);if(isNaN(s))return new Date(NaN);if(s){var l,c=s.getTime(),u=0;if(i.time&&(u=function(e){var t,n,r;if(t=_ie.HH.exec(e))return Pie(n=parseFloat(t[1].replace(",",".")))?n%24*wie:NaN;if(t=_ie.HHMM.exec(e))return Pie(n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")))?n%24*wie+r*bie:NaN;if(t=_ie.HHMMSS.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return Pie(n,r,i)?n%24*wie+r*bie+1e3*i:NaN}return null}(i.time),isNaN(u)))return new Date(NaN);if(i.timeZone||n.timeZone){if(l=fie(i.timeZone||n.timeZone,new Date(c+u)),isNaN(l))return new Date(NaN)}else l=(0,yie.default)(new Date(c+u)),l=(0,yie.default)(new Date(c+u+l));return new Date(c+u+l)}return new Date(NaN)}(e,void 0),i=fie(t,r,!0),a=new Date(r.getTime()-i),o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}(new Date,t.timeZone));let a,o=i.getHours(),s=i.getMinutes();"12ampm"===t.format12h24h&&(a=o>=12?"PM":"AM");let l,c,u=o;switch("24"!==t.format12h24h&&(u=o%12,0===u&&(u=12)),n){case"HH:mm:ss":l=[u,s,r];break;case"HH:mm":l=[u,s];break;case"HH":l=[u],a=void 0;break;case"mm":l=[s],a=void 0;break;case"ss":l=[r],a=void 0;break;case"year":c=i.getFullYear();break;case"month":c=i.getMonth()+1;break;case"dayOfYear":c=Math.floor((i.getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5);break;case"dayOfMonth":c=i.getDate();break;case"secondOfDay":c=60*o*60+60*s+r;break;default:console.error("Unknown time format",n),c=0}return void 0!==l?{textValue:l,suffix:a}:c}function Oie(e){return{type:e.type}}function Iie(e,t){let{alpha:n,mode:r,isMask:i}=e,a="string"==typeof n?(Number(t.getVariable(n))??100)/100:n;return{...Oie(e),alpha:a,mode:r,isMask:i}}var Rie=class extends bne{},Lie={noise:["noiseType"],texture:["projection","axis","side"],video:["projection","axis","side"],displace:["noiseType"],light:["roughnessMap","bumpMap"],depth:["smooth","isWorldSpace","gradientType","isVector"],pattern:["style","projection","axis"]},Nie={depth:["colors"]};function zie(e,t,n){if("isMask"===t)return!0;let r=Lie[e.type],i=Nie[e.type];if(void 0!==i){let r=e.color;if(i.includes(t)){let e=r[t]?.value?.length;if(void 0!==e&&e!==n.length)return!0}}return void 0!==r&&r.includes(t)}function Bie(e,t,n){let r=n.uniforms[`f${n.id}_texture`];if(!r)return!1;let i=e;if("image"in i){let e=i.image,n=t.image(e),a=r;a.image instanceof oie||a.image.deref(),a.image=n}if("video"in i){let e=i.video,n=t.video(e),a=r;a.image instanceof oie||a.image.deref(),a.image=n}if("wrapping"in i&&(r.wrap=i.wrapping),"repeat"in i||"offset"in i){let e="mat",t=n.uniforms[`f${n.id}_${e}`];"repeat"in i&&(t.repeat=i.repeat),"offset"in i&&(t.offset=i.offset),t.updateMatrix()}return!1}var Fie=(e,t,n)=>Math.max(0,Math.min(1,Number(t.getVariable("number"==typeof e?100*e:e,n)??100)/100))??1,Uie=class{constructor(e,t,n,r,i){this.id=e,this.uuid=t,this.data=n,this.uniforms={};for(let e in r)this.uniforms[`f${this.id}_${e}`]=r[e];for(let e in n)Wie(e,this,n,i)}get type(){return this.data.type}static create(e,t,n,r){if("light"===n.type)return Hie.createLigherLayer(e,t,n,r);if("texture"===n.type||"video"===n.type){let i="texture"===n.type?r.canvas(n.texture.image)??r.image(n.texture.image):r.video(n.texture.video),a=new cre(i,n.texture.wrapping),o=new lre(i),s=new fre(n.texture.repeat,n.texture.offset),l=new Nne(n.crop?1:0),c=new ire(n.projection??0),u=new ire(["x","y","z"].indexOf(n.axis)??0),h=new ire(n.side??0),d=new yne(n.size?new AV(n.size[0],n.size[1]):new AV(100,100)),f=new Nne(n.blending??0),p=new Nne(Fie(n.alpha,r)),m=new ire(n.mode??0),g=new are(n.isMask??!1),v=new xre(a,o,l,c,u,h,d,f,s,p,m,g),y=new Rne(v.calpha,"f");return new jie(e,t,n,{texture:a,textureSize:o,crop:l,projection:c,axis:u,side:h,size:d,blending:f,mat:s,alpha:p,mode:m,isMask:g},v,m,y,g,r)}if("matcap"===n.type){let i=r.image(n.texture.image),a=new cre(i,n.texture.wrapping),o=new Nne(Fie(n.alpha,r)),s=new ire(n.mode??0),l=new are(n.isMask??!1),c=new Mre(a,o,s,l),u=new Rne(c.calpha,"f");return new jie(e,t,n,{texture:a,alpha:o,mode:s,isMask:l},c,s,u,l,r)}if("displace"===n.type){if("noise"===n.displacementType){let i=new wne(new tH(...n.offset)),a=new Nne(n.scale??10),o=new Nne(n.intensity??8),s=new Nne(n.movement??1),l=new ire(n.noiseType??0),c=new ire(n.voronoiStyle??0),u=new Nne(n.smoothness??.5),h=new Nne(n.seed??0),d=new Nne(n.highCut??1),f=new Nne(n.lowCut??0),p=new ire(n.quality??1),m=new Wre(o,s,i,c,u,h,d,f,p,a,l);return new Vie(e,t,n,{offset:i,scale:a,intensity:o,movement:s,noiseType:l,voronoiStyle:c,smoothness:u,seed:h,highCut:d,lowCut:f,quality:p},m,r)}throw new Error}return function(e,t,n,r){let i=function(e,t){switch(e.type){case"fresnel":return function(e,t){let{bias:n,scale:r,intensity:i,factor:a,color:o}=e;return{...Iie(e,t),color:Die(o,t),bias:n,scale:r,intensity:i,factor:a}}(e,t);case"gradient":return function(e,t){let{gradientType:n,smooth:r,colors:i,steps:a,angle:o,offset:s,morph:l}=e;return{...Iie(e,t),gradientType:n,smooth:r,colors:i.map((e=>new KV(e[0],e[1],e[2],e[3]))),num:i.length,steps:a,offset:new AV(...s),morph:new AV(...l),angle:o}}(e,t);case"depth":return function(e,t){let{gradientType:n,near:r,far:i,isVector:a,isWorldSpace:o,origin:s,direction:l,colors:c,steps:u,smooth:h}=e;return{...Iie(e,t),gradientType:n,near:r,far:i,isVector:a,isWorldSpace:o,origin:new tH(...s),direction:l?new tH(...l):new tH(1,0,0),colors:c.map((e=>void 0!==e?new KV(e[0],e[1],e[2],e[3]):new KV(0,0,0,0))),steps:u.slice(0,c.length),smooth:h}}(e,t);case"normal":return function(e,t){let{cnormal:n}=e;return{...Iie(e,t),cnormal:new tH(n[0],n[1],n[2])}}(e,t);case"noise":return function(e,t){return{...Iie(e,t),scale:e.scale,move:e.move,fA:new AV(...e.fA),fB:new AV(...e.fB),size:new tH(...e.size),distortion:new AV(...e.distortion),colorA:Die(e.colorA,t),colorB:Die(e.colorB,t),colorC:Die(e.colorC,t),colorD:Die(e.colorD,t),noiseType:e.noiseType,voronoiStyle:e.voronoiStyle,highCut:e.highCut,lowCut:e.lowCut,smoothness:e.smoothness,seed:e.seed,quality:e.quality}}(e,t);case"rainbow":return function(e,t){return{...Iie(e,t),filmThickness:e.filmThickness,movement:e.movement,wavelengths:new tH(...e.wavelengths),noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,offset:new tH(...e.offset)}}(e,t);case"toon":return function(e,t){return{...Iie(e,t),positioning:e.positioning,colors:e.colors.map((e=>new KV(e[0],e[1],e[2],e[3]))),num:e.colors.length,steps:e.steps,source:new tH(...e.source),isWorldSpace:e.isWorldSpace,noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,shadowColor:Die(e.shadowColor,t),offset:new tH(...e.offset)}}(e,t);case"outline":return function(e,t){return{...Iie(e,t),outlineColor:Die(e.outlineColor,t),contourColor:Die(e.contourColor,t),outlineWidth:e.outlineWidth,contourWidth:e.contourWidth,outlineThreshold:e.outlineThreshold,contourThreshold:e.contourThreshold,outlineSmoothing:e.outlineSmoothing,contourFrequency:e.contourFrequency,contourDirection:new tH(...e.contourDirection),positionalLines:e.positionalLines,compensation:e.compensation}}(e,t);case"transmission":return function(e,t){return{...Iie(e,t),thickness:e.thickness,ior:e.ior,roughness:e.roughness}}(e,t);case"color":return function(e,t){return{...Iie(e,t),color:Die(e.color,t)}}(e,t);case"pattern":return function(e,t){return{...Iie(e,t),style:e.style,projection:e.projection,axis:e.axis,blending:e.blending,offset:new AV(...e.offset),colorA:Die(e.colorA,t),colorB:Die(e.colorB,t),frequency:new AV(...e.frequency),size:e.size,variation:e.variation,smoothness:e.smoothness,zigzag:e.zigzag,rotation:e.rotation,vertical:new AV(...e.vertical),horizontal:new AV(...e.horizontal),sides:e.sides}}(e,t)}}(n,r);return function(e,t,n,r,i){switch(e.type){case"color":{let a=new rre(r.color??J4),o=Gie(r),s=new vre(a,o.alpha),l=new Rne(s.calpha,"f");return new jie(t,n,e,{color:a,...o},s,o.mode,l,o.isMask,i)}case"fresnel":{let a=new rre(r.color??16777215),o=new Nne(r.bias??.1),s=new Nne(r.scale??1),l=new Nne(r.intensity??2),c=new Nne(r.factor??1),u=Gie(r),h=new Ere(a,o,s,l,c,u.alpha,u.mode,u.isMask),d=new Rne(h.calpha,"f");return new jie(t,n,e,{color:a,bias:o,scale:s,intensity:l,factor:c,...u},h,u.mode,d,u.isMask,i)}case"rainbow":{let a=new Nne(r.filmThickness??30),o=new Nne(r.movement??0),s=new wne(r.wavelengths??new tH(0,0,0)),l=new Nne(r.noiseStrength??0),c=new Nne(r.noiseScale??1),u=new wne(r.offset??new tH(0,0,0)),h=Gie(r),d=new zre(a,o,s,l,c,u,h.alpha,h.isMask),f=new Rne(d.calpha,"f");return new jie(t,n,e,{filmThickness:a,movement:o,wavelengths:s,noiseStrength:l,noiseScale:c,offset:u,...h},d,h.mode,f,h.isMask,i)}case"transmission":{let a=new Nne(r.thickness??10),o=new Nne(r.ior??1.5),s=new Nne(r.roughness??.5),l=qre.transmissionSize,c=qre.transmissionRenderTarget,u=qre.transmissionRenderTargetDepth,h=window.innerWidth,d=window.innerHeight,f=h>=d?new yne(d/h,1):new yne(1,h/d),p=Gie(r),m=new Vre(a,o,s,l,c,u,f,p.alpha),g=new Rne(m.calpha,"f");return new jie(t,n,e,{thickness:a,ior:o,roughness:s,aspectRatio:f,...p},m,p.mode,g,p.isMask,i)}case"toon":{let a,o,s=new ire(r.positioning??0);r.colors?a=new pre(r.colors.length,r.colors):(a=new pre(10,new KV(0,0,0,1)),a.value[1]=new KV(1,1,1,1)),r.steps?o=new ore(r.steps.length,r.steps):(o=new ore(10,1),o.value[0]=0);let l=new wne(r.source??new tH(0,0,0)),c=new are(r.isWorldSpace??!0),u=new Nne(r.noiseStrength??0),h=new Nne(r.noiseScale??1),d=new xne(r.shadowColor),f=new wne(r.offset??new tH(0,0,0)),p=Gie(r),m=new Fre(s,a,o,l,c,u,h,d,f,p.alpha),g=new Rne(m.calpha,"f");return new jie(t,n,e,{positioning:s,colors:a,steps:o,source:l,isWorldSpace:c,noiseStrength:u,noiseScale:h,shadowColor:d,offset:f,...p},m,p.mode,g,p.isMask,i)}case"outline":{let a=new rre(r.outlineColor??16777215),o=new rre(r.contourColor??16777215),s=new Nne(r.outlineWidth??.1),l=new Nne(r.contourWidth??.1),c=new Nne(r.outlineThreshold??.1),u=new Nne(r.contourThreshold??.1),h=new Nne(r.outlineSmoothing??.1),d=new Nne(r.contourFrequency??.1),f=new wne(r.contourDirection??new tH(0,1,0)),p=new are(r.positionalLines??!1),m=new are(r.compensation??!0),g=qre.normalRenderTarget,v=qre.normalRenderTargetDepth,y=qre.pixelRatioNode,w=qre.resolution,b=Gie(r),x=new Ire(a,o,s,l,c,u,h,d,f,p,m,w,g,v,y,b.alpha),_=new Rne(x.calpha,"f");return new jie(t,n,e,{outlineColor:a,contourColor:o,outlineWidth:s,contourWidth:l,outlineThreshold:c,contourThreshold:u,outlineSmoothing:h,contourFrequency:d,contourDirection:f,positionalLines:p,compensation:m,...b},x,b.mode,_,b.isMask,i)}case"depth":{let a,o,s=new ire(r.gradientType??0),l=new are(r.smooth??!1),c=new Nne(r.near??50),u=new Nne(r.far??200),h=new Nne(r.isVector??1),d=new Nne(r.isWorldSpace??0),f=new wne(r.origin??new tH),p=new wne(r.direction??new tH);r.colors?a=new pre(r.colors.length,r.colors):(a=new pre(2,new KV(0,0,0,1)),a.value[1]=new KV(1,1,1,1)),r.steps?o=new ore(r.steps.length,r.steps):(o=new ore(2,1),o.value[0]=0);let m=Gie(r),g=new Sre(s,l,c,u,h,d,f,p,a,o,m.alpha,m.isMask),v=new Rne(g.calpha,"f");return new jie(t,n,e,{gradientType:s,smooth:l,near:c,far:u,isVector:h,isWorldSpace:d,origin:f,direction:p,colors:a,steps:o,...m},g,m.mode,v,m.isMask,i)}case"noise":{let a=new Nne(r.scale??1),o=new wne(r.size??new tH(100,100,100)),s=new Nne(r.move??1),l=new yne(r.fA??new AV(1.7,9.2)),c=new yne(r.fB??new AV(8.3,2.8)),u=new yne(r.distortion??new AV(1,1)),h=new xne(r.colorA),d=new xne(r.colorB),f=new xne(r.colorC),p=new xne(r.colorD),m=new ire(r.noiseType??0),g=new ire(r.voronoiStyle??0),v=new Nne(r.highCut??1),y=new Nne(r.lowCut??0),w=new Nne(r.smoothness??.5),b=new Nne(r.seed??.5),x=new ire(r.quality??1),_=Gie(r),S=new kre(a,o,s,l,c,u,h,d,f,p,_.alpha,m,_.isMask,g,v,y,w,b,x),E=new Rne(S.calpha,"f");return new jie(t,n,e,{scale:a,size:o,move:s,fA:l,fB:c,distortion:u,colorA:h,colorB:d,colorC:f,colorD:p,noiseType:m,..._,voronoiStyle:g,highCut:v,lowCut:y,smoothness:w,seed:b,quality:x},S,_.mode,E,_.isMask,i)}case"normal":{let a=new wne(r.cnormal??new tH(1,1,1)),o=Gie(r),s=new wre(a,o.alpha),l=new Rne(s.calpha,"f");return new jie(t,n,e,{cnormal:a,...o},s,o.mode,l,o.isMask,i)}case"gradient":{let a,o,s=new ire(r.gradientType??0),l=new are(r.smooth??!1);r.colors?a=new pre(r.colors.length,r.colors):(a=new pre(10,new KV(0,0,0,1)),a.value[1]=new KV(1,1,1,1)),r.steps?o=new ore(r.steps.length,r.steps):(o=new ore(10,1),o.value[0]=0);let c=new yne(r.offset??new AV(0,0)),u=new yne(r.morph??new AV(0,0)),h=new Nne(r.angle??0),d=Gie(r),f=new Are(s,l,a,o,c,u,h,d.alpha,d.isMask),p=new Rne(f.calpha,"f");return new jie(t,n,e,{gradientType:s,smooth:l,colors:a,steps:o,offset:c,morph:u,angle:h,...d},f,d.mode,p,d.isMask,i)}case"pattern":{let a=new ire(r.style??0),o=new ire(r.projection??0),s=new ire(["x","y","z"].indexOf(r.axis)??0),l=new Nne(r.blending??0),c=new yne(r.offset??new AV(0,0)),u=new xne(r.colorA),h=new xne(r.colorB),d=new yne(r.frequency??new AV(10,10)),f=new Nne(r.size??.5),p=new Nne(r.variation??0),m=new Nne(r.smoothness??.5),g=new Nne(r.zigzag??0),v=new Nne(r.rotation??0),y=new yne(r.vertical??new AV(0,1)),w=new yne(r.horizontal??new AV(0,1)),b=new ire(r.sides??6),x=Gie(r),_=new Lre(a,o,s,l,c,u,h,d,f,p,m,g,v,y,w,b,x.alpha,x.isMask),S=new Rne(_.calpha,"f");return new jie(t,n,e,{style:a,projection:o,axis:s,blending:l,offset:c,colorA:u,colorB:h,frequency:d,size:f,variation:p,smoothness:m,zigzag:g,rotation:v,vertical:y,horizontal:w,sides:b,...x},_,x.mode,S,x.isMask,i)}default:{let a=new rre(1,0,0,1),o=Gie(r),s=new vre(a,o.alpha),l=new Rne(s.calpha,"f");return new jie(t,n,e,{color:a,...o},s,o.mode,l,o.isMask,i)}}}(n,e,t,i,r)}(e,t,n,r)}updateByOp(e,t,n){let r=e;if(void 0===r.path[0]){if(0===r.type)return"type"in r.props||"category"in r.props||"visible"in r.props?(n.scene.markNeedsUpdateRendererDirty(),!0):function(e,t,n,r){let i=!1;for(let[a,o]of Object.entries(e)){if("bumpMap"===a||"roughnessMap"===a){i=!0;continue}if(!a||void 0===o)continue;if(Wie(a,n,r,t)){"visible"===a&&"light"===n.type&&(i=!0);continue}n.visible=r.visible;let e=n.uniforms[`f${n.id}_${a}`];if(e&&!(e instanceof sre))switch(i=i||zie(n,a,o),e.constructor){case rre:if("string"==typeof o){let n=t.getColor(o);n&&(e.value=n);break}{let t=o;e.value instanceof Rie?e.value=new bne(t.r,t.g,t.b,t.a):e.setRGBA(t);break}case xne:if("string"==typeof o){let n=t.getColor(o);n&&(e.value=n);break}{let t=o;e.value instanceof Rie?e.value=new bne(t.r,t.g,t.b,t.a):e.value.setRGBA(t.r,t.g,t.b,t.a);break}case yne:{let t=o;e.value.setX(t[0]),e.value.setY(t[1]);break}case wne:{let t=o;e.value.setX(t[0]),e.value.setY(t[1]),e.value.setZ(t[2]);break}case Lne:Bie(o,t,n);break;case pre:e.value=o.map((e=>new KV(...e)));break;default:e.value=o}}return i}(r.props,n.shared,this,t)}else if("texture"===r.path[0])return!("texture"in t)&&!("video"in t)||Bie(r.props,n.shared,this);return!1}dispose(){if(function(e){let t=e instanceof Uie?e.type:e;return"texture"===t||"video"===t||"displace_map"===t||"matcap"===t}(this)){let e=this.uniforms[`f${this.id}_texture`];if(!e)return!1;let t=e;t.image instanceof oie||t.image.deref()}}hasValueByKey(e){return void 0!==this.uniforms[e]}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let n=`f${this.id}_${e}`;this.hasValueByKey(n)&&void 0!==t&&(this.uniforms[n].value=t)}getNode(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t]}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName: error ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let n=this.getName(t);n&&e.push(n)}return e}},jie=class extends Uie{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,l),this.params=r,this.color=i,this.mode=a,this.alpha=o,this.isMask=s}},Vie=class extends Uie{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this.position=i}},Hie=class extends Uie{constructor(e,t,n,r,i,a){super(e,t,n,i,a),this.node=r}static createLigherLayer(e,t,n,r){let i,a,o=new Nne(Fie(n.alpha,r)),s=new ire(n.mode),l=new Nne(n.bumpMapIntensity),c=new Nne(Fie(n.alphaOverride,r));if(n.visible)if("lambert"===n.category){i=new Kre;let e=new rre(r.color(n.emissive)??0),t=new are(n.occlusion??!0);a={emissive:e,occlusion:t},i.emissive=e,i.occlusion=t}else if("toon"===n.category){i=new eie;let e=new Nne(n.shininess??30),t=new rre(r.color(n.specular)??1118481);a={shininess:e,specular:t},i.shininess=e,i.specular=t}else if("physical"===n.category){i=new $re;let e=new Nne(n.roughness??.3),t=new Nne(n.metalness??0),r=new Nne(n.reflectivity??.5),o=new are(n.occlusion??!0);a={roughness:e,metalness:t,reflectivity:r,occlusion:o},i.roughness=e,i.metalness=t,i.reflectivity=r,i.occlusion=o}else{i=new Jre;let e=new Nne(n.shininess??30),t=new rre(void 0!==n.specular?r.color(n.specular)??1118481:1118481),o=new are(n.occlusion??!0);a={shininess:e,specular:t,occlusion:o},i.shininess=e,i.specular=t,i.occlusion=o}else i=new Qre,a={};return i.alpha=new Nne(1),i.shadingAlpha=o,i.shadingBlend=s,i.bumpMapIntensity=l,i.alphaOverride=c,a.alpha=i.shadingAlpha,a.mode=i.shadingBlend,a.bumpMapIntensity=i.bumpMapIntensity,a.alphaOverride=i.alphaOverride,new Hie(e,t,n,i,a,r)}get category(){return this.node.category}};function Gie(e){return{alpha:new Nne(e.alpha??1),mode:new ire(e.mode??0),isMask:new are(e.isMask??!1)}}function Wie(e,t,n,r){if("displace"===n.type&&("intensity"===e||"visible"===e)){let e=t.uniforms[`f${t.id}_intensity`];return e?(e.value=n.intensity*(n.visible?1:0),e):void 0}if("displace"!==n.type&&("alpha"===e||"visible"===e)){let i=t.uniforms[`f${t.id}_alpha`];if(!i)return;if(i.value=Fie(n.alpha,r)*(n.visible?1:0),"outline"===n.type&&"visible"===e){let e=t.uniforms[`f${t.id}_compensation`];e&&(e.value=n.compensation&&n.visible)}return i}}function qie(e,t){let n=0,r=e.layers.find((e=>"light"===e.data.type));if(r){let e=r.data,n=Number(t.getVariable(e.alphaOverride));if(("string"==typeof e.alphaOverride?n/100:e.alphaOverride)<1)return!0}for(let r of e.layers){if("displace"!==r.data.type&&r.data.isMask)return!0;if("displace"!==r.data.type&&"alpha"in r.data&&"light"!==r.data.type&&"fresnel"!==r.data.type&&"texture"!==r.data.type&&"matcap"!==r.data.type&&"rainbow"!==r.data.type&&"outline"!==r.data.type&&"pattern"!==r.data.type){let e=r.data.visible?r.data.alpha:0;if("string"==typeof e&&(e=Math.max(0,Math.min(1,Number(t.getVariable(e)??100)/100))),1===e&&"depth"===r.data.type||"gradient"===r.data.type){for(let t of r.data.colors)if(t[3]<1){e=t[3];break}}else if(1===e&&"noise"===r.data.type){let n=t.color(r.data.colorA).a,i=t.color(r.data.colorB).a,a=t.color(r.data.colorC).a,o=t.color(r.data.colorD).a,s=Math.min(n,Math.min(i,Math.min(a,o)));s<1&&(e=s)}n+=(1-n)*e}}return n<1}var Xie=class extends ZG{constructor(){super(void 0),this.flatShading=!1,this.needsJitter=!0,this.cacheKey="",this.fog=!0,this.dithering=!0,this.vertexColors=!0,this.transparent=!0}customProgramCacheKey(){return this.cacheKey}},Yie=class extends Xie{constructor(e,t,n,r){super(),this.flatShading=e,this.side=t,this.wireframe=n,this.root=r}updateAfterBuild(){let e=this.root;this.lights=e.lights,this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.transparent=e.transparent,this.cacheKey=e.customProgramCacheKey()+"flat"+this.flatShading+this.side}onBeforeCompile(e,t){this.root.onBeforeCompile(e)}get data(){return this.root.data}get category(){return this.root.category}get hasAO(){return this.root.hasAO}getFlavor(e,t,n){return this.root.getFlavor(e,t,n)}get layers(){return this.root.layers}get fragment(){return this.root.fragment}getLayersOfType(e){return this.root.getLayersOfType(e)}getLayerByUuid(e){return this.root.getLayerByUuid(e)}updateByOp(e,t,n){this.root.updateByOp(e,t,n)}nodeMaterialDispose(){this.root.nodeMaterialDispose()}},Qie=class extends Xie{constructor(e,t,n=!0){super(),this.data=e,this.allowVariableSaves=n,this.layerIdGen=0,this.flavors=[],this.masks={},this.type="NodeMaterial",this.updaters=[],this.reset0(e,t)}get nodeMaterial(){return this}getFlavor(e,t,n){let r=n?6:(e?3:0)+t;if(0===r)return this;void 0===this.flavors&&(this.flavors=[]),r-=1;let i=this.flavors[r];return void 0===i&&(i=new Yie(e,t,n,this),this.flavors[r]=i,i.flatShading=e,i.side=t,i.updateAfterBuild()),i}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.category}get hasAO(){return this.lightLayer.getNode("occlusion")?.value??!1}reset(e,t,n=!1){(this.data!==e||n)&&this.reset0(e,t)}reset0(e,t){this.data=e;let n=e.layers??y5.defaultTwoLayerData("phong").layers;try{this.layers=n.map((e=>Uie.create(this.layerIdGen++,e.id,e.data,t.shared)))}catch{this.layers=[]}this.layers.reverse(),this.name=e.name??"Untitled Material",this.onUpdate(t.shared),this.transparent=qie(e,t.shared),this.saveVariableLocations(t)}onVariableUpdate(e,t,n){if("alphaOverride"===e[0])this.transparent=qie(this.data,n.shared),this.lightLayer.setValue("alphaOverride",Math.max(0,Math.min(Number(t)/100,1)));else if("layer"===e[0]){let r=e[1],i=e[2];if(r&&i){let e=this.layers.find((e=>e.uuid===r));e?.hasValue(i)&&("alpha"===i?(this.transparent=qie(this.data,n.shared),e.setValue(i,Math.max(0,Math.min(Number(t)/100,1)))):e.setValue(i,t))}}}saveVariableLocations(e){if(!this.allowVariableSaves)return;let t=this.data.layers.find((e=>"light"===e.data.type));t&&e.shared.getVariable(t.data.alphaOverride,["material",this.uuid,"alphaOverride"]),this.data.layers.forEach((t=>{"alpha"in t.data&&"string"==typeof t.data.alpha&&e.shared.getVariable(t.data.alpha,["material",this.uuid,"layer",t.id,"alpha"])}))}getLayersOfType(e){return this.layers.filter((t=>t.type===e))}getLayerByUuid(e){return this.layers.find((t=>t.uuid===e))}onUpdate(e){this.cacheKey=this.computeCacheKey(),this.lightLayer=this.layers.find((e=>e instanceof Hie)),void 0===this.lightLayer&&(this.lightLayer=new Hie(0,"",{...v5.defaultData("light","phong"),visible:!1},new Qre,{},e)),this.dispose();for(let e of this.flavors)e&&e.dispose();this.applyTextureMaps(),this.applyMasks(),this.blendColors(),this.blendAfterColors(),this.blendPositions()}applyTextureMaps(){let e=this.layers.find((e=>e instanceof Hie));if(!e)return;let t=e.data,n=t.bumpMap,r=t.roughnessMap;e.node.bumpMap=void 0,e.node.roughnessMap=void 0;for(let t=0;t<this.layers.length;++t){let i=this.layers[t];i instanceof jie&&i.color instanceof xre&&(i.uuid===n&&(e.node.bumpMap=i.color),i.uuid===r&&(e.node.roughnessMap=i.color))}}updateByOp(e,t,n){if(void 0!==t?this.data=t:t=this.data,this.transparent=qie(t,n.shared),"layers"===e.path[0]){this.data=t;let r=n.shared,i=e.path[1];if(void 0===i){if(this.layers.reverse(),4===e.type){let t=Uie.create(this.layerIdGen++,e.id,e.data,n.shared);this.layers.splice(e.localIndex,0,t),n.scene.markNeedsUpdateRendererDirty()}else if(5===e.type)this.layers.splice(e.localIndex,1)[0].dispose(),n.scene.markNeedsUpdateRendererDirty();else if(6===e.type){let t=this.layers.findIndex((t=>t.uuid===e.id)),r=this.layers[t];this.layers.splice(t,1),this.layers.splice(e.localIndex,0,r),n.scene.markNeedsUpdateRendererDirty()}this.layers.reverse(),this.onUpdate(n.shared)}else{0===e.type&&void 0!==e.props.occlusion&&n.scene.markNeedsUpdateRendererDirty();let a=this.layers.find((e=>e.uuid===i));if(a){let o,s=t.layers.data(i);if(0===e.type&&("alpha"in e.props||"alphaOverride"in e.props)&&(o="alpha"in e.props?{...e.props,alpha:Fie(e.props.alpha,r,["material",this.uuid,"layer",i,"alpha"])}:{...e.props,alphaOverride:Fie(e.props.alphaOverride,r,["material",this.uuid,"alphaOverride"])}),a.updateByOp({...e,...o?{props:o}:{},path:e.path.slice(2)},s,n)){let e=Uie.create(this.layerIdGen++,i,s,r);this.layers.splice(this.layers.findIndex((e=>e.uuid===i)),1,e),this.onUpdate(n.shared)}}}}else this.reset(t,n)}applyMasks(){for(let e=0;e<this.layers.length;++e){let t=this.layers[e];t instanceof jie?t.color.mask=void 0:t instanceof Hie&&(t.node.mask=void 0)}for(let e=0;e<this.layers.length;++e){let t=this.layers[e];if(t instanceof jie&&t.isMask.value&&t.data.visible&&e>0){let n=e-1,r=this.layers[n];r instanceof Hie?r.node.mask=new Fne(t.color,t.alpha,Fne.MUL):r instanceof jie&&(r.isMask.value||(r.color.mask=new Fne(t.color,t.alpha,Fne.MUL)))}}}blendColors(){let e=this.layers.findIndex((e=>e instanceof jie)),t=this.layers.findIndex((e=>e instanceof Hie));if(-1!==e&&e<t){let n=this.layers[e].color;for(let r=e+1;r<t;++r){let e=this.layers[r];if(e instanceof jie){if(e.isMask.value)continue;n=new mre(n,e.color,e.alpha,e.mode)}}this.fragment.color=n}else this.fragment.color=void 0}blendAfterColors(){let e=new Rne("outgoingLight","f"),t=this.layers.findIndex((e=>e instanceof Hie));if(this.layers.length>t+1){for(let n=t+1;n<this.layers.length;++n){let t=this.layers[n];if(t instanceof jie){if(t.isMask.value)continue;e=new mre(e,t.color,t.alpha,t.mode)}}this.fragment.afterColor=e}else this.fragment.afterColor=void 0}blendPositions(){let e=this.layers.filter((e=>e instanceof Vie));if(e.length>0){let t=e[0].position;for(let n=1;n<e.length;++n)e[n]&&(t=new Fne(t,e[n].position,Fne.ADD),t=new Fne(t,new Nne(.5).setReadonly(!0),Fne.MUL));this.fragment.position=t}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}onBeforeCompile(e){this.build(),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=!0===this.extensions.derivatives,e.extensionFragDepth=!0===this.extensions.fragDepth,e.extensionDrawBuffers=!0===this.extensions.drawBuffers,e.extensionShaderTextureLOD=!0===this.extensions.shaderTextureLOD}clampUniformsForPreview(e,t){let n=(e,t,n)=>Math.min(Math.max(e,t),n);for(let r of this.layers)if("displace"===r.type){let i=n(r.uniforms[`f${r.id}_intensity`].value,e,t);r.uniforms[`f${r.id}_intensity`].value=i}}computeCacheKey(){let e="[";for(let{data:t}of this.data.layers)if("light"===t.type)e+=`"${t.visible?t.category.toUpperCase():"Basic"}"`;else{let n=(Lie[t.type]??[]).map((e=>t[e])),r=(Nie[t.type]??[]).map((e=>t[e]?.length??0)),i=[...n,...r],a="isMask"in t&&t.isMask,o=`"${t.type}-${t.visible}-${a}"`;i.length?e+=`[${o}, "${i.join('","')}"],`:e+=o}return e=e.slice(0,-1)+"]",e}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(){let e=new nre;e.needsJitter=this.needsJitter,this.lights=this.lightLayer.data.visible,e.build(this.fragment,this.fragment),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.updaters=e.updaters;for(let e of this.flavors)e&&e.updateAfterBuild();return this}nodeMaterialDispose(){this.layers.forEach((e=>e.dispose())),super.dispose();for(let e of this.flavors)e&&e.dispose()}assetsLoaded(){for(let e of this.layers)if(e instanceof jie){let t=e.params.texture;if(t instanceof cre&&!t.image.loaded)return!1}return!0}getHash(){let e="{";return e+='"fragment":'+this.fragment.getHash(),e+="}",e}};Object.defineProperties(Xie.prototype,{properties:{get:function(){return this.fragment.properties}}});var Kie=class extends Qie{constructor(e,t,n){super(e,t,!1),this.uuid=n,this.allowVariableSaves=!0,this.saveVariableLocations(t)}},Zie=xF(PF()),Jie=new Map;function $ie(e){if("string"==typeof e)return e;let t=Jie.get(e);return t||(t={url:URL.createObjectURL(new Blob([e]))},Jie.set(e,t)),t.url}var eae,tae,nae=class{constructor({src:e,volume:t,delay:n,loop:r}){let i;this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._status="stopped",this.onEnd=()=>{this.loopsRemaining===1/0?this.replay():this.loopsRemaining>1?(this.replay(),this.loopsRemaining--):(this._status="stopped",this.loopsRemaining=this._loop)},i="string"==typeof e?{src:e}:{src:$ie(e),format:"wav"},this.sound=new Zie.Howl(i),this.sound.on("end",this.onEnd),this.src=e,void 0!==t&&(this.volume=t),void 0!==n&&(this.delay=n),void 0!==r&&(this.loop=r)}get status(){return this._status}get volume(){return this._volume}set volume(e){this._volume=e,this.sound.volume(e)}get loop(){return this._loop}set loop(e){this._loop=e,this.loopsRemaining=e}replay(){this.clearDelay(),this.delayTimerId=window.setTimeout((()=>{this.sound.play(),this.clearDelay()}),this.delay)}fade(e,t=1e3){e?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout((()=>{this.sound.fade(this._volume,0,t),this.clearFade()}),e)):this.sound.fade(this._volume,0,t)}on(e,t,n){this.sound.on(e,t,n)}off(e,t,n){this.sound.off(e,t,n)}play(){"playing"===this._status||this.sound.playing()||("paused"===this._status?(0===this.sound.seek()?this.replay():this.sound.play(),this._status="playing"):"stopped"===this._status&&(this.replay(),this._status="playing"))}pause(){"playing"===this._status&&(this.sound.pause(),this.clearFade(),this.clearDelay(),this._status="paused")}stop(){this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay(),this._status="stopped"}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(e=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},rae=!1,iae=new Promise((e=>{eae=e})),aae=!1;function oae(){if(rae=!0,!aae)return tae||(tae=async function(){let e=await o.e(856).then(o.bind(o,856));eae(e),aae=!0}())}var sae=new class{async load(e,t,n=(()=>{})){let{load:r}=await iae;r(e,((e,r)=>{e||!r?n(e??"Something went wrong"):t(r)}))}async parse(e){let{parse:t,Bidi:n}=await iae;try{let r=t(e),i=new n,a=e=>r.charToGlyphIndex(e.char);return i.registerModifier("glyphIndex",null,a),i.applyFeatures(r,r.defaultRenderOptions.features),{font:r,bidi:i}}catch(e){console.error(e)}}};async function lae(e){let t,n,r=!1;if(e.url?(t=await async function(e){return await(await fetch(e)).arrayBuffer()}(e.url),n=e.url,r=e.url.startsWith("/")):e.data&&(t=e.data.buffer.slice(e.data.byteOffset,e.data.byteOffset+e.data.byteLength)),t){if(!rae)return{font:void 0,url:n,intercepted:r,arr:t,bidi:null};{let e=await sae.parse(t);if(e)return{font:e.font,url:n,intercepted:r,arr:t,bidi:e.bidi}}}}function cae(e,t){return t.state.glyphIndex===e||t.state.fina===e||t.state.medi===e||t.state.init===e}var uae=class{constructor(){this.objects=new Map,this.unreachable=new Set}getCached(e){return this.objects.get(e)}get size(){return this.objects.size}get(e,t,n){let r=this.objects.get(e);return void 0===r?(r=this.createObject(e,t,n),this.objects.set(e,r)):r.isShared=!0,r}forceDelete(e){let t=this.objects.get(e);t&&(this.disposeObject(t),this.objects.delete(e))}mutateIfUnique(e,t){let n=this.objects.get(e);if(n&&!0!==n.isShared)return this.objects.delete(e),this.objects.set(t,n),n}startGc(){this.unreachable=new Set(this.objects.keys())}markAsReachable(e,t){t===this.objects.get(e)&&this.unreachable.delete(e)}endGc(){this.unreachable.forEach((e=>{this.disposeObject(this.objects.get(e)),this.objects.delete(e)})),this.unreachable.clear()}dispose(){this.objects.forEach((e=>{this.disposeObject(e)})),this.objects.clear()}},hae=class extends uae{constructor(e){super(),this.flatShading=e}disposeObject(e){e.dispose()}createObject(e,t,n){let r=Mte(e,t,this.flatShading,n);return r.computeBoundingSphere(),r}},dae={markNeedsUpdateRendererDirty:()=>{}},fae=class extends iie{constructor(e){super(),this.shared=e}create(e){return new aie(e,this.shared)}},pae=class{constructor(e,t={}){if(this.data=e,this.geometryCache=new hae(!0),this.geometryCache2=new hae(!1),this.imageHolderCache=new fae(this),this.thisContext={scene:dae,shared:this},this.deletedMaterial=new Kie(y5.defaultTwoLayerData("phong"),this.thisContext,""),this.deletedImage=new oie(l6.emptyImage,this),this.deletedVideo=new oie(l5.defaultVideo,this),this.materials={},this.images={},this.canvases={},this.videos={},this.colors={},this.audios={},this.particles={},this.fonts={},this.variables={},this.mouseProperty=null,this.raycastProperty=null,this.requestRender=()=>{this._requestRender&&this._requestRender()},t.images)for(let[e,n]of Object.entries(t.images))this.addImage(e,n);if(t.videos)for(let[e,n]of Object.entries(t.videos))this.addVideo(e,n);if(t.audios)for(let[e,n]of Object.entries(t.audios))this.addAudio(e,n);if(t.particles)for(let[e,n]of Object.entries(t.particles))this.addParticle(e,n);this.reset(e)}setRequestRender(e){this._requestRender=e}setEntityOpContext(e){this.entityOpContext=e}reset(e,t=!1){this.resetLib(e.lib);for(let{id:n,data:r}of e.variables)this.addVariableHolder(n,r),t&&this.updateVariableHolder(n,r);for(let[t,n]of Object.entries(e.images))this.addImage(t,n);for(let[t,n]of Object.entries(e.videos))this.addVideo(t,n);for(let[t,n]of Object.entries(e.colors))this.addColor(t,n);for(let[t,n]of Object.entries(e.materials))this.addMaterial(t,n);for(let[t,n]of Object.entries(e.audios))this.addAudio(t,n);for(let[t,n]of Object.entries(e.particles))this.addParticle(t,n);for(let[t,n]of Object.entries(e.fonts))this.addFont(t,n)}addMaterial(e,t){if(this.materials[e]){let n=this.materials[e];n.reset(t,this.thisContext),n.dispose()}else{let n=new Kie(t,this.thisContext,e);this.materials[e]=n}}deleteMaterial(e){this.materials[e]&&(this.materials[e].nodeMaterialDispose(),delete this.materials[e])}getMaterial(e){return this.materials[e]}getMaterialOrDeletedPlaceholder(e){return this.materials[e]??this.deletedMaterial}material(e){return"string"==typeof e?this.getMaterialOrDeletedPlaceholder(e):null==e?(console.error("material is undefined or null"),this.deletedMaterial):new Qie(e,this.thisContext)}getMaterials(){return this.materials}addImage(e,t){return this.images[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.images[e].updateSrc(t.data),!0):(this.images[e]=new oie(t,this),!1)}deleteImage(e){let t=this.images[e];t&&(t.dispose(),delete this.images[e])}getDefaultImage(){return this.images.image_0}getImage(e){return this.images[e]??this.deletedImage}image(e){return"string"==typeof e?this.getImage(e):this.imageHolderCache.load(e)}addCanvas(e,t){return this.canvases[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.canvases[e].updateSrc(t),!0):(this.canvases[e]=new oie(t,this),!1)}canvas(e){return this.canvases[e]}addVideo(e,t){return this.videos[e]?(this.videos[e].updateSrc(t.data),!0):(this.videos[e]=new oie(t,this),!1)}deleteVideo(e){let t=this.videos[e];t&&(t.dispose(),delete this.videos[e])}getVideo(e){return this.videos[e]??this.deletedVideo}video(e){return"string"==typeof e?this.getVideo(e):this.imageHolderCache.load(e)}addColor(e,t){return this.colors[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),"a"in t?this.colors[e].setRGBA(t.r,t.g,t.b,t.a):this.colors[e].setRGBA(t.r,t.g,t.b,1),!0):(this.colors[e]=new Rie(t.r,t.g,t.b,"a"in t?t.a:1),!1)}updateColor(e,t){if(this.colors[e]){this.onColorOrImageUpdate&&this.onColorOrImageUpdate();let n=this.colors[e];return this.colors[e].r=t.r??n.r,this.colors[e].g=t.g??n.g,this.colors[e].b=t.b??n.b,this.colors[e].a=t.a??n.a,!0}return!1}deleteColor(e){this.colors[e]&&delete this.colors[e]}getColor(e){return this.colors[e]}color(e){let t;if("string"!=typeof e)return new bne(e.r,e.g,e.b,"a"in e?e.a:1);{let n=this.getColor(e);n?t=n:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),t=new bne(0,0,0,0))}return t}addAudio(e,t){this.audios[e]=t}getAudio(e){let t=this.audios[e];if(t instanceof nae)return t;{let n=new nae({src:t.data});return this.audios[e]=n,n}}addParticle(e,t){this.particles[e]=t}getParticle(e){return this.particles[e]}deleteParticle(e){this.particles[e]&&delete this.particles[e]}deleteAudio(e){let t=this.audios[e];t&&(t instanceof nae&&t.dispose(),delete this.audios[e])}addFont(e,t){this.fonts[e]=new class{constructor(e){this._arrayBuffer=new ArrayBuffer(1),this._isLoaded=!1,this._intercepted=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=lae(e).then((e=>{e&&(this._arrayBuffer=e.arr,this._url=e.url,this.font=e.font,this._intercepted=e.intercepted,this._isLoaded=!0,this._bidi=e.bidi)}))}update(e){this._isLoaded=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=lae(e).then((e=>{e&&(this._arrayBuffer=e.arr,this._url=e.url,this.font=e.font,this._intercepted=e.intercepted,this._isLoaded=!0,this._bidi=e.bidi)}))}get url(){return this._url}get intercepted(){return this._intercepted}get isLoaded(){return this._isLoaded}get loadingPromise(){return this._loadingPromise}reverseLigaturesTable(e,t,n){if(!this._bidi)return[];let r=this._bidi;r.getTextGlyphs(t);let i=r.tokenizer.tokens,a=[],o=0,s=n.length===i.length;for(let r=0;r<n.length;r++){let l=n[r].index,c=String.fromCharCode(n[r].unicode),u=i[o];if(cae(l,u)||s)a.push({char:c,index:l,replacements:[u.state.glyphIndex],replacementChars:[u.char]}),o++;else{let n=u.char,r="",i=[u.state.glyphIndex],s=[],h=!1;for(;!h;)o++,r=t.charAt(o),n+=r,i.push(e.charToGlyphIndex(r)),s=e.stringToGlyphs(n),1===s.length&&s[0].index===l&&(h=!0),o>t.length&&(h=!0);a.push({char:c,index:l,replacements:i,replacementChars:Array.from(n)}),o++}}return a}generateShapes(e,t){if(!this._isLoaded)return;let n,r=this.font,i=t.fontSize/this.unitsPerEm,a=t.fontSize*t.lineHeight,o=e.map((e=>this.getTextWidth(e,t))),s=t.width,l=this.getCharWidth("\n",t),c=1===t.horizontalAlign?l:0,u=this.computeSpaceWidthForLine(e,0,t),h=this.getLineInitialOffsetX(o[0],s,t.horizontalAlign,e[0],l),d=this.getLineInitialOffsetY(a,e.length,t.height,i,t.verticalAlign),f=[],p=e.map((e=>[])),m=e.map((e=>[]));for(let g=0;g<e.length;g++){let v=e[g],y={features:{liga:!0}},w=[];try{w=r.stringToGlyphs(v,y)}catch(e){console.warn(e)}h=this.getLineInitialOffsetX(o[g],s,t.horizontalAlign,v,l);let b=[];try{b=this.reverseLigaturesTable(r,v,w)}catch(e){console.warn(e)}u=this.computeSpaceWidthForLine(e,g,t);for(let e=0;e<w.length;e++){let a=w[e],o=0===a.index?"\n":a.unicode?String.fromCharCode(a.unicode):void 0,s=b[e],l=0,v=0;0===e&&2===t.horizontalAlign&&void 0!==a.leftSideBearing&&(v=-a.leftSideBearing*i),n&&(l=r.getKerningValue(a,n)*i),h+=v+l;let y=0;if("\n"===o)y=c;else if(" "===o)y=u;else{let e=this.createPath(a,i,h,d,t);e&&(y=e.offsetX-(l+v),f.push(e.path))}if(1===s.replacements.length)m[g].push([h,d]),p[g].push(y);else{let e=s.replacements.map((e=>(r.glyphs.get(e).advanceWidth??0)*i)),t=e.reduce(((e,t)=>e+t),0),n=e.map((e=>e/t)),a=h;for(let e=0;e<n.length;e++){let t=y*n[e];m[g].push([a,d]),p[g].push(t),a+=t}}h+=y,n=a}d-=a}let g=[];for(let e=0,t=f.length;e<t;e++)g.push(...f[e].toShapes());return{shapes:g,charWidths:p,lineWidths:o,charCoords:m}}get isUserFont(){return this._isUserFont}get arrayBuffer(){return this._arrayBuffer}get ascender(){return this.font?.ascender??0}get descender(){return this.font?.descender??0}get familyName(){return this.font?.names.fontFamily??""}get subfamilyName(){return this.font?.names.fontSubfamily??""}get unitsPerEm(){return this.font?.unitsPerEm??1}getLineInitialOffsetX(e,t,n,r,i){return(3===n||2===n)&&r.indexOf("\n")>=0&&(e-=i),3===n?.5*t-.5*e:2===n?t-e:0}getLineInitialOffsetY(e,t,n,r,i){let a=t*e,o=e-Math.abs(this.ascender-this.descender)*r,s=-this.ascender*r-o/2;return 3===i?-(n-a-s):2===i?-(.5*n-.5*a-s):s}createPath(e,t,n,r,i){let a=e.getPath(n,-r,i.fontSize,{kerning:!1,letterSpacing:i.letterSpacing});if(!a)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+this.familyName+".");let o=new class{constructor(){this.type="ShapePath",this.color=new HV,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new zY,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath?.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath?.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,a){return this.currentPath?.bezierCurveTo(e,t,n,r,i,a),this}splineThru(e){return this.currentPath?.splineThru(e),this}toShapes(){let e={loc:0,t:0};function t(t,r,i,a){let o=t.x,s=r.x,l=i.x,c=a.x,u=t.y,h=r.y,d=i.y,f=a.y,p=(c-l)*(u-d)-(f-d)*(o-l),m=(f-d)*(s-o)-(c-l)*(h-u),g=p/m,v=((s-o)*(u-d)-(h-u)*(o-l))/m;if(0===m&&0!==p||g<=0||g>=1||v<0||v>1)return null;if(0===p&&0===m){for(let l=0;l<2;l++){if(n(0===l?i:a,t,r),0===e.loc){let t=0===l?i:a;return{x:t.x,y:t.y,t:e.t}}if(2===e.loc)return{x:+(o+e.t*(s-o)).toPrecision(10),y:+(u+e.t*(h-u)).toPrecision(10),t:e.t}}return null}for(let o=0;o<2;o++)if(n(0===o?i:a,t,r),0===e.loc){let t=0===o?i:a;return{x:t.x,y:t.y,t:e.t}}return{x:+(o+g*(s-o)).toPrecision(10),y:+(u+g*(h-u)).toPrecision(10),t:g}}function n(t,n,r){let i,a=r.x-n.x,o=r.y-n.y,s=t.x-n.x,l=t.y-n.y,c=a*l-s*o;return t.x===n.x&&t.y===n.y?(e.loc=0,void(e.t=0)):t.x===r.x&&t.y===r.y?(e.loc=1,void(e.t=1)):void(c<-Number.EPSILON?e.loc=3:c>Number.EPSILON?e.loc=4:a*s<0||o*l<0?e.loc=5:Math.sqrt(a*a+o*o)<Math.sqrt(s*s+l*l)?e.loc=6:(i=0!==a?s/a:l/o,e.loc=2,e.t=i))}let r=0,i=999999999,a=-999999999,o=[];this.subPaths.forEach((e=>{let t=e.getPoints(),n=-999999999,s=999999999,l=-999999999,c=999999999;for(let e=0;e<t.length;e++){let r=t[e];r.y>n&&(n=r.y),r.y<s&&(s=r.y),r.x>l&&(l=r.x),r.x<c&&(c=r.x)}a<=l&&(a=l+1),i>=c&&(i=c-1),t.length&&o.push({curves:e.curves,points:t,isCW:pQ.isClockWise(t),identifier:r++,boundingBox:new RK(new AV(c,s),new AV(l,n))})}));let s=o.map((e=>function(e,n,r,i,a){(null==a||""===a)&&(a="nonzero");let o=new AV;e.boundingBox.getCenter(o);let s=function(e,n,r){let i=new AV;n.getCenter(i);let a=[];return r.forEach((n=>{n.boundingBox.containsPoint(i)&&function(e,n){let r=[],i=[];for(let a=1;a<e.length;a++){let o=e[a-1],s=e[a];for(let e=1;e<n.length;e++){let a=t(o,s,n[e-1],n[e]);null!==a&&void 0===r.find((e=>e.t<=a.t+Number.EPSILON&&e.t>=a.t-Number.EPSILON))&&(r.push(a),i.push(new AV(a.x,a.y)))}}return i}(e,n.points).forEach((e=>{a.push({identifier:n.identifier,isCW:n.isCW,point:e})}))})),a.sort(((e,t)=>e.point.x-t.point.x)),a}([new AV(r,o.y),new AV(i,o.y)],e.boundingBox,n);s.sort(((e,t)=>e.point.x-t.point.x));let l=[],c=[];s.forEach((t=>{t.identifier===e.identifier?l.push(t):c.push(t)}));let u=l[0].point.x,h=[],d=0;for(;d<c.length&&c[d].point.x<u;)h.length>0&&h[h.length-1]===c[d].identifier?h.pop():h.push(c[d].identifier),d++;if(h.push(e.identifier),"evenodd"===a){let t=h.length%2==0,n=h[h.length-2];return{identifier:e.identifier,isHole:t,for:n}}if("nonzero"===a){let t=!0,r=null,i=null;for(let e=0;e<h.length;e++){let a=h[e];n[a]&&(t?(i=n[a].isCW,t=!1,r=a):i!==n[a].isCW&&(i=n[a].isCW,t=!0))}return{identifier:e.identifier,isHole:t,for:r}}console.warn('fill-rule: "'+a+'" is currently not implemented.')}(e,o,i,a,this.userData?.style.fillRule))),l=[];return o.forEach((e=>{let t=s[e.identifier];if(t&&!t.isHole){let t=new HY;t.curves=e.curves,s.filter((t=>t?.isHole&&t.for===e.identifier)).forEach((e=>{if(e){let n=o[e.identifier],r=new zY;r.curves=n.curves,t.holes.push(r)}})),l.push(t)}})),l}},s=(e.advanceWidth??1)*t;if(e)for(let e of a.commands){let t=o.currentPath?.currentPoint;if(!t||"Z"===e.type||t.x!==e.x||-t.y!==e.y)switch(e.type){case"M":o.moveTo(e.x,-e.y);break;case"L":o.lineTo(e.x,-e.y);break;case"Q":o.quadraticCurveTo(e.x1,-e.y1,e.x,-e.y);break;case"C":o.bezierCurveTo(e.x1,-e.y1,e.x2,-e.y2,e.x,-e.y)}}return o.subPaths.forEach((e=>{let t=function(e){if(e.length){let t=e[0];if(t instanceof kY)return t.v1;if(t instanceof PY||t instanceof IY)return t.v0}}(e.curves);void 0!==t&&e.currentPoint.distanceTo(t)>0&&e.lineTo(t.x,t.y)})),{offsetX:s+i.fontSize*i.letterSpacing,path:o}}getCharWidth(e,t){return this.font?.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing})??0}getTextWidth(e,t){return this.font?.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing})??0}computeSpaceWidthForLine(e,t,n){let r=this.getCharWidth(" ",n),i=e[t];if(i){let a=this.countSpaces(i.trimEnd());if(4===n.horizontalAlign&&t<e.length-1&&a)return(n.width-(this.getTextWidth(i,n)-a*r))/a}return r}countSpaces(e){return(e.match(/ /g)||[]).length}}(t),this.fonts[e].loadingPromise.then((()=>this.requestRender()))}getFont(e){return this.fonts[e]}deleteFont(e){this.fonts[e]&&delete this.fonts[e]}dispose(){Object.keys(this.materials).forEach((e=>this.deleteMaterial(e))),this._requestRender=void 0,Object.values(this.audios).forEach((e=>{e instanceof nae&&e.dispose()})),this.audios={},this.particles={},this.geometryCache.dispose(),this.geometryCache2.dispose()}addVariableHolder(e,t){return void 0===this.variables[e]?(this.variables[e]={value:t.value,locations:[]},"dynamicVariableType"in t&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0),!0):(this.variables[e].value=t.value,!1)}resetDynamicVariablePlayState(){for(let e in this.variables)void 0!==this.variables[e].dynamicVariablePlayState&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0)}updateVariableHolder(e,t){this.updateVariable(e,t.value)}updateVariable(e,t){if(void 0===this.variables[e])return!1;this.variables[e].value=t;let n=t;for(;"string"==typeof n;)n=this.variables[n].value;let r=this.entityOpContext.scene;for(let t=this.variables[e].locations.length-1;t>=0;t--){let i=this.variables[e].locations[t];if("material"===i[0]){let e=i[1],t=n,a={scene:r,shared:this},o=i.slice(2);r.traverseMaterial((n=>{let r=n.root??n;r.uuid===e&&r.onVariableUpdate(o,t,a)}));let s=this.materials[e];s&&s.onVariableUpdate(o,t,a)}else{let a=r.find(i[0]);if(void 0===a){this.variables[e].locations.splice(t,1);continue}if("geometry"!==i[1]&&"particles"!==i[1]){for(let e=1;e<i.length-1;e++)a=a[i[e]];"rotation"===i[1]?a[i[i.length-1]]=n*CV.DEG2RAD:a[i[i.length-1]]=n}if(a=r.find(i[0]),"ParticleEmitter"===a.type&&a.updateVariableState(n,i),O7.is(a))if("position"===i[1]||"rotation"===i[1]||"scale"===i[1])a.onVariableUpdate();else if("geometry"===i[1]){let e=a;a.component&&(e=a.component);let t=e.dataPatched;e.chooseGeoemtryCache(this).forceDelete(t.geometry),e.createGeometryDelayed(this.entityOpContext),e.onVariableUpdate(!0),e.instances.forEach((e=>{let t=e.dataPatched;e.chooseGeoemtryCache(this).forceDelete(t.geometry),e.createGeometryDelayed(this.entityOpContext),e.onVariableUpdate(!0)}))}}}return!0}deleteVariable(e){this.variables[e]&&delete this.variables[e]}getVariable(e,t){if(Array.isArray(e)){if("mouse"===e[0])return this.mouseProperty?.[e[1]]??0;if("raycast"===e[0])return this.raycastProperty?.[e[1]]??0;let t=this.entityOpContext.scene.find(e[0]);if("width"===e[1]||"height"===e[1]||"depth"===e[1])return t.geometry.userData.parameters[e[1]];for(let n=1;n<e.length;n++)t=t[e[n]];return"rotation"===e[1]&&(t*=CV.RAD2DEG),t}for(let e in this.variables){if(void 0===t)break;let n=this.variables[e],r=n.locations?.findIndex((e=>L2.equal(e,t)));void 0!==r&&-1!==r&&n.locations.splice(r,1)}if("string"==typeof e){let n=e,r=e;do{if(r=n,void 0===this.variables[n])break;n=this.variables[n].value}while("string"==typeof n);return t&&void 0!==this.variables[r]&&this.variables[r].locations.push(t),n}return e}getVariables(){return this.variables}getDynamicVariablePlayState(e){return this.variables[e]?.dynamicVariablePlayState}setDynamicVariablePlayState(e,t){void 0!==this.variables[e]&&(this.variables[e].dynamicVariablePlayState=t)}getDynamicVariableToggleIsForward(e){return this.variables[e]?.dynamicVariableToggleIsForward}setDynamicVariableToggleIsForward(e,t){void 0!==this.variables[e]&&(this.variables[e].dynamicVariableToggleIsForward=t)}resetLib(e){for(let[t,n]of Object.entries(e.images))this.addImage(t,n.asset);for(let[t,n]of Object.entries(e.audios))this.addAudio(t,n.asset);for(let[t,n]of Object.entries(e.particles))this.addParticle(t,n.asset);for(let[t,n]of Object.entries(e.colors))this.addColor(t,n.asset);for(let[t,n]of Object.entries(e.fonts))this.addFont(t,n.asset);for(let[t,n]of Object.entries(e.materials))this.addMaterial(t,n.asset);for(let[t,n]of Object.entries(e.videos))this.addVideo(t,n.asset);for(let[t,n]of Object.entries(e.variables))this.addVariableHolder(t,n.asset)}updateLibByOp(e,t){"images"===e.path[0]?1===e.path.length&&1===e.type?this.addImage(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteImage(e.id):"videos"===e.path[0]?1===e.path.length&&1===e.type?this.addVideo(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteVideo(e.id):"audios"===e.path[0]?1===e.path.length&&1===e.type?this.addAudio(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteAudio(e.id):"particles"===e.path[0]?1===e.path.length&&1===e.type?this.addParticle(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteParticle(e.id):"colors"===e.path[0]?1===e.path.length&&1===e.type?this.addColor(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteColor(e.id):"materials"===e.path[0]?1===e.path.length&&1===e.type?this.addMaterial(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteMaterial(e.id):"fonts"===e.path[0]?1===e.path.length&&1===e.type?this.addFont(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteFont(e.id):"variables"===e.path[0]?1===e.path.length&&1===e.type?this.addVariableHolder(e.id,e.data.asset):1===e.path.length&&2===e.type&&this.deleteVariable(e.id):"components"===e.path[0]&&t.updateByLibOp(e,this)}updateByOp(e,t,n){this.data=t,"images"===e.path[0]?2===e.path.length&&0===e.type?e.props.data&&this.getImage(e.path[1]).updateSrc(e.props.data):1===e.path.length&&1===e.type?this.addImage(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteImage(e.id):"videos"===e.path[0]?2===e.path.length&&0===e.type?e.props.data&&this.getVideo(e.path[1]).updateSrc(e.props.data):1===e.path.length&&1===e.type?this.addVideo(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteVideo(e.id):"audios"===e.path[0]?2===e.path.length&&0===e.type?e.props.data&&this.addAudio(e.path[1],t.audios[e.path[1]]):1===e.path.length&&1===e.type?this.addAudio(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteAudio(e.id):"particles"===e.path[0]?2===e.path.length&&0===e.type?e.props.data&&this.addParticle(e.path[1],t.particles[e.path[1]]):1===e.path.length&&1===e.type?this.addParticle(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteParticle(e.id):"colors"===e.path[0]?2===e.path.length&&0===e.type?this.updateColor(e.path[1],e.props):1===e.path.length&&1===e.type?this.addColor(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteColor(e.id):"materials"===e.path[0]?1===e.path.length&&1===e.type?this.addMaterial(e.id,e.data):1===e.path.length&&2===e.type?this.deleteMaterial(e.id):e.path.length>1&&this.getMaterial(e.path[1]).updateByOp(h2.drop(e,2),t.materials[e.path[1]],{shared:this,scene:n}):"fonts"===e.path[0]?2===e.path.length&&0===e.type?this.updateFont(e.path[1],e,n):1===e.path.length&&1===e.type?this.addFont(e.id,e.data):1===e.path.length&&2===e.type&&this.deleteFont(e.id):"variables"===e.path[0]?2===e.path.length&&0===e.type&&"value"in e.props?this.updateVariable(e.path[1],e.props.value):1===e.path.length&&4===e.type?this.addVariableHolder(e.id,e.data):1===e.path.length&&5===e.type&&this.deleteVariable(e.id):"lib"===e.path[0]&&this.updateLibByOp(h2.drop(e,1),n)}updateFont(e,t,n){if(t.props.url){let r=this.getFont(e),i={...this.data.fonts[e],url:t.props.url};r.update(i),r.loadingPromise.then((()=>this.requestRender())),n.updateFont(e,this)}}},mae=(new pae(p6.emptyData()),class extends dne{updateByPatchedOp(e,t,n){if(super.updateByPatchedOp(e,t,n),null!==function(e,t){let n=[];if(t.length!==e.length)return null;for(var r=0;r<e.length;){if("*"===t[r])n.push(e[r]);else if(e[r]!==t[r])return null;r+=1}return n}(e.path,["materials"])&&0===e.type&&Array.isArray(this.material))for(let[t,r]of Object.entries(e.props)){let e=n.shared.material(r);this.material[Number(t)]=e}else if(j2(e.path,["material"])&&this.material instanceof Xie)"material"in t&&"string"!=typeof t.material&&this.material.updateByOp(h2.drop(e,1),t.material,n);else if(j2(e.path,["materials","*"])&&Array.isArray(this.material)){let r=e.path[1];if("materials"in t&&r<this.material.length){let i=t.materials[r];"string"!=typeof i&&this.material[r].updateByOp(h2.drop(e,2),i,n)}}}get needsAO(){return void 0!==this.material&&(Array.isArray(this.material)?this.material[0]:this.material).hasAO}updateState(e,t){super.updateState(e,t),void 0!==e.castShadow&&(this.castShadow=e.castShadow),void 0!==e.receiveShadow&&(this.receiveShadow=e.receiveShadow);let n=this.dataPatched;if("NonParametricGeometry"!==e.geometry?.type&&"material"in e&&void 0!==e.material&&(this.disposeMaterial(),this.material=t.shared.material(e.material).getFlavor(n.flatShading,n.side,n.wireframe),t.scene.markNeedsUpdateRendererDirty()),("NonParametricGeometry"===e.geometry?.type||"materials"in e)&&("materials"in e&&void 0!==e.materials?(this.disposeMaterial(),this.material=e.materials.map((e=>t.shared.material(e).getFlavor(n.flatShading,n.side,n.wireframe))),t.scene.markNeedsUpdateRendererDirty()):"material"in e&&void 0!==e.material&&(this.disposeMaterial(),this.material=[t.shared.material(e.material).getFlavor(n.flatShading,n.side,n.wireframe)],t.scene.markNeedsUpdateRendererDirty())),void 0!==e.flatShading||void 0!==e.wireframe||void 0!==e.side)if(Array.isArray(this.material))for(let e=0;e<this.material.length;e++)this.material[e]=this.material[e].getFlavor(n.flatShading,n.side,n.wireframe);else this.material=this.material.getFlavor(n.flatShading,n.side,n.wireframe)}disposeMaterial(){this.material&&O1(this.material).forEach((e=>{e instanceof Xie&&(e instanceof Kie||e.nodeMaterialDispose())}))}dispose(){this.disposeMaterial(),super.dispose()}}),gae=new tH,vae=new KV,yae=new KV,wae=new tH,bae=new kH,xae=class extends mae{constructor(e,t,n){super(e,t),this.data=t,this.isSkinnedMesh=!1,this.localGeometry=void 0,t.bindMode&&t.bindMatrix&&(this.bindMode=t.bindMode,this.bindMatrix=(new kH).fromArray(t.bindMatrix),this.bindMatrixInverse=new kH)}chooseGeoemtryCache(e){return e.geometryCache}markGeometryAsReachable(e){this.geometryCreateDeleyed instanceof DG&&this.chooseGeoemtryCache(e).markAsReachable(this.dataPatched.geometry,this.geometryCreateDeleyed)}get geometry(){if(void 0!==this.localGeometry)return this.localGeometry;if(this.geometryCreateDeleyed instanceof pae){let e=this.geometryCreateDeleyed,t=this.chooseGeoemtryCache(e);this.geometryCreateDeleyed=t.get(this.dataPatched.geometry,e,this)}return this.geometryCreateDeleyed}set geometry(e){this.localGeometry=e}get is2DAndNoDepth(){let e=this.dataPatched.geometry;return C5.is2DParametricMesh(e.type)&&0===e.depth}get is2DType(){return C5.is2DParametricMesh(this.geometry.userData.type)}get isNonParametric(){return"NonParametricGeometry"===this.geometry.userData.type}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),j2(e.path,["geometry"])&&this.updateByPatchedOpGeometry(h2.drop(e,1),t.geometry,n)}removeInteractionGeometry(e){this.localGeometry?.dispose(),this.localGeometry=void 0}updateGeometryInteractions(e,t){this.invalidateDownstreamBooleanData();let n=this.data.geometry.type;if("NonParametricGeometry"===n||"SubdivGeometry"===n){let n,r,i,a=e;if(void 0===this.localGeometry){let e={...this.data.geometry,...a};this.localGeometry=Mte(e,t,this.data.flatShading,this)}a.scaleBaked?[n,r,i]=a.scaleBaked:({width:n,height:r,depth:i}=a);let o=this.localGeometry.userData;void 0!==o.sxPrev&&Dte(this.localGeometry.attributes,n/o.sxPrev,r/o.syPrev,i/o.szPrev),o.sxPrev=n,o.syPrev=r,o.szPrev=i}else{let n={...this.data.geometry,...e};this.localGeometry?.dispose(),this.localGeometry=Mte(n,t,this.data.flatShading,this)}}refreshAttachedCloners(e){for(let t of this.attachedSurfaceCloners)e.scene.addPendingUpdateCloner(t.object)}refreshAttachedPaths(e){for(let t of this.attachedPaths)e.scene.addPendingCommand((()=>t.updateShape()))}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.refreshAttachedCloners(e),this.refreshAttachedPaths(e)}updateByPatchedOpGeometry(e,t,n){let r=!1;0===e.type&&0===e.path.length&&Object.keys(e.props).includes("scaleBaked")&&this.geometryCreateDeleyed instanceof zte&&this.chooseGeoemtryCache(n.shared).mutateIfUnique(this.geometryCreateDeleyed.data,t)===this.geometryCreateDeleyed&&(r=!0,this.geometryCreateDeleyed.mutateDirectlyScaleBaked(t,e.props.scaleBaked),this.refreshAttachedCloners(n),this.refreshAttachedPaths(n)),r||(n.scene?.markGeometryCacheDirty(),this.createGeometryDelayed(n)),this.resetBBoxNeedsUpdate(),this.invalidateDownstreamBooleanData()}updateGeometryOnStateUpdate(e,t){this.createGeometryDelayed(t)}updateState(e,t){void 0!==e.geometry&&this.updateGeometryOnStateUpdate(e.geometry,t),super.updateState(e,t)}updateGeometryGroupsIfNeeded(){Array.isArray(this.material)&&0===this.geometry.groups.length&&this.geometry.addGroup(0,Math.max(this.geometry.getIndex()?.count??0,this.geometry.getAttribute("position").count),0)}updateEntityBoxSize(e,t){let n=this.geometry.userData.parameters;this.is2DType?e.set(0,0,.5*n.depth):this.isNonParametric?(e.setScalar(0),this.geometry.boundingSphere&&e.copy(this.geometry.boundingSphere.center),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)):e.setScalar(0),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}bind(e,t){this.skeleton=e,this.isSkinnedMesh=!0,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(e){let t=new KV,n=this.geometry.attributes.skinWeight;for(let e=0,r=n.count;e<r;e++){t.fromBufferAttribute(n,e);let r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),n.setXYZW(e,t.x,t.y,t.z,t.w)}}boneTransform(e,t){let n=this.skeleton;if(void 0===n)return;let r=this.geometry;vae.fromBufferAttribute(r.attributes.skinIndex,e),yae.fromBufferAttribute(r.attributes.skinWeight,e),gae.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){let r=yae.getComponent(e);if(0!==r){let i=vae.getComponent(e);bae.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(wae.copy(gae).applyMatrix4(bae),r)}}return t.applyMatrix4(this.bindMatrixInverse)}};function _ae(e){if(Array.isArray(e.material)){for(let t of e.material)if(0===t.getLayersOfType("outline").length)return}else if(!(e.material instanceof Xie)||0===e.material.getLayersOfType("outline").length)return;e instanceof xae&&e.is2DAndNoDepth?function(e){if(e.geometry.attributes.extrudeNormals||!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,n=new Float32Array(t.length),r=new tH;for(let e=0;e<t.length;e+=3)r.set(t[e],t[e+1],t[e+2]).normalize(),n[e]=r.x,n[e+1]=r.y,n[e+2]=r.z;e.geometry.setAttribute("extrudeNormal",new _G(n,3))}(e):function(e){if(e.geometry.attributes.extrudeNormal||!e.geometry.attributes.position||!e.geometry.attributes.normal)return;let t=new Map,n=e.geometry.attributes,r=n.position.array,i=n.normal.array,a=new Float32Array(r.length);for(let e=0;e<r.length;e+=3){let n=`${r[e]}_${r[e+1]}_${r[e+2]}`,a=new tH(i[e],i[e+1],i[e+2]);t.has(n)?t.get(n)?.normals.push(a):t.set(n,{normals:[a],result:new tH})}t.forEach(((e,t)=>{for(let t of e.normals)e.result.add(t);e.result.divideScalar(e.normals.length)}));for(let e=0;e<r.length;e+=3){let n=`${r[e]}_${r[e+1]}_${r[e+2]}`,i=t.get(n)?.result;i&&(a[e]=i.x,a[e+1]=i.y,a[e+2]=i.z)}e.geometry.setAttribute("extrudeNormal",new _G(a,3))}(e)}function Sae(e){if(!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,n=new Float32Array(t.length),r=parseInt(e.uuid.replace(/\D/g,"")),i=[CV.seededRandom(r),CV.seededRandom(r+1e4),CV.seededRandom(r+2e4)];for(let e=0;e<t.length;e++)n[e]=i[e%3];e.geometry.setAttribute("randomColor",new wG(n,3))}var Eae=new iH,Cae=new tH;function Aae(e){let t=!1;return e.scene.objects.traverse(((e,n)=>{"Mesh"===n.type&&"SubdivGeometry"===n.geometry.type&&(t=!0)})),t}var Tae=class extends xae{constructor(e,t,n){super(e,t,n),this.data=t,this.hiddenMatrixOld=new kH,this.smoothShading=!0,this.skipReactionUpdate=!1}chooseGeoemtryCache(e){return this.dataPatched.flatShading?e.geometryCache:e.geometryCache2}get subdivPointerNew(){return void 0!==this.localGeometry?this.subdivPointer:this.geometry.ensureSubdivPointer()}get originalGeometryNew(){return void 0!==this.localGeometry?this.originalGeometry:this.geometry.originalGeometry}get phongAngle(){return this.data.geometry.phongAngle??45}updateEntityBoxSize(e,t){let n=this.geometry.userData.parameters;e.copy(this.originalGeometryNew.boundingSphere.center),t.set(n.width,n.height,n.depth??0).multiplyScalar(.5)}createGeometryByControls(e){if(!0===this.skipReactionUpdate)return;let t=this.localGeometry?.uuid,{originalGeometry:n,subdividedGeometry:r,subdivPointer:i}=zte.build(e,this.subdivPointer,this.smoothShading,this.hasNonUniformScale?this.shearScale:void 0);this.subdivPointer=i,void 0!==n&&(this.originalGeometry?.dispose(),this.originalGeometry=n),void 0!==r&&(this.subdividedGeometry?.dispose(),this.subdividedGeometry=r??void 0),this.localGeometry=this.subdividedGeometry??this.originalGeometry,_ae(this),Sae(this),this.calcBoundingBox(),t&&(this.localGeometry.uuid=t)}updateState(e,t){if(super.updateState(e,t),void 0!==e.flatShading){let n=this.material;this.material=Array.isArray(n)?n.map((e=>e.getFlavor(!1,e.side,e.wireframe))):n.getFlavor(!1,n.side,n.wireframe),this.smoothShading=!e.flatShading,this.createGeometryDelayed(t)}}updateMesh(e=!1){zte.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0),this.subdividedGeometry&&zte.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0)}updateTopology(){this.originalGeometry.dispose(),this.originalGeometry=zte.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=zte.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.localGeometry=this.subdividedGeometry??this.originalGeometry}raycast(e,t){let n=this.localGeometry;this.localGeometry=this.originalGeometryNew,dne.prototype.raycast.call(this,e,t),this.localGeometry=n}activateSVDCompensation(){!this.hasNonUniformScale||(this.matrix.copy(this.matrixWorldRigid),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){!this.hasNonUniformScale||(this.updateMatrix(),this.hasNonUniformScale=void 0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let e=this.originalGeometry;null===e.boundingSphere&&(e.boundingSphere=new _H,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,n=e.boundingSphere.center;Eae.setFromBufferAttribute(t),Eae.getCenter(n),e.boundingSphere.radius=n.distanceTo(Eae.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Eae.getSize(Cae),this.hasNonUniformScale&&Cae.divide(this.scale);let r={width:Cae.x,height:Cae.y,depth:Cae.z};return this.geometry.userData.parameters=r,r}updateBoundingSphere(e){let t=this.originalGeometry;Eae.min.set(e[0],e[2],e[4]),Eae.max.set(e[1],e[3],e[5]),this.hasNonUniformScale&&(Eae.min.applyMatrix4(this.shearScaleInv),Eae.max.applyMatrix4(this.shearScaleInv)),null===t.boundingSphere&&(t.boundingSphere=new _H);let n=t.boundingSphere.center;Eae.getCenter(n),t.boundingSphere.radius=n.distanceTo(Eae.max)}freeSubdivPointer(){this.subdivPointer&&(zte.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0),this.localGeometry=void 0,this.originalGeometry?.dispose(),this.subdividedGeometry?.dispose()}dispose(){super.dispose(),this.freeSubdivPointer()}updateByPatchedOpGeometry(e,t,n){super.updateByPatchedOpGeometry(e,t,n),this.localGeometry&&this.createGeometryByControls(t)}},Mae={x:[1,0,0],"-x":[-1,0,0],y:[0,1,0],"-y":[0,-1,0],z:[0,0,1],"-z":[0,0,-1]},Pae={polygon_center:0,edge:1,vertex:2},Dae=(e,t)=>(n,r)=>t&&0!==n&&0!==e?e*r/100:0,kae=(e,t)=>{let n=Math.abs(t),r=-1*n;return(e- -1)*(n-r)/2+r},Oae=new tH,Iae=new tH,Rae=new tH,Lae=new tH;function Nae(e,t){let n=Rae.fromArray(e),r=Lae.fromArray(t);Iae.copy(r).sub(n);let i=Iae.length();return Iae.normalize().multiplyScalar(.5*i),Oae.copy(n).add(Iae).toArray()}var zae=new fG,Bae=new tH,Fae=new tH,Uae=new tH,jae=e=>.5*(1-Math.cos(e*Math.PI)),Vae=new tH,Hae=new kH,Gae=new DH;function Wae(e){let t=!1;return e.scene.objects.traverse(((e,n)=>{"Mesh"===n.type&&"TextGeometry"===n.geometry.type&&(t=!0)})),t}var qae,Xae,Yae,Qae,Kae=class extends xae{constructor(e,t,n){super(e,t,n),this.data=t}get textGeometry(){return this.geometry}get charWidths(){return this.textGeometry.charWidths}get charCoords(){return this.textGeometry.charCoords}get wrappedText(){return this.textGeometry.wrappedText}get font(){return this.textGeometry.font}get initialOffsetY(){let e=this.dataPatched;return this.font?.getLineInitialOffsetY(this.lineHeight,this.wrappedText.length,e.geometry.height,this.fontScale,e.geometry.verticalAlign)??0}get fontScale(){let e=this.dataPatched;return this.font?e.geometry.fontSize/this.font.unitsPerEm:1}get AD(){return Math.abs(this.ascender-this.descender)}get ascender(){return(this.font?.ascender??1)*this.fontScale}get descender(){return(this.font?.descender??1)*this.fontScale}get lineHeight(){let e=this.dataPatched;return e.geometry.fontSize*e.geometry.lineHeight}raycast(e,t){let{matrixWorld:n}=this;if(!isNaN(e.ray.origin.x)&&0!==this.scale.x&&0!==this.scale.y&&0!==this.scale.z&&(Hae.copy(n).invert(),Gae.copy(e.ray).applyMatrix4(Hae),Gae.intersectBox(this.singleBBox,Vae))){let r=Vae.applyMatrix4(n),i=e.ray.origin.distanceTo(r);t.push({distance:i,point:r.clone(),object:this})}}},Zae=1e-4,Jae=new tH,$ae=new tH;Ete.then((e=>{Xae=[(qae=e).get_face_center,qae.get_edge_midpoint,qae.get_vertex_position],Yae=[qae.get_face_normal,qae.get_edge_normal,qae.get_vertex_normal],Qae=[qae.face_count,qae.edge_count,qae.vertex_count]}));var eoe=new kH,toe=new kH,noe=new tH,roe=new tH,ioe=new tH,aoe=new tH,ooe=new tH,soe=new tH,loe=new class{constructor(){this.perlin=new Array(4096)}noise(e,t=0,n=0){if(null==this.perlin){this.perlin=new Array(4096);for(let e=0;e<4096;e++)this.perlin[e]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),n<0&&(n=-n);let r,i,a,o,s,l=Math.floor(e),c=Math.floor(t),u=Math.floor(n),h=e-l,d=t-c,f=n-u,p=0,m=.5;for(let e=0;e<4;e++){let e=l+(c<<4)+(u<<8);r=jae(h),i=jae(d),a=this.perlin[4095&e],a+=r*(this.perlin[e+1&4095]-a),o=this.perlin[e+16&4095],o+=r*(this.perlin[e+16+1&4095]-o),a+=i*(o-a),e+=256,o=this.perlin[4095&e],o+=r*(this.perlin[e+1&4095]-o),s=this.perlin[e+16&4095],s+=r*(this.perlin[e+16+1&4095]-s),o+=i*(s-o),a+=jae(f)*(o-a),p+=a*m,m*=.5,l<<=1,h*=2,c<<=1,d*=2,u<<=1,f*=2,h>=1&&(l++,h--),d>=1&&(c++,d--),f>=1&&(u++,f--)}return p}noiseSeed(e){let t=(()=>{let e,t;return{setSeed(n){t=e=(n??4294967296*Math.random())>>>0},getSeed(){return e},rand(){return t=(1664525*t+1013904223)%4294967296,t/4294967296}}})();t.setSeed(e),this.perlin=new Array(4096);for(let e=0;e<4096;e++)this.perlin[e]=t.rand()}},coe=class extends(I7(nG)){constructor(e,t){super(),this.parameters=t,this.objectForSample=void 0,this._pendingMediaLoad=!1,this.object=e}resetOnMove(){this.removeFromParent(),this.parent=null}expandClones(e){if(null===this.parent)this.updateState(this.parameters,e);else for(let e of this.children)e instanceof L7&&e.expand()}invalidateTransform(e){this.matrixWorldNeedsUpdate=!0,this.traverse((t=>{t instanceof L7&&t.object===e&&(t.matrixWorldNeedsUpdate=!0)}))}onObjUpdateMatrix(){"toObject"!==this.parameters.type&&(this.matrixWorldNeedsUpdate=!0)}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters);break;case"toObject":this._updateToObject(this.parameters)}for(let e of this.children)e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD())}_updateCount(e){let t;if(t=void 0!==e?e:"grid"===this.parameters.type?Math.round(this.parameters.grid.count[0])*Math.round(this.parameters.grid.count[1])*Math.round(this.parameters.grid.count[2]):this.parameters.count,"toObject"===this.parameters.type&&!this.parameters.toObject.object&&(t=0),"toObject"===this.parameters.type&&this.objectForSample){for(let e=0,t=this.children.length;e<t;++e)this.remove(this.children[0]);let e=this.children;if(e.length===t)return;if(e.length<t)for(let n=0,r=t-e.length;n<r;++n){let e=new L7(this.object);e.expand(),this.add(e)}else for(let n=0,r=e.length-t;n<r;++n)this.remove(e[n])}else{if(this.children.length===t)return;if(this.children.length<t)for(let e=0,n=t-this.children.length;e<n;++e){let e=new L7(this.object);e.expand(),this.add(e)}else for(let e=0,n=this.children.length-t;e<n;++e)this.remove(this.children[0])}}_updateRadial(e){let t,n=e.radial,r=n.start*CV.DEG2RAD,i=r-n.end*CV.DEG2RAD,a=new jH(n.rotation[0],n.rotation[1],n.rotation[2]);switch(n.axis){case"z":t=new tH(0,0,1);break;case"y":t=new tH(0,1,0);break;default:t=new tH(1,0,0)}let o=e.randomnessObject??W4.defaultData([1,1,1]).randomnessObject,s="perlin"===o.noiseType;loe.noiseSeed(o.seed);let l=E7((0,v7.default)(o.seed)),c=Dae(o.strength,this.parameters.randomness);for(let[u,h]of this.children.entries()){let d=u*(o.freqScale/10)+o.movement,f=s?loe.noise(d):l(d,d),p=u+1;h.scale.x=n.scale[0]+c(p,kae(f,o.scale[0]))||Zae,h.scale.y=n.scale[1]+c(p,kae(f,o.scale[1]))||Zae,h.scale.z=n.scale[2]+c(p,kae(f,o.scale[2]))||Zae,h.position.setScalar(0);let m=i/e.count*u-r;switch(n.axis){case"x":h.rotation.set(0,m,0);break;case"y":h.rotation.set(0,0,m);break;case"z":h.rotation.set(m,0,0)}h.translateOnAxis(t,n.radius),h.position.x+=n.position[0]+c(p,kae(f,o.position[0])),h.position.y+=n.position[1]+c(p,kae(f,o.position[1])),h.position.z+=n.position[2]+c(p,kae(f,o.position[2]));let g=c(p,kae(f,o.rotation[0])),v=c(p,kae(f,o.rotation[1])),y=c(p,kae(f,o.rotation[2]));!0===n.alignment?(h.rotation.x+=a.x+g,h.rotation.y+=a.y+v,h.rotation.z+=a.z+y):h.rotation.set(a.x+g,a.y+v,a.z+y)}}_updateLinear(e){if("linear"!==e.type)throw new Error;let t=e.linear,n=new jH(t.rotation[0],t.rotation[1],t.rotation[2]),r=e.randomnessObject??W4.defaultData([1,1,1]).randomnessObject,i="perlin"===r.noiseType;loe.noiseSeed(r.seed);let a=E7((0,v7.default)(r.seed)),o=Dae(r.strength,this.parameters.randomness);for(let[e,s]of this.children.entries()){let l=e*(r.freqScale/10)+r.movement,c=i?loe.noise(l):a(l,l),u=e+1,h=o(u,kae(c,r.rotation[0])),d=o(u,kae(c,r.rotation[1])),f=o(u,kae(c,r.rotation[2]));s.scale.x=1+(t.scale[0]-1)*e+o(u,kae(c,r.scale[0]))||Zae,s.scale.y=1+(t.scale[1]-1)*e+o(u,kae(c,r.scale[1]))||Zae,s.scale.z=1+(t.scale[2]-1)*e+o(u,kae(c,r.scale[2]))||Zae,s.rotation.x=n.x*e+h,s.rotation.y=n.y*e+d,s.rotation.z=n.z*e+f,s.position.x=t.position[0]*e+o(u,kae(c,r.position[0])),s.position.y=t.position[1]*e+o(u,kae(c,r.position[1])),s.position.z=t.position[2]*e+o(u,kae(c,r.position[2]))}}_updateGrid(e){let t=0,n=e.grid,r=e.randomnessObject??W4.defaultData([1,1,1]).randomnessObject,i=Dae(r.strength,this.parameters.randomness),a="perlin"===r.noiseType;loe.noiseSeed(r.seed);let o=function(e=Math.random){let t=C7(e),n=new Float64Array(t).map((e=>S7[e%12*3])),r=new Float64Array(t).map((e=>S7[e%12*3+1])),i=new Float64Array(t).map((e=>S7[e%12*3+2]));return function(e,a,o){let s,l,c,u,h,d,f,p,m,g,v=.3333333333333333*(e+a+o),y=x7(e+v),w=x7(a+v),b=x7(o+v),x=(y+w+b)*b7,_=e-(y-x),S=a-(w-x),E=o-(b-x);_>=S?S>=E?(h=1,d=0,f=0,p=1,m=1,g=0):_>=E?(h=1,d=0,f=0,p=1,m=0,g=1):(h=0,d=0,f=1,p=1,m=0,g=1):S<E?(h=0,d=0,f=1,p=0,m=1,g=1):_<E?(h=0,d=1,f=0,p=0,m=1,g=1):(h=0,d=1,f=0,p=1,m=1,g=0);let C=_-h+b7,A=S-d+b7,T=E-f+b7,M=_-p+2*b7,P=S-m+2*b7,D=E-g+2*b7,k=_-1+.5,O=S-1+.5,I=E-1+.5,R=255&y,L=255&w,N=255&b,z=.6-_*_-S*S-E*E;if(z<0)s=0;else{let e=R+t[L+t[N]];z*=z,s=z*z*(n[e]*_+r[e]*S+i[e]*E)}let B=.6-C*C-A*A-T*T;if(B<0)l=0;else{let e=R+h+t[L+d+t[N+f]];B*=B,l=B*B*(n[e]*C+r[e]*A+i[e]*T)}let F=.6-M*M-P*P-D*D;if(F<0)c=0;else{let e=R+p+t[L+m+t[N+g]];F*=F,c=F*F*(n[e]*M+r[e]*P+i[e]*D)}let U=.6-k*k-O*O-I*I;if(U<0)u=0;else{let e=R+1+t[L+1+t[N+1]];U*=U,u=U*U*(n[e]*k+r[e]*O+i[e]*I)}return 32*(s+l+c+u)}}((0,v7.default)(r.seed));if(!0===n.useCenter){let e={x:n.count[0]%2==0?2:1,y:n.count[1]%2==0?2:1,z:n.count[2]%2==0?2:1},s=new tH(n.size[0]*(n.count[0]-e.x)*.5,n.size[1]*(n.count[1]-e.y)*.5,n.size[2]*(n.count[2]-e.z)*.5);for(let e=0;e<n.count[0];e++)for(let l=0;l<n.count[1];l++)for(let c=0;c<n.count[2];c++){let u=[(e+1)*(r.freqScale/10)+r.movement,(l+1)*(r.freqScale/10)+r.movement,(c+1)*(r.freqScale/10)+r.movement],h=a?loe.noise(...u):o(...u),d=this.children[t++];d.scale.x=1+i(t,kae(h,r.scale[0]))||Zae,d.scale.y=1+i(t,kae(h,r.scale[1]))||Zae,d.scale.z=1+i(t,kae(h,r.scale[2]))||Zae;let f=i(t,kae(h,r.rotation[0])),p=i(t,kae(h,r.rotation[1])),m=i(t,kae(h,r.rotation[2]));d.rotation.set(f,p,m),d.position.x=n.size[0]*e-s.x+i(t,kae(h,r.position[0])),d.position.y=n.size[1]*l-s.y+i(t,kae(h,r.position[1])),d.position.z=n.size[2]*c-s.z+i(t,kae(h,r.position[2]))}}else for(let e=0;e<n.count[0];e++)for(let s=0;s<n.count[1];s++)for(let l=0;l<n.count[2];l++){let c=[(e+1)*(r.freqScale/10)+r.movement,(s+1)*(r.freqScale/10)+r.movement,(l+1)*(r.freqScale/10)+r.movement],u=a?loe.noise(...c):o(...c),h=this.children[t++];h.scale.x=1+i(t,kae(u,r.scale[0]))||Zae,h.scale.y=1+i(t,kae(u,r.scale[1]))||Zae,h.scale.z=1+i(t,kae(u,r.scale[2]))||Zae;let d=i(t,kae(u,r.rotation[0])),f=i(t,kae(u,r.rotation[1])),p=i(t,kae(u,r.rotation[2]));h.rotation.set(d,f,p),h.position.x=n.size[0]*e+i(t,kae(u,r.position[0])),h.position.y=-n.size[1]*s+i(t,kae(u,r.position[1])),h.position.z=-n.size[2]*l+i(t,kae(u,r.position[2]))}}_updateToObject(e){if("toObject"!==e.type)throw new Error;let{toObject:t}=e,n=new jH(t.rotation[0],t.rotation[1],t.rotation[2]),r=e.randomnessObject??W4.defaultData([1,1,1]).randomnessObject,i="perlin"===r.noiseType;loe.noiseSeed(r.seed);let a=E7((0,v7.default)(r.seed)),o=Dae(r.strength,this.parameters.randomness);if(!t.object){for(let[,e]of this.children.entries())e.position.set(0,0,0),e.scale.setScalar(1),e.rotation.set(0,0,0);return void(this.objectForSample=void 0)}if(!this.objectForSample)return;if(this.objectForSample instanceof Kae){if(!this.objectForSample.font?.isLoaded||void 0===this.objectForSample.geometry.attributes.position)return void(this._pendingMediaLoad=!0);this._pendingMediaLoad=!1}if(void 0===this.objectForSample.geometry&&this.objectForSample.isAncestorOf(this.object.uuid))return void console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) seem to be a child/descendant of the object it's being cloned to. Please re-parent it so that they are siblings instead.`);let s=this.getSubdivData(),l=[],c=e=>{let t=e.length,n=e.map((e=>e[0])).reduce(((e,t)=>e+t),0),r=e.map((e=>e[1])).reduce(((e,t)=>e+t),0),i=e.map((e=>e[2])).reduce(((e,t)=>e+t),0);return[n/t,r/t,i/t]},u=e=>Math.round(1e6*e)/1e6;s.forEach((e=>{let t=s.filter((t=>u(e.pos[0])===u(t.pos[0])&&u(e.pos[1])===u(t.pos[1])&&u(e.pos[2])===u(t.pos[2])));t.length>1?l.push({pos:e.pos,norm:c(t.map((e=>e.norm)))}):l.push(e)}));let h=function(e){let t=[],n={};for(var r=0,i=e.length;r<i;r++){var a=JSON.stringify(e[r].pos.map((e=>Math.round(1e4*e)/1e4)));n[a]||(t.push(e[r]),n[a]=!0)}return t}(l);if(h.length>0){let e=Math.round(h.length*t.count/100);this._updateCount(e)}else{let e=this.objectForSample.geometry.getAttribute("position");if(!e||isNaN(e.count)||0===e.count)return void console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) cannot be cloned on the surface of "${this.objectForSample.name}" (${this.objectForSample.uuid}) because the latter does not have a valid geometry.`)}this.objectForSample.updateMatrixWorld();let d=new class{constructor(e){this.weightAttribute=null;let t=e.geometry;if(!t.isBufferGeometry||3!==t.attributes.position.itemSize)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.distribution=null}build(){let e=this.positionAttribute,t=new Float32Array(e.count/3);for(let n=0;n<e.count;n+=3){let r=1;T7.a.fromBufferAttribute(e,n),T7.b.fromBufferAttribute(e,n+1),T7.c.fromBufferAttribute(e,n+2),r*=T7.getArea(),t[n/3]=r}this.distribution=new Float32Array(e.count/3);let n=0;for(let e=0;e<t.length;e++)n+=t[e],this.distribution[e]=n;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t){if(this.distribution){let n=this.distribution[this.distribution.length-1],r=this.binarySearch(this.randomFunction()*n);return this.sampleFace(r,e,t)}}binarySearch(e){if(!this.distribution)return 0;let t=this.distribution,n=0,r=t.length-1,i=-1;for(;n<=r;){let a=Math.ceil((n+r)/2);if(0===a||t[a-1]<=e&&t[a]>e){i=a;break}e<t[a]?r=a-1:n=a+1}return i}sampleFace(e,t,n){let r=this.randomFunction(),i=this.randomFunction();return r+i>1&&(r=1-r,i=1-i),T7.a.fromBufferAttribute(this.positionAttribute,3*e),T7.b.fromBufferAttribute(this.positionAttribute,3*e+1),T7.c.fromBufferAttribute(this.positionAttribute,3*e+2),t.set(0,0,0).addScaledVector(T7.a,r).addScaledVector(T7.b,i).addScaledVector(T7.c,1-(r+i)),T7.getNormal(n),this}}(this.objectForSample).build(),f=Mae[t.axis],p=this.children;d.setRandomGenerator((0,v7.default)(this.object.uuid+t.seed));for(let[e,s]of p.entries()){let l=e*(r.freqScale/10)+r.movement,c=i?loe.noise(l):a(l,l),u=e+1,p=o(u,kae(c,r.rotation[0])),m=o(u,kae(c,r.rotation[1])),g=o(u,kae(c,r.rotation[2]));"random"===t.spreadType?d.sample(ioe,aoe):(h.length&&(ioe.fromArray(h[e].pos),aoe.fromArray(h[e].norm)),this.objectForSample instanceof Tae&&ioe.applyMatrix4(eoe.copy(this.objectForSample.matrixWorld).invert())),ioe.applyMatrix4(this.object.hiddenMatrix.clone().invert()),s.position.copy(ioe),noe.fromArray(f);let v="normal"===t.align?aoe:this.object.getWorldDirection(soe),y=roe.fromArray(t.position);roe.x+=roe.x+o(u,kae(c,r.position[0])),roe.y+=roe.y+o(u,kae(c,r.position[1])),roe.z+=roe.z+o(u,kae(c,r.position[2]));let w=Math.acos(v.dot(noe)),b=ooe.crossVectors(noe,v).normalize(),x=toe.makeRotationAxis(b,w),_=v.clone().cross(this.object.up).normalize(),S=_.clone().cross(v).normalize(),E=(new kH).makeBasis(_,v,S),C=new tH(noe.y,noe.z,noe.x).normalize(),A=C.clone().cross(noe).normalize(),T=(new kH).makeBasis(C,noe,A).invert(),M=(new kH).multiplyMatrices(E,T);s.rotation.setFromRotationMatrix(M),y.applyMatrix4(x),s.position.add(y),s.rotation.x=s.rotation.x+n.x+p,s.rotation.y=s.rotation.y+n.y+m,s.rotation.z=s.rotation.z+n.z+g,s.scale.setScalar(1),s.scale.x=s.scale.x+t.scale[0]+o(u,kae(c,r.scale[0]))||Zae,s.scale.y=s.scale.y+t.scale[1]+o(u,kae(c,r.scale[1]))||Zae,s.scale.z=s.scale.z+t.scale[2]+o(u,kae(c,r.scale[2]))||Zae,s.scale.multiply(this.object.scale),s.hiddenMatrix=this.object.hiddenMatrix}}getSubdivData(){if(!this.objectForSample)return[];let e=this.parameters.toObject.spreadType;if("random"===e)return[];if(this.objectForSample instanceof Tae){let t=this.objectForSample,n=Pae[e],r=Qae[n],i=Xae[n],a=Yae[n],o=[],s=r(t.subdivPointerNew);for(let e=0;e<=s-1;e++){let n=i(t.subdivPointerNew,e),r=a(t.subdivPointerNew,e);Jae.fromArray(n).applyMatrix4(t.matrixWorld),$ae.fromArray(r),o.push({pos:Jae.toArray(),norm:$ae.toArray()})}return o}return(this.objectForSample.geometry.index?function(e){let t=[];for(let n=0;n<=e.index.count;n++)if(Bae.fromArray(e.index.array,3*n),zae.setFromAttributeAndIndices(e.attributes.position,Bae.x,Bae.y,Bae.z),zae.getNormal(Fae),zae.getMidpoint(Uae),!(isNaN(Uae.x)||isNaN(Uae.y)||isNaN(Uae.z))){let{a:e,b:n,c:r}=zae,i=e.toArray(),a=n.toArray(),o=r.toArray(),s=e.distanceTo(n),l=n.distanceTo(r),c=r.distanceTo(e),u=Nae(i,a),h=Nae(a,o),d=Nae(o,i),f=[s,l,c],p=Math.max(...f),m=f.filter((e=>Math.round(e)===Math.round(p))).length>1,g=[],v=zae.getMidpoint(Uae).toArray();p===s&&!m&&(g=[h,d,d],v=u),p===l&&!m&&(g=[u,d,d],v=h),p===c&&!m&&(g=[u,h,h],v=d),m&&(g=[u,h,d]),t.push({vertices:[i,a,o],faceCenters:g,midpoint:v,norm:zae.getNormal(Fae).toArray()})}return t}(this.objectForSample.geometry):function(e){let t=[],{position:n}=e.attributes;for(let e=0;e<n.count;e++){zae.setFromAttributeAndIndices(n,3*e,3*e+1,3*e+2),zae.getNormal(Fae),zae.getMidpoint(Uae);let r=zae.a.toArray(),i=zae.b.toArray(),a=zae.c.toArray();t.push({vertices:[r,i,a],faceCenters:[Nae(r,i),Nae(i,a),Nae(a,r)],midpoint:Uae.toArray(),norm:Fae.toArray()})}return t}(this.objectForSample.geometry)).map(((t,n)=>"polygon_center"===e?{pos:t.midpoint,norm:t.norm}:"vertex"===e?[{pos:t.vertices[0],norm:t.norm},{pos:t.vertices[1],norm:t.norm},{pos:t.vertices[2],norm:t.norm}]:"edge"===e?[{pos:t.faceCenters[0],norm:t.norm},{pos:t.faceCenters[1],norm:t.norm},{pos:t.faceCenters[2],norm:t.norm}]:[])).flat()}updateState(e,t){if(this.parameters=W0(e),"toObject"!==this.parameters.type)(null===this.parent||this.parent!==this.object)&&(this.removeFromParent(),this.object.parent?.add(this),this.matrix=this.object.matrix,this.hiddenMatrix=this.object.hiddenMatrix,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1);else if(null===this.parent||this.parent.uuid!==this.parameters.toObject.object){this.removeFromParent();let e=t.find(this.parameters.toObject.object);this.objectForSample=e instanceof dne?e:void 0,this.matrix=new kH,this.hiddenMatrix=new kH,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1,e&&e.add(this)}this.update()}get pendingMediaLoad(){return this._pendingMediaLoad}},uoe=e=>{var t;return(t=class extends e{}).geometryHelper=new qG(30,30,30),t},hoe=new DH,doe=new _H,foe=new kH,poe=(e,t,n,r,i=!1)=>{let a=t,o=e.matrixWorld;if(null===a.boundingSphere&&a.computeBoundingSphere(),doe.copy(a.boundingSphere),doe.applyMatrix4(o),!1===n.ray.intersectsSphere(doe)||(foe.copy(o).invert(),hoe.copy(n.ray).applyMatrix4(foe),null!==a.boundingBox&&!1===hoe.intersectsBox(a.boundingBox)))return;let s,l,c,u,h,d,f=a.index,p=a.attributes.position,m=a.drawRange;if(!1===i){for(h=Math.max(0,m.start),d=Math.min(f.count,m.start+m.count);h<d;h+=3)if(l=f.getX(h),c=f.getX(h+1),u=f.getX(h+2),s=g(e,n,hoe,p,l,c,u),s)return s.faceIndex=Math.floor(h/3),void r.push(s)}else{let t=a.attributes.position,i=new tH,o=new tH,s=new tH,l=new tH,c=2,u=1/((e.scale.x+e.scale.y+e.scale.z)/3),h=u*u;for(let a=Math.max(0,m.start),u=Math.min(t.count,m.start+m.count)-1;a<u;a+=c){if(i.fromBufferAttribute(t,a),o.fromBufferAttribute(t,a+1),hoe.distanceSqToSegment(i,o,l,s)>h)continue;l.applyMatrix4(e.matrixWorld);let c=n.ray.origin.distanceTo(l);c<n.near||c>n.far||r.push({distance:c,point:s.clone().applyMatrix4(e.matrixWorld),object:e})}}function g(e,t,n,r,i,a,o){let s=new tH,l=new tH,c=new tH,u=new tH,h=new tH;if(s.fromBufferAttribute(r,i),l.fromBufferAttribute(r,a),c.fromBufferAttribute(r,o),null===n.intersectTriangle(s,l,c,!1,u))return null;h.copy(u),h.applyMatrix4(e.matrixWorld);let d=t.ray.origin.distanceTo(h);return d<t.near||d>t.far?null:{faceIndex:1,distance:d,point:h.clone(),object:e}}},moe=new tH,goe=new JG,voe=class extends gY{constructor(e){let t=new DG,n=new sY({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],a={},o=new HV(15711266),s=new HV(15711266),l=new HV(2857471);function c(e,t,n){u(e,n),u(t,n)}function u(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}c("n1","n2",o),c("n2","n4",o),c("n4","n3",o),c("n3","n1",o),c("f1","f2",o),c("f2","f4",o),c("f4","f3",o),c("f3","f1",o),c("n1","f1",o),c("n2","f2",o),c("n3","f3",o),c("n4","f4",o),c("p","n1",s),c("p","n2",s),c("p","n3",s),c("p","n4",s),c("u1","u2",l),c("u2","u3",l),c("u3","u1",l),t.setAttribute("position",new _G(r,3)),t.setAttribute("color",new _G(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}update(){let e=this.geometry,t=this.pointMap;goe.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let n=.8;yoe("n1",t,e,goe,-1,-1,n),yoe("n2",t,e,goe,1,-1,n),yoe("n3",t,e,goe,-1,1,n),yoe("n4",t,e,goe,1,1,n);let r=n;yoe("f1",t,e,goe,-1,-1,r),yoe("f2",t,e,goe,1,-1,r),yoe("f3",t,e,goe,-1,1,r),yoe("f4",t,e,goe,1,1,r),yoe("u1",t,e,goe,.35,1.1,.8),yoe("u2",t,e,goe,-.35,1.1,.8),yoe("u3",t,e,goe,0,1.55,.8),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function yoe(e,t,n,r,i,a,o){moe.set(i,a,o).unproject(r);let s=t[e];if(void 0!==s){let e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],moe.x,moe.y,moe.z)}}var woe,boe=class extends(uoe(voe)){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){poe(this.object,this.geometry,e,t,!0)}};(e=>{e.is=e=>"objectHelper"in e})(woe||(woe={}));var xoe=(e,t)=>class extends(t9(e)){constructor(){super(...arguments),this.objectHelper=new t(this),this.gizmos={}}get geometryHelper(){return t.geometryHelper}raycast(e,t){this.objectHelper.raycast(e,t)}showGizmos(){for(let e in this.gizmos){let t=this.gizmos[e];t instanceof QK&&(t.visible=!0)}}updateEntityBoxSize(e,t){this.objectHelper.visible&&this.geometryHelper instanceof qG?(e.setScalar(0),t.set(this.geometryHelper.parameters.width,this.geometryHelper.parameters.height,this.geometryHelper.parameters.height).multiplyScalar(.5)):super.updateEntityBoxSize(e,t)}hideGizmos(){for(let e in this.gizmos){let t=this.gizmos[e];t instanceof QK&&(t.visible=!1)}}},_oe=new tH,Soe=new tH,Eoe=new eH,Coe=new tH,Aoe=new tH,Toe=new tH,Moe=class extends(xoe(JG,boe)){constructor(e="",t={...X5.defaultData,name:""}){super(),this._cameraType="OrthographicCamera",this.targetOffset=G4.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.wasMovedByUser=!1,this.wasMovedBySwitchCameraAction=!1,this.super_Entity(e,t),this.previousProjectionMatrix=new kH,this.matrixAutoUpdate=!0,this.width=window.innerWidth,this.height=window.innerHeight;let n=this.width,r=this.height;this.orthoCamera=new EW(-.5*n,.5*n,.5*r,-.5*r,-5e4,1e4),this.perspCamera=new $G(45,n/r,50,1e4),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.objectHelper.update()}get isPerspectiveCamera(){return"PerspectiveCamera"===this.cameraType}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}set fov(e){this.perspCamera.fov=e}get fov(){return this.perspCamera.fov}setNear(e,t){"PerspectiveCamera"===e?this.perspCamera.near=t:this.orthoCamera.near=t}setZoom(e,t){t>=0&&("PerspectiveCamera"===e?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}set cameraType(e){"PerspectiveCamera"===e?this.toPerspective():"OrthographicCamera"===e&&this.toOrthographic()}get near(){return"PerspectiveCamera"===this._cameraType?this.perspCamera.near:this.orthoCamera.near}set near(e){"PerspectiveCamera"===this._cameraType?this.perspCamera.near=e:this.orthoCamera.near=e}get zoom(){return"PerspectiveCamera"===this._cameraType?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(e){e>=0&&("PerspectiveCamera"===this._cameraType?this.perspCamera.zoom=e:this.orthoCamera.zoom=e)}lookAt(e,t,n){"number"==typeof e&&(e=new tH(e,t,n)),super.lookAt(e),this.getWorldPosition(_oe),this.targetOffset=_oe.distanceTo(e)}getTarget(e=new tH){return this.getWorldDirection(Soe),this.getWorldPosition(_oe),Soe.multiplyScalar(this.targetOffset),e.copy(_oe).add(Soe),e}getDistanceToTarget(){let e=this.getTarget();return this.getWorldPosition(_oe),_oe.distanceTo(e)}updateUp(){this.getWorldQuaternion(Eoe),Coe.set(0,0,1).applyQuaternion(Eoe),Aoe.copy(nG.DEFAULT_UP),this.isUpVectorFlipped&&Aoe.negate(),Aoe.applyQuaternion(Eoe),Toe.copy(nG.DEFAULT_UP).projectOnPlane(Coe),this.angleOffsetFromUp=Toe.angleTo(Aoe),this.angleOffsetFromUp*=Toe.cross(Aoe).dot(Coe)>=0?1:-1}updateTransformState(e,t){let n=super.updateTransformState(e,t);return void 0!==e.isUpVectorFlipped&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateUp(),n}getViewFrontToObject(e){let t=e.getWorldPosition(new tH),n=e.getWorldDirection(new tH).multiplyScalar(this.targetOffset);return{position:t.clone().add(n),target:t}}getViewToTarget(e){let t=this.getWorldDirection(new tH).multiplyScalar(this.targetOffset);return{position:e.clone().sub(t),target:e}}getViewToObject(e){let t=new tH;return e.getWorldPosition(t),this.getViewToTarget(t)}setViewplaneSize(e,t,n=!1){if(this.aspect=e/t,n){let n=e>t?this.aspect:1,r=e>t?1:this.aspect;this.left=-395*n,this.right=395*n,this.top=1/r*395,this.bottom=1/r*-395}else this.left=.5*-e,this.right=.5*e,this.top=.5*t,this.bottom=.5*-t;this.updateProjectionMatrix()}copyViewPlaneSize(e){this.aspect=e.aspect,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(e){this.perspCamera.setFocalLength(e),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(e,t,n,r,i,a){"PerspectiveCamera"===this._cameraType?this.perspCamera.setViewOffset(e,t,n,r,i,a):this.orthoCamera.setViewOffset(e,t,n,r,i,a)}clearViewOffset(){"PerspectiveCamera"===this._cameraType?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}copyHistory(){this.previousProjectionMatrix&&this.previousProjectionMatrix.copy(this.projectionMatrix)}updateProjectionMatrix(){"PerspectiveCamera"===this._cameraType?this.toPerspective():"OrthographicCamera"===this._cameraType&&this.toOrthographic()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(e,t){return super.copy(e,t),this.parent=e.parent,this.orthoCamera.copy(e.orthoCamera),this.perspCamera.copy(e.perspCamera),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.far=e.far,this.view=null===e.view?null:Object.assign({},e.view),this._cameraType=e._cameraType,this.aspect=e.aspect,this.fov=e.fov,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.targetOffset=e.targetOffset,this.updateProjectionMatrix(),this}toCameraState(e=[]){let t={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return w1(t,e)}updateCameraSubtype(e,t){let n="perspective"===e?"PerspectiveCamera":"OrthographicCamera";void 0!==t.zoom&&this.setZoom(n,t.zoom),void 0!==t.near&&this.setNear(n,t.near),void 0!==t.fov&&"PerspectiveCamera"===n&&(this.fov=t.fov)}updateState(e,t){this.updateCameraState(e,t)}updateCameraState(e,t){this.updateState_Entity(e,t),void 0!==e.far&&(this.far=e.far),void 0!==e.orthographic&&this.updateCameraSubtype("orthographic",e.orthographic),void 0!==e.perspective&&this.updateCameraSubtype("perspective",e.perspective),void 0!==e.type&&(this.cameraType=e.type),void 0!==e.up&&this.up.fromArray(e.up),void 0!==e.targetOffset&&(this.targetOffset=e.targetOffset),void 0!==e.isUpVectorFlipped&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateProjectionMatrix()}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),1===e.path.length&&0===e.type&&this.updateCameraSubtype(e.path[0],e.props)}toState(e){return{...super.toState(e),...this.toCameraState(e),type:this.cameraType}}},Poe=new kH,Doe=new kH,koe=new kH,Ooe=new tH,Ioe=new tH;function Roe(e){let t=!1;return e.scene.objects.traverse(((e,n)=>{"BooleanGeometry"===n.geometry?.type&&(t=!0)})),t}var Loe,Noe=class extends mae{constructor(e,t,n){super(e,t),this.data=t,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry=new DG,this.onAfterRender=(e,t,n,r,i,a)=>{super.onAfterRender(e,t,n,r,i,a),this.recomputeBoolean()},this.geometry.userData.parameters={width:0,height:0,depth:0}}get booleanOp(){return this.data.geometry.operation}get phongAngle(){return this.data.geometry.phongAngle??45}get isLOD(){return this.recomputeBoolean(),!1}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),1===e.path.length&&"geometry"===e.path[0]&&0===e.type&&void 0!==e.props.operation&&(this.freeBooleanPointer(),this.resetBBoxNeedsUpdate())}freeBooleanPointer(){super.freeBooleanPointer(),this.geometry.dispose()}recomputeBoolean(e,t=!0){if(-1!==this.booleanMeshSetAddress&&!e)return;for(let n=0;n<this.children.length;n++){let r=this.children[n];r instanceof Noe&&!0===r.dataPatched.visible&&r.recomputeBoolean(!0===e,t)}this.meshSetAddresses=[];for(let n=0;n<this.children.length;n++){let r=this.children[n];if(r instanceof dne&&!0===r.dataPatched.visible&&r.geometry.attributes.position?.count>0&&r.geometry.drawRange.count>0&&0!==r.booleanMeshSetAddress){Poe.multiplyMatrices(r.hiddenMatrix,r.matrix);try{if(-1===r.booleanMeshSetAddress){if((r.geometry.index??r.geometry.getAttribute("position")).count/3<15e5&&(r.booleanMeshSetAddress=Qte.getMeshSet(r.geometry,!0===e,t)),-1===r.booleanMeshSetAddress)return;Qte.transformMeshSet(r.booleanMeshSetAddress,Poe),r.booleanMatrixInvOld.copy(Poe).invert(),r.booleanWasTransformed=!1}else r instanceof Noe&&!0===r.needsTransformForDownstream?(Qte.transformMeshSet(r.booleanMeshSetAddress,Poe),r.needsTransformForDownstream=!1):!0===r.booleanWasTransformed&&(Qte.transformMeshSet(r.booleanMeshSetAddress,Doe.multiplyMatrices(Poe,r.booleanMatrixInvOld)),r.booleanMatrixInvOld.copy(Poe).invert(),r.booleanWasTransformed=!1)}catch(e){console.error(e),r.booleanMeshSetAddress=0,r.geometry.userData.booleanOperationDidFail=!0;continue}!1===Qte.hasOpenEdges(r.booleanMeshSetAddress)||n===this.children.length-1&&2===this.booleanOp?(this.meshSetAddresses.push(r.booleanMeshSetAddress),r.geometry.userData.booleanOperationDidFail=!1):r.geometry.userData.booleanOperationDidFail="openEdges"}}if(0===this.meshSetAddresses.length)return this.geometry.setAttribute("position",new _G([],0)),void this.geometry.setDrawRange(0,0);if(!0===e)return Qte.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let n=this.geometry;n.dispose(),this.geometry=new DG,this.geometry.userData=n.userData,this.geometry.boundingSphere=n.boundingSphere;try{this.booleanMeshSetAddress=Qte.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(e){this.booleanMeshSetAddress=0,this.geometry.userData.booleanOperationDidFail=!0,console.error(e)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,_ae(this),Sae(this)}dispose(){super.dispose(),this.geometry.dispose()}get recursiveBBox(){let e=super.recursiveBBox;return-1===this.geometry.boundingSphere?.radius&&(e.getCenter(this.geometry.boundingSphere.center),koe.copy(this.matrixWorld).invert(),this.geometry.boundingSphere.center.applyMatrix4(koe),Ooe.copy(e.max).applyMatrix4(koe),Ioe.copy(e.min).applyMatrix4(koe),this.geometry.boundingSphere.radius=Ooe.distanceTo(Ioe)/2),e}};(e=>{e.is=function(e){return O7.is(e)&&e instanceof KQ}})(Loe||(Loe={}));var zoe=(e,t)=>class extends(xoe(e,t)){updateState_Light(e,t){this.updateState_Entity(e,t),void 0!==e.color&&(this.color=t.shared.color(e.color)),void 0!==e.intensity&&(this.intensity=e.intensity),void 0!==e.depth&&(this.shadow.camera.far=e.depth,this.shadow.needsUpdate=!0),void 0!==e.shadows&&(this.castShadow=e.shadows)}},Boe=e=>e instanceof dne,Foe=e=>null!==e&&e instanceof Noe,Uoe=e=>woe.is(e),joe=class extends(uoe(KK)){constructor(e,t=15){super(t),this.object=e,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.object.isBone&&(this.visible=!1)}raycast(e,t){poe(this.object,joe.geometryHelper,e,t)}update(){}},Voe=class extends(xoe(zX,joe)){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t),"buffer"in e&&1===Object.keys(e).length&&t.scene.reloadSplats()}},Hoe=class extends(xoe(zX,joe)){constructor(e,t,n){super(),this.super_Entity(e,t),this.context=n,this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t)}},Goe="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",Woe=class extends ZG{constructor(e=!1,t=!1){super({name:"BokehMaterial",defines:{PASS:e?"2":"1"},uniforms:{kernel64:new MK(null),kernel16:new MK(null),inputBuffer:new MK(null),cocBuffer:new MK(null),texelSize:new MK(new AV),scale:new MK(1)},blending:QF,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;\n#if PASS == 1\nuniform vec4 kernel64[32];\n#else\nuniform vec4 kernel16[8];\n#endif\nvarying vec2 vUv;void main(){\n#ifdef FOREGROUND\nvec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;\n#else\nfloat CoC=texture2D(cocBuffer,vUv).g*scale;\n#endif\nif(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\n#ifdef FOREGROUND\nvec2 step=texelSize*max(CoC,CoCNearFar.g*scale);\n#else\nvec2 step=texelSize*CoC;\n#endif\n#if PASS == 1\nvec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;\n#else\nvec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;\n#endif\n}}",vertexShader:Goe}),this.toneMapped=!1,t&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set cocBuffer(e){this.uniforms.cocBuffer.value=e}setCoCBuffer(e){this.uniforms.cocBuffer.value=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(e){return this.uniforms.scale.value=e}setScale(e){this.uniforms.scale.value=e}generateKernel(){let e=new Float32Array(128),t=new Float32Array(32),n=0,r=0;for(let i=0;i<80;++i){let a=2.39996323*i,o=Math.sqrt(i)/Math.sqrt(80),s=o*Math.cos(a),l=o*Math.sin(a);i%5==0?(t[r++]=s,t[r++]=l):(e[n++]=s,e[n++]=l)}let i=[],a=[];for(let t=0;t<128;)i.push(new KV(e[t++],e[t++],e[t++],e[t++]));for(let e=0;e<32;)a.push(new KV(t[e++],t[e++],t[e++],t[e++]));this.uniforms.kernel64.value=i,this.uniforms.kernel16.value=a}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}};function qoe(e,t,n){return e*(t-n)-t}function Xoe(e,t,n){return Math.min(Math.max((e+t)/(t-n),0),1)}var Yoe=class extends ZG{constructor(e){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new MK(null),focusDistance:new MK(0),focusRange:new MK(0),cameraNear:new MK(.3),cameraFar:new MK(1e3)},blending:QF,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <packing>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}void main(){float depth=readDepth(vUv);\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);\n#else\nfloat linearDepth=depth;\n#endif\nfloat signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}",vertexShader:Goe}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.adoptCameraSettings(e)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=tV){this.depthBuffer=e,this.depthPacking=t}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(e){this.uniforms.focusDistance.value=e}get worldFocusDistance(){return-qoe(this.focusDistance,this.near,this.far)}set worldFocusDistance(e){this.focusDistance=Xoe(-e,this.near,this.far)}getFocusDistance(e){this.uniforms.focusDistance.value=e}setFocusDistance(e){this.uniforms.focusDistance.value=e}get focalLength(){return this.focusRange}set focalLength(e){this.focusRange=e}get focusRange(){return this.uniforms.focusRange.value}set focusRange(e){this.uniforms.focusRange.value=e}get worldFocusRange(){return-qoe(this.focusRange,this.near,this.far)}set worldFocusRange(e){this.focusRange=Xoe(-e,this.near,this.far)}getFocalLength(e){return this.focusRange}setFocalLength(e){this.focusRange=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof $G?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Qoe=class extends ZG{constructor(e=new AV){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new MK(null),texelSize:new MK(new AV),halfTexelSize:new MK(new AV),kernel:new MK(0),scale:new MK(1)},blending:QF,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <encodings_fragment>\n#include <dithering_fragment>\n}",vertexShader:"uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1,this.setTexelSize(e.x,e.y)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setSize(e,t){let n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.halfTexelSize.value.copy(n.texelSize.value).multiplyScalar(.5)}},Koe=class extends ZG{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new MK(null),opacity:new MK(1)},blending:QF,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <encodings_fragment>\n}",vertexShader:Goe}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},Zoe=class extends ZG{constructor(e=new AV,t=2){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:FF.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new MK(null),depthBuffer:new MK(null),predicationBuffer:new MK(null),texelSize:new MK(e)},blending:QF,depthWrite:!1,depthTest:!1,fragmentShader:"varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\n#if EDGE_DETECTION_MODE == 1\n#include <common>\n#endif\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\n#elif PREDICATION_MODE == 2\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\n#endif\n#if PREDICATION_MODE != 0\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\n#endif\n#if EDGE_DETECTION_MODE != 0\nuniform sampler2D inputBuffer;\n#endif\nvoid main(){\n#if EDGE_DETECTION_MODE == 0\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\n#elif PREDICATION_MODE != 0\nvec2 threshold=calculatePredicatedThreshold();\n#else\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\n#endif\n#if EDGE_DETECTION_MODE == 0\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 1\nfloat l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 2\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#endif\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1,this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=tV){this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(.1*e).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},Joe={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},$oe=class extends ZG{constructor(e,t,n,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:FF.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new MK(null),depthBuffer:new MK(null),resolution:new MK(new AV),texelSize:new MK(new AV),cameraNear:new MK(.3),cameraFar:new MK(1e3),aspect:new MK(1),time:new MK(0)},blending:QF,depthWrite:!1,depthTest:!1,dithering:i}),this.toneMapped=!1,e&&this.setShaderParts(e),t&&this.setDefines(t),n&&this.setUniforms(n),this.adoptCameraSettings(r)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=tV){this.depthBuffer=e,this.depthPacking=t}setShaderParts(e){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if THREE_REVISION >= 137\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <encodings_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(Joe.FRAGMENT_HEAD,e.get(Joe.FRAGMENT_HEAD)).replace(Joe.FRAGMENT_MAIN_UV,e.get(Joe.FRAGMENT_MAIN_UV)).replace(Joe.FRAGMENT_MAIN_IMAGE,e.get(Joe.FRAGMENT_MAIN_IMAGE)),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}".replace(Joe.VERTEX_HEAD,e.get(Joe.VERTEX_HEAD)).replace(Joe.VERTEX_MAIN_SUPPORT,e.get(Joe.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(e){for(let t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(let t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(let t of e)this.extensions[t]=!0;return this}get encodeOutput(){return void 0!==this.defines.ENCODE_OUTPUT}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof $G?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){let n=this.uniforms;n.resolution.value.set(e,t),n.texelSize.value.set(1/e,1/t),n.aspect.value=e/t}static get Section(){return Joe}},ese=class extends ZG{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:FF.replace(/\D+/g,"")},uniforms:{inputBuffer:new MK(null),threshold:new MK(0),smoothing:new MK(1),range:new MK(null)},blending:QF,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l);\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*l,l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}",vertexShader:Goe}),this.toneMapped=!1,this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return void 0!==this.defines.COLOR}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return null!==this.luminanceRange}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){null!==e?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},tse=class extends ZG{constructor(e=null){super({name:"MaskMaterial",uniforms:{maskTexture:new MK(e),inputBuffer:new MK(null),strength:new MK(1)},blending:QF,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef MASK_PRECISION_HIGH\nuniform mediump sampler2D maskTexture;\n#else\nuniform lowp sampler2D maskTexture;\n#endif\n#if MASK_FUNCTION != 0\nuniform float strength;\n#endif\nvarying vec2 vUv;void main(){\n#if COLOR_CHANNEL == 0\nfloat mask=texture2D(maskTexture,vUv).r;\n#elif COLOR_CHANNEL == 1\nfloat mask=texture2D(maskTexture,vUv).g;\n#elif COLOR_CHANNEL == 2\nfloat mask=texture2D(maskTexture,vUv).b;\n#else\nfloat mask=texture2D(maskTexture,vUv).a;\n#endif\n#if MASK_FUNCTION == 0\n#ifdef INVERTED\nmask=step(mask,0.0);\n#else\nmask=1.0-step(mask,0.0);\n#endif\n#else\nmask=clamp(mask*strength,0.0,1.0);\n#ifdef INVERTED\nmask=1.0-mask;\n#endif\n#endif\n#if MASK_FUNCTION == 2\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\n#else\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\n#endif\n}",vertexShader:Goe}),this.toneMapped=!1,this.setColorChannel(0),this.setMaskFunction(0)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set maskTexture(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==YU&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(e){this.maskTexture=e}set colorChannel(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}setColorChannel(e){this.colorChannel=e}set maskFunction(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}setMaskFunction(e){this.maskFunction=e}get inverted(){return void 0!==this.defines.INVERTED}set inverted(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get strength(){return this.uniforms.strength.value}set strength(e){this.uniforms.strength.value=e}getStrength(){return this.strength}setStrength(e){this.strength=e}},nse=class extends ZG{constructor(e=new AV,t=new AV){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new MK(null),searchTexture:new MK(null),areaTexture:new MK(null),resolution:new MK(t),texelSize:new MK(e)},blending:QF,depthWrite:!1,depthTest:!1,fragmentShader:"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}",vertexShader:"uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}"}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){let t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){let t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return void 0===this.defines.DISABLE_DIAG_DETECTION}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){let t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return void 0===this.defines.DISABLE_CORNER_DETECTION}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){let n=this.uniforms;n.texelSize.value.set(1/e,1/t),n.resolution.value.set(e,t)}},rse=new JG,ise=null,ase=class{constructor(e="Pass",t=new qX,n=rse){this.name=e,this.renderer=null,this.scene=t,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){let t=this.getFullscreenMaterial();null!==t&&(t.needsUpdate=!0),this.rtt=!e}}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return null!==this.screen?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;null!==t?t.material=e:(t=new GG(function(){if(null===ise){let e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);void 0!==(ise=new DG).setAttribute?(ise.setAttribute("position",new wG(e,3)),ise.setAttribute("uv",new wG(t,2))):(ise.addAttribute("position",new wG(e,3)),ise.addAttribute("uv",new wG(t,2)))}return ise}(),e),t.frustumCulled=!1,null===this.scene&&(this.scene=new qX),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=tV){}render(e,t,n,r,i){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,n){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(null!==t&&"function"==typeof t.dispose){if(t instanceof qX||t===this.renderer)continue;this[e].dispose()}}}},ose=class extends ase{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new Koe,this.needsSwap=!1,this.renderTarget=e,void 0===e&&(this.renderTarget=new ZV(1,1,{minFilter:WU,magFilter:WU,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,n,r,i){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,n){void 0!==n&&(this.renderTarget.texture.type=n,n!==YU?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===eV&&(this.renderTarget.texture.encoding=eV))}},sse=class extends ase{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,n,r,i){let a=e.state.buffers.stencil;a.setLocked(!1),a.setTest(!1)}},lse=new HV,cse=class extends ase{constructor(e=!0,t=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,n){this.color=e,this.depth=t,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,n,r,i){let a=this.overrideClearColor,o=this.overrideClearAlpha,s=e.getClearAlpha(),l=null!==a,c=o>=0;l?(lse.copy(e.getClearColor(lse)),e.setClearColor(a,c?o:s)):c&&e.setClearAlpha(o),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(lse,s):c&&e.setClearAlpha(s)}},use=-1,hse=class extends hV{constructor(e,t=-1,n=-1,r=1){super(),this.resizable=e,this.base=new AV(1,1),this.preferred=new AV(t,n),this.target=this.preferred,this.s=r}get width(){let e,{base:t,preferred:n,scale:r}=this;return e=n.width!==use?n.width:n.height!==use?Math.round(n.height*(t.width/Math.max(t.height,1))):Math.round(t.width*r),e}set width(e){this.preferredWidth=e}get height(){let e,{base:t,preferred:n,scale:r}=this;return e=n.height!==use?n.height:n.width!==use?Math.round(n.width/Math.max(t.width/Math.max(t.height,1),1)):Math.round(t.height*r),e}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferred.setScalar(use),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.base.width}set baseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(e){this.base.height!==e&&(this.base.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.base.width!==e||this.base.height!==t)&&(this.base.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(e){this.preferred.width!==e&&(this.preferred.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferred.height}set preferredHeight(e){this.preferred.height!==e&&(this.preferred.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferred.width!==e||this.preferred.height!==t)&&(this.preferred.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(e){this.base.set(e.getBaseWidth(),e.getBaseHeight()),this.preferred.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return use}},dse=!1,fse=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case YF:t=this.materialsFlatShadedDoubleSide;break;case XF:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded}else switch(e.material.side){case YF:t=this.materialsDoubleSide;break;case XF:t=this.materialsBackSide;break;default:t=this.materials}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}setMaterial(e){if(this.disposeMaterials(),this.material=e,null!==e){let t=this.materials=[e.clone(),e.clone(),e.clone()];for(let n of t)n.uniforms=Object.assign({},e.uniforms),n.side=qF;t[2].skinning=!0,this.materialsBackSide=t.map((t=>{let n=t.clone();return n.uniforms=Object.assign({},e.uniforms),n.side=XF,n})),this.materialsDoubleSide=t.map((t=>{let n=t.clone();return n.uniforms=Object.assign({},e.uniforms),n.side=YF,n})),this.materialsFlatShaded=t.map((t=>{let n=t.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n})),this.materialsFlatShadedBackSide=t.map((t=>{let n=t.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=XF,n})),this.materialsFlatShadedDoubleSide=t.map((t=>{let n=t.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=YF,n}))}}render(e,t,n){let r=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,dse){let r=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,n);for(let e of r)e[0].material=e[1];this.meshCount!==r.size&&r.clear()}else{let r=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,n),t.overrideMaterial=r}e.shadowMap.enabled=r}disposeMaterials(){if(null!==this.material){let e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(let t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return dse}static set workaroundEnabled(e){dse=e}},pse=class extends ase{constructor(e,t,n=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new cse,this.overrideMaterialManager=null===n?null:new fse(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){let e=this.overrideMaterialManager;return null!==e?e.material:null}set overrideMaterial(e){let t=this.overrideMaterialManager;null!==e?null!==t?t.setMaterial(e):this.overrideMaterialManager=new fse(e):null!==t&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,n,r,i){let a=this.scene,o=this.camera,s=this.selection,l=o.layers.mask,c=a.background,u=e.shadowMap.autoUpdate,h=this.renderToScreen?null:t;null!==s&&o.layers.set(s.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||null!==this.clearPass.overrideClearColor)&&(a.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(h),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(e,a,o):e.render(a,o),o.layers.mask=l,a.background=c,e.shadowMap.autoUpdate=u}},mse=class extends ase{constructor(e,t,{resolutionScale:n=1,width:r=hse.AUTO_SIZE,height:i=hse.AUTO_SIZE,renderTarget:a}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new pse(e,t,new MX({depthPacking:nV}));let o=this.renderPass;o.skipShadowMapUpdate=!0,o.ignoreBackground=!0;let s=o.getClearPass();s.overrideClearColor=new HV(16777215),s.overrideClearAlpha=1,this.renderTarget=a,void 0===this.renderTarget&&(this.renderTarget=new ZV(1,1,{minFilter:VU,magFilter:VU,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");let l=this.resolution=new hse(this,r,i,n);l.addEventListener("change",(e=>this.setSize(l.baseWidth,l.baseHeight)))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,r,i){let a=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,a)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}},gse=(new Float32Array([255/256/256**3,255/256/65536,255/256/256,255/256]),{SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18}),vse=new Map([[gse.SKIP,null],[gse.ADD,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}"],[gse.ALPHA,"vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}"],[gse.AVERAGE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}"],[gse.COLOR_BURN,"float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[gse.COLOR_DODGE,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[gse.DARKEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}"],[gse.DIFFERENCE,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}"],[gse.EXCLUSION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}"],[gse.LIGHTEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}"],[gse.MULTIPLY,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}"],[gse.DIVIDE,"float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[gse.NEGATION,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}"],[gse.NORMAL,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}"],[gse.OVERLAY,"float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[gse.REFLECT,"float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[gse.SCREEN,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}"],[gse.SOFT_LIGHT,"float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[gse.SUBTRACT,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}"]]),yse=class extends hV{constructor(e,t=1){super(),this.f=e,this.opacity=new MK(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this.f}set blendFunction(e){this.f=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return vse.get(this.blendFunction)}},wse={NONE:0,DEPTH:1,CONVOLUTION:2},bse=class extends hV{constructor(e,t,{attributes:n=wse.NONE,blendFunction:r=gse.SCREEN,defines:i=new Map,uniforms:a=new Map,extensions:o=null,vertexShader:s=null}={}){super(),this.name=e,this.renderer=null,this.attributes=n,this.fragmentShader=t,this.vertexShader=s,this.defines=i,this.uniforms=a,this.extensions=o,this.blendMode=new yse(r),this.blendMode.addEventListener("change",(e=>this.setChanged()))}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=tV){}update(e,t,n){}setSize(e,t){}initialize(e,t,n){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(null!==t&&"function"==typeof t.dispose){if(t instanceof qX||t===this.renderer)continue;this[e].dispose()}}}};function xse(e,t,n){for(let r of t){let t="$1"+e+r.charAt(0).toUpperCase()+r.slice(1),i=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(let e of n.entries())null!==e[1]&&n.set(e[0],e[1].replace(i,t))}}function _se(e,t,n,r,i,a,o){let s=new Map([["fragment",t.getFragmentShader()],["vertex",t.getVertexShader()]]),l=void 0!==s.get("fragment")&&/mainImage/.test(s.get("fragment")),c=void 0!==s.get("fragment")&&/mainUv/.test(s.get("fragment")),u=[],h=[],d=!1,f=!1;if(void 0===s.get("fragment"))console.error("Missing fragment shader",t);else if(c&&0!=(o&wse.CONVOLUTION))console.error("Effects that transform UV coordinates are incompatible with convolution effects",t);else if(l||c){let p=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,m=$oe.Section;if(c){let t=`\t${e}MainUv(UV);\n`;n.set(m.FRAGMENT_MAIN_UV,n.get(m.FRAGMENT_MAIN_UV)+t),d=!0}if(null!==s.get("vertex")&&/mainSupport/.test(s.get("vertex"))){let t=`\t${e}MainSupport(`;t+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(s.get("vertex"))?"vUv);\n":");\n",n.set(m.VERTEX_MAIN_SUPPORT,n.get(m.VERTEX_MAIN_SUPPORT)+t),u=u.concat([...s.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map((e=>e[1]))),h=h.concat(u).concat([...s.get("vertex").matchAll(p)].map((e=>e[1])))}h=h.concat([...s.get("fragment").matchAll(p)].map((e=>e[1]))),h=h.concat([...t.defines.keys()].map((e=>e.replace(/\([\w\s,]*\)/g,"")))),h=h.concat([...t.uniforms.keys()]),t.uniforms.forEach(((t,n)=>a.set(e+n.charAt(0).toUpperCase()+n.slice(1),t))),t.defines.forEach(((t,n)=>i.set(e+n.charAt(0).toUpperCase()+n.slice(1),t))),xse(e,h,i),xse(e,h,s);let g=t.blendMode;if(r.set(g.blendFunction,g),l){let t=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/,r=`${e}MainImage(color0, UV, `;0!=(o&wse.DEPTH)&&t.test(s.get("fragment"))&&(r+="depth, ",f=!0),r+="color1);\n\t";let i=e+"BlendOpacity";a.set(i,g.opacity),r+=`color0 = blend${g.blendFunction}(color0, color1, ${i});\n\n\t`,n.set(m.FRAGMENT_MAIN_IMAGE,n.get(m.FRAGMENT_MAIN_IMAGE)+r),r=`uniform float ${i};\n\n`,n.set(m.FRAGMENT_HEAD,n.get(m.FRAGMENT_HEAD)+r)}n.set(m.FRAGMENT_HEAD,n.get(m.FRAGMENT_HEAD)+s.get("fragment")+"\n"),null!==s.get("vertex")&&n.set(m.VERTEX_HEAD,n.get(m.VERTEX_HEAD)+s.get("vertex")+"\n")}else console.error("The fragment shader contains neither a mainImage nor a mainUv function",t);return{varyings:u,transformedUv:d,readDepth:f}}var Sse=class extends ase{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new $oe(null,null,null,e),this.effects=t.sort(((e,t)=>t.attributes-e.attributes)),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){let t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}verifyResources(){let e=this.renderer.capabilities,t=Math.min(e.maxFragmentUniforms,e.maxVertexUniforms);this.uniformCount>t&&console.warn("The current rendering context doesn't support more than "+t+" uniforms, but "+this.uniformCount+" were defined"),t=e.maxVaryings,this.varyingCount>t&&console.warn("The current rendering context doesn't support more than "+t+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){let e=$oe.Section,t=new Map([[e.FRAGMENT_HEAD,""],[e.FRAGMENT_MAIN_UV,""],[e.FRAGMENT_MAIN_IMAGE,""],[e.VERTEX_HEAD,""],[e.VERTEX_MAIN_SUPPORT,""]]),n=new Map,r=new Map,i=new Map,a=new Set,o=0,s=0,l=0,c=!1,u=!1;for(let e of this.effects)if(e.blendMode.blendFunction===gse.SKIP)l|=e.getAttributes()&wse.DEPTH;else if(0!=(l&e.getAttributes()&wse.CONVOLUTION))console.error("Convolution effects cannot be merged",e);else{l|=e.getAttributes();let h=_se("e"+o++,e,t,n,r,i,l);if(s+=h.varyings.length,c=c||h.transformedUv,u=u||h.readDepth,null!==e.extensions)for(let t of e.extensions)a.add(t)}let h=/\bblend\b/g;for(let r of n.values()){let n=r.getShaderCode().replace(h,`blend${r.blendFunction}`);t.set(e.FRAGMENT_HEAD,t.get(e.FRAGMENT_HEAD)+n+"\n")}if(0!=(l&wse.DEPTH)){if(u){let n="float depth = readDepth(UV);\n\n\t";t.set(e.FRAGMENT_MAIN_IMAGE,n+t.get(e.FRAGMENT_MAIN_IMAGE))}this.needsDepthTexture=null===this.getDepthTexture()}else this.needsDepthTexture=!1;if(c){let n="vec2 transformedUv = vUv;\n";t.set(e.FRAGMENT_MAIN_UV,n+t.get(e.FRAGMENT_MAIN_UV)),r.set("UV","transformedUv")}else r.set("UV","vUv");t.forEach(((e,t,n)=>n.set(t,e.trim().replace(/^#/,"\n#")))),this.uniformCount=i.size,this.varyingCount=s,this.skipRendering=0===o,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(t).setExtensions(a).setUniforms(i).setDefines(r)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=tV){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(let n of this.effects)n.setDepthTexture(e,t)}render(e,t,n,r,i){for(let n of this.effects)n.update(e,t,r);if(!this.skipRendering||this.renderToScreen){let i=this.fullscreenMaterial;i.inputBuffer=t.texture,i.time+=r,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(let n of this.effects)n.setSize(e,t)}initialize(e,t,n){this.renderer=e;for(let r of this.effects)r.initialize(e,t,n),r.addEventListener("change",(e=>this.handleEvent(e)));this.updateMaterial(),this.verifyResources(),void 0!==n&&n!==YU&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(let e of this.effects)e.dispose()}handleEvent(e){"change"===e.type&&this.recompile()}},Ese=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],Cse=class extends ase{constructor({resolutionScale:e=.5,width:t=hse.AUTO_SIZE,height:n=hse.AUTO_SIZE,kernelSize:r=Dse.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new ZV(1,1,{minFilter:WU,magFilter:WU,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let i=this.resolution=new hse(this,t,n,e);i.addEventListener("change",(e=>this.setSize(i.baseWidth,i.baseHeight))),this.blurMaterial=new Qoe,this.ditheredBlurMaterial=new Qoe,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=r}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,r,i){let a,o,s=this.scene,l=this.camera,c=this.renderTargetA,u=this.renderTargetB,h=Ese[this.kernelSize],d=this.blurMaterial,f=t;for(this.fullscreenMaterial=d,a=0,o=h.length-1;a<o;++a){let t=0==(1&a)?c:u;d.kernel=h[a],d.inputBuffer=f.texture,e.setRenderTarget(t),e.render(s,l),f=t}this.dithering&&(d=this.ditheredBlurMaterial,this.fullscreenMaterial=d),d.kernel=h[a],d.inputBuffer=f.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(s,l)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t);let r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(r,i),this.ditheredBlurMaterial.setSize(r,i)}initialize(e,t,n){void 0!==n&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==YU?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===eV&&(this.renderTargetA.texture.encoding=eV,this.renderTargetB.texture.encoding=eV))}static get AUTO_SIZE(){return hse.AUTO_SIZE}},Ase=class extends ase{constructor({width:e=hse.AUTO_SIZE,height:t=hse.AUTO_SIZE,renderTarget:n,luminanceRange:r,colorOutput:i}={}){super("LuminancePass"),this.fullscreenMaterial=new ese(i,r),this.needsSwap=!1,this.renderTarget=n,void 0===this.renderTarget&&(this.renderTarget=new ZV(1,1,{minFilter:WU,magFilter:WU,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target",this.renderTarget.texture.generateMipmaps=!1);let a=this.resolution=new hse(this,e,t);a.addEventListener("change",(e=>this.setSize(a.baseWidth,a.baseHeight)))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,n,r,i){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}initialize(e,t,n){void 0!==n&&n!==YU&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},Tse=class extends ase{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new cse(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,n,r,i){let a=e.getContext(),o=e.state.buffers,s=this.scene,l=this.camera,c=this.clearPass,u=this.inverted?0:1,h=1-u;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),o.stencil.setFunc(a.ALWAYS,u,4294967295),o.stencil.setClear(h),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(e,null):(c.render(e,t),c.render(e,n))),this.renderToScreen?(e.setRenderTarget(null),e.render(s,l)):(e.setRenderTarget(t),e.render(s,l),e.setRenderTarget(n),e.render(s,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(a.EQUAL,1,4294967295),o.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),o.stencil.setLocked(!0)}},Mse=class extends ase{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.inputBufferUniform=null,this.setInput(t)}setInput(e){if(this.inputBufferUniform=null,null!==this.fullscreenMaterial){let t=this.fullscreenMaterial.uniforms;void 0!==t&&void 0!==t[e]&&(this.inputBufferUniform=t[e])}}render(e,t,n,r,i){null!==this.inputBufferUniform&&null!==t&&(this.inputBufferUniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}initialize(e,t,n){void 0!==n&&n!==YU&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},Pse=.001,Dse={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},kse=class extends bse{constructor({blendFunction:e=gse.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:n=.025,resolutionScale:r=.5,intensity:i=1,width:a=hse.AUTO_SIZE,height:o=hse.AUTO_SIZE,kernelSize:s=Dse.LARGE}={}){super("BloomEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}",{blendFunction:e,uniforms:new Map([["map",new MK(null)],["intensity",new MK(i)]])}),this.renderTarget=new ZV(1,1,{minFilter:WU,magFilter:WU,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("map").value=this.renderTarget.texture,this.luminancePass=new Ase({renderTarget:this.renderTarget,colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothingFactor=n,this.blurPass=new Cse({resolutionScale:r,width:a,height:o,kernelSize:s});let l=this.blurPass.getResolution();l.addEventListener("change",(e=>this.setSize(l.baseWidth,l.baseHeight)))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,n){let r=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(e,t,r),this.blurPass.render(e,r,r)):this.blurPass.render(e,t,r)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.luminancePass.resolution.copy(n)}initialize(e,t,n){this.blurPass.initialize(e,t,n),void 0!==n&&(this.renderTarget.texture.type=n,e.outputEncoding===eV&&(this.renderTarget.texture.encoding=eV))}},Ose=class extends bse{constructor({blendFunction:e=gse.NORMAL,brightness:t=0,contrast:n=0}={}){super("BrightnessContrastEffect","uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",{blendFunction:e,uniforms:new Map([["brightness",new MK(t)],["contrast",new MK(n)]])})}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(e){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(e){return this.contrast}setContrast(e){this.contrast=e}},Ise=class extends bse{constructor(e=gse.NORMAL){super("ColorAverageEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",{blendFunction:e})}},Rse=class extends bse{constructor({blendFunction:e=gse.NORMAL,offset:t=new AV(.001,5e-4)}={}){super("ChromaticAberrationEffect","varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",{vertexShader:"uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",blendFunction:e,attributes:wse.CONVOLUTION,uniforms:new Map([["offset",new MK(t)]])})}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},Lse=class extends bse{constructor(e,{blendFunction:t=gse.NORMAL,worldFocusDistance:n,worldFocusRange:r,focusDistance:i=0,focalLength:a=.1,focusRange:o=a,bokehScale:s=1,width:l=hse.AUTO_SIZE,height:c=hse.AUTO_SIZE}={}){super("DepthOfFieldEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;\n#else\nuniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;\n#endif\nuniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}",{blendFunction:t,attributes:wse.DEPTH,uniforms:new Map([["nearColorBuffer",new MK(null)],["farColorBuffer",new MK(null)],["nearCoCBuffer",new MK(null)],["scale",new MK(1)]])}),this.camera=e,this.renderTarget=new ZV(1,1,{minFilter:WU,magFilter:WU,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new Mse(new Yoe(e));let u=this.cocMaterial;u.focusDistance=i,u.focusRange=o,void 0!==n&&(u.worldFocusDistance=n),void 0!==r&&(u.worldFocusRange=r),this.blurPass=new Cse({kernelSize:Dse.MEDIUM,width:l,height:c});let h=this.blurPass.getResolution();h.addEventListener("change",(e=>this.setSize(h.getBaseWidth(),h.getBaseHeight()))),this.maskPass=new Mse(new tse(this.renderTargetCoC.texture));let d=this.maskPass.fullscreenMaterial;d.maskFunction=1,d.colorChannel=1,this.bokehNearBasePass=new Mse(new Woe(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new Mse(new Woe(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new Mse(new Woe(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new Mse(new Woe(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null,this.bokehScale=s}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}get resolution(){return this.blurPass.getResolution()}getResolution(){return this.blurPass.getResolution()}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(e){let t=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];for(let n of t)n.fullscreenMaterial.setScale(e);this.maskPass.fullscreenMaterial.setStrength(e),this.uniforms.get("scale").value=e}getBokehScale(){return this.bokehScale}setBokehScale(e){this.bokehScale=e}getTarget(){return this.target}setTarget(e){this.target=e}calculateFocusDistance(e){let t=this.camera;return Xoe(-t.position.distanceTo(e),t.near,t.far)}setDepthTexture(e,t=tV){this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}update(e,t,n){let r=this.renderTarget,i=this.renderTargetCoC,a=this.renderTargetCoCBlurred,o=this.renderTargetMasked;if(null!==this.target){let e=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.focusDistance=e}this.cocPass.render(e,null,i),this.blurPass.render(e,i,a),this.maskPass.render(e,t,o),this.bokehFarBasePass.render(e,o,r),this.bokehFarFillPass.render(e,r,this.renderTargetFar),this.bokehNearBasePass.render(e,t,r),this.bokehNearFillPass.render(e,r,this.renderTargetNear)}setSize(e,t){let n=this.resolution;n.setBaseSize(e,t);let r=n.width,i=n.height,a=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];a.push(this.renderTargetCoC,this.renderTargetMasked),a.forEach((n=>n.setSize(e,t))),a=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],a.forEach((e=>e.setSize(r,i))),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach((e=>e.fullscreenMaterial.setSize(r,i)))}initialize(e,t,n){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach((r=>r.initialize(e,t,n))),this.blurPass.initialize(e,t,YU),void 0!==n&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,e.outputEncoding===eV&&(this.renderTarget.texture.encoding=eV,this.renderTargetNear.texture.encoding=eV,this.renderTargetFar.texture.encoding=eV,this.renderTargetMasked.texture.encoding=eV))}},Nse=(new tH,new kH,class extends bse{constructor({blendFunction:e=gse.NORMAL,hue:t=0,saturation:n=0}={}){super("HueSaturationEffect","uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",{blendFunction:e,uniforms:new Map([["hue",new MK(new tH)],["saturation",new MK(n)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){let e=this.uniforms.get("hue").value;return Math.acos((3*e.x-1)/2)}set hue(e){let t=Math.sin(e),n=Math.cos(e);this.uniforms.get("hue").value.set((2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}}),zse=(new HV,class extends bse{constructor({blendFunction:e=gse.SCREEN,premultiply:t=!1}={}){super("NoiseEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));\n#ifdef PREMULTIPLY\noutputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);\n#else\noutputColor=vec4(noise,inputColor.a);\n#endif\n}",{blendFunction:e}),this.premultiply=t}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(e){this.premultiply=e}}),Bse=class extends bse{constructor(e=30){super("PixelationEffect","uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",{uniforms:new Map([["active",new MK(!1)],["d",new MK(new AV)]])}),this.resolution=new AV,this.d=0,this.granularity=e}get granularity(){return this.d}set granularity(e){let t=Math.floor(e);t%2>0&&(t+=1),this.d=t,this.uniforms.get("active").value=t>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(e){this.granularity=e}setSize(e,t){this.resolution.set(e,t),this.uniforms.get("d").value.setScalar(this.d).divide(this.resolution)}},Fse=(Math.PI,new tH,new tH,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC"),Use="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",jse=class extends bse{constructor({preset:e=1,edgeDetectionMode:t=2,predicationMode:n=0}={}){let r,i;super("SMAAEffect","uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",{vertexShader:"varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",blendFunction:gse.NORMAL,attributes:wse.CONVOLUTION|wse.DEPTH,uniforms:new Map([["weightMap",new MK(null)]])}),arguments.length>1&&(r=arguments[0],i=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(t=arguments[3])),this.renderTargetEdges=new ZV(1,1,{minFilter:WU,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new cse(!0,!1,!1),this.clearPass.overrideClearColor=new HV(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new Mse(new Zoe),this.edgeDetectionMaterial.edgeDetectionMode=t,this.edgeDetectionMaterial.predicationMode=n,this.weightsPass=new Mse(new nse);let a=new VQ;a.onLoad=()=>{let e=new QV(r);e.name="SMAA.Search",e.magFilter=VU,e.minFilter=VU,e.generateMipmaps=!1,e.needsUpdate=!0,e.flipY=!0,this.weightsMaterial.searchTexture=e;let t=new QV(i);t.name="SMAA.Area",t.magFilter=WU,t.minFilter=WU,t.generateMipmaps=!1,t.needsUpdate=!0,t.flipY=!1,this.weightsMaterial.areaTexture=t,this.dispatchEvent({type:"load"})},a.itemStart("search"),a.itemStart("area"),void 0!==r&&void 0!==i?(a.itemEnd("search"),a.itemEnd("area")):typeof Image<"u"&&(r=new Image,i=new Image,r.addEventListener("load",(()=>a.itemEnd("search"))),i.addEventListener("load",(()=>a.itemEnd("area"))),r.src=Fse,i.src=Use),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){let t=this.edgeDetectionMaterial,n=this.weightsMaterial;switch(e){case 0:t.edgeDetectionThreshold=.15,n.orthogonalSearchSteps=4,n.diagonalDetection=!1,n.cornerDetection=!1;break;case 1:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=8,n.diagonalDetection=!1,n.cornerDetection=!1;break;case 2:t.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=16,n.diagonalSearchSteps=8,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break;case 3:t.edgeDetectionThreshold=.05,n.orthogonalSearchSteps=32,n.diagonalSearchSteps=16,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0}}setDepthTexture(e,t=tV){this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,n){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){let{searchTexture:e,areaTexture:t}=this.weightsMaterial;null!==e&&null!==t&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return Fse}static get areaImageDataURL(){return Use}},Vse=class extends bse{constructor({blendFunction:e=gse.NORMAL,technique:t=0,eskil:n=!1,offset:r=.5,darkness:i=.5}={}){super("VignetteEffect","uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;\n#if VIGNETTE_TECHNIQUE == 0\nfloat d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));\n#else\nvec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));\n#endif\noutputColor=vec4(color,inputColor.a);}",{blendFunction:e,defines:new Map([["VIGNETTE_TECHNIQUE",t.toFixed(0)]]),uniforms:new Map([["offset",new MK(r)],["darkness",new MK(i)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}get eskil(){return 1===this.technique}set eskil(e){this.technique=e?1:0}getTechnique(){return this.technique}setTechnique(e){this.technique=e}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}get darkness(){return this.uniforms.get("darkness").value}set darkness(e){this.uniforms.get("darkness").value=e}getDarkness(){return this.darkness}setDarkness(e){this.darkness=e}};function Hse(e,t,n){return e+(t-e)*n}function Gse(e,t,n,r){let i=Hse(e,t,.75),a=Hse(n,r,.75);return Hse(i,a,.875)}new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]),new Map([[Gse(0,0,0,0),new Float32Array([0,0,0,0])],[Gse(0,0,0,1),new Float32Array([0,0,0,1])],[Gse(0,0,1,0),new Float32Array([0,0,1,0])],[Gse(0,0,1,1),new Float32Array([0,0,1,1])],[Gse(0,1,0,0),new Float32Array([0,1,0,0])],[Gse(0,1,0,1),new Float32Array([0,1,0,1])],[Gse(0,1,1,0),new Float32Array([0,1,1,0])],[Gse(0,1,1,1),new Float32Array([0,1,1,1])],[Gse(1,0,0,0),new Float32Array([1,0,0,0])],[Gse(1,0,0,1),new Float32Array([1,0,0,1])],[Gse(1,0,1,0),new Float32Array([1,0,1,0])],[Gse(1,0,1,1),new Float32Array([1,0,1,1])],[Gse(1,1,0,0),new Float32Array([1,1,0,0])],[Gse(1,1,0,1),new Float32Array([1,1,0,1])],[Gse(1,1,1,0),new Float32Array([1,1,1,0])],[Gse(1,1,1,1),new Float32Array([1,1,1,1])]]);var Wse=class{constructor(e,t){this.enabled=!1,this.effect=new e(t),Object.defineProperty(this,"opacity",{enumerable:!0,set(e){this.effect.blendMode.opacity.value=e},get(){return this.effect.blendMode.opacity.value}}),Object.defineProperty(this,"blendFunction",{enumerable:!0,set(e){this.effect.blendMode.setBlendFunction(Number(e))},get(){return this.effect.blendMode.blendFunction}}),this.blendFunction=gse.NORMAL}},qse=class extends Wse{constructor(){super(kse),this.blendFunction=gse.SCREEN}set intensity(e){this.effect.intensity=e}get intensity(){return this.effect.intensity}set luminanceThreshold(e){this.effect.luminanceMaterial.threshold=e}get luminanceThreshold(){return this.effect.luminanceMaterial.threshold}set luminanceSmoothing(e){this.effect.luminanceMaterial.smoothing=e}get luminanceSmoothing(){return this.effect.luminanceMaterial.smoothing}set blurScale(e){this.effect.blurPass.scale=e}get blurScale(){return this.effect.blurPass.scale}set kernelSize(e){this.effect.blurPass.kernelSize=e}get kernelSize(){return this.effect.blurPass.kernelSize}},Xse=class extends Wse{constructor(){super(Ose)}set contrast(e){this.effect.uniforms.get("contrast").value=e}get contrast(){return this.effect.uniforms.get("contrast").value}set brightness(e){this.effect.uniforms.get("brightness").value=e}get brightness(){return this.effect.uniforms.get("brightness").value}},Yse=class extends Wse{constructor(){super(Rse),this.effect.offset=new AV(.01,.01)}set offset(e){this.effect.offset.set(e[0]/1e3,e[1]/1e3)}get offset(){return[1e3*this.effect.offset.x,1e3*this.effect.offset.y]}},Qse=class extends Wse{constructor(){super(Ise)}},Kse=class extends Wse{constructor(){super(Nse),this._hue=0}set hue(e){this._hue=e,this.effect.setHue(e)}get hue(){return this._hue}set saturation(e){this.effect.uniforms.get("saturation").value=e}get saturation(){return this.effect.uniforms.get("saturation").value}},Zse=class extends Wse{constructor(){super(zse),this.blendFunction=gse.OVERLAY}},Jse=class extends Wse{constructor(){super(Vse)}get eskil(){return this.effect.eskil}set eskil(e){this.effect.eskil=e}get darkness(){return this.effect.uniforms.get("darkness").value}set darkness(e){this.effect.uniforms.get("darkness").value=e}get offset(){return this.effect.uniforms.get("offset").value}set offset(e){this.effect.uniforms.get("offset").value=e}},$se=class extends Wse{constructor(e){super(Lse,e)}set focalLength(e){this.effect.circleOfConfusionMaterial.uniforms.focalLength.value=e}get focalLength(){return this.effect.circleOfConfusionMaterial.uniforms.focalLength.value}set focusDistance(e){this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value=e}get focusDistance(){return this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value}get bokehScale(){return this.effect.bokehScale}set bokehScale(e){this.effect.bokehScale=e}},ele=class extends Wse{constructor(){super(Bse)}get granularity(){return this.effect.getGranularity()}set granularity(e){this.effect.setGranularity(e)}},tle=class extends ZG{constructor(){super({name:"PassthroughMaterial",uniforms:{inputBuffer:new MK(null)},blending:QF,depthWrite:!1,depthTest:!1,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;void main(){gl_Position=vec4(position.xy,1.0,1.0);vUv=position.xy*0.5+0.5;}",fragmentShader:"#define GLSLIFY 1\nlayout(location=1)out vec4 gVelocity;varying vec2 vUv;uniform sampler2D inputBuffer;void main(){gl_FragColor=texture2D(inputBuffer,vUv);gVelocity=vec4(0.0);}"})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}},nle=class extends ase{constructor(){super("TAAResolvePass"),this.MRTCompatible=!0,this.needsSwap=!1,this.passThroughMaterial=new tle,this.resolutionVector=new AV,this.resolveMaterial=new ZG({name:"TAAResolveMaterial",uniforms:{inputBuffer:new MK(null),historyBuffer:new MK(null),velocityBuffer:new MK(null),depthBuffer:new MK(null),resolution:new MK(new AV)},blending:QF,depthWrite:!1,depthTest:!1,vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;varying vec2 vTexCoords[9];uniform vec2 resolution;void main(){vUv=position.xy*0.5+0.5;vec2 texelSize=vec2(1.0)/resolution;vTexCoords[0]=vUv+vec2(-texelSize.x,-texelSize.y);vTexCoords[1]=vUv+vec2(0.0,-texelSize.y);vTexCoords[2]=vUv+vec2(texelSize.x,-texelSize.y);vTexCoords[3]=vUv+vec2(-texelSize.x,0.0);vTexCoords[4]=vUv+vec2(0.0,0.0);vTexCoords[5]=vUv+vec2(texelSize.x,0.0);vTexCoords[6]=vUv+vec2(-texelSize.x,texelSize.y);vTexCoords[7]=vUv+vec2(0.0,texelSize.y);vTexCoords[8]=vUv+vec2(texelSize.x,texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",fragmentShader:"#define GLSLIFY 1\n#include <common>\nvarying vec2 vUv;varying vec2 vTexCoords[9];uniform sampler2D inputBuffer;uniform sampler2D historyBuffer;uniform sampler2D velocityBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;\n#define USE_YCOCG\n#define USE_CATMULL_ROM\nconst float feedback_min=0.5;const float feedback_max=0.95;vec3 RGB_YCoCg(vec3 c){return vec3(c.x/4.0+c.y/2.0+c.z/4.0,c.x/2.0-c.z/2.0,-c.x/4.0+c.y/2.0-c.z/4.0);}vec3 YCoCg_RGB(vec3 c){return clamp(vec3(c.x+c.y-c.z,c.x+c.z,c.x-c.y-c.z),vec3(0.0),vec3(1.0));}vec4 sample_color(sampler2D tex,vec2 uv){\n#ifdef USE_YCOCG\nvec4 c=texture(tex,uv);return vec4(RGB_YCoCg(c.rgb),c.a);\n#else\nreturn texture(tex,uv);\n#endif\n}vec4 sample_catmull_rom(sampler2D tex,vec2 uv,vec2 texSize){vec2 samplePos=uv*texSize;vec2 texPos1=floor(samplePos-0.5)+0.5;vec2 f=samplePos-texPos1;vec2 w0=f*(-0.5+f*(1.0-0.5*f));vec2 w1=1.0+f*f*(-2.5+1.5*f);vec2 w2=f*(0.5+f*(2.0-1.5*f));vec2 w3=f*f*(-0.5+0.5*f);vec2 w12=w1+w2;vec2 offset12=w2/(w1+w2);vec2 texPos0=texPos1-1.0;vec2 texPos3=texPos1+2.0;vec2 texPos12=texPos1+offset12;texPos0/=texSize;texPos3/=texSize;texPos12/=texSize;vec4 result=vec4(0.0);result+=texture2D(tex,vec2(texPos12.x,texPos0.y))*w12.x*w0.y;result+=texture2D(tex,vec2(texPos0.x,texPos12.y))*w0.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos12.y))*w12.x*w12.y;result+=texture2D(tex,vec2(texPos3.x,texPos12.y))*w3.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos3.y))*w12.x*w3.y;return result;}vec3 choose_motion_vector(){\n#ifdef CHOOSE_LONGEST_MOTION_VECTOR\nfloat longest=-1.0;vec3 v_choose=vec3(-1.0);for(int i=0;i<9;i++){vec3 v=texture2D(velocityBuffer,vTexCoords[i]).rgb;float l=length(v.xy);if(l>longest){longest=l;v_choose=v;}}return v_choose;\n#else\nfloat closest_depth=1000.0;vec2 closest_uv_offset=vec2(0.0);for(int i=0;i<9;i++){float neighbor_depth=texture2D(depthBuffer,vTexCoords[i]).r;if(neighbor_depth<closest_depth){closest_uv_offset=vTexCoords[i];closest_depth=neighbor_depth;}}return texture2D(velocityBuffer,closest_uv_offset).rgb;\n#endif\n}vec4 clipAabb(vec3 aabb_min,vec3 aabb_max,vec4 avg,vec4 input_texel){const float FLT_EPS=0.00000001;vec3 p_clip=0.5*(aabb_max+aabb_min);vec3 e_clip=0.5*(aabb_max-aabb_min)+FLT_EPS;vec4 v_clip=input_texel-vec4(p_clip,avg.w);vec3 v_unit=v_clip.xyz/e_clip;vec3 a_unit=abs(v_unit);float ma_unit=max(a_unit.x,max(a_unit.y,a_unit.z));if(ma_unit>1.0){return vec4(p_clip,avg.w)+v_clip/ma_unit;}else{return input_texel;}}vec3 clip_aabb_variance(in vec3 cOld,in vec3 cNew,in vec3 centre,in vec3 halfSize){if(all(lessThanEqual(abs(cOld-centre),halfSize))){return cOld;}vec3 dir=(cNew-cOld);vec3 near=centre-sign(dir)*halfSize;vec3 tAll=(near-cOld)/dir;float t=0.0001;for(int i=0;i<3;i++){if(tAll[i]>=0.0&&tAll[i]<t){t=tAll[i];}}if(t>=0.0001){return cOld;}return cOld+dir*t;}void main(){vec3 v=choose_motion_vector();vec2 velocity=v.rg;vec2 previousPixelPos=vUv-velocity;vec4 currentColor=sample_color(inputBuffer,vUv);\n#ifdef USE_CATMULL_ROM\nvec4 previousColor=sample_catmull_rom(historyBuffer,previousPixelPos,resolution);\n#else\nvec4 previousColor=sample_color(historyBuffer,previousPixelPos);\n#endif\n#ifdef USE_YCOCG\npreviousColor=vec4(RGB_YCoCg(previousColor.rgb),previousColor.a);\n#endif\nvec4 ctl=sample_color(inputBuffer,vTexCoords[0]);vec4 ctc=sample_color(inputBuffer,vTexCoords[1]);vec4 ctr=sample_color(inputBuffer,vTexCoords[2]);vec4 cml=sample_color(inputBuffer,vTexCoords[3]);vec4 cmc=sample_color(inputBuffer,vTexCoords[4]);vec4 cmr=sample_color(inputBuffer,vTexCoords[5]);vec4 cbl=sample_color(inputBuffer,vTexCoords[6]);vec4 cbc=sample_color(inputBuffer,vTexCoords[7]);vec4 cbr=sample_color(inputBuffer,vTexCoords[8]);vec4 cmin=min(ctl,min(ctc,min(ctr,min(cml,min(cmc,min(cmr,min(cbl,min(cbc,cbr))))))));vec4 cmax=max(ctl,max(ctc,max(ctr,max(cml,max(cmc,max(cmr,max(cbl,max(cbc,cbr))))))));vec4 cavg=(ctl+ctc+ctr+cml+cmc+cmr+cbl+cbc+cbr)/9.0;vec4 cmin5=min(ctc,min(cml,min(cmc,min(cmr,cbc))));vec4 cmax5=max(ctc,max(cml,max(cmc,max(cmr,cbc))));vec4 cavg5=(ctc+cml+cmc+cmr+cbc)/5.0;cmin=0.5*(cmin+cmin5);cmax=0.5*(cmax+cmax5);cavg=0.5*(cavg+cavg5);\n#ifdef USE_YCOCG\nvec2 chroma_extent=vec2(0.25*0.5*(cmax.r-cmin.r));vec2 chroma_center=currentColor.gb;cmin.yz=chroma_center-chroma_extent;cmax.yz=chroma_center+chroma_extent;cavg.yz=chroma_center;\n#endif\nvec4 previousColorClipped=clamp(previousColor,cmin,cmax);\n#ifdef LUMINANCE_DIFFERENCES\n#ifdef USE_YCOCG\nfloat lum0=currentColor.r;float lum1=previousColorClipped.r;\n#else\nfloat lum0=luminance(currentColor.rgb);float lum1=luminance(previousColorClipped.rgb);\n#endif\nfloat unbiased_diff=abs(lum0-lum1)/max(lum0,max(lum1,0.2));float unbiased_weight=1.0-unbiased_diff;float unbiased_weight_sqr=unbiased_weight*unbiased_weight;float k_feedback=mix(feedback_min,feedback_max,unbiased_weight_sqr);vec4 result=mix(currentColor,previousColorClipped,vec4(k_feedback));\n#else\nconst float alpha=0.1;vec4 result=mix(currentColor,previousColorClipped,1.0-alpha);\n#endif\n#ifdef USE_YCOCG\ngl_FragColor=vec4(YCoCg_RGB(result.rgb).rgb,result.a);\n#else\ngl_FragColor=result;\n#endif\n}"}),this.historyRenderTarget=new ZV(1024,1024,{minFilter:WU,stencilBuffer:!1,depthBuffer:!1}),this.historyRenderTarget.texture.name="TAA.History",this.resultRenderTarget=new ZV(1024,1024,{minFilter:WU,stencilBuffer:!1,depthBuffer:!1}),this.resultRenderTarget.texture.name="TAA.Output"}setSize(e,t){this.historyRenderTarget.setSize(e,t),this.resultRenderTarget.setSize(e,t)}render(e,t){this.fullscreenMaterial=this.resolveMaterial,this.resolveMaterial.uniforms.inputBuffer.value=t.texture[0],this.resolveMaterial.uniforms.velocityBuffer.value=t.texture[1],this.resolveMaterial.uniforms.depthBuffer.value=t.depthTexture,this.resolveMaterial.uniforms.historyBuffer.value=this.historyRenderTarget.texture,this.resolveMaterial.uniforms.resolution.value.set(t.width,t.height),e.setRenderTarget(this.resultRenderTarget),e.render(this.scene,this.camera),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(this.historyRenderTarget),e.render(this.scene,this.camera);let n=this.renderToScreen?null:t;this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(n),e.render(this.scene,this.camera)}dispose(){this.resultRenderTarget.dispose(),this.historyRenderTarget.dispose(),this.resolveMaterial.dispose(),this.passThroughMaterial.dispose()}},rle=class extends ase{constructor(e,t,n){super("TransmissionPass",void 0,t),this.MRTCompatible=!0,this.depthPass=new mse(e,t,{renderTarget:n.transmissionDepthTarget}),this.passThroughMaterial=new tle,this.splineScene=e,this.needsSwap=!1}updatePasses(e){this.passThroughMaterial=new tle,this.depthPass=new mse(this.splineScene,this.camera,{renderTarget:e.transmissionDepthTarget})}setCamera(e){this.camera=e}setScene(e){this.splineScene=e}render(e,t,n){let r=this.camera.layers.mask,i=e;i.setRenderTarget(i.transmissionRenderTarget),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=t.texture[0],i.clear(),i.render(this.scene,this.camera),this.camera.layers.disable(3),this.depthPass.render(e,t,n),i.shadowMap.needsUpdate=!1,i.shadowMap.autoUpdate=!1;let a=this.renderToScreen?null:t;this.camera.layers.set(3),e.setRenderTarget(a),e.render(this.splineScene,this.camera),this.camera.layers.mask=r}},ile=new qX,ale=new ZG({transparent:!0,vertexShader:"\n        void main() {\n            gl_Position = vec4(0.0);\n        }\n    ",fragmentShader:"\n        layout(location = 1) out vec4 gVelocity;\n\n        void main() {\n            gl_FragColor = vec4(0.0);\n\t\t\tgVelocity = vec4(0.0);\n        }\n    "}),ole=class extends ase{constructor(e,t,n){super("OpaquePass",t??ile,n),this.MRTCompatible=!0,this.hasTransmissionPass=!1,this.clear=!0,this.clearColorOnly=!1,this.clearDepth=!1,this.needsSwap=!1,this.originalMaterials=new Map,this.MRTCompatible=e}set splatViewer(e){this._splatViewer=e}get splatViewer(){return this._splatViewer}setCamera(e){this.camera=e}setScene(e){this.scene=e??ile}getScene(){return this.scene}render(e,t){this.camera.layers.enable(3),this.hasTransmissionPass&&(this.originalMaterials.clear(),this.scene.traverse((e=>{e.layers.isEnabled(3)&&e instanceof dne&&(this.originalMaterials.set(e.id,e.material),e.material=ale)})),e.shadowMap.needsUpdate=!0,e.shadowMap.autoUpdate=!0),this.camera.layers.enable(8);let n=this.renderToScreen?null:t;if(e.setRenderTarget(n),this.clearColorOnly&&e.clear(!0,!1,!0),this.clear&&e.clear(),!0===this._splatViewer?.splatRenderingInitialized){let t=e.autoClear;e.autoClear=!1,e.render(this.scene,this.camera),this._splatViewer.update(),e.render(this._splatViewer.splatMesh,this.camera),e.autoClear=t}else e.render(this.scene,this.camera);this.clearDepth&&e.clear(!1,!0,!1),this.hasTransmissionPass&&this.originalMaterials.forEach(((e,t)=>{let n=this.scene.getObjectById(t);n&&(n.material=e)}))}},sle=new ZG({name:"CombineMaterial",uniforms:{inputBufferA:new MK(null),inputBufferB:new MK(null)},blending:QF,depthWrite:!1,depthTest:!1,vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n    gl_Position = vec4(position.xy, 1.0, 1.0);\n    vUv = position.xy * 0.5 + 0.5;\n}\n",fragmentShader:"\n    varying vec2 vUv;\n    uniform sampler2D inputBufferA;\n    uniform sampler2D inputBufferB;\n\n    // TODO: Why do we need these when postpro of framemode is enabled???\n    layout(location = 1) out vec4 gVelocity;\n\n    void main() {\n\tvec4 resA = texture2D(inputBufferA, vUv);\n\tvec4 resB = texture2D(inputBufferB, vUv);\n    float a = resA.a + resB.a * ( 1.0 - resA.a );\n\n\tvec4 res;\n\tres.rgb =  resA.rgb + (resB.rgb * (1.0 - resA.a));\n\tres.a = resA.a + resB.a * (1.0 - resA.a);\n\tgl_FragColor = res;\n    gVelocity = vec4(0.0);\n    }\n"}),lle=class extends ase{constructor(e){super("HelperPass",void 0,e),this.MRTCompatible=!1,this.fullscreenMaterial=sle,this.helperPass=new ole(!1,void 0,this.camera),this.helperPass.hasTransmissionPass=!1,this.helperPass.clear=!1,this.helperPass.renderToScreen=!1,this.helperPassOnTop=new ole(!1,void 0,this.camera),this.helperPassOnTop.hasTransmissionPass=!1,this.helperPassOnTop.clear=!1,this.helperPassOnTop.renderToScreen=!1;let t=new jse({preset:0,edgeDetectionMode:2});this.effectPass=new Sse(this.camera,t),this.rt=new ZV(10,10,{minFilter:WU,magFilter:WU,wrapS:UU,wrapT:UU,depthBuffer:!0})}setSize(e,t){this.rt.setSize(e,t),this.effectPass.setSize(e,t)}set sceneHelpers(e){this.helperPass.setScene(e)}get sceneHelpers(){return this.helperPass.getScene()}set sceneHelpersOnTop(e){this.helperPassOnTop.setScene(e)}get sceneHelpersOnTop(){return this.helperPassOnTop.getScene()}setCamera(e){this.helperPass.setCamera(e),this.helperPassOnTop.setCamera(e)}initialize(e,t,n){super.initialize(e,t,n),this.effectPass.initialize(e,t,n)}dispose(){super.dispose(),this.rt.dispose(),this.effectPass.dispose()}render(e,t,n){this.rt.depthTexture=t.depthTexture;let r=e.getClearAlpha();e.setClearAlpha(0),this.helperPass.clearDepth=!0,this.helperPass.clearColorOnly=!0,this.helperPass.render(e,this.rt),this.helperPassOnTop.render(e,this.rt),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.rt,n),this.fullscreenMaterial.uniforms.inputBufferA.value=n.texture,this.fullscreenMaterial.uniforms.inputBufferB.value=t.texture,e.setClearAlpha(r),e.setRenderTarget(null),e.clear(),e.render(this.scene,this.camera)}},cle=[[.478712,.875764],[-.337956,-.793959],[-.955259,-.028164],[.864527,.325689],[.209342,-.395657],[-.106779,.672585],[.156213,.235113],[-.413644,-.082856],[-.415667,.323909],[.141896,-.93998],[.954932,-.182516],[-.766184,.410799],[-.434912,-.458845],[.415242,-.078724],[.728335,-.491777],[-.058086,-.066401],[.20299,.686837],[-.808362,-.556402],[.507386,-.640839],[-.723494,-.22924],[.48974,.317826],[-.622663,.765301],[-.01064,.929347],[.663146,.647618],[-.096674,-.413835],[.525945,-.321063],[-.122533,.366019],[.195235,-.687983],[-.563203,.098748],[.418563,.561335],[-.378595,.800367],[.826922,.001024],[-.085372,-.766651],[-.92192,.183673],[-.590008,-.721799],[.167751,-.164393],[.032961,-.56253],[.6329,-.107059],[-.46408,.569669],[-.173676,-.958758],[-.242648,-.234303],[-.275362,.157163],[.382295,-.795131],[.562955,.115562],[.190586,.470121],[.770764,-.297576],[.237281,.93105],[-.666642,-.455871],[-.905649,-.298379],[.33952,.157829],[.701438,-.7041],[-.062758,.160346],[-.220674,.957141],[.642692,.432706],[-.77339,-.015272],[-.671467,.24688],[.158051,.062859],[.806009,.527232],[-.05762,-.247071],[.333436,-.51671],[-.550658,-.315773],[-.652078,.589846],[.008818,.530556],[-.210004,.519896]],ule=new ZG({vertexShader:"#define GLSLIFY 1\n#include <skinning_pars_vertex>\nout vec3 n;void main(){\n#include <beginnormal_vertex>\n#include <skinbase_vertex>\n#include <skinnormal_vertex>\n#include <defaultnormal_vertex>\n#include <begin_vertex>\n#include <skinning_vertex>\nvec4 view_space=viewMatrix*modelMatrix*vec4(transformed,1.0);gl_Position=projectionMatrix*view_space;n=normalize(transformedNormal);}",fragmentShader:"#define GLSLIFY 1\nin vec3 n;void main(){gl_FragColor=vec4(n,1.0);}"}),hle=new ZG({vertexShader:"#define GLSLIFY 1\nout vec2 v_uv;void main(){gl_Position=vec4(position.xy,1.0,1.0);v_uv=uv;}",fragmentShader:"#define GLSLIFY 1\nin vec2 v_uv;uniform sampler2D texture_ao_lrez;uniform sampler2D texture_depth_lrez;uniform sampler2D texture_depth_hrez;uniform float near;uniform float far;float linearize_depth(float depth_sampled){float z=depth_sampled*2.0-1.0;return(2.0*near*far)/(far+near-z*(far-near));}vec2 nearest_depth_filter(in vec2 uv){vec2 resolution=vec2(textureSize(texture_depth_lrez,0));vec2 texel_size=1.0/resolution;vec2 offset=uv-0.5*texel_size;float d_hrez=texture(texture_depth_hrez,uv).r;float a=abs(d_hrez-texture(texture_depth_lrez,offset).r);float b=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,0.0)).r);float c=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(0.0,texel_size.y)).r);float d=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,texel_size.y)).r);float min_diff=min(a,min(b,min(c,d)));if(min_diff==a)return offset;if(min_diff==b)return offset+vec2(texel_size.x,0.0);if(min_diff==c)return offset+vec2(0.0,texel_size.y);if(min_diff==d)return offset+vec2(texel_size.x,texel_size.y);}void main(){\n#ifdef DEBUG\nfloat d_lrez=texture(texture_depth_lrez,v_uv).r;float d_hrez=texture(texture_depth_hrez,v_uv).r;float output_d=mix(linearize_depth(d_lrez)/far,linearize_depth(d_hrez)/far,step(0.5,v_uv.x));gl_FragColor=vec4(vec3(output_d),1.0);\n#else\nvec2 filtered_uv=nearest_depth_filter(v_uv);vec4 ao=texture(texture_ao_lrez,filtered_uv);gl_FragColor=vec4(ao.rgb,1.0);gl_FragColor=ao;\n#endif\n}",uniforms:{texture_ao_lrez:new MK(null),texture_depth_lrez:new MK(null),texture_depth_hrez:new MK(null),near:new MK(null),far:new MK(null)}}),dle=class extends ase{constructor(e,t){super("AmbientOcclusionPass",void 0,t),this.fogEnabled=!1,this.fogNear=1,this.fogFar=1e3,this.frameIndex=0,this._runHalfRes=!0,this._width=1,this._height=1;let n=1024,r=1024;this.gBuffer=new ZV(n,r,{type:ej,depthTexture:new UX(n,r),minFilter:WU,magFilter:WU}),this.depthBufferHighRes=new ZV(n,r,{depthTexture:new UX(n,r)}),this.aoBuffer=new ZV(n,r,{minFilter:WU,magFilter:WU}),this.splineScene=e,this.splineCamera=t;let i=new Float32Array(2*cle.length);for(let e=0;e<cle.length;e++){let t=2*e;i[t+0]=cle[e][0],i[t+1]=cle[e][1]}this.blueNoiseInDiskTexture=new KX(i,cle.length,1,fj,ej),this.blueNoiseInDiskTexture.wrapS=FU,this.blueNoiseInDiskTexture.wrapT=FU,this.blueNoiseInDiskTexture.needsUpdate=!0,this.hbaoMaterial=new ZG({vertexShader:"#define GLSLIFY 1\nout vec2 v_uv;void main(){v_uv=uv;gl_Position=vec4(position.xy,1.0,1.0);}",fragmentShader:"#define GLSLIFY 1\nin vec2 v_uv;const float pi=3.14159265;const float num_steps=4.0;const float num_directions=4.0;uniform float near;uniform float far;uniform float fov;uniform vec4 proj_info;uniform bool is_ortho;uniform vec2 resolution;uniform float radius_of_influence;uniform float radius_in_screen_space;uniform float exponent;uniform vec3 ao_color;uniform float bias;uniform sampler2D texture_depth;uniform sampler2D texture_normals;uniform sampler2D texture_blue_noise;uniform sampler2D texture_blue_noise_in_disk;uniform sampler2D texture_color_pass;uniform int frame_index;uniform bool fog_enabled;uniform float fog_near;uniform float fog_far;vec3 uv_to_view_space(vec2 uv,float eye_z){return vec3((uv*proj_info.xy+proj_info.zw)*(is_ortho ? 1.0 : eye_z),eye_z);}float linearize_depth(float depth_sampled){float z=is_ortho ? depth_sampled : depth_sampled*2.0-1.0;return mix((2.0*near*far)/(far+near-z*(far-near)),near+z*(far-near),float(is_ortho));}vec3 get_view_position(vec2 uv_coords){float linear_depth=linearize_depth(texture(texture_depth,uv_coords).x);return uv_to_view_space(uv_coords,linear_depth);}vec3 min_difference(vec3 p,vec3 right,vec3 left){vec3 v1=right-p;vec3 v2=p-left;return(dot(v1,v1)<dot(v2,v2))? v1 : v2;}vec3 rebuild_normal(in vec2 uv,in vec3 p){vec2 one_over_resolution=1.0/resolution;vec3 r=get_view_position(uv+vec2(one_over_resolution.x,0));vec3 l=get_view_position(uv+vec2(-one_over_resolution.x,0));vec3 t=get_view_position(uv+vec2(0,one_over_resolution.y));vec3 b=get_view_position(uv+vec2(0,-one_over_resolution.y));return normalize(cross(min_difference(p,r,l),min_difference(p,t,b)));}float falloff(float distance_squared){float neg_inv_r2=-1.0/(radius_of_influence*radius_of_influence);return distance_squared*neg_inv_r2+1.0;}float ao_contribution(vec3 P,vec3 N,vec3 S){vec3 to_sample=S-P;float norm_squared=dot(to_sample,to_sample);float norm=sqrt(norm_squared);float cos_theta=dot(N,to_sample)/norm;return clamp(cos_theta-bias,0.0,1.0)*clamp(falloff(norm_squared),0.0,1.0);}float compute_ambient_occlusion(vec2 uv,float radius_in_screen_space,vec3 pc,vec3 view_space_n){vec2 one_over_resolution=1.0/resolution;ivec2 noise_uv=ivec2(int(mod(gl_FragCoord.x,128.0)),int(mod(gl_FragCoord.y,128.0)));float noise=texelFetch(texture_blue_noise,noise_uv,0).r;noise=fract(noise+0.61803398875*float(frame_index));float theta=noise*2.0*3.1415;float ct=cos(theta);float st=sin(theta);float step_size=radius_in_screen_space/(num_steps+1.0);const float angle_step=2.0*pi/num_directions;float contribution=0.0;for(int i=0;i<int(num_directions);++i){float current_pixel=step_size+1.0;for(int j=0;j<int(num_steps);++j){int index=i*int(num_steps)+j;vec2 blue_noise_sample=texelFetch(texture_blue_noise_in_disk,ivec2(index,0),0).rg;vec2 disk_point;disk_point.x=blue_noise_sample.x*ct-blue_noise_sample.y*st;disk_point.y=blue_noise_sample.x*st+blue_noise_sample.y*ct;vec2 sample_direction=disk_point;vec2 snapped_uv=round(current_pixel*sample_direction)*one_over_resolution+uv;vec3 ps=get_view_position(snapped_uv);current_pixel+=step_size;contribution+=ao_contribution(pc,view_space_n,ps);}}float mult=1.0/(1.0-bias);contribution*=mult/(num_directions*num_steps);return clamp(1.0-contribution*2.0,0.0,1.0);}\n#define USE_GBUFFER_NORMALS\nvoid main(){vec3 view_space_p=get_view_position(v_uv);\n#ifdef USE_GBUFFER_NORMALS\nvec3 view_space_n=texture(texture_normals,v_uv).rgb;view_space_n.z*=-1.0;\n#else\nvec3 view_space_n=-rebuild_normal(v_uv,view_space_p);\n#endif\nfloat radius_ss=radius_in_screen_space/(is_ortho ? 1.0 : view_space_p.z);float ao=compute_ambient_occlusion(v_uv,radius_ss,view_space_p,view_space_n);float final=pow(ao,exponent);if(view_space_p.z>=far){final=1.0;}vec3 color=mix(ao_color,vec3(1.0),final);if(fog_enabled){float fog_factor=smoothstep(fog_near,fog_far,view_space_p.z);color=mix(color,vec3(1.0),fog_factor);}gl_FragColor=vec4(color,1.0);}",uniforms:{near:new MK(null),far:new MK(null),fov:new MK(null),proj_info:new MK(new KV),is_ortho:new MK(!1),resolution:new MK(new AV),radius_of_influence:new MK(8),radius_in_screen_space:new MK(1),exponent:new MK(1),ao_color:new MK(new tH),bias:new MK(.5),texture_depth:new MK(null),texture_normals:new MK(null),texture_blue_noise:new MK(null),texture_blue_noise_in_disk:new MK(this.blueNoiseInDiskTexture),frame_index:new MK(0),fog_enabled:new MK(!1),fog_near:new MK(1),fog_far:new MK(1e3)}}),this.radius=128,this.aoColor={r:0,g:0,b:0},this.bias=.5,this.hbaoMaterial.uniforms.texture_depth.value=this.gBuffer.depthTexture,this.hbaoMaterial.uniforms.texture_normals.value=this.gBuffer.texture,this.needsSwap=!0,this.aaBuffer=new ZV(n,r,{minFilter:WU,magFilter:WU,wrapS:UU,wrapT:UU,depthBuffer:!1,type:ej});let a=new jse({preset:3,edgeDetectionMode:2});this.effectPass=new Sse(this.camera,a)}initialize(e,t,n){super.initialize(e,t,n),this.effectPass.initialize(e,t,n)}setBlueNoiseTexture(e){this.hbaoMaterial.uniforms.texture_blue_noise.value=e}setSize(e,t){this._width=e,this._height=t,this.depthBufferHighRes.setSize(e,t);let n=this._runHalfRes?.5:1,r=e*n,i=t*n;this.gBuffer.setSize(r,i),this.aoBuffer.setSize(r,i),this.hbaoMaterial.uniforms.resolution.value.set(r,i),this.aaBuffer.setSize(r,i),this.effectPass.setSize(r,i)}get runHalfRes(){return this._runHalfRes}set runHalfRes(e){this._runHalfRes=e,this.setSize(this._width,this._height)}setCamera(e){this.splineCamera=e}setScene(e){this.splineScene=e}render(e,t,n){this.splineScene.overrideMaterial=ule;let r=this.splineCamera.layers.mask;if(this.splineCamera.layers.set(5),e.setRenderTarget(this.gBuffer),e.clear(),e.render(this.splineScene,this.splineCamera),e.setRenderTarget(this.depthBufferHighRes),e.clear(),e.render(this.splineScene,this.splineCamera),this.splineScene.overrideMaterial=null,this.splineCamera.layers.mask=r,this.hbaoMaterial.uniforms.radius_of_influence.value=this.radius,this.hbaoMaterial.uniforms.ao_color.value.set(this.aoColor.r,this.aoColor.g,this.aoColor.b),this.hbaoMaterial.uniforms.bias.value=this.bias,this.hbaoMaterial.uniforms.fog_enabled.value=this.fogEnabled,this.hbaoMaterial.uniforms.fog_near.value=this.fogNear,this.hbaoMaterial.uniforms.fog_far.value=this.fogFar,this.hbaoMaterial.uniforms.frame_index.value=this.frameIndex,this.frameIndex++,this.splineCamera.isPerspectiveCamera){this.hbaoMaterial.uniforms.near.value=this.splineCamera.perspCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.perspCamera.far;let e=this.splineCamera.perspCamera.projectionMatrix.elements,t=2/e[0],n=2/e[5],r=-(1-e[8])/e[0],i=-(1+e[9])/e[5];this.hbaoMaterial.uniforms.proj_info.value.set(t,n,r,i);let a=this.splineCamera.perspCamera.fov*(Math.PI/180),o=this.hbaoMaterial.uniforms.resolution.value.y/(2*Math.tan(.5*a)),s=.5*this.hbaoMaterial.uniforms.radius_of_influence.value*o;this.hbaoMaterial.uniforms.radius_in_screen_space.value=s,this.hbaoMaterial.uniforms.is_ortho.value=!1}else{this.hbaoMaterial.uniforms.near.value=this.splineCamera.orthoCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.orthoCamera.far;let e=this.splineCamera.orthoCamera.projectionMatrix.elements,t=2/e[0],n=2/e[5],r=-(1+e[12])/e[0],i=-(1-e[13])/e[5];this.hbaoMaterial.uniforms.proj_info.value.set(t,n,r,i);let a=this.hbaoMaterial.uniforms.resolution.value.y/n*.5,o=this.hbaoMaterial.uniforms.radius_of_influence.value*a;this.hbaoMaterial.uniforms.radius_in_screen_space.value=o,this.hbaoMaterial.uniforms.is_ortho.value=!0}this.runHalfRes?(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aoBuffer),e.clear(),e.render(this.scene,this.camera),this.fullscreenMaterial=hle,hle.uniforms.texture_ao_lrez.value=this.aoBuffer.texture,hle.uniforms.texture_depth_lrez.value=this.gBuffer.depthTexture,hle.uniforms.texture_depth_hrez.value=this.depthBufferHighRes.depthTexture,e.setRenderTarget(e.aoRenderTarget),e.clear(),e.render(this.scene,this.camera)):(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aaBuffer),e.clear(),e.render(this.scene,this.camera),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.aaBuffer,e.aoRenderTarget))}dispose(){this.gBuffer.dispose(),this.depthBufferHighRes.dispose(),this.aoBuffer.dispose()}},fle=class extends Mse{constructor(){super(new ZG({vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D tInput;\nuniform sampler2D tMap;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nuniform vec2 uResolution;\nuniform vec2 uCoords;\n\n// Draws a rectangle at center <st> with size <size>\nfloat rectangle(vec2 st, vec2 size) {\n    size = vec2(0.5) - size * 0.5;\n    vec2 uv = vec2(step(size.x, st.x), step(size.y, st.y));\n    uv *= vec2(step(size.x, 1.0 - st.x), step(size.y, 1.0 - st.y));\n\n    return uv.x * uv.y;\n}\n\nuniform vec2 uSize;\nuniform float uScale;\nuniform float uDPR;\nuniform float uCurrent;\nuniform vec3 uSceneColor;\n\nvoid main() {\n    vec2 screenUv = gl_FragCoord.xy / uResolution.xy;\n    screenUv *= 1.0 / uDPR;\n\n    vec2 center = vec2(0.5, -0.5);\n    vec2 outsideUv = screenUv;\n    outsideUv += center;\n    outsideUv -= uCoords.xy / uResolution.xy;\n    outsideUv = (outsideUv - 0.5) + 0.5;\n    outsideUv -= center;\n    vec2 s = (uSize / uResolution) * uScale;\n    float isOutside = 1.0 - rectangle(outsideUv, s);\n    \n    vec2 mid = vec2(0.5);\n    vec2 insideUv = (screenUv - mid + s * mid) / s;\n    vec4 background = texture2D(tInput, screenUv);\n    vec4 image = texture2D(tMap, insideUv);\n    gl_FragColor = mix(image, background, isOutside);\n}\n",uniforms:{tInput:new MK(null),tMap:new MK(null),uResolution:new MK(new AV),uSize:new MK(new AV),uCoords:new MK(new AV),uScale:new MK(1),uSceneColor:new MK(new HV(16711680)),uDPR:new MK(1),uCurrent:new MK(0)}}),"tInput"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tMap.value}set texture(e){this.uniforms.tMap.value=e}},ple=[],mle=class extends Mse{constructor(){super(new ZG({vertexShader:"\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D toScene;\nuniform sampler2D fromScene;\nuniform vec2 resolution;\n\nuniform vec2 uResolution;\nuniform float uDPR;\n\nuniform float mixRatio;\nuniform sampler2D tMixTexture;\nuniform int useTexture;\nuniform float threshold;\n\nvoid main() {\n\tvec2 screenUv = gl_FragCoord.xy / uResolution.xy;\n\tscreenUv *= 1.0 / uDPR;\n\n\tvec4 texel1 = texture2D( fromScene, screenUv );\n\tvec4 texel2 = texture2D( toScene, screenUv );\n\n\tif (useTexture==1) {\n\t\t\n\t\tvec4 transitionTexel = texture2D( tMixTexture, screenUv );\n\t\tfloat r = mixRatio * (1.0 + threshold * 2.0) - threshold;\n\t\tfloat mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);\n\t\t\n\t\tgl_FragColor = mix( texel1, texel2, mixf );\n\t} else {\n\t\t\n\t\tgl_FragColor = mix( texel1, texel2, mixRatio );\n\t\t\n\t}\n}\n",uniforms:{toScene:new MK(null),fromScene:new MK(null),uResolution:new MK(new AV),uDPR:new MK(1),mixRatio:new MK(0),threshold:new MK(.1),useTexture:new MK(0),tMixTexture:{value:ple[0]}}}),"toScene"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.fromScene.value}set texture(e){this.uniforms.fromScene.value=e}},gle=class extends Mse{constructor(){super(new ZG({vertexShader:"\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"\nuniform sampler2D inputBuffer;\nuniform sampler2D blurredInputBuffer;\nuniform sampler2D overlay;\nuniform float blurIntensity;\n\nuniform vec2 uResolution;\nuniform float uDPR;\n\nvoid main() {\n\tvec2 screenUv = gl_FragCoord.xy / uResolution.xy;\n\tscreenUv *= 1.0 / uDPR;\n\n\tvec4 texel1 = texture2D( overlay, screenUv );\n\tvec4 texel2 = texture2D( inputBuffer, screenUv );\n\tvec4 texel3 = texture2D( blurredInputBuffer, screenUv );\n\n\tfloat blurMask2 = max(sign(texel1.a), 0.0) * blurIntensity;\n    gl_FragColor = mix( mix(texel2, texel3, blurMask2), texel1, texel1.a );\n\tgl_FragColor.a = 1.0;\n}\n",uniforms:{inputBuffer:new MK(null),blurredInputBuffer:new MK(null),overlay:new MK(null),uResolution:new MK(new AV),uDPR:new MK(1),blurIntensity:new MK(0)}})),this._blurEnabled=!1,this.blurTarget=new ZV(1,1,{minFilter:WU,magFilter:WU,wrapS:UU,wrapT:UU}),this.blurPass=new Cse({width:window.innerWidth,height:window.innerHeight,kernelSize:Dse.HUGE,resolutionScale:.25}),this.blurPass.renderToScreen=!1,this.uniforms.blurredInputBuffer.value=this.blurTarget.texture}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.overlay.value}set texture(e){this.uniforms.overlay.value=e}setResolution(e,t,n=1){this.uniforms.uResolution.value.set(e,t).divideScalar(n),this.uniforms.uDPR.value=n,this.blurPass.setSize(e,t),this.blurTarget.setSize(e,t),this.blurPass.setSize(e,t)}get uiCanvas(){return this._uiCanvas}set uiCanvas(e){this._uiCanvas=e,e.texture&&(this.uniforms.overlay.value=e.texture);let t=e.frame;if(t){let e=t.data.backgroundBlur,n=e.radius;this._blurEnabled=e.enabled,this.uniforms.blurIntensity.value=this._blurEnabled?1:0,this.blurPass.scale=n/3}}render(e,t,n,r,i){this._blurEnabled&&(this.blurPass.setDepthTexture(this.getDepthTexture()),this.blurPass.render(e,t,this.blurTarget,r,i)),super.render(e,t,n,r,i)}};function vle(e,t){return t&&t.enabled&&e.push(t.effect),e}var yle=e=>Object.values(gse).includes(e)?e:gse.NORMAL,wle=class extends hV{constructor(e){super(),this.postprocessingState=k5.defaultData,this._scene=new qX,this._camera=new Moe,this.effects=new Map,this.blueNoiseTexture=new KX,this._renderToScreen=!0,this._isUIOverlayEnabled=!1,this.clock=new class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=fK(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=fK();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}},this.renderer=e,this.debug=!1,this.effects.set("bloom",new qse),this.effects.set("chromaticAberration",new Yse),this.effects.set("vignette",new Jse),this.effects.set("noise",new Zse),this.effects.set("colorAverage",new Qse),this.effects.set("hueSaturation",new Kse),this.effects.set("brightnessContrast",new Xse),this.effects.set("depthOfField",new $se),this.effects.set("pixelation",new ele),this.effectComposer=new class{constructor(e,{depthBuffer:t=!0,stencilBuffer:n=!1,multisampling:r=0,frameBufferType:i=0}={}){this.renderer=e,this.helperStartIndex=0,this.copyPass=new ose,this.depthTexture=null,this.timer=new class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(e){return this.fixedDeltaEnabled=e,this}isAutoResetEnabled(e){return this.autoReset}setAutoResetEnabled(e){return typeof document<"u"&&void 0!==document.hidden&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}getDelta(){return this.delta*Pse}getFixedDelta(){return this.fixedDelta*Pse}setFixedDelta(e){return this.fixedDelta=1e3*e,this}getElapsed(){return this.elapsed*Pse}getTimescale(){return this.timescale}setTimescale(e){return this.timescale=e,this}update(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=void 0!==e?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(e){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},this._width=1,this._height=1,this.passes=[],this.helperPasses=[],this.autoRenderToScreen=!0,this.inputBuffer=this.createBuffer(t,n,i,r,!0,"input buffer mrt"),this.inputBufferSingle=this.createBuffer(t,n,i,r,!1," input buffer single"),this.inputBufferSingle.texture.dispose(),this.inputBufferSingle.depthTexture.dispose(),this.inputBufferSingle.texture=this.inputBuffer.texture[0],this.inputBufferSingle.depthTexture=this.inputBuffer.depthTexture,this.outputBuffer=this.inputBuffer.clone(),this.outputBuffer.name="output buffer mrt",this.outputBufferSingle=this.createBuffer(t,n,i,r,!1,"output buffer single"),this.outputBufferSingle.texture.dispose(),this.outputBufferSingle.depthTexture.dispose(),this.outputBufferSingle.texture=this.outputBuffer.texture[0],this.outputBufferSingle.depthTexture=this.outputBuffer.depthTexture,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){let t=this.inputBuffer,n=this.multisampling;n>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("creating new input buffer"),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e,!0,"new input buffer"),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,null!==e){let t=e.getSize(new AV),n=e.getContext().getContextAttributes()?.alpha??!1,r=this.inputBuffer.texture[0].type;r===YU&&e.outputEncoding===eV&&(this.inputBuffer.texture[0].encoding=eV,this.outputBuffer.texture[0].encoding=eV,this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("doing some kinda dispose??")),e.autoClear=!1,this.setSize(t.width,t.height,!1);for(let t of this.passes)t.initialize(e,n,r)}}replaceRenderer(e,t=!0){let n=this.renderer,r=n.domElement.parentNode;return this.setRenderer(e),t&&null!==r&&(r.removeChild(n.domElement),r.appendChild(e.domElement)),n}createDepthTexture(){let e=this.depthTexture=new UX(this._width,this._height);return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=uj,e.type=ij):e.type=$U,e}deleteDepthTexture(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,n,r,i,a){let o,s=this.renderer,l=null===s?new AV:s.getDrawingBufferSize(new AV),c={minFilter:WU,magFilter:WU,wrapS:UU,wrapT:UU,stencilBuffer:t,depthBuffer:e};return r>0?(o=new ZV(l.width,l.height,c),o.samples=r):(i?(o=new $V(l.width,l.height,2,c),o.texture[1].type=tj):o=new ZV(l.width,l.height,c),o.depthTexture=new UX(2048,2048),o.depthTexture.type=ej),n===YU&&null!==s&&s.outputEncoding===eV&&(Array.isArray(o.texture)?o.texture.forEach((e=>e.encoding=eV)):o.texture.encoding=eV),Array.isArray(o.texture)?o.texture.forEach(((e,t)=>{e.name=`EffectComposer.Buffer ${i} ${t}`,e.generateMipmaps=!1})):(o.texture.name=`EffectComposer.Buffer ${i}`,o.texture.generateMipmaps=!1),o.name=a,o}addPass(e,t){let n,r=this.passes,i=this.renderer,a=i.getDrawingBufferSize(new AV),o=i.getContext().getContextAttributes()?.alpha??!1;if(e.MRTCompatible&&(n=this.inputBuffer.texture[0].type),e.MRTCompatible||(n=this.inputBuffer.texture.type),e.setRenderer(i),e.setSize(a.width,a.height),e.initialize(i,o,n),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==t?r.splice(t,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){let t=this.createDepthTexture();for(e of r)e.setDepthTexture(t)}else e.setDepthTexture(this.depthTexture)}setHelperStartIndex(e){this.helperStartIndex=e}removePass(e){let t=this.passes,n=t.indexOf(e);if(-1!==n&&t.splice(n,1).length>0){if(null!==this.depthTexture){let n=(e,t)=>e||t.needsDepthTexture;t.reduce(n,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&n===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){let e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){let t,n,r,i,a=this.renderer,o=this.copyPass,s=this.inputBuffer,l=this.outputBuffer,c=this.inputBufferSingle,u=this.outputBufferSingle,h=!1;void 0===e&&(e=this.timer.update().getDelta());for(let d of this.passes)d.enabled&&(d.MRTCompatible?d.render(a,s,l,e,h):d.render(a,c,u,e,h),d.needsSwap&&(h&&(o.renderToScreen=d.renderToScreen,t=a.getContext(),n=a.state.buffers.stencil,n.setFunc(t.NOTEQUAL,1,4294967295),o.render(a,s,l,e,h),n.setFunc(t.EQUAL,1,4294967295)),r=s,i=c,s=l,c=u,l=r,u=i),d instanceof Tse?h=!0:d instanceof sse&&(h=!1))}setSize(e,t,n){let r=this.renderer;if(this._width=e,this._height=t,void 0===e||void 0===t){let n=r.getSize(new AV);e=n.width,t=n.height}r.setSize(e,t,n);let i=r.getDrawingBufferSize(new AV);this.inputBuffer.setSize(i.width,i.height),this.outputBuffer.setSize(i.width,i.height),this.inputBufferSingle.setSize(i.width,i.height),this.outputBufferSingle.setSize(i.width,i.height);for(let e of this.passes)e.setSize(i.width,i.height)}reset(){let e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}dispose(){for(let e of this.passes)e.dispose();this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),null!==this.inputBufferSingle&&this.inputBufferSingle.dispose(),null!==this.outputBufferSingle&&this.outputBufferSingle.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}}(this.renderer),this.effectComposer.autoRenderToScreen=!1,this.opaquePass=new ole(!0,this.scene,this.camera),this.opaquePass.clear=!0,this.transmissionPass=new rle(this.scene,this.camera,this.renderer),this.aoPass=new dle(this.scene,this.camera),this.taaPass=new nle,this.taaPass.renderToScreen=!1,this.helperPass=new lle(this.camera),this.helperPass.renderToScreen=!1,this.stylesOverlayPass=new fle,this.stylesOverlayPass.enabled=!1,this.uiOverlayPass=new gle,this.uiOverlayPass.enabled=!1,this.sceneTransitionPass=new mle,this.sceneTransitionPass.enabled=!1,this._initCopyPass(),this._initPasses()}set overlayTexture(e){void 0!==e?(this.stylesOverlayPass.texture=e,this.stylesOverlayPass.enabled=!0):this.stylesOverlayPass.enabled=!1}get overlayTexture(){return this.stylesOverlayPass.texture}set sceneHelpers(e){this.helperPass.sceneHelpers=e}get sceneHelpers(){return this.helperPass.sceneHelpers}set sceneHelpersOnTop(e){this.helperPass.sceneHelpersOnTop=e}get sceneHelpersOnTop(){return this.helperPass.sceneHelpersOnTop}get scene(){return this._scene}set scene(e){this._scene=e,this.opaquePass.setScene(e),this.transmissionPass.setScene(e),this.aoPass.setScene(e)}get camera(){return this._camera}set camera(e){this._camera=e,this.opaquePass.setCamera(e),this.transmissionPass.setCamera(e),this.aoPass.setCamera(e),this.helperPass.setCamera(e)}updateRenderToScreen(){let e=!1;for(let t=this.effectComposer.passes.length-1;t>=0;t--){let n=this.effectComposer.passes[t];!0!==n.enabled||e||!this._renderToScreen?n.renderToScreen=!1:(n.renderToScreen=!0,e=!0)}}get isUIOverlayEnabled(){return this._isUIOverlayEnabled}disableUIOverlay(){this._isUIOverlayEnabled=!1}enableUIOverlay(){this._isUIOverlayEnabled=!0}disableHelpers(){this.helperPass.enabled=!1,this.updateRenderToScreen()}enableHelpers(){this.helperPass.enabled=!0,this.updateRenderToScreen()}updateBlueNoiseTexture(e){this.blueNoiseTexture=new KX(e,128,128),this.blueNoiseTexture.wrapS=FU,this.blueNoiseTexture.wrapT=FU,this.blueNoiseTexture.minFilter=VU,this.blueNoiseTexture.magFilter=VU,this.blueNoiseTexture.needsUpdate=!0}setAmbientOcclusionParams(e,t,n,r,i,a,o,s){this.aoPass.enabled=e,this.aoPass.radius=t,this.aoPass.bias=n,this.aoPass.aoColor=r,this.aoPass.fogEnabled=i,this.aoPass.fogNear=a,this.aoPass.fogFar=o,this.aoPass.runHalfRes!==!s&&(this.aoPass.runHalfRes=!s)}setTransmissionPassEnabled(e){this.transmissionPass.enabled=e,this.opaquePass.hasTransmissionPass=e}_initPasses(){if(this.uvEffectPass?.dispose(),this.effectPass?.dispose(),this.effectComposer.removeAllPasses(),this.transmissionPass.updatePasses(this.renderer),this.effectComposer.addPass(this.aoPass),this.effectComposer.addPass(this.opaquePass),this.effectComposer.addPass(this.transmissionPass),this.effectComposer.addPass(this.taaPass),this.postprocessingState.enabled){let e=[this.effects.get("pixelation")].reduce(vle,[]);e.length>0&&(this.uvEffectPass=new Sse(this.camera,...e),this.uvEffectPass.renderToScreen=!1,this.effectComposer.addPass(this.uvEffectPass));let t=[this.effects.get("chromaticAberration"),this.effects.get("bloom"),this.effects.get("colorAverage"),this.effects.get("hueSaturation"),this.effects.get("brightnessContrast"),this.effects.get("vignette"),this.effects.get("noise")].reduce(vle,[]);t.length>0&&(this.effectPass=new Sse(this.camera,...t),this.effectPass.renderToScreen=!1,this.effectComposer.addPass(this.effectPass))}this.effectComposer.addPass(this.stylesOverlayPass),this.effectComposer.addPass(this.uiOverlayPass),this.effectComposer.addPass(this.sceneTransitionPass),this.effectComposer.addPass(this.helperPass)}_initCopyPass(){if(this._savePass)return;let e=new AV;this.renderer.getDrawingBufferSize(e),this._rt=new ZV(e.x,e.y,{depthBuffer:!1,stencilBuffer:!1,wrapS:FU,wrapT:FU}),this._rt.samples=0,this._savePass=new ose(this._rt,!1),this._savePass.renderToScreen=!1}setCopyPass(e){this._rt=e,this._savePass=new ose(this._rt,!1),this.renderToScreen=!1}get renderToScreen(){return this._renderToScreen}set renderToScreen(e){if(this._renderToScreen===e)return;let t=this.effectComposer;!t||(!0===e?t.removePass(this._savePass):t.addPass(this._savePass),this._renderToScreen=e,this.updateRenderToScreen())}set sceneTransitionFromTexture(e){e!==this.sceneTransitionPass.texture&&(null!==e?this.sceneTransitionPass.enabled=!0:(this.sceneTransitionPass.enabled=!1,this.updateRenderToScreen()),this.sceneTransitionPass.texture=e)}get texture(){return this._rt&&this._rt.texture}get renderTarget(){return this._rt}updatePostprocessing(e){let{enabled:t,...n}=e,r=!1;t!==this.postprocessingState.enabled&&(r=!0);for(let e of Object.entries(n)){let t=e[1],n=this.effects.get(e[0]);if(n){n.enabled!==t.enabled&&(r=!0),n.enabled=t.enabled;for(let[e,r]of Object.entries(t))"blendFunction"===e?n.blendFunction=yle(r):n[e]=r}}this.postprocessingState=e,r&&this._initPasses()}render(){this.effectComposer.render(this.clock.getDelta())}setScissor(e,t,n,r){e instanceof KV?(this.effectComposer.inputBuffer.scissor.set(e.x,e.y,e.z,e.w),this.effectComposer.outputBuffer.scissor.set(e.x,e.y,e.z,e.w)):(this.effectComposer.inputBuffer.scissor.set(e,t,n,r),this.effectComposer.outputBuffer.scissor.set(e,t,n,r));let i=this.renderer.getPixelRatio();this.effectComposer.inputBuffer.scissor.multiplyScalar(i),this.effectComposer.outputBuffer.scissor.multiplyScalar(i),this.renderer.setScissor(e,t,n,r)}setScissorTest(e){this.effectComposer.inputBuffer.scissorTest=e,this.effectComposer.outputBuffer.scissorTest=e,this.renderer.setScissorTest(e)}setViewport(e,t,n,r){e instanceof KV?(this.effectComposer.inputBuffer.viewport.copy(e),this.effectComposer.outputBuffer.viewport.copy(e)):(this.effectComposer.inputBuffer.viewport.set(e,t,n,r),this.effectComposer.outputBuffer.viewport.set(e,t,n,r))}resize(e,t,n){if(this.effectComposer.setSize(e,t,n),this._rt){let n=this.renderer.getPixelRatio();this._rt.setSize(e*n,t*n)}}dispose(){this.uvEffectPass?.dispose(),this.effectPass?.dispose(),this.effectComposer.dispose()}},ble=pW.lights_fragment_begin,xle=pW.shadowmask_pars_fragment,_le=null,Sle=new ZG({vertexShader:"\nattribute vec3 randomColor;\nvarying vec3 vNormal;\nflat out vec3 vColor;\n\nvoid main()\n{\nvNormal = normal;\nvColor = randomColor;\ngl_Position = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));\n}\n",fragmentShader:"\nuniform float depthContrast;\nvarying vec3 vNormal;\nflat in vec3 vColor;\nvoid main()\n{\nvec3 normal = (normalize(vNormal)).rgb;\n\nfloat contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;\n\nvec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);\ngl_FragColor = vec4(resultColor, vColor.r);\ngl_FragColor = vec4(resultColor, vColor.r);\n}\n",uniforms:{depthContrast:{value:1}}}),Ele=new QV,Cle=class extends GX{constructor(e){super(e),this._pixelRatio=this.getPixelRatio(),this.viewportWidth=1,this.viewportHeight=1,this.resolution=new AV,this.pipeline=new wle(this),this.dummyCamera=new Moe,this.sceneTransitionDuration=0,this.sceneTransitionTimeRemaining=-1,this.isXRCopyPassSet=!1,this.clear=(e=!0,t=!0,n=!0)=>{let r=this.getContext(),i=0;e&&(i|=r.COLOR_BUFFER_BIT),t&&(i|=r.DEPTH_BUFFER_BIT),n&&(i|=r.STENCIL_BUFFER_BIT),r.clear(i),r.clearBufferfv(r.COLOR,1,[0,0,0,1])},this.autoClear=!1;let t=this.setPixelRatio.bind(this),n=this.setSize.bind(this);this.shadowMap.enabled=!0,this.shadowMap.type=HF,this.dummyCamera.matrixAutoUpdate=!1;let r=this.getContext();if(r&&"drawingBufferColorSpace"in r)try{r.drawingBufferColorSpace="display-p3"}catch(e){console.warn(e)}this.setPixelRatio=e=>{this._pixelRatio!==e&&(this._pixelRatio=e,t(e))},this.setSize=(e,t,r=!0)=>{(this.viewportWidth!==e||this.viewportHeight!==t)&&(this.viewportWidth=e,this.viewportHeight=t,n(e,t,r),this.normalRenderTarget?.setSize(e*this._pixelRatio,t*this._pixelRatio),this._resizeTransmission(e,t),this.transmissionDepthTarget?.setSize(e*this._pixelRatio/2,t*this._pixelRatio/2),this.pipeline.resize(e,t,r))},this._superDispose=this.dispose,this.dispose=this._currentDispose}createAORenderTarget(){void 0===this.aoRenderTarget&&(this.aoRenderTarget=new ZV(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:WU,magFilter:WU,wrapS:UU,wrapT:UU,depthBuffer:!1}))}_resizeTransmission(e,t){this.transmissionRenderTarget?.setSize(e*this._pixelRatio/(this.hdTransmission?1:2),t*this._pixelRatio/(this.hdTransmission?1:2)),this.aoRenderTarget?.setSize(e*this._pixelRatio/1,t*this._pixelRatio/1)}get hdTransmission(){return 1===qre.transmissionLod.value}set hdTransmission(e){qre.transmissionLod.value=!0===e?1:2,this._resizeTransmission(this.viewportWidth,this.viewportHeight)}createTransmissionRenderTarget(){void 0===this.transmissionRenderTarget&&(this.transmissionRenderTarget=new ZV(this.viewportWidth*this._pixelRatio/(this.hdTransmission?1:2),this.viewportHeight*this._pixelRatio/(this.hdTransmission?1:2),{generateMipmaps:!0,minFilter:XU,magFilter:WU,wrapS:UU,wrapT:UU,depthBuffer:!1}),this.transmissionDepthTarget=new ZV(this.viewportWidth*this._pixelRatio/2,this.viewportHeight*this._pixelRatio/2,{minFilter:VU,magFilter:VU,depthBuffer:!1}))}createNormalRenderTarget(){void 0===this.normalRenderTarget&&(this.normalRenderTarget=new ZV(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:VU,magFilter:VU,type:ej,depthTexture:new UX(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio)}))}renderNormal(e,t,n){this.normalRenderTarget&&(this.setClearColor(0),n.layers.enable(8),n.layers.disable(0),n.layers.disable(3),t.traverseEntity((e=>{e.layers.isEnabled(8)&&(e.copyPreviousMatrix=!1)})),this.setRenderTarget(this.normalRenderTarget),this.clear(),Sle.uniforms.depthContrast.value=n instanceof Moe?(n.far-n.near)/1e4:1,t.overrideMaterial=Sle,this.render(t,n),this.setClearColor(t.bgColor,t.bgColor.a),this.setRenderTarget(null),t.overrideMaterial=e.wireframeState?Pue:null,n.layers.enable(0),n.layers.enable(3),t.traverseEntity((e=>{e.layers.isEnabled(8)&&(e.copyPreviousMatrix=!0)})))}renderSplineSceneWithDummyCamera(e,t,n=1){this.dummyCamera.updateCameraState(t.dataPatched),this.dummyCamera.matrix.copy(t.matrixWorld);let r=t.height,i=t.width,a=this.viewportWidth/this.viewportHeight;i<r?i=r*a:r=i/a,this.dummyCamera.setViewplaneSize(i,r);for(let t=0;t<n;t++)this.renderSplineScene(e,this.dummyCamera)}renderSplineScene(e,t,{sceneHelpers:n,sceneHelpersOnTop:r,overrideTransmission:i,overrideNormal:a}={}){let o=e instanceof kue?e.activePage:e,s=o.visible;o.visible=!0;let l=o.scene;this.xr.enabled&&(!1===this.isXRCopyPassSet&&null!==this.getRenderTarget()&&(this.pipeline.setCopyPass(this.getRenderTarget()),this.isXRCopyPassSet=!0),this.xr.updateCamera(t)),this.setClearColor(o.bgColor,o.bgColor.a),o.penumbraSizeArray.forEach(((e,t)=>{qre.penumbraSize.value[t]=e})),qre.pixelRatioNode.value=this.getPixelRatio(),0!==this.resolution.x&&0!==this.resolution.y?qre.resolution.value.set(this.resolution.x,this.resolution.y):qre.resolution.value.set(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio),void 0!==a?(qre.normalRenderTarget.value=a,qre.normalRenderTargetDepth.value=Ele):l.needsNormal()&&(this.createNormalRenderTarget(),qre.normalRenderTarget.value=this.normalRenderTarget.texture,qre.normalRenderTargetDepth.value=this.normalRenderTarget.depthTexture,this.renderNormal(l,o,t));let c=o.data.ao,u=c.occlusion;u&&(this.createAORenderTarget(),qre.aoRenderTarget.value=this.aoRenderTarget.texture),qre.aoEnabled.value=u,this.pipeline.setAmbientOcclusionParams(c.occlusion,c.radius,c.bias,o.aoColor,null!==o.fog,o.backupFog.near,o.backupFog.far,c.aoFullRes),this.pipeline.aoPass.setBlueNoiseTexture(this.pipeline.blueNoiseTexture),this.pipeline.isUIOverlayEnabled&&o.uiCanvas?.enabled&&o.uiCanvas.texture&&o.uiCanvas.texture.image.width>0?((o.uiCanvas.width!==this.viewportWidth||o.uiCanvas.height!==this.viewportHeight)&&o.uiCanvas.applySize({width:this.viewportWidth,height:this.viewportHeight}),o.uiCanvas.render(),this.pipeline.uiOverlayPass.uiCanvas=o.uiCanvas,this.pipeline.uiOverlayPass.enabled=!0,this.pipeline.uiOverlayPass.setResolution(this.domElement.width,this.domElement.height,window.devicePixelRatio),this.pipeline.updateRenderToScreen()):(this.pipeline.uiOverlayPass.enabled=!1,this.pipeline.updateRenderToScreen());let h=!1;if(void 0!==i)qre.transmissionRenderTarget.value=i,qre.transmissionRenderTargetDepth.value=Ele,this.pipeline.setTransmissionPassEnabled(!1);else{let e=l.needsTransmission();e&&(void 0===this.transmissionRenderTarget&&(h=!0),this.createTransmissionRenderTarget(),qre.transmissionRenderTarget.value=this.transmissionRenderTarget.texture,qre.aspectRatio.value=function(e,t){return e>=t?new AV(t/e,1):new AV(1,e/t)}(this.viewportWidth,this.viewportHeight),qre.transmissionRenderTargetDepth.value=this.transmissionDepthTarget.texture),this.pipeline.setTransmissionPassEnabled(e)}t.layers.enable(3),t.layers.enable(8),this.pipeline.sceneHelpers=n,this.pipeline.sceneHelpersOnTop=r,this.pipeline.scene=o,this.pipeline.camera=t,h&&this.pipeline.transmissionPass.updatePasses(this),this.pipeline.postprocessingState!==o.postprocessing&&(this.pipeline.updatePostprocessing(o.postprocessing),!n&&!r&&this.pipeline.disableHelpers()),void 0!==this.clearAlphaOverride&&this.setClearAlpha(this.clearAlphaOverride),o.overrideMaterial=l.wireframeState?Pue:null,this.pipeline.render(),qre.frameIndex.value=(qre.frameIndex.value+1)%16,t instanceof Moe&&t.copyHistory(),o.visible=s}renderFromSceneForSceneTransitionPass(e,t,n){this.pipeline.renderToScreen=!1,this.pipeline.renderTarget,this.renderSplineScene(e,t),this.pipeline.sceneTransitionFromTexture=this.pipeline.renderTarget.texture,this.sceneTransitionDuration=n,this.sceneTransitionTimeRemaining=n,this.pipeline.renderToScreen=!0;let r=this.pipeline.sceneTransitionPass.uniforms;r.uDPR.value=window.devicePixelRatio,r.uResolution.value.set(this.domElement.width,this.domElement.height).divideScalar(window.devicePixelRatio)}_currentDispose(){this._superDispose(),this.pipeline.dispose(),this.aoRenderTarget?.dispose(),this.transmissionRenderTarget?.dispose(),this.transmissionDepthTarget?.dispose(),this.normalRenderTarget?.dispose(),this.normalRenderTarget?.depthTexture?.dispose()}},Ale=class extends(uoe(GK)){constructor(e,t=15,n=10066329){super(e,t,n),this.object=e,this.added=!1,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){poe(this.object,Ale.geometryHelper,e,t)}},Tle=class extends(uoe(UK)){constructor(e,t=15,n=6710886){super(e,t,n),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){poe(this.object,Tle.geometryHelper,e,t)}},Mle=class extends(uoe(FK)){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){poe(this.object,Mle.geometryHelper,e,t)}update(){if(void 0!==this.object){let e=Mle._vector,t=this.object.distance?this.object.distance:1e3,n=t*Math.tan(this.object.angle);this.cone.scale.set(n,n,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let r=void 0!==this.color?this.color:this.light.color;if(this.cone.material instanceof Array)for(let e=0,t=this.cone.material.length;e<t;e++)this.cone.material[e].color.set(r);else this.cone.material.color.set(r)}}},Ple=Mle;Ple._vector=new tH;var Dle,kle=class extends(zoe(uK,Ale)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let r=this.shadow.camera;r.top=1250,r.bottom=-1250,r.right=1250,r.left=-1250,r.near=-1e4,r.far=2500;let i=new XK(this.shadow.camera);i.visible=!1,this.gizmos.shadowmap=i}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof XK&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t);let n=void 0!==e.depth&&e.depth!==this.shadow.camera.far||void 0!==e.size&&e.size/2!==this.shadow.camera.right;void 0!==e.size&&function(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}(this,e.size),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),void 0!==e.penumbraSize&&t.scene.markPenumbraSizeDirty(),n&&this.update()}},Ole=new tH,Ile=new tH,Rle=new eH,Lle=class extends(zoe(rK,Ple)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let r=this.shadow.camera;r.fov=2*CV.RAD2DEG*this.angle,r.aspect=1,r.near=100,r.far=2500;let i=new XK(this.shadow.camera);i.visible=!1,this.gizmos.shadowmap=i,this.update()}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof XK&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),Ile.setFromMatrixPosition(this.matrixWorld),Rle.setFromRotationMatrix(this.matrixWorld),Ole.copy(this.up).applyQuaternion(Rle).negate().multiplyScalar(this.distance),this.target.position.copy(Ile).add(Ole),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.angle&&(this.angle=e.angle),void 0!==e.penumbra&&(this.penumbra=e.penumbra),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.penumbraSize&&t.scene.markPenumbraSizeDirty(),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}};(e=>{function t(e){return[e[0],e[3],e[1],e[4],e[2],e[5]]}e.identity=function(){return[1,0,0,0,1,0,0,0,1]},e.copy=function(t,n=e.identity()){for(let e=0,r=t.length;e<r;e++)n[e]=t[e];return n},e.create=function(t,n,r,i,a,o){return e.setAbcdef(e.identity(),t,n,r,i,a,o)},e.setAbcdef=function(e,t,n,r,i,a,o){return e[0]=t,e[1]=r,e[2]=a,e[3]=n,e[4]=i,e[5]=o,e},e.append=function(n,r){let[i,a,o,s,l,c]=t(n),[u,h,d,f,p,m]=t(r),g=u*i+h*o,v=u*a+h*s,y=d*i+f*o,w=d*a+f*s,b=p*i+m*o+l,x=p*a+m*s+c;return e.create(g,v,y,w,b,x)},e.prepend=function(n,r){let[i,a,o,s,l,c]=t(n),[u,h,d,f,p,m]=t(r),g=i,v=a,y=o,w=s;(1!==u||0!==h||0!==d||1!==f)&&(g=i*u+a*d,v=i*h+a*f,y=o*u+s*d,w=o*h+s*f);let b=l*u+c*d+p,x=l*h+c*f+m;return e.create(g,v,y,w,b,x)},e.getAbcdef=t,e.invert=function(t){let[n,r,i,a,o,s]=e.getAbcdef(t),l=n*a-r*i,c=a/l,u=-r/l,h=-i/l,d=n/l,f=(i*s-a*o)/l,p=-(n*s-r*o)/l;return e.create(c,u,h,d,f,p)},e.apply=function([t,n],r){let[i,a,o,s,l,c]=e.getAbcdef(r);return[i*t+o*n+l,a*t+s*n+c]},e.applyInverse=function(t,n){let[r,i,a,o,s,l]=e.getAbcdef(n),c=1/(r*o+a*-i),[u,h]=t;return[o*c*u+-a*c*h+(l*a-s*o)*c,r*c*h+-i*c*u+(-l*r+s*i)*c]},e.scale=function(t,n,r=n){let[i,a,o,s,l,c]=e.getAbcdef(t);return e.setAbcdef(t,i*n,a*r,o*n,s*r,l*n,c*r),t},e.rotate=function(t,n){let r=Math.cos(n),i=Math.sin(n),[a,o,s,l,c,u]=e.getAbcdef(t);return e.setAbcdef(t,a*r-o*i,a*i+o*r,s*r-l*i,s*i+l*r,c*r-u*i,c*i+u*r),t},e.rotateAround=function(t,n,r){let[i,a]=r,o=e.translate(t,-i,-a);return o=e.rotate(o,n),o=e.translate(o,i,a),o},e.translate=function(t,n,r){let[i,a,o,s,l,c]=e.getAbcdef(t);return e.setAbcdef(t,i,a,o,s,l+n,c+r),t},e.setTranslate=function(t,n,r){let[i,a,o,s]=e.getAbcdef(t);return e.setAbcdef(t,i,a,o,s,n,r),t},e.setPosition=function(t,n,r){let[i,a,o,s]=e.getAbcdef(t);return e.setAbcdef(t,i,a,o,s,n,r),t},e.getScale=function(t){let[n,r,i,a]=e.getAbcdef(t);return[Math.sqrt(n*n+r*r),Math.sqrt(i*i+a*a)]},e.getPosition=function(t){let[,,,,n,r]=e.getAbcdef(t);return[n,r]},e.getRotation=function(t,n){return e.decompose(t,n).rotation},e.decompose=function(t,n){let[r,i,a,o,s,l]=e.getAbcdef(t),c=-Math.atan2(-a,o),u=Math.atan2(i,r),h=Math.abs(c+u),d=0,f=[0,0];h<1e-5||Math.abs(2*Math.PI-h)<1e-5?(d=u,f[0]=f[1]=0):(d=0,f[0]=c,f[1]=u);let p=[Math.sqrt(r*r+i*i),Math.sqrt(a*a+o*o)];return{position:[s+(n[0]*r+n[1]*a)-n[0],l+(n[0]*i+n[1]*o)-n[1]],scale:p,rotation:d,skew:f,pivot:n}},e.compose=function(t,n,r,i,a=[0,0]){let[o,s]=t,[l,c]=n,[u,h]=i,[d,f]=a,p=Math.cos(r+f)*l,m=Math.sin(r+f)*l,g=-Math.sin(r-d)*c,v=Math.cos(r-d)*c,y=o-(u*p+h*g)+u,w=s-(u*m+h*v)+h;return e.create(p,m,g,v,y,w)}})(Dle||(Dle={}));var Nle=Math.PI/180;Math.PI;var zle=class{constructor(e,t,n){this.uuid=e,this.data=t,this.localMatrix=Dle.identity(),this.worldMatrix=Dle.identity(),this.ignoreCameraZoom=!1,this.visible=!0,this._singleBBox=new Xle,this._recursiveBBox=new Xle,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this.stateSelection=null,this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this.name="",this.position=[0,0],this.scale=[1,1],this.rotation=0,this.emitter=function(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map((function(e){e(n)})),(r=e.get("*"))&&r.slice().map((function(e){e(t,n)}))}}}(),this.dpr=n.dpr??1,this.dataPatched=t}project(e,t){let n=this.worldMatrix;return t&&(n=Dle.append(t.worldMatrix,n)),Dle.applyInverse(e,n)}intersects(e,t,n){return this.visible&&!this.data.raycastLock&&this.intersectsInLocalSpace(...this.project([e,t],n))}intersectsInLocalSpace(e,t){let{min:n,max:r}=this.singleBBox;return e>=n[0]&&e<=r[0]&&t>=n[1]&&t<=r[1]}applyTransforms(e){e.setTransform(this.worldMatrix,this.ignoreCameraZoom)}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges()),this._recursiveBBox}updateLocalMatrix(){this.localMatrix=Dle.compose(this.position,this.scale,function(e){return e*Nle}(this.rotation),Q6.getPivot(this.dataPatched))}updateWorldMatrix(e,t,n){let r=this.parent;t&&null!=r&&r.updateWorldMatrix(e,!0,!1),e&&this.updateLocalMatrix(),this.parent?this.worldMatrix=Dle.append(this.parent.worldMatrix,this.localMatrix):this.worldMatrix=Dle.copy(this.localMatrix),this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}get pivot(){return Q6.getPivot(this.data)}getCenter(){return[0,0]}getHalfSize(){return[0,0]}get id(){return this.uuid}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors((e=>{e.resetBBoxNeedsUpdateSelf()}))}updateTransformState(e){let t=!1;void 0!==e.position&&(t=!0,this.position=e.position),void 0!==e.rotation&&(t=!0,this.rotation=e.rotation),void 0!==e.scale&&(t=!0,this.scale=e.scale),t&&(this.updateWorldMatrix(!0,!1,!0),this.resetBBoxNeedsUpdate())}updateByOp(e,t,n){0===e.type&&void 0!==e.props.visible&&(this.visible=e.props.visible),this.data=t,this.data=t;let r=e,i=j2(e.path,["states","*"]);if(null!==i){if(0===e.type){let[t]=i;if(this?.stateSelection===t){let t={...e.props};if(delete t.name,Object.values(e.props).some((e=>void 0===e))){let n=this.data;if(void 0!==n){let r=L2.zoom(n,e.path.slice(2));if(r)for(let n in e.props)void 0===e.props[n]&&n in r&&(t[n]=r[n])}}r={...e,props:t,path:e.path.slice(2)}}}}else if(0===e.type){let t=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(void 0!==t){if(void 0!==e.props.name&&t.name){let{name:e,...n}=t;t=n}let n=L2.removeOverridden(e.path,e.props,t);r={...e,props:n}}}this.updateByPatchedOpBase(r,F6.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),n)}changeSelectedState(e,t,n=!1){if(0!==this.data.states.length||n){for(let e of this.data.states)F6.toOps(this.data,e.data).forEach((e=>{let n=u2.replaceProps(e,this.data);this.dataPatched=this.data,this.updateByPatchedOp(n,this.data,t)}));if(null!==e){let n=this.data.states.data(e);n&&(this.dataPatched=F6.patch(this.data,n),F6.toOps(this.data,n).forEach((e=>{this.updateByPatchedOp(e,this.dataPatched,t)})))}n&&this.updateTransformState(this.dataPatched),this.stateSelection=e}}updateState(e,t){void 0!==e.name&&(this.name=e.name),void 0!==e.visible&&(this.visible=e.visible),this.updateTransformState(e)}updateByPatchedOpBase(e,t,n){this.dataPatched=t,this.updateByPatchedOp(e,t,n)}updateByPatchedOp(e,t,n){0===e.path.length&&0===e.type&&this.updateState(e.props,n),this.requestRender()}traverseFrameAncestors(e){this.traverseAncestors((t=>{"frame2d"===t.data.type&&e(t)}))}traverseAncestors(e){let t=this.parent;for(;t;)e(t),t=t.parent}requestRender(){this.traverseFrameAncestors((e=>{e.requestRender()}))}clone(e){let t=new zle(this.uuid,this.data,e);return t.parent=void 0,t}addEventListener(e,t){this.emitter.on(e,t)}removeEventListener(e,t){this.emitter.off(e,t)}dispatchEvent(e){this.emitter.emit(e.type,{...e,target:e.target??this})}traverseSortNextHelper(){let e=this.parent;if(e){let t=e.children;if(t){let n=t.indexOf(this)+1;return t[n]?t[n]:e.traverseSortNextHelper()}}}sortNext(){let e=this.children;return e&&e.length>0&&e[0]?e[0]:this.traverseSortNextHelper()}isDescendantOf(e){e instanceof zle&&(e=e.uuid);let t=this;for(;t.parent;){if(t.parent.uuid===e)return!0;t=t.parent}return!1}},Ble=class extends zle{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.context=n,this.children=[]}add(e){e.parent&&e.parent instanceof Ble&&e.parent.remove(e),this.children.push(e),e.parent=this}remove(e){let t=this.children.indexOf(e);t>=0&&(this.children.splice(t,1),e.parent=void 0)}traverse(e){let t=e(this);if(!0!==t)for(let n of this.children)n instanceof Ble?n.traverse(e):t=e(n)}intersectsChildren(e,t,n,r=!1,i=[]){for(let a of this.children)if(a instanceof Ble&&a.intersectsChildren(e,t,n,r,i),a.intersects(e,t,n)&&(i.push(a),r))break;return i}updateWorldMatrix(e,t,n){if(super.updateWorldMatrix(e,t,n),n&&this.children)for(let t of this.children)t.updateWorldMatrix(e,!1,!0)}find(e){let t;return this.traverse((n=>{n.uuid===e&&(t=n)})),t}innerDrawChildren(e){for(let t=this.children.length-1;t>=0;t--)this.children[t].draw(e)}resetBBoxNeedsUpdate(){super.resetBBoxNeedsUpdate(),this.traverse((e=>{e.resetBBoxNeedsUpdateSelf()}))}clone(e){let t=new Ble(this.uuid,this.data,e);t.parent=void 0;for(let n of this.children)t.add(n.clone(e));return t}},Fle=class extends Ble{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.reset(t)}reset(e){this.data=e}draw(e){!this.visible||(e.save(),this.applyTransforms(e),this.innerDrawChildren(e),e.restore())}clone(e){let t=new Fle(this.uuid,this.data,e);t.parent=void 0;for(let n of this.children)t.add(n.clone(e));return t}};function Ule(e,t){let[[n,r],[i,a]]=e,[[o,s],[l,c]]=t,u=(n-i)*(s-c)-(r-a)*(o-l);if(0===u)return!1;let h=((n-o)*(s-c)-(r-s)*(o-l))/u,d=-((n-i)*(r-s)-(r-a)*(n-o))/u;return h>=0&&h<=1&&d>=0&&d<=1}var jle,Vle,Hle,Gle,Wle=[[-1,1],[-1,-1],[1,-1],[1,1]],qle=(e,t,n)=>{let r=e.getCenter(),i=e.getHalfSize(),a=Dle.append(t,e.worldMatrix);0===i[0]&&0===i[1]?n.push(Dle.apply(r,a)):Wle.forEach((e=>{let t=[e[0]*i[0]+r[0],e[1]*i[1]+r[1]];n.push(Dle.apply(t,a))}))},Xle=class{constructor(){this.matrix=Dle.identity(),this.min=[1/0,1/0],this.max=[-1/0,-1/0],this.vertices=[],this.edges=[]}setFromObjectSize(e,t=!1){e.updateWorldMatrix(),this.makeEmpty(),Dle.copy(e.worldMatrix,this.matrix);let n=Dle.invert(e.worldMatrix);this.expandByObjectSize(e,n,t)}expandByObjectSize(e,t,n=!1){let r=[];!0===n&&e instanceof Ble?e.traverse((e=>{e.visible&&qle(e,t,r)})):qle(e,t,r),this.setFromPoints(r)}getCenter(){let[e,t]=this.min,[n,r]=this.getHalfSize();return Dle.apply([e+n,t+r],this.matrix)}getSize(){return[this.max[0]-this.min[0],this.max[1]-this.min[1]]}getHalfSize(){return[.5*(this.max[0]-this.min[0]),.5*(this.max[1]-this.min[1])]}makeEmpty(){this.min=[1/0,1/0],this.max=[-1/0,-1/0]}setFromPoints(e){this.makeEmpty();for(let t of e)this.expandByPoint(t)}expandByPoint(e){this.min=[Math.min(this.min[0],e[0]),Math.min(this.min[1],e[1])],this.max=[Math.max(this.max[0],e[0]),Math.max(this.max[1],e[1])]}computeVertices(){let[e,t]=this.getHalfSize(),n=this.getCenter(),[r,i,a,o]=Dle.getAbcdef(this.matrix),s=Dle.create(r,i,a,o,n[0],n[1]);this.vertices=Wle.map((([n,r])=>Dle.apply([n*e,r*t],s)))}computeEdges(){this.edges=[];for(let e=0,t=this.vertices.length;e<t;++e)this.edges.push([this.vertices[e],this.vertices[(e+1)%t]])}project(e,t){let n=this.matrix;return t&&(n=Dle.append(t.worldMatrix,n)),Dle.applyInverse(e,n)}intersects(e,t,n){return this.intersectsInLocalSpace(...this.project([e,t],n))}intersectsInLocalSpace(e,t){let{min:n,max:r}=this;return e>=n[0]&&e<=r[0]&&t>=n[1]&&t<=r[1]}containsPoint(e){let[t,n]=e,[r,i]=this.min,[a,o]=this.max;return t>=r&&t<=a&&n>=i&&n<=o}intersectsBBox2D(e){for(let t=0,n=this.edges.length;t<n;t++){let n=this.edges[t];for(let t=0,r=e.edges.length;t<r;t++)if(Ule(n,e.edges[t]))return!0}for(let t=0,n=e.vertices.length;t<n;t++){let n=e.vertices[t];if(this.containsPoint(n))return!0}return!1}ensureMinMax(){let e=this.min,t=this.max;this.min=[Math.min(e[0],t[0]),Math.min(e[1],t[1])],this.max=[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}copy(e){this.min=[...e.min],this.max=[...e.max],Dle.copy(e.matrix,this.matrix),this.computeVertices(),this.computeEdges()}clone(){let e=new Xle;return e.copy(this),e}},Yle=new Promise((e=>{jle=e})),Qle=!1;function Kle(){if(!Qle)return Vle||(Vle=async function(){let e=await o.e(778).then(o.bind(o,4778));jle(e.default??e),Qle=!0}())}function Zle(e){let t=!1;return e.scene.objects.traverse(((e,n)=>{("Mesh"===n.type&&"UIGeometry"===n.geometry.type||"Page"===n.type&&void 0!==n.uiFrame)&&(t=!0)})),t}var Jle=Dle.identity(),$le=class{constructor(e,t=1){this.canvas=e,this.dpr=t,this._width=0,this._height=0,this._strokeMode="inside",this._layerBlur=0,this._backgroundBlur=0,this._dropShadowBlur=0,this._dropShadowOffsetX=0,this._dropShadowOffsetY=0,this._dropShadowColor=B4.transparent,this._innerShadowBlur=0,this._innerShadowOffsetX=0,this._innerShadowOffsetY=0,this._innerShadowSpread=0,this._innerShadowColor=B4.transparent,this._fonts=new Map;try{let n=e.getBoundingClientRect();e.width=n.width*t,e.height=n.height*t}catch{console.log(e.width,t)}this._currentM3Transform=Jle,this._currentTransform=new Float32Array(Jle)}async init(){if(!this.wasmURL)throw Error("Your must set the wasm binary url with renderer.wasmURL = ... before you can call renderer.init");await async function(e){let t=await Yle;Hle||(Gle||(Gle=t({locateFile:()=>e})),Hle=await Gle)}(this.wasmURL),this._surface=Hle.MakeWebGLCanvasSurface(this.canvas),this.ctx=this._surface?.getCanvas(),this._paint=new Hle.Paint,this._paint.setAntiAlias(!0),this._paintFill=this._paint.copy(),this._paintFill.setStyle(Hle.PaintStyle.Fill),this._paintStroke=this._paint.copy(),this._paintStroke.setStyle(Hle.PaintStyle.Stroke),this.ctx?.scale(this.dpr,this.dpr)}get currentTransform(){return this._currentM3Transform}get currentTransformBuffer(){return this._currentTransform}set currentTransform(e){this._currentM3Transform=e,this._currentTransform.set(e)}async loadFont(e,t){let n=await(await fetch(e)).arrayBuffer();this.registerFont(n,t)}registerFont(e,t){if(this._fonts.has(t))return;let n=Hle.FontMgr.FromData(e);if(!n)throw new Error("Invalid font data for "+t);this._fonts.set(t,n)}get width(){return this._width}get height(){return this._height}set strokeColor(e){this._paintStroke&&this._paintStroke.setColor(tce(e),Hle.ColorSpace.DISPLAY_P3)}set fillColor(e){this._paintFill&&this._paintFill.setColor(tce(e),Hle.ColorSpace.DISPLAY_P3)}set lineWidth(e){this._paintStroke&&this._paintStroke.setStrokeWidth("center"===this._strokeMode?e:2*e)}set strokeMode(e){this._strokeMode=e}set dropShadowBlur(e){this._dropShadowBlur=e}set dropShadowColor(e){this._dropShadowColor=e}set dropShadowOffsetX(e){this._dropShadowOffsetX=e}set dropShadowOffsetY(e){this._dropShadowOffsetY=e}set innerShadowBlur(e){this._innerShadowBlur=e}set innerShadowColor(e){this._innerShadowColor=e}set innerShadowOffsetX(e){this._innerShadowOffsetX=e}set innerShadowOffsetY(e){this._innerShadowOffsetY=e}set innerShadowSpread(e){this._innerShadowSpread=e}set layerBlur(e){this._layerBlur=e}set backgroundBlur(e){this._backgroundBlur=e}clear(){this.ctx?.clear(Hle.TRANSPARENT)}save(){this.ctx?.save()}restore(){this.ctx?.restore()}beginPath(){this._currentPath?.delete(),this._currentPath=new Hle.Path}closePath(){let e=this._currentPath;if(e){if(e.isEmpty())return;let t=e.getBounds();(t[3]-t[1]||t[2]-t[0])&&e.close()}}fill(){this._paintInner(this._paintFill,!0)}stroke(){this._paintInner(this._paintStroke,!1)}clipRect(e,t,n,r,i=0,a=0,o=0,s=0){let l=Hle.XYWHRect(e,t,n,r);if(0===i&&0===a&&0===s&&0===o)this.ctx?.clipRect(l,Hle.ClipOp.Intersect,!0);else{let e=Hle.RRectXY(l,i,i);e[4]=e[5]=i,e[6]=e[7]=a,e[8]=e[9]=o,e[10]=e[11]=s,this.ctx?.clipRRect(e,Hle.ClipOp.Intersect,!0)}}_applyShadowOffsetMatrix(){if(this.ctx){let e=Dle.invert(this.currentTransform);this.ctx.concat(e);let t=Dle.translate(Dle.identity(),this._dropShadowOffsetX,this._dropShadowOffsetY);this.ctx.concat(t),this.ctx.concat(this._currentTransform)}}_applyEffectsToPaint(e,t,n=!0){if(this.ctx&&this._currentPath){let r,i=!1;if(n&&this._hasDropShadow()){let n,r=e.copy();r.setColor(tce(this._dropShadowColor)),this._dropShadowBlur>0&&(n=Hle.MaskFilter.MakeBlur(Hle.BlurStyle.Normal,this._dropShadowBlur*this.dpr*(this.camera?.scale??1),!1),r.setMaskFilter(n)),this.ctx.save(),this.ctx.clipPath(this._currentPath,Hle.ClipOp.Difference,!0),this._applyShadowOffsetMatrix(),t(r),this.ctx.restore(),r.delete(),n?.delete()}if(this._backgroundBlur>0&&n){this.ctx.save(),this.ctx.clipPath(this._currentPath,Hle.ClipOp.Intersect,!0);let t=Hle.ImageFilter.MakeBlur(this._backgroundBlur,this._backgroundBlur,Hle.TileMode.Clamp,null),n=e.copy();n.setImageFilter(t),n.setAlphaf(1);let r=this._currentPath.computeTightBounds();this.ctx.saveLayer(n,r,null,Hle.SaveLayerInitWithPrevious),this.ctx.drawColor(e.getColor()),this.ctx.restore(),this.ctx.restore(),n.delete(),t.delete(),i=!0}if(this._layerBlur>0){let n=e.copy();r=Hle.MaskFilter.MakeBlur(Hle.BlurStyle.Normal,this._layerBlur*this.dpr*(this.camera?.scale??1),!1),n.setMaskFilter(r),t(n),n.delete(),r.delete(),i=!0}if(i||t(e),n&&this._hasInnerShadow()){let e,t=new Hle.Paint;t.setAntiAlias(!0),t.setStyle(Hle.PaintStyle.Fill),t.setColor(tce(this._innerShadowColor)),this._innerShadowBlur>0&&(e=Hle.MaskFilter.MakeBlur(Hle.BlurStyle.Normal,this._innerShadowBlur*this.dpr*(this.camera?.scale??1),!1),t.setMaskFilter(e));let n=this._currentPath.computeTightBounds(),[r,i,a,o]=n,s=a-r,l=o-i;this.ctx.save(),this.ctx.clipPath(this._currentPath,Hle.ClipOp.Intersect,!0),this.ctx.saveLayer(t,n,null,Hle.SaveLayerInitWithPrevious),this.ctx?.translate(this._innerShadowOffsetX,this._innerShadowOffsetY),this.ctx.drawRect(Hle.XYWHRect(-1e3-this._innerShadowOffsetX,-1e3-this._innerShadowOffsetY,2e3+s+Math.abs(2*this._innerShadowOffsetX),2e3+l+Math.abs(2*this._innerShadowOffsetY)),t),t.setBlendMode(Hle.BlendMode.Clear),this.ctx.drawPath(this._currentPath,t),this.ctx.restore(),this.ctx.restore(),t.delete(),e?.delete()}}}_paintInner(e,t=!0){if(this.ctx&&this._currentPath&&e){let n=this.ctx,r=this._currentPath;this._applyEffectsToPaint(e,(e=>{let i=!1;!t&&"center"!==this._strokeMode&&(n.save(),n.clipPath(r,"outside"===this._strokeMode?Hle.ClipOp.Difference:Hle.ClipOp.Intersect,!0),i=!0),n.drawPath(r,e),i&&n.restore()}),t)}}_hasDropShadow(){return this._dropShadowColor?.a>0}_hasInnerShadow(){return this._innerShadowColor?.a>0}ellipse(e,t,n,r,i,a,o,s){if(!ece([e,t,n,r])||!this._currentPath)return;if(n<0||r<0)throw Error("radii cannot be negative");let l=Hle.XYWHRect(e-n,t-r,2*n,2*r);this._currentPath?.addOval(l)}rect(e,t,n,r,i=0,a=0,o=0,s=0){let l=Hle.XYWHRect(e,t,n,r);if(ece(l))if(0===i&&0===a&&0===s&&0===o)this._currentPath?.addRect(l);else{let e=Hle.RRectXY(l,i,i);e[4]=e[5]=i,e[6]=e[7]=a,e[8]=e[9]=o,e[10]=e[11]=s,this._currentPath?.addRRect(e)}}getHorizontalAlign(e){switch(e){case 2:return Hle.TextAlign.Right;case 3:return Hle.TextAlign.Center;case 4:return Hle.TextAlign.Justify;default:return Hle.TextAlign.Left}}drawTextInner(e,t,n,[r,i,a,o],s,l,c=!0){let u=0,{ctx:h}=this;if(!h)return u;let d=l.copy(),f=l.copy();return f.setAlphaf(0),this._applyEffectsToPaint(d,(l=>{t.pushPaintStyle(n,l,f),t.addText(e);let c=t.build();c.layout(a);let d=i;2===s?d+=(o-c.getHeight())/2:3===s&&(d+=o-c.getHeight()),h.drawParagraph(c,r,d),u=c.getHeight(),t.reset(),c.delete()}),c),d.delete(),f.delete(),u}drawText(e,t){let n=0,r=this._fonts.get(t.font),{ctx:i,_paintFill:a,_paintStroke:o}=this;if(r&&i){let i=new Hle.TextStyle({fontFamilies:[t.font],fontSize:t.fontSize,heightMultiplier:t.lineHeight,letterSpacing:t.letterSpacing}),s=new Hle.ParagraphStyle({textStyle:i,textAlign:this.getHorizontalAlign(t.horizontalAlign)}),l=Hle.XYWHRect(t.x,t.y,t.width,t.height),c=Hle.ParagraphBuilder.Make(s,r);a&&(n=this.drawTextInner(e,c,i,l,t.verticalAlign,a,!0)),o&&(n=this.drawTextInner(e,c,i,l,t.verticalAlign,o,!1)),c.delete()}return{height:n}}render(){this._surface?.flush()}moveTo(e,t){this._currentPath?.moveTo(e,t)}lineTo(e,t){this._currentPath?.lineTo(e,t)}bezierCurveTo(e,t,n,r,i,a){this._currentPath?.cubicTo(e,t,n,r,i,a)}quadraticCurveTo(e,t,n,r){this._currentPath?.quadTo(e,t,n,r)}setTransform(e,t=!1){if(!this.ctx)return;let n=this.ctx.getTotalMatrix(),r=Dle.invert(n);if(r&&this.ctx.concat(r),this.ctx?.scale(this.dpr,this.dpr),this.camera?.enabled&&(this.ctx?.concat(this.camera.worldMatrix),t)){let e=Dle.getScale(this.camera.worldMatrix);this.ctx?.scale(1/e[0],1/e[1])}this.ctx?.concat(e),this.currentTransform=e}transform(e){this.ctx?.concat(e)}setSize(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.canvas.style.width=e+"px",this.canvas.style.height=t+"px",this.canvas.width=e*this.dpr,this.canvas.height=t*this.dpr,this._surface&&(this._surface=Hle.MakeWebGLCanvasSurface(this.canvas),this.ctx=this._surface?.getCanvas()))}};function ece(e){for(let t=0;t<e.length;t++)if(void 0!==e[t]&&!Number.isFinite(e[t]))return!1;return!0}function tce({r:e,g:t,b:n,a:r}){return Hle.Color4f(e,t,n,r)}var nce,rce,ice,ace=class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.color=B4.transparent,this.blurRadius=0,this.offset=[0,0],this.spread=0,this.update(t)}update(e){void 0!==e.color&&(this.color=e.color),void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.blurRadius&&(this.blurRadius=e.blurRadius),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.spread&&(this.spread=e.spread)}},oce=class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.radius=0,this.update(t)}update(e){void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.radius&&(this.radius=e.radius)}},sce=class extends zle{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.fill=new class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.color=B4.transparent,this.update(t)}update(e){void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.color&&(this.color=e.color)}}(e+"-fill",t.fill,n),this.stroke=new class{constructor(e,t,n){this.uuid=e,this.data=t,this.enabled=!1,this.color=B4.transparent,this.thickness=0,this.mode="inside",this.update(t)}update(e){void 0!==e.enabled&&(this.enabled=e.enabled),void 0!==e.color&&(this.color=e.color),void 0!==e.thickness&&(this.thickness=e.thickness),void 0!==e.mode&&(this.mode=e.mode)}}(e+"-stroke",t.stroke,n),this.dropShadow=new ace(e+"-dropShadow",t.dropShadow,n),this.innerShadow=new ace(e+"-innerShadow",t.innerShadow,n),this.backgroundBlur=new oce(e+"-backgroundBlur",t.backgroundBlur,n),this.layerBlur=new oce(e+"-layerBlur",t.layerBlur,n)}applyFillStroke(e){e.fillColor=this.fill.enabled?this.fill.color:B4.transparent,e.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:B4.transparent,e.strokeMode=this.stroke.mode,e.lineWidth=this.stroke.thickness}applyFilters(e){this.layerBlur.enabled?e.layerBlur=5*this.layerBlur.radius:e.layerBlur=0,this.backgroundBlur.enabled?e.backgroundBlur=5*this.backgroundBlur.radius:e.backgroundBlur=0,this.dropShadow.enabled?(e.dropShadowBlur=5*this.dropShadow.blurRadius,e.dropShadowColor=this.dropShadow.color,e.dropShadowOffsetX=this.dropShadow.offset[0],e.dropShadowOffsetY=this.dropShadow.offset[1]):e.dropShadowColor=B4.transparent,this.innerShadow.enabled?(e.innerShadowSpread=this.innerShadow.spread,e.innerShadowBlur=5*this.innerShadow.blurRadius,e.innerShadowColor=this.innerShadow.color,e.innerShadowOffsetX=this.innerShadow.offset[0],e.innerShadowOffsetY=this.innerShadow.offset[1]):e.innerShadowColor=B4.transparent}innerDraw(e){}draw(e){!this.visible||(e.save(),this.applyTransforms(e),this.applyFilters(e),this.applyFillStroke(e),e.beginPath(),this.innerDraw(e),e.closePath(),this.fill.enabled&&e.fill(),this.stroke.enabled&&e.stroke(),e.restore())}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),0===e.type&&(j2(e.path,["fill"])?this.fill.update(e.props):j2(e.path,["stroke"])?this.stroke.update(e.props):j2(e.path,["dropShadow"])?this.dropShadow.update(e.props):j2(e.path,["innerShadow"])?this.innerShadow.update(e.props):j2(e.path,["layerBlur"])?this.layerBlur.update(e.props):j2(e.path,["backgroundBlur"])?this.backgroundBlur.update(e.props):this.resetBBoxNeedsUpdate())}updateState(e,t){super.updateState(e,t),void 0!==e.fill&&this.fill.update(e.fill),void 0!==e.stroke&&this.stroke.update(e.stroke),void 0!==e.dropShadow&&this.dropShadow.update(e.dropShadow),void 0!==e.innerShadow&&this.innerShadow.update(e.innerShadow),void 0!==e.layerBlur&&this.layerBlur.update(e.layerBlur),void 0!==e.backgroundBlur&&this.backgroundBlur.update(e.backgroundBlur)}clone(e){let t=new sce(this.uuid,this.data,e);return t.parent=void 0,t}},lce=class extends sce{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.width=0,this.height=0,this.updateState(t,n)}innerDraw(e){e.ellipse(.5*this.width,.5*this.height,.5*this.width,.5*this.height,0,0,2*Math.PI)}intersectsInLocalSpace(e,t){return function(e,t,n,r,i,a){let o=e-n,s=t-r;return o*o/(i*i)+s*s/(a*a)<=1}(e,t,.5*this.width,.5*this.height,.5*this.width,.5*this.height)}getCenter(){return[.5*this.width,.5*this.height]}getHalfSize(){return[.5*this.width,.5*this.height]}updateSizeState(e){let t=!1;void 0!==e.width&&(this.width="number"==typeof e.width?e.width:this.width,t=!0),void 0!==e.height&&(this.height="number"==typeof e.height?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e)}clone(e){let t=new lce(this.uuid,this.data,e);return t.parent=void 0,t}},cce=class extends sce{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.width=0,this.height=0,this.cornerRadius=[0,0,0,0],this.updateState(t,n)}innerDraw(e){e.rect(0,0,this.width,this.height,...this.cornerRadius)}getCenter(){return[.5*this.width,.5*this.height]}getHalfSize(){return[.5*this.width,.5*this.height]}updateCornerState(e){void 0!==e.cornerRadius&&(this.cornerRadius=e.cornerRadius)}updateSizeState(e){let t=!1;void 0!==e.width&&(this.width="number"==typeof e.width?e.width:this.width,t=!0),void 0!==e.height&&(this.height="number"==typeof e.height?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateCornerState(e)}clone(e){let t=new cce(this.uuid,this.data,e);return t.parent=void 0,t}},uce=class extends sce{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this._textHeight=0,this._textHeightDirty=!0,this.width=0,this.height=0,this.updateState(t,n)}get textHeight(){return this._textHeight}applyFillStroke(e){e.fillColor=this.fill.enabled?this.fill.color:B4.transparent,e.strokeColor=this.stroke.enabled&&this.stroke.thickness>0?this.stroke.color:B4.transparent,e.strokeMode="center",e.lineWidth=this.stroke.thickness}innerDraw(e){this._fontHolder?.arrayBuffer&&this._fontHolder.arrayBuffer.byteLength>1&&this.data.font&&e.registerFont(this._fontHolder.arrayBuffer,this.data.font);let t=this.data.textTransform,n=this.data.text.textValue.toString(),r=2===t?n.toUpperCase():3===t?n.toLowerCase():n,{height:i}=e.drawText(r,{x:0,y:0,width:this.width,height:this.height,fontSize:this.data.fontSize,lineHeight:this.data.lineHeight??1,letterSpacing:this.data.letterSpacing??0,horizontalAlign:this.data.horizontalAlign,verticalAlign:this.data.verticalAlign,font:this.data.font});this._textHeight=i}getCenter(){return[.5*this.width,.5*this.height]}getHalfSize(){return[.5*this.width,.5*this.height]}updateSizeState(e){let t=!1;void 0!==e.width&&(this.width="number"==typeof e.width?e.width:this.width,t=!0),void 0!==e.height&&(this.height="number"==typeof e.height?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateFontState(e,{shared:t}){void 0!==e.font&&(this._fontHolder=t.getFont(e.font),this._fontHolder&&!this._fontHolder.isLoaded&&this._fontHolder.loadingPromise.then((()=>{this.requestRender()})))}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateFontState(e,t)}clone(e){let t=new uce(this.uuid,this.data,e);return t.parent=void 0,t}},hce=class extends sce{constructor(e,t,n){super(e,t,n),this.uuid=e,this.data=t,this.curves=[],this.extremasBBox={min:[0,0],max:[0,0]},this.updateState(t,n)}computeExtremas(){0===this.curves.length&&this.computeCurves();let e=this.curves.map((e=>nce.extremas(e))),t=[1/0,1/0],n=[-1/0,-1/0];for(let r=0,i=e.length;r<i;r++){let i=e[r];i[0][0]<t[0]&&(t[0]=i[0][0]),i[0][1]<t[1]&&(t[1]=i[0][1]),i[1][0]>n[0]&&(n[0]=i[1][0]),i[1][1]>n[1]&&(n[1]=i[1][1])}return this.extremasBBox.min=[t[0],t[1]],this.extremasBBox.max=[n[0],n[1]],this.extremasBBox}computeCurves(){this.curves=[];for(let e=1,t=this.data.points.length;e<t;e++){let t=this.data.points[e].data,n=this.data.points[e-1].data,r={start:n.position,cp1:n.controlNext.position,cp2:t.controlPrevious.position,end:t.position};this.curves.push(r)}let e=this.data.points[0].data,t=this.data.points[this.data.points.length-1].data;if(this.data.isClosed){let n={start:t.position,cp1:t.controlNext.position,cp2:e.controlPrevious.position,end:e.position};this.curves.push(n)}}getCenter(){let[e,t]=this.extremasBBox.min,[n,r]=this.getHalfSize();return[e+n,t+r]}getHalfSize(){let{min:e,max:t}=this.extremasBBox;return[.5*(t[0]-e[0]),.5*(t[1]-e[1])]}innerDraw(e){for(let t=0,n=this.data.points.length;t<n;t++){let n=this.data.points[t].data;if(0===t){let[t,r]=n.position;e.moveTo(t,r)}else{let r=this.data.points[t-1].data,[i,a]=r.controlNext.position,[o,s]=n.controlPrevious.position,[l,c]=n.position,u={start:r.position,cp1:r.controlNext.position,cp2:n.controlPrevious.position,end:n.position};nce.derive(u),e.bezierCurveTo(i,a,o,s,l,c)}}let t=this.data.points[0].data,n=this.data.points[this.data.points.length-1].data;if(this.data.isClosed){let[r,i]=n.controlNext.position,[a,o]=t.controlPrevious.position,[s,l]=t.position;e.bezierCurveTo(r,i,a,o,s,l)}}updateState(e,t){super.updateState(e,t),this.computeExtremas()}clone(e){let t=new hce(this.uuid,this.data,e);return t.parent=void 0,t}};(e=>{function t(e,t,n,r=!1){let i=e-2*t+n;if(0!==i){let r=-Math.sqrt(Math.abs(t*t-e*n)),a=-e+t;return[-(r+a)/i,-(-r+a)/i]}return t!==n&&0===i?[(2*t-n)/(2*(t-n))]:[]}e.derive=function(e){let t=e.start,n=e.cp1,r=e.cp2,i=e.end,a={start:[3*(n[0]-t[0]),3*(n[1]-t[1])],cp:[3*(r[0]-n[0]),3*(r[1]-n[1])],end:[3*(i[0]-r[0]),3*(i[1]-r[1])]};return e.derivative=a,a.derivative=rce.derive(a),a},e.droot=function(n){let r=n.derivative??e.derive(n),i=r.start,a=r.cp,o=r.end;return[t(i[0],a[0],o[0]),t(i[1],a[1],o[1])]},e.extremas=function(t){let[n,r]=e.droot(t),i=[t.start[0],t.end[0]],a=[t.start[1],t.end[1]];for(let r of n)i.push(e.compute(t,Math.min(1,Math.max(0,r)))[0]);for(let n of r)a.push(e.compute(t,Math.min(1,Math.max(0,n)))[1]);return i.sort(((e,t)=>e-t)),a.sort(((e,t)=>e-t)),[[i[0],a[0]],[i[i.length-1],a[a.length-1]]]},e.compute=function(e,t){if(0===t)return[...e.start];if(1===t)return[...e.end];let n=1-t,r=n*n,i=t*t,a=r*n,o=r*t*3,s=n*i*3,l=t*i;return[a*e.start[0]+o*e.cp1[0]+s*e.cp2[0]+l*e.end[0],a*e.start[1]+o*e.cp1[1]+s*e.cp2[1]+l*e.end[1]]}})(nce||(nce={})),(e=>{e.derive=function(e){let t=e.start,n=e.cp,r=e.end,i={start:[2*(n[0]-t[0]),2*(n[1]-t[1])],end:[2*(r[0]-n[0]),2*(r[1]-n[1])]};return i.derivative=ice.derive(i),e.derivative=i,i},e.droot=function(t){let n=t.derivative??e.derive(t),r=n.start,i=n.end;return[r[0]!==i[0]?r[0]/(r[0]-i[0]):0,r[1]!==i[1]?r[1]/(r[1]-i[1]):0]},e.compute=function(e,t){if(0===t)return[...e.start];if(1===t)return[...e.end];let n=1-t,r=n*n,i=n*t*2,a=t*t;return[r*e.start[0]+i*e.cp[0]+a*e.end[0],r*e.start[1]+i*e.cp[1]+a*e.end[1]]}})(rce||(rce={})),(e=>{e.derive=function(e){let t=e.start,n=e.end,r=[n[0]-t[0],n[1]-t[1]];return e.derivative=r,e.derivative},e.compute=function(e,t){if(0===t)return[...e.start];if(1===t)return[...e.end];let n=e.start,r=e.end;return[n[0]+(r[0]-n[0])*t,n[1]+(r[1]-n[1])*t]}})(ice||(ice={}));var dce=class extends Ble{constructor(e,t,n){super(e,t,n),this.uuid=e,this.width=0,this.height=0,this.background=new cce(e+"-background",G6.defaultData,n),this.background.parent=this,this.updateState(t,n)}get fill(){return this.background.fill}get stroke(){return this.background.stroke}get backgroundBlur(){return this.background.backgroundBlur}get layerBlur(){return this.background.layerBlur}get dropShadow(){return this.background.dropShadow}get innerShadow(){return this.background.innerShadow}get cornerRadius(){return this.background.cornerRadius}set cornerRadius(e){this.background.cornerRadius=e}updateLocalMatrix(){super.updateLocalMatrix(),this.background?.updateLocalMatrix()}updateWorldMatrix(e,t,n){super.updateWorldMatrix(e,t,n),this.background?.updateWorldMatrix(e,t,n)}draw(e){if(!this.visible)return;e.save();let t=this.width,n=this.height;this.applyTransforms(e),this.background.width=t,this.background.height=n,this.background.draw(e),e.clipRect(0,0,t,n,...this.cornerRadius),this.innerDrawChildren(e),e.restore()}getCenter(){return[.5*this.width,.5*this.height]}getHalfSize(){return[.5*this.width,.5*this.height]}updateCornerState(e){void 0!==e.cornerRadius&&(this.cornerRadius=e.cornerRadius)}updateSizeState(e){let t=!1;void 0!==e.width&&(this.width="number"==typeof e.width?e.width:this.width,t=!0),void 0!==e.height&&(this.height="number"==typeof e.height?e.height:this.height,t=!0),t&&this.updateWorldMatrix(!0,!1,!0)}updateState(e,t){super.updateState(e,t),this.updateSizeState(e),this.updateCornerState(e),void 0!==e.fill&&this.fill.update(e.fill),void 0!==e.stroke&&this.stroke.update(e.stroke),void 0!==e.dropShadow&&this.dropShadow.update(e.dropShadow),void 0!==e.innerShadow&&this.innerShadow.update(e.innerShadow),void 0!==e.layerBlur&&this.layerBlur.update(e.layerBlur),void 0!==e.backgroundBlur&&this.backgroundBlur.update(e.backgroundBlur)}requestRender(){super.requestRender(),this.dispatchEvent({type:"render"})}dispose(){this.removeEventListener("render")}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),0===e.type&&(j2(e.path,["fill"])?this.fill.update(e.props):j2(e.path,["stroke"])?this.stroke.update(e.props):j2(e.path,["dropShadow"])?this.dropShadow.update(e.props):j2(e.path,["innerShadow"])?this.innerShadow.update(e.props):j2(e.path,["layerBlur"])?this.layerBlur.update(e.props):j2(e.path,["backgroundBlur"])?this.backgroundBlur.update(e.props):this.resetBBoxNeedsUpdate())}clone(e){let t=new dce(this.uuid,this.data,e);t.parent=void 0;for(let n of this.children)t.add(n.clone(e));return t}},fce=class{constructor(e,t,n){this.uuid=e,this.data=t,this.group=new Fle(fce.GROUP_ID,{...X6.defaultData},n),this.createChildrenObjects(t.objects,this.group,n)}createObject(e,t,n,r,i,a){let o=function(e,t,n){switch(t.type){case"ellipse2d":return new lce(e,t,n);case"rectangle2d":return new cce(e,t,n);case"text2d":return new uce(e,t,n);case"vector2d":return new hce(e,t,n);case"frame2d":return new dce(e,t,n);default:return new Fle(e,t,n)}}(e,t,a);o&&(r.add(o),r.children.splice(i,0,r.children.pop()),o.updateWorldMatrix(),n.length>0&&(o instanceof Fle||o instanceof dce)&&this.createChildrenObjects(n,o,a))}createChildrenObjects(e,t,n){let r=0;for(let i of e)this.createObject(i.id,i.data,i.children,t,r,n),r+=1}draw(e){this.group.draw(e)}updateEntityByOp(e,t,n,r){let i=this.find(e);if(i)try{i.updateByOp(t,n,{shared:r})}catch(e){console.error(e)}}updateTreeByOp(e,t){if(0===e.path.length&&7===e.type){let n=null===e.parent?this.group:this.find(e.parent);void 0!==n&&n instanceof Ble&&(this.createObject(e.id,e.data,e.children,n,e.localIndex,t),n.requestRender())}else if(0===e.path.length&&8===e.type){let t=this.find(e.id);if(void 0!==t&&void 0!==t.parent&&t.parent instanceof Ble){let e=t.parent;t.resetBBoxNeedsUpdate(),e?.remove(t),e?.requestRender()}}else if(0===e.path.length&&9===e.type){let t=this.find(e.id);if(void 0!==t){let n=t.parent,r=null===e.parent?this:this.find(e.parent);if(r instanceof Ble||r===this){r.add(t);let i=e.localIndex;r.children.splice(i,0,r.children.pop()),t.updateWorldMatrix(!0,!1,!0),n?.requestRender(),t.requestRender()}t.resetBBoxNeedsUpdate()}}}add(e){this.group.add(e)}remove(e){this.group.remove(e)}traverse(e){this.group.traverse((t=>{t!==this.group&&e(t)}))}intersectsChildren(e,t,n,r=!1,i=[]){return this.group.intersectsChildren(e,t,n,r,i)}find(e){return this.group.find(e)}get children(){return this.group.children}project(e,t){return this.group.project(e,t)}getWithSortKey(e){let t=this.find(e);if(void 0===t)return;let n=[],r=t;for(;r!==this.group;){let e=r;r=r.parent;let t=r.children.indexOf(e);n.splice(0,0,t)}return{entity:t,sortKey:n}}getAllSorted(e){let t=[];for(let n of e){let e=this.getWithSortKey(n.id);void 0!==e&&t.push(e)}return t.sort(((e,t)=>I1(e.sortKey,t.sortKey))),t.map((e=>e.entity))}},pce=fce;function mce({constraints:e,newParentWidth:t,newParentHeight:n,initialParentWidth:r,initialParentHeight:i,objectInitialWidth:a,objectInitialHeight:o,objectInitialPosition:s}){let{horizontalConstraint:l,verticalConstraint:c}=e,u=t-r,h=n-i,d=a,f=o,p=s[0],m=s[1];if(0!==l)if(1===l)p+=u;else if(3===l)p+=u/2;else if(2===l)d=Math.max(1,d+u);else if(4===l){let e=t/r;d*=e,p*=e}if(0!==c)if(1===c)m+=h;else if(3===c)m+=h/2;else if(2===c)f=Math.max(1,f+h);else if(4===c){let e=n/i;f*=e,m*=e}return{width:d,height:f,position:[p,m]}}pce.GROUP_ID="scene2d";var gce=Dle.identity(),vce=class{constructor(e,t,n,r){this.uuid=e,this.width=t,this.height=n,this.context=r,this.enabled=!0,this.isScreenSpace=!1,this.isFrameDirty=!1,this.onRenderRequestedDownstream=()=>{this.isFrameDirty=!0,this.context.shared.requestRender()},this.onFrameOverrideObjectEvent=e=>{if(void 0!==e.target?.uuid){let t=this.frameRoot?.find(e.target.uuid);t&&t.dispatchEvent({...e,target:t})}},this.scene2d=new pce(CV.generateUUID(),K6.defaultData,{dpr:window.devicePixelRatio,shared:r.shared}),this.canvas=document.createElement("canvas"),this.renderer=new $le(this.canvas),r.shared.addCanvas(this.uuid,this.canvas),this.textureHolder=r.shared.canvas(this.uuid),this.promise=this.init()}async init(){this.renderer instanceof $le&&(this.renderer.wasmURL=Yre.skiaWasmUrl),await this.renderer.init()}render(){this.isFrameDirty&&(this.renderer.clear(),this.frameOverride?.draw(this.renderer),this.renderer.render(),this.textureHolder?.setNeedsUpdate(!0),this.isFrameDirty=!1)}updateEntity2DByOp(e,t,n,r){this.scene2d.updateEntityByOp(e,t,n,r),this.applySize()}updateTreeByOp(e,t){this.scene2d.updateTreeByOp(e,t),this.applySize()}applyOverrides(e){if(this.frameOverride&&this.frameRoot){this.frameOverride.position=[0,0],this.frameOverride.rotation=0;let t=e?.width??this.width,n=e?.height??this.height;this.frameOverride.width=t,this.frameOverride.height=n,this.frameOverride.localMatrix=gce,this.isScreenSpace&&(this.frameOverride.fill.color=B4.from0to1([0,0,0,0])),this.frameOverride.data={...this.frameOverride.data,width:t,height:n},yce({objectOverride:this.frameOverride,objectRoot:this.frameRoot,newParentWidth:this.frameOverride.width,newParentHeight:this.frameOverride.height,initialParentWidth:this.frameRoot.width,initialParentHeight:this.frameRoot.height}),this.frameOverride.updateWorldMatrix(!0,!1,!0)}}applySize(e){let t=e?.width??this.width,n=e?.height??this.height;this.width=t,this.height=n,this.renderer.dpr=this.isScreenSpace?window.devicePixelRatio:Math.floor(2048/Math.max(t,n)),this.renderer.setSize(t,n),this.textureHolder?.dispose(),this.applyOverrides(e),this.frameOverride?.requestRender()}applyFrame(e){let t=this.context.scene.find2D(e);if(t&&t instanceof dce)return this.disposeFrameOverride(),this.frameRoot=t,this.frameOverride=t.clone({dpr:this.renderer.dpr,shared:this.context.shared}),this.scene2d.add(this.frameOverride),this.applySize(),this.textureHolder?.dispose(),this.frame?.addEventListener("render",this.onRenderRequestedDownstream),this.frameOverride.traverse((e=>{e.addEventListener("beginState",this.onFrameOverrideObjectEvent)})),this.frameOverride.traverse((e=>{e.addEventListener("completeState",this.onFrameOverrideObjectEvent)})),this.frame?.requestRender(),t}get frame(){return this.frameOverride}get frameId(){return this.frame?.uuid}find(e){return this.scene2d.find(e)}get texture(){return this.textureHolder?.getTexture(1001)}disposeFrameOverride(){this.frameOverride?.removeEventListener("render",this.onRenderRequestedDownstream),this.frameOverride?.traverse((e=>{e.removeEventListener("beginStateChange",this.onFrameOverrideObjectEvent)})),this.frameOverride?.traverse((e=>{e.removeEventListener("completeState",this.onFrameOverrideObjectEvent)})),this.frameOverride&&this.scene2d.remove(this.frameOverride)}};function yce({objectOverride:e,objectRoot:t,newParentWidth:n,newParentHeight:r,initialParentWidth:i,initialParentHeight:a}){if(e instanceof dce&&t instanceof dce)for(let o=0,s=e.children.length;o<s;o++){let s=e.children[o],l=t.children[o];s&&l&&s.uuid===l.uuid&&wce({objectOverride:s,objectRoot:l,newParentWidth:n,newParentHeight:r,initialParentWidth:i,initialParentHeight:a})}}function wce({objectOverride:e,objectRoot:t,newParentWidth:n,newParentHeight:r,initialParentWidth:i,initialParentHeight:a}){let{width:o,height:s,position:l}=mce({constraints:e.data,newParentWidth:n,newParentHeight:r,initialParentWidth:i,initialParentHeight:a,objectInitialWidth:xce(t)?t.width:0,objectInitialHeight:xce(t)?t.height:0,objectInitialPosition:t.position});if(e.position=l,e.data={...e.data,position:l},e.states)for(let o in e.states)bce({stateId:o,objectOverride:e,objectRoot:t,newParentWidth:n,newParentHeight:r,initialParentWidth:i,initialParentHeight:a});xce(e)&&(e.width=o,e.height=s,e.data={...e.data,width:o,height:s},yce({objectOverride:e,objectRoot:t,newParentWidth:e.width,newParentHeight:e.height,initialParentWidth:t.width,initialParentHeight:t.height}))}function bce({stateId:e,objectOverride:t,objectRoot:n,newParentWidth:r,newParentHeight:i,initialParentWidth:a,initialParentHeight:o}){let s=t.states?.[e],l=n.states?.[e];if(s&&l){let{width:n,height:c,position:u}=mce({constraints:t.data,newParentWidth:r,newParentHeight:i,initialParentWidth:a,initialParentHeight:o,objectInitialWidth:Q6.isResizeable(l)?l.width:0,objectInitialHeight:Q6.isResizeable(l)?l.height:0,objectInitialPosition:l.position});Object.assign(t.states[e],{position:u}),Q6.isResizeable(s)&&Object.assign(t.states[e],{width:n,height:c})}}function xce(e){return e instanceof cce||e instanceof dce||e instanceof lce||e instanceof uce}var _ce=class extends(t9(qX)){constructor(e,t,n){super(),this.data=t,this.bgColor=new bne(1,1,1,1),this.fog=null,this.backupFog=new WX(16777215,.1,2e3),this.fogUseBGColor=!1,this.isActive=!1,this.aoColor=new HV,this.penumbraSizeArrayCache=null,this.super_Entity(e,t),this.personalCamera=new Moe(K4,{...X5.defaultData,...t.camera,name:"Personal Camera"}),this.personalCamera.objectHelper.visible=!1,this.add(this.personalCamera),this.activeCamera=this.personalCamera,this.ambientLight=new ZQ(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.ambientLight.removeFromParent(),this.add(this.ambientLight),t.uiScene?this.uiScene=new pce((Array.isArray(e)?e[0]:e)+"-ui",t.uiScene,{dpr:window.devicePixelRatio,shared:n.shared}):t.uiFrame&&this.createUICanvas(t.uiFrame,n)}get scene(){return this.parent}get postprocessing(){return this.data.postprocessing}get frameId(){return this.data.uiFrame}get frame(){return this.uiCanvas?.frame}createUICanvas(e,t){this.uiCanvas=new vce(this.uuid+"-uiscreen",window.innerWidth,window.innerHeight,t),this.uiCanvas.isScreenSpace=!0,this.uiCanvas.promise.then((()=>{this.uiCanvas?.applyFrame(e),this.uiCanvas?.applySize()}))}updateVisible(){}setBackgroundColor(e){this.bgColor=e,!0===this.fogUseBGColor&&(this.backupFog.color=e)}entityChildrenCount(){return this.uiScene?this.uiScene.children.length:super.entityChildrenCount()}updateAmbientLight(e,t){void 0!==e.color&&(this.ambientLight.color=Die(e.color,t)),void 0!==e.intensity&&(this.ambientLight.intensity=e.intensity),void 0!==e.enabled&&(e.enabled?this.add(this.ambientLight):this.remove(this.ambientLight))}onDeactive(){this.isActive=!1}onActive(e){this.isActive=!0,e.fog=this.fog,this.traverseEntity((e=>{e instanceof Noe&&e.recomputeBoolean()})),this.updateShadow(this.data.shadow)}forceMaterialsUpdate(){this.traverseEntity((e=>{if(e instanceof mae)if(Array.isArray(e.material))for(let t of e.material)t.needsUpdate=!0;else e.material.needsUpdate=!0,e.material.dispose()}))}updateShadow(e){void 0!==e.softShadowQuality&&this.isActive&&((e="medium")=>{if(_le===e)return!1;_le=e;let t=(e=>{switch(e){case"low":return 8;case"medium":default:return 16;case"high":return 32}})(e);pW.shadowmap_pars_fragment=(e=>`\n\n// PCSS implementation based on:\n// https://www.gamedev.net/articles/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/\n// NOTE: This number affects how big the shadow blur can\n// possibly get. Bigger number == bigger blur, but less precise results\n\nconst float  gPenumbraFilterSize = 80.0;\nconst int   gPenumbraSamples = ${e};\nconst int gShadowSamples = ${e};\nconst float gShadowSamplesRpc = 1.0f / float(gShadowSamples);\n\n#ifdef USE_SHADOWMAP\n    #if NUM_DIR_LIGHT_SHADOWS > 0\n\n        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n        struct DirectionalLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n        };\n\n        uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\n    #endif\n\n    #if NUM_SPOT_LIGHT_SHADOWS > 0\n\n        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n        varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n        struct SpotLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n        };\n\n        uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\n    #endif\n\n    #if NUM_POINT_LIGHT_SHADOWS > 0\n\n        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n        struct PointLightShadow {\n            float shadowBias;\n            float shadowNormalBias;\n            float shadowRadius;\n            vec2 shadowMapSize;\n            float shadowCameraNear;\n            float shadowCameraFar;\n        };\n\n        uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\n    #endif\n\n    /*\n    #if NUM_RECT_AREA_LIGHTS > 0\n\n        // TODO (abelnation): create uniforms for area light shadows\n\n    #endif\n    */\n\nfloat computePenumbra(int index, sampler2D shadowMap, float temporalAngle, float texelSize, vec2 uv, float compare, float texelScalar, float shadowRadius)\n{\n    float penumbra = 1.0;\n    float blockerDepthAvg = 0.0;\n    float blockerCount = 0.0;\n\n    #pragma unroll_loop_start\n    for(int i = 0; i < gPenumbraSamples; i ++)\n    {\n        vec2 offset = (vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize) * texelScalar;\n        float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) );\n\n        if(depth < compare + 0.0001)\n        {\n            blockerDepthAvg += depth;\n            blockerCount++;\n        }\n    }\n    #pragma unroll_loop_end\n\n    if (blockerCount > 0.0)\n    {\n        blockerDepthAvg /= blockerCount;\n\n        // Compute penumbra\n        penumbra = (compare - blockerDepthAvg) / (blockerDepthAvg);\n        penumbra *= penumbra;\n        penumbra *= 200.0 * penumbraSize[min(index, 5 - 1)]; // Magic number that affects how quickly the penumbra grows\n\n        return clamp(penumbra, 0.00, 1.0);\n    }\n    return 0.0;\n}\n\nfloat vogelShadow(int index, sampler2D shadowMap, vec2 uv, float texelSize, float compare, float shadowRadius)\n{\n    float shadow         = 0.0f;\n\n    // NOTE: When using TAA, we should use screen space interleaved gradient noise\n    vec2 halton = haltonSequence[frameIndex];\n    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n    float temporalAngle  = temporalOffset * PI2;\n\n    float texelScalar = (gPenumbraFilterSize) / (texelSize * 1024.);\n    float penumbra = computePenumbra(index, shadowMap, temporalAngle, texelSize, uv, compare, texelScalar, shadowRadius);\n    if (penumbra == -1.0) {\n        return 1.0;\n    }\n\n    #pragma unroll_loop_start\n    for (int i = 0; i < gShadowSamples; i++)\n    {\n        vec2 vogelSample =  vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n        // Overall blurring offset\n        vec2 offset = vogelSample * (shadowRadius * 2.);\n\n        // Penumbra offset\n        offset += vogelSample * (penumbra * texelScalar);\n\n        shadow += step( compare, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );\n    }\n    #pragma unroll_loop_end\n\n    return shadow * gShadowSamplesRpc;\n}\n\n\n    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n    }\n\n    vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\n        return unpackRGBATo2Half( texture2D( shadow, uv ) );\n\n    }\n\n    float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\n        float occlusion = 1.0;\n\n        vec2 distribution = texture2DDistribution( shadow, uv );\n\n        float hard_shadow = step( compare , distribution.x ); // Hard Shadow\n\n        if (hard_shadow != 1.0 ) {\n\n            float distance = compare - distribution.x ;\n            float variance = max( 0.00000, distribution.y * distribution.y );\n            float softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality\n            softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed\n            occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\n        }\n        return occlusion;\n\n    }\n\n    float getShadow( int i, sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n        float shadow = 1.0;\n\n        shadowCoord.xyz /= shadowCoord.w;\n        shadowCoord.z += shadowBias;\n\n        // if ( something && something ) breaks ATI OpenGL shader compiler\n        // if ( all( something, something ) ) using this instead\n\n        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n        bool inFrustum = all( inFrustumVec );\n\n        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n        bool frustumTest = all( frustumTestVec );\n\n        if ( frustumTest ) {\n\n        #if defined( SHADOWMAP_TYPE_PCF )\n\n            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n            return vogelShadow(i, shadowMap, shadowCoord.xy, texelSize.x, shadowCoord.z, shadowRadius );\n\n        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n            float dx = texelSize.x;\n            float dy = texelSize.y;\n\n            vec2 uv = shadowCoord.xy;\n            vec2 f = fract( uv * shadowMapSize + 0.5 );\n            uv -= f * texelSize;\n\n            shadow = (\n                texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n                texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n                     f.x ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n                     f.x ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n                     f.y ) +\n                mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n                     texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n                     f.y ) +\n                mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n                          f.x ),\n                     mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n                          f.x ),\n                     f.y )\n            ) * ( 1.0 / 9.0 );\n\n        #elif defined( SHADOWMAP_TYPE_VSM )\n\n            shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n        #else // no percentage-closer filtering:\n\n            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n        #endif\n\n        }\n\n        return shadow;\n\n    }\n\n    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n    // vector suitable for 2D texture mapping. This code uses the following layout for the\n    // 2D texture:\n    //\n    // xzXZ\n    //  y Y\n    //\n    // Y - Positive y direction\n    // y - Negative y direction\n    // X - Positive x direction\n    // x - Negative x direction\n    // Z - Positive z direction\n    // z - Negative z direction\n    //\n    // Source and test bed:\n    // https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n    vec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n        // Number of texels to avoid at the edge of each square\n\n        vec3 absV = abs( v );\n\n        // Intersect unit cube\n\n        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n        absV *= scaleToCube;\n\n        // Apply scale to avoid seams\n\n        // two texels less per square (one texel will do for NEAREST)\n        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n        // Unwrap\n\n        // space: -1 ... 1 range for each square\n        //\n        // #X##         dim    := ( 4 , 2 )\n        //  # #         center := ( 1 , 1 )\n\n        vec2 planar = v.xy;\n\n        float almostATexel = 1.5 * texelSizeY;\n        float almostOne = 1.0 - almostATexel;\n\n        if ( absV.z >= almostOne ) {\n\n            if ( v.z > 0.0 )\n                planar.x = 4.0 - v.x;\n\n        } else if ( absV.x >= almostOne ) {\n\n            float signX = sign( v.x );\n            planar.x = v.z * signX + 2.0 * signX;\n\n        } else if ( absV.y >= almostOne ) {\n\n            float signY = sign( v.y );\n            planar.x = v.x + 2.0 * signY + 2.0;\n            planar.y = v.z * signY - 2.0;\n\n        }\n\n        // Transform to UV space\n\n        // scale := 0.5 / dim\n        // translate := ( center + 0.5 ) / dim\n        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n    }\n\n    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\n        float shadow = 1.0;\n        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n        // for point lights, the uniform @vShadowCoord is re-purposed to hold\n        // the vector from the light to the world-space position of the fragment.\n        vec3 lightToPosition = shadowCoord.xyz;\n\n        // dp = normalized distance from light to fragment position\n        float compare = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\n        compare += shadowBias;\n\n        // bd3D = base direction 3D\n        vec3 bd3D = normalize( lightToPosition );\n\n        vec2 halton = haltonSequence[frameIndex];\n        float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);\n        float temporalAngle  = temporalOffset * PI2;\n\n        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_VSM )\n            for (int i = 0; i < gShadowSamples; i++) {\n                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n\n                // Overall blurring offset\n                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);\n\n                // NOTE: Removed for now\n                // Penumbra offset\n                //offset += vec3(vogelSample.x, vogelSample.y, vogelSample.y)  * (penumbra * gPenumbraFilterSize);\n\n                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );\n\n            }\n            return shadow * gShadowSamplesRpc;\n\n        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n            for (int i = 0; i < 16; i++) {\n                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;\n\n                // Overall blurring offset\n                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);\n\n                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );\n\n            }\n            return shadow * (1.0 / 16.0);\n        #else // no percentage-closer filtering\n\n            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), compare );\n\n        #endif\n\n    }\n\n#endif\n`)(t);let n=ble.slice();n=n.replace("getShadow( spotShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX + 3, spotShadowMap[ i ]"),n=n.replace("getShadow( directionalShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX, directionalShadowMap[ i ]"),pW.lights_fragment_begin=n;let r=xle.slice();return r=r.replaceAll("getShadow(","getShadow( UNROLLED_LOOP_INDEX, "),pW.shadowmask_pars_fragment=r,!0})(e.softShadowQuality)&&this.forceMaterialsUpdate()}updateFog(e,t){e.enabled?this.fog=this.backupFog:this.fog=null,this.isActive&&(this.scene.fog=this.fog),this.fogUseBGColor=e.useBackgroundColor,e.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=Die(e.color,t),this.backupFog.near=e.near,this.backupFog.far=e.far}updateAo(e,t){void 0!==e.aoColor&&(this.aoColor=Die(e.aoColor,t))}updateByOp(e,t,n,r){let i=this.data.uiFrame;super.updateByOp(e,t,n,r);let a=t;j2(e.path,["fog"])?this.updateFog(a.fog,n.shared):j2(e.path,["ao"])?this.updateAo(a.ao,n.shared):j2(e.path,["ambient"])?this.updateAmbientLight(a.ambient,n.shared):j2(e.path,["shadow"])?this.updateShadow(a.shadow):0===e.type&&0===e.path.length&&(void 0!==e.props.uiFrame||i!==a.uiFrame)&&this.updateUIFrame(e.props.uiFrame,n)}updateUIFrame(e,t){e?(this.uiCanvas||this.createUICanvas(e,t),this.uiCanvas.enabled=!0,this.uiCanvas.applyFrame(e)):this.uiCanvas&&(this.uiCanvas.enabled=!1)}updateState(e,t){this.updateState_Entity(e,t),void 0!==e.backgroundColor&&this.setBackgroundColor(Die(e.backgroundColor,t.shared)),void 0!==e.fog&&this.updateFog(e.fog,t.shared),void 0!==e.ambient&&this.updateAmbientLight(e.ambient,t.shared),void 0!==e.ao&&this.updateAo(e.ao,t.shared),void 0!==e.shadow&&this.updateShadow(e.shadow)}createFrame(e,t){}raycast(e,t){super.raycast(e,t)}switchActiveCamera(e){e&&e.isDescendantOf(this)&&(this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=e,e.objectHelper.visible=!1)}get playCamera(){return this.scene?.find(this.data.publish.playCamera)??this.personalCamera}switchToPlayCamera(){this.switchActiveCamera(this.playCamera)}get penumbraSizeArray(){return null===this.penumbraSizeArrayCache&&this.updatePenumbraSizeArray(),this.penumbraSizeArrayCache}updatePenumbraSizeArray(){this.penumbraSizeArrayCache=new Array(5).fill(.5);let e=0,t=0;this.traverseEntity((n=>{if(!n.visible)return!0;n instanceof kle&&n.visible&&e<3&&(this.penumbraSizeArrayCache[e]=n.data.penumbraSize,e+=1),n instanceof Lle&&n.visible&&e<2&&(this.penumbraSizeArrayCache[3+t]=n.data.penumbraSize,t+=1)}))}raycastWithClones(e){let t=[],n=r=>{for(let i of r.children){let r=i.cloner;O7.is(i)&&(i.visible||r?.object.data.visible)&&((Boe(i)||Uoe(i)&&this.scene.enableHelpers&&i.objectHelper.visible)&&(e.intersectObject(i,!1,t),Qce(i,e,t,!0)),n(i))}};return n(this),t}updateEntity2DByOp(e,t,n,r){this.uiCanvas?.updateEntity2DByOp(e,t,n,r)}},Sce=class extends(zoe(lK,Tle)){constructor(e,t,n){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let r=this.shadow.camera;r.fov=90,r.aspect=1,r.near=100,r.far=2500;let i=new tH(-r.far+this.position.x,-r.far+this.position.y,-r.far+this.position.z),a=new tH(r.far+this.position.x,r.far+this.position.y,r.far+this.position.z),o=new iH(i,a),s=new QK(o,new HV(16755200));s.visible=!1,this.gizmos.shadowmap=s,this.update()}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this.gizmos))for(let e in this.gizmos){let t=this.gizmos[e];if(t instanceof QK){let e=this.shadow.camera,n=new tH(-e.far+this.position.x,-e.far+this.position.y,-e.far+this.position.z),r=new tH(e.far+this.position.x,e.far+this.position.y,e.far+this.position.z);t.box.set(n,r),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.decay&&(this.decay=e.decay),void 0!==e.shadowRadius&&(this.shadow.radius=e.shadowRadius),void 0!==e.shadowResolution&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},Ece=class extends xae{get forceComputeSize(){return!0}get shape(){return this.geometry.userData.shape}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?cne(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},Cce=class extends xae{constructor(e,t,n){super(e,t,n),this._shapeId=null,this._context=n}updateState(e,t){super.updateState(e,t),this.updateShape()}updateShape(){let e,t={...this.data.geometry.extrusion.shape};for(let e in t)"string"==typeof t[e]&&(t[e]=this._context.shared.getVariable(t[e],[this.uuid,"geometry","extrusion","shape",e]));if("Custom"===t.type){let n=t.shapeId;if(n!==this._shapeId&&this.detachShape(),n){this._shapeId=n;let t=this._context.scene.find(n);t?.data&&(t.attachedPaths.add(this),e=t.geometry.userData?.shape),e||this._context.scene.addPendingCommand((()=>this.updateShape()))}}else{let n;switch(t.type){case"Rectangle":n=rte;break;case"Ellipse":n=See;break;case"Polygon":n=Jee;break;case"Star":n=ate;break;default:throw new Error(`Unknown shape type: ${t.type}`)}e=n.create({parameters:t}).userData.shape}let n=this.geometry;e&&n.inputs&&(n.inputs.shapeData=e,n.build(),this.attachedSurfaceCloners.forEach((e=>e.update())))}detachShape(){null!==this._shapeId&&this._context.scene.find(this._shapeId)?.attachedPaths.delete(this)}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.updateShape(),this.refreshAttachedPaths(e)}updateTransformState(e,t){return super.updateTransformState(e,t)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.updateShape()}updateEntityBoxSize(e,t){let n=this.geometry.getAttribute("position");void 0!==n?cne(n,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:n.count,e,t):super.updateEntityBoxSize(e,t)}},Ace=class extends(xoe(zX,joe)){constructor(e,t,n){super(),"Instance"===t.type&&"string"==typeof e&&(t=this.transformAssignData(t,n)),this.super_Entity(e,t),this.objectHelper.update()}get isComponentRoot(){return"Component"===this.data.type&&"string"==typeof this.identity}get isInstanceRoot(){return"Instance"===this.data.type&&"string"==typeof this.identity}transformAssignData(e,t){let n=R6.getComponentData({scene:t.scene.data,shared:t.shared.data},e.component);if(n){let t,r;for(let i of K5.rootOverrideProps)void 0===e[i]?(void 0===t&&(t={...e}),t[i]=n.data[i]):(void 0===r&&(r={}),r[i]=e[i],void 0===t&&(t={...e}),t[i]=c2.apply(n.data[i],e[i]));return this.overrideData=r,t}return{...j5.defaultData,...e,...S1(j5.defaultData,K5.rootOverrideProps)}}updateByOp(e,t,n,r){let i;if(this.isInstanceRoot&&!r)if(t=this.transformAssignData(t,n),0===e.type&&0===e.path.length&&this.component)for(let t of K5.rootOverrideProps)t in e.props&&void 0===e.props[t]&&(void 0===i&&(i={...e,props:{...e.props}}),i.props[t]=this.component.data[t]);else if(0===e.type&&e.path.length>0&&K5.rootOverrideProps.includes(e.path[0])){let n=e.path[0];void 0===i&&(i={...e,path:[],props:{[n]:t[n]}})}super.updateByOp(i??e,t,n,r)}updateState(e,t){this.updateState_Entity(e,t)}expandInstanceChildren(e){let t=this.data;if(void 0===this.component){let n=e.scene.find(t.component)??null,r=!1;if(n!==this.oldComponent){if(this.oldComponent){let t=0;for(let n of this.children){if(!O7.is(n))break;e.scene.disposeAndUnregisterEntityRecursivelyIfNotReregistered(n),Tce(n),t+=1}this.children.splice(0,t)}r=!0}if(n){let i={};Pce(e,[this.uuid],t.overrides,this,n,n,0,r,i);for(let t of this.children)if(O7.is(t)){let n=t.data;"Empty"===n.type&&n.animations&&t.traverseEntity((t=>{if(t instanceof xae&&t.isSkinnedMesh){let n=t.dataPatched;if(n.bones&&n.boneInverses){let r=n.bones.map((t=>e.scene.find(i[t]))),a=n.boneInverses.map((e=>(new kH).fromArray(e))),o=new $X(r,a);t.bind(o,t.bindMatrix)}}else t.matrixAutoUpdate=!0}))}}this.oldComponent=this.component}}};function Tce(e){if(e.component){let t=e.component.instances.indexOf(e);t>=0&&e.component.instances.splice(t,1);for(let t of e.children)O7.is(t)&&Tce(t)}}function Mce(e,t,n,r){return e.component===t&&m1(e.identity,r)?e.overrideData===n?2:1:0}function Pce(e,t,n,r,i,a,o,s,l){if(o>50)return!1;if(r.component!==i){if(r.component){let e=r.component.instances.indexOf(r);e>=0&&r.component.instances.splice(e,1)}i.instances.push(r),r.component=i}i instanceof Ace&&i.isInstanceRoot&&i.expandInstanceChildren(e);let c=0;for(let u of i.children)if(O7.is(u)){let i=[...t,..."string"==typeof u.identity?[u.identity]:u.identity],h=Q5.resolve(n,i,1);null==h||h instanceof p2||(Object.setPrototypeOf(h,p2.prototype),console.error("wrong prototype"));let d,f=null;if(!s){let t=r.children[c];if(f=O7.is(t)?t:null,null!==f){let e=Mce(f,u,h,i);d=e>=1?f.stateSelection:void 0,2!==e&&(f=null)}if(null===f&&(f=e.scene.findInstance(i)??null,null!==f)){let t=Mce(f,u,h,i);if(d=t>=1?f.stateSelection:void 0,2!==t)f=null;else{let t=f.parent.children.indexOf(f);f.parent.children.splice(t,1),r.children.splice(c,0,f),f.parent===r?t<=c&&console.error("not possible"):(f.parent=r,f.matrixWorldNeedsUpdate=!0,f.resetBBoxNeedsUpdate(),f.updateVisible(),e.pendingDeletes.delete(f))}}}if(null===f){let t=h?c2.apply(u.data,h):u.data;H4.is(t.type)&&(t={...t,type:"Empty"}),f=G7.createEntity(i,t,e),f.overrideData=h,r.add(f),r.children.splice(r.children.length-1,1),r.children.splice(c,0,f),f.updateState(f.data,e),d&&f.changeSelectedState(d,e),e.scene.registerInstanceAndSetUuid(f)}f.isBone&&(l[f.identity[f.identity.length-1]]=f.uuid),c+=1,Pce(e,t,n,f,u,a,o+1,s,l)}if(!s){let t=c;for(;;){let t=r.children[c];if(!O7.is(t))break;e.pendingDeletes.add(t),c+=1}r.children.splice(t,c-t)}return!0}var Dce=class extends(xoe(QX,joe)){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update(),this.matrixAutoUpdate=!0}updateState(e,t){this.updateState_Entity(e,t)}},kce=class extends xae{constructor(e,t,n){super(e,t,n),this.onBeforeRender=()=>{this.uiCanvas.render()},this.uiCanvas=new vce(e+"-canvas",t.geometry.width,t.geometry.height,n),this.uiCanvas.promise.then((()=>{this.applyFrame(this.dataPatched.geometry.frame,n.shared)}))}updateByPatchedOpGeometry(e,t,n){super.updateByPatchedOpGeometry(e,t,n),0===e.type&&(void 0!==e.props.frame&&this.applyFrame(e.props.frame,n.shared),(void 0!==e.props.width||void 0!==e.props.height)&&this.applySize(e.props,n.shared))}applySize(e,t){let n=e?.width??this.dataPatched.geometry.width,r=e?.height??this.dataPatched.geometry.height;this.uiCanvas.applySize({width:n,height:r}),this.applyGeometryParametersFromFrame(t)}applyFrame(e,t){this.uiCanvas.applyFrame(e),this.applyGeometryParametersFromFrame(t),this.applyMaterialParametersFromFrame({shared:t})}applyGeometryParametersFromFrame(e){let t=this.frame;t&&(Object.assign(this.data,{geometry:Object.assign(this.data.geometry,{cornerRadius:t.cornerRadius,cornerType:0})}),Object.assign(this.dataPatched,{geometry:Object.assign(this.dataPatched.geometry,{cornerRadius:t.cornerRadius,cornerType:0})}),this.localGeometry?.dispose(),this.localGeometry=Mte(this.dataPatched.geometry,e,this.data.flatShading,this))}applyMaterialParametersFromFrame(e){let t=this.frame;if(t){let n=t.data.backgroundBlur;Object.assign(this.data.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.data.material.layers[1].data,{roughness:n.radius,alpha:n.enabled?1:0}),Object.assign(this.dataPatched.material.layers[0].data.texture,{image:this.uiCanvas.uuid}),Object.assign(this.dataPatched.material.layers[1].data,{roughness:n.radius,alpha:n.enabled?1:0}),this.material.reset(this.dataPatched.material,e,!0)}}updateEntity2DByOp(e,t,n,r){this.uiCanvas.updateEntity2DByOp(e,t,n,r),e===this.frameId&&0===t.type&&(void 0!==t.props.cornerRadius?this.applyGeometryParametersFromFrame(r):j2(t.path,["backgroundBlur"])&&this.applyMaterialParametersFromFrame({shared:r}))}get frame(){return this.uiCanvas.frame}get frameId(){return this.frame?.uuid}removeInteractionGeometry(e){super.removeInteractionGeometry(e),this.applySize({},e)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.applySize({width:e.width,height:e.height},t)}},Oce=new fG,Ice=new tH;function Rce(e,t){let n=e,r=new Float32Array(4*t*t);for(let e=0;e<t*t;e++)r[4*e]=n[3*e],r[4*e+1]=n[3*e+1],r[4*e+2]=n[3*e+2],r[4*e+3]=0;let i=new KX(r,t,t,oj,ej);return i.needsUpdate=!0,i}var Lce="\n\n  // Linear Fade In\n  float linearFadeIn(float t) {\n    return t;\n  }\n\n\n  // linear fade out\n  float linearFadeOut(float t) {\n    return 1.0 - t;\n  }\n  \n  float linearInOut(float t) {\n    return t < 0.5 ? t :  (1.0 - t);  \n  }\n\n    // lerp\n    float lerp(float a, float b, float t) {\n      return a + (b - a) * t;\n    }\n\n  // Ease In Out Quart\n  float exponentialInOut(float t) {\n    return t < 0.4 ? lerp(0.0, 1.0, t / 0.4) :\n    t > 0.6 ? lerp(1.0, 0.0, (t - 0.6) / 0.4) :\n    1.0;\n   }\n\n  // constant\n  float constant(float t) {\n    return 1.0;\n  } \n",Nce=`\n  uniform sampler2D uPosition;\n  uniform float uSize;\n  uniform float uSizeEnd;\n  uniform vec3 uWorldOffset;\n  uniform vec4 uWorldQuaternion;\n  // Billboard Behavior - Currently at Zero, but we can change that\n  uniform float uRotation;\n  uniform float uRotationEnd;\n  uniform vec2 center;\n\n  // Randomness\n  uniform float uRandScaleFactor;\n  uniform float uRandRotationFactor;\n\n  attribute vec2 ref;\n\n  varying float v_LifeLeft;    // normalized lifetime 1 to 0\n  varying vec2 vUv;\n  varying vec2 vRef;\n\n  \n\nfloat rand(vec3 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec3 applyQuaternionToVector( vec4 q, vec3 v ){\n  return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n}\n\nvec3 applyForce(vec3 force, float mass) {\n  vec3 acceleration = force / mass;\n    \n  return acceleration;\n}\n\n  ${Lce}\n`,zce="\n  uniform vec4 uColor;                // start color\n  uniform vec4 uColor2;               // end color\n  uniform sampler2D uTexture;         // texture\n  varying float v_LifeLeft;   // normalized lifetime 1 to 0\n  varying vec2 vUv;\n  varying vec2 vRef;\n\n  float random(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n  }\n  "+Lce+"  \n  \nvec3 rgb2xyz (in vec3 rgb) {\n    float r = rgb.r;\n\tfloat g = rgb.g;\n\tfloat b = rgb.b;\n\n\tr = r > 0.04045 ? pow(((r + 0.055) / 1.055), 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? pow(((g + 0.055) / 1.055), 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? pow(((b + 0.055) / 1.055), 2.4) : (b / 12.92);\n\n\tfloat x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tfloat y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tfloat z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n    \n    vec3 xyz = vec3(\n        (r * 0.4124) + (g * 0.3576) + (b * 0.1805) * 100.0,\n        (r * 0.2126) + (g * 0.7152) + (b * 0.0722) * 100.0,\n        (r * 0.0193) + (g * 0.1192) + (b * 0.9505) * 100.0\n    );\n    return(xyz);\n}\n\nvec3 xyz2lab (in vec3 xyz) {\n\tfloat x = xyz.x / 95.047;\n\tfloat y = xyz.y / 100.0;\n\tfloat z = xyz.z / 108.883;\n\n\tx = x > 0.008856 ? pow(x, 1.0 / 3.0) : (7.787 * x) + (16.0 / 116.0);\n\ty = y > 0.008856 ? pow(y, 1.0 / 3.0) : (7.787 * y) + (16.0 / 116.0);\n\tz = z > 0.008856 ? pow(z, 1.0 / 3.0) : (7.787 * z) + (16.0 / 116.0);\n\n    vec3 lab = vec3((116.0 * y) - 16.0, 500.0 * (x - y), 200.0 * (y - z));\n    return(lab);\n}\n\nvec3 rgb2lab(in vec3 rgb) {\n    vec3 xyz = rgb2xyz(rgb);\n    vec3 lab = xyz2lab(xyz);\n    return(lab);\n}\n\nvec3 xyz2rgb (in vec3 xyz) {\n\tfloat x = xyz.x / 100.0;\n\tfloat y = xyz.y / 100.0;\n\tfloat z = xyz.z / 100.0;\n\t\n    \n\tfloat r = (x *  3.2406) + (y * -1.5372) + (z * -0.4986);\n\tfloat g = (x * -0.9689) + (y *  1.8758) + (z *  0.0415);\n\tfloat b = (x *  0.0557) + (y * -0.2040) + (z *  1.0570);\n\n\tr = r > 0.0031308 ? ((1.055 * pow(r, 1.0 / 2.4)) - 0.055) : r * 12.92;\n\tg = g > 0.0031308 ? ((1.055 * pow(g, 1.0 / 2.4)) - 0.055) : g * 12.92;\n\tb = b > 0.0031308 ? ((1.055 * pow(b, 1.0 / 2.4)) - 0.055) : b * 12.92;\n\n\tr = min(max(0.0, r), 1.0);\n\tg = min(max(0.0, g), 1.0);\n\tb = min(max(0.0, b), 1.0);\n\n\treturn(vec3(r, g, b));\n}\n\nvec3 lab2xyz (in vec3 lab) {\n    float l = lab.x;\n\tfloat a = lab.y;\n\tfloat b = lab.z;\n\n  \tfloat y = (l + 16.0) / 116.0;\n\tfloat x = a / 500.0 + y;\n\tfloat z = y - b / 200.0;\n\n\tfloat y2 = pow(y, 3.0);\n\tfloat x2 = pow(x, 3.0);\n\tfloat z2 = pow(z, 3.0);\n\n  \ty = y2 > 0.008856 ? y2 : (y - 16.0 / 116.0) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16.0 / 116.0) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16.0 / 116.0) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100.0;\n\tz *= 108.883;\n\n\treturn(vec3(x, y, z));\n}\nvec3 lab2rgb (in vec3 lab) {\n    vec3 xyz = lab2xyz(lab);\n    vec3 rgb = xyz2rgb(xyz);\n    return(rgb);\n}\n\n\n\n",Bce=class extends ZG{constructor(e,t){super(),this.needsJitter=!0,this.type="ParticleMaterial",this.easeOpacity="linearFadeIn",this.easeSize="linearFadeIn",this.useSizeEnd=!1,this.isColoringRandom=!1,this.init(e,t),this.context=t}reset(){}init(e,t){this.transparent=!0,this.depthTest=!0,this.depthWrite=!1,this.easeOpacity=e.ease,this.easeSize=e.easeSize,this.layers=[],this.lightLayer=new Hie(0,"",{...v5.defaultData("light","phong"),visible:!1},new Qre,{},t.shared),this.build()}updateState(e){void 0!==e.coloring&&(this.isColoringRandom="random"===e.coloring),void 0!==e.color&&(e.color instanceof Array?this.uniforms.uColor.value=e.color:this.uniforms.uColor.value=this.context.shared.color(e.color)),void 0!==e.color2&&(e.color2 instanceof Array?this.uniforms.uColor2.value=e.color2:this.uniforms.uColor2.value=this.context.shared.color(e.color2)),void 0!==e.size&&(this.uniforms.uSize.value=e.size[0],this.uniforms.uSizeEnd.value=e.size[1],e.size[0]!==e.size[1]?this.useSizeEnd=!0:this.useSizeEnd=!1),void 0!==e.ease&&(this.easeOpacity=e.ease,this.build()),void 0!==e.easeSize&&(this.easeSize=e.easeSize,this.build()),this.needsUpdate=!0}onBeforeCompile(e){this.build(),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader}build(){let e=new nre;return e.needsJitter=this.needsJitter,e.addFragmentParsCode("\nlayout(location = 1) out vec4 gVelocity;\n"),e.buildShader("vertex",this.fragment),e.buildShader("fragment",this.fragment),e.addFragmentFinalCode("\n    // Discard fully transparent pixels \n    if (gl_FragColor.a <= 0.0) discard;\n\n    gVelocity = vec4(0.0, 0.0, 0.0, 1.0);\n"),this.isColoringRandom&&e.define("USE_RANDOM_COLORING"),this.useSizeEnd&&e.define("USE_SIZE_END"),e.addVertexParsCode(Nce),e.addFragmentParsCode(zce),e.addVertexFinalCode((({easeSize:e="linearFadeOut"})=>`\n  vUv = uv;  \n  vRef = ref;\n  // Normalized LifeTime 1 to 0\n  float lifeLeft = texture2D(uPosition, ref).w;\n  v_LifeLeft = lifeLeft;\n  // Position From DataTexture Simulation\n  vec3 pos = texture2D(uPosition, ref).rgb - uWorldOffset;\n  // Apply World Quaternion\n  pos = applyQuaternionToVector(uWorldQuaternion, pos);  \n            \n  #ifdef  USE_SIZE_END\n    // Scaled Over Time\n    float t = 1. - lifeLeft;\n    float currentSize = mix(uSize, uSizeEnd, t); // Linearly interpolate between uSize and uSizeEnd\n    vec3 scaledPosition = position * vec3(currentSize);\n  #else\n    // Change Size Behavior over LifeTime\n    float easeSize = ${e}(1. - lifeLeft);\n    // Scaled Over Time\n    vec3 scaledPosition = position * vec3(uSize * easeSize);\n  #endif\n\n  // Billboard Behavior\n  vec2 scale;\n  scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n  scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );    \n  // Randomness \n  float randRef = rand(ref);\n  scale *= (1.0 - (uRandScaleFactor * randRef));\n  // Rotation\n  float randRotation =  2.0 * PI * ( uRandRotationFactor * randRef);\n  float originalRotation = (1.0 - uRotation) * 2.0 * PI;\n  float originalRotationEnd = (1.0 - uRotationEnd) * 2.0 * PI;\n  // OverTime\n  float finalRotation = mix(originalRotation + randRotation, originalRotationEnd + randRotation, lifeLeft);\n\n  vec2 alignedPosition = ( scaledPosition.xy - ( center - vec2( 0.5 ) ) ) * scale;\n  vec2 rotatedPosition;\n  rotatedPosition.x = cos( finalRotation ) * alignedPosition.x - sin( finalRotation ) * alignedPosition.y;\n  rotatedPosition.y = sin( finalRotation ) * alignedPosition.x + cos( finalRotation ) * alignedPosition.y;\n  \n  mat4 instanceMatrix = mat4(\n    vec4(1.0, 0.0, 0.0, 0.0),\n    vec4(0.0, 1.0, 0.0, 0.0),\n    vec4(0.0, 0.0, 1.0, 0.0),\n    vec4(pos.x, pos.y, pos.z, 1.0)\n  );  \n\n  mvPosition = modelViewMatrix * instanceMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n  mvPosition.xy += rotatedPosition;\n  gl_Position = projectionMatrix  * mvPosition;   \n`)({easeSize:this.easeSize})),e.addFragmentFinalCode((({easeOpacity:e="linearFadeOut"})=>`  \n  // if Particle is dead, hide it\n  if (v_LifeLeft <= 0.005 ) {\n    discard;\n  }\n\n  #ifdef USE_RANDOM_COLORING\n    float randVal = random(vRef); // Generate a random value based on the reference\n    vec4 color = mix(uColor, uColor2, randVal); // Interpolate between the two colors\n  #else\n    vec4 color = mix(uColor, uColor2, 1. - v_LifeLeft);\n  #endif\n\n  // Opacity over Life Time\n  float finalAlpha = ${e}(1. - v_LifeLeft);  \n  vec4 textureColor = texture2D(uTexture, vUv).rgba; \n  finalColor = textureColor.rgb * color.rgb;\n  finalAlpha = color.a * textureColor.a * finalAlpha;\n  \n  gl_FragColor = vec4(finalColor, finalAlpha);     \n\n`)({easeOpacity:this.easeOpacity})),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms={...e.uniforms,...this.uniforms},this.extensions=e.extensions,this}get nodeMaterial(){return this}get fragment(){return this.lightLayer.node}getDefines(){return this.defines}nodeMaterialDispose(){this.layers.forEach((e=>e.dispose())),super.dispose()}},Fce=class{constructor(e,t,n,r){this.type="SphereEmitterShape",this.targetMesh=void 0,this.size=e,this.type=n,this.textureSize=function(e){let t=Math.ceil(Math.sqrt(e));return Math.max(t,1)}(t),this.targetMesh="Mesh"===r?.type&&r?r:this.getMesh(n,1);let{positions:i,dataTexture:a,dataTextureNormals:o}=this.createPositions(this.textureSize,this.targetMesh??this.getMesh(n,1));this.positionsTexture=a,this.positionsAttribute=i,this.directionsTexture=o}createPositions(e,t){let{positions:n,normals:r}=function(e,t){let n=[],r=[],i=new tH,a=new tH,o=new class{constructor(e){let t=e.geometry;if(!t.isBufferGeometry||3!==t.attributes.position.itemSize)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(console.warn("THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry."),t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.colorAttribute=this.geometry.getAttribute("color"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(e){return this.weightAttribute=e?this.geometry.getAttribute(e):null,this}build(){let e=this.positionAttribute,t=this.weightAttribute,n=new Float32Array(e.count/3);for(let r=0;r<e.count;r+=3){let i=1;t&&(i=t.getX(r)+t.getX(r+1)+t.getX(r+2)),Oce.a.fromBufferAttribute(e,r),Oce.b.fromBufferAttribute(e,r+1),Oce.c.fromBufferAttribute(e,r+2),i*=Oce.getArea(),n[r/3]=i}this.distribution=new Float32Array(e.count/3);let r=0;for(let e=0;e<n.length;e++)r+=n[e],this.distribution[e]=r;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t,n){let r=this.distribution[this.distribution.length-1],i=this.binarySearch(this.randomFunction()*r);return this.sampleFace(i,e,t,n)}binarySearch(e){let t=this.distribution,n=0,r=t.length-1,i=-1;for(;n<=r;){let a=Math.ceil((n+r)/2);if(0===a||t[a-1]<=e&&t[a]>e){i=a;break}e<t[a]?r=a-1:n=a+1}return i}sampleFace(e,t,n,r){let i=this.randomFunction(),a=this.randomFunction();return i+a>1&&(i=1-i,a=1-a),Oce.a.fromBufferAttribute(this.positionAttribute,3*e),Oce.b.fromBufferAttribute(this.positionAttribute,3*e+1),Oce.c.fromBufferAttribute(this.positionAttribute,3*e+2),t.set(0,0,0).addScaledVector(Oce.a,i).addScaledVector(Oce.b,a).addScaledVector(Oce.c,1-(i+a)),void 0!==n&&Oce.getNormal(n),void 0!==r&&void 0!==this.colorAttribute&&(Oce.a.fromBufferAttribute(this.colorAttribute,3*e),Oce.b.fromBufferAttribute(this.colorAttribute,3*e+1),Oce.c.fromBufferAttribute(this.colorAttribute,3*e+2),Ice.set(0,0,0).addScaledVector(Oce.a,i).addScaledVector(Oce.b,a).addScaledVector(Oce.c,1-(i+a)),r.r=Ice.x,r.g=Ice.y,r.b=Ice.z),this}}(e).build();for(let e=0;e<t;e++)o.sample(i,a),n.push(i.x,i.y,i.z),r.push(a.x,a.y,a.z);return{positions:new Float32Array(n),normals:new Float32Array(r)}}(t,e*e);return{dataTexture:Rce(n,e),positions:n,dataTextureNormals:Rce(r,e)}}getMesh(e,t){let n=null;switch(e){case"SphereEmitterShape":n=new yQ(.5*t,32,32);break;case"TorusEmitterShape":n=new wQ(.5*t,.3,15,40);break;case"ConeEmitterShape":n=new UY(t,t,15);break;case"BoxEmitterShape":n=new qG(t,t,t);break;case"PlaneEmitterShape":n=new fW(t,t),n.rotateX(-Math.PI/2);break;default:n=new yQ(t,32,32)}return new GG(n,new gG({color:16711680}))}applyToShader(e,t){this.size=(new tH).fromArray(t.size),e.uEmitterSize.value=this.size}dispose(){this.positionsTexture.dispose(),this.directionsTexture.dispose(),this.positionsAttribute=new Float32Array}};function Uce(e){let t={...e},n=n5.defaultData;t.forceFieldObjectId&&(t.colliderEntityId=t.forceFieldObjectId);let r={...n.shape,...t.shape},i={...n.renderMaterial,...t.renderMaterial};return{...n,...t,shape:r,renderMaterial:i}}var jce=class extends nG{constructor(e,t){super(),this.type="ParticleEmitter",this.debugMode=!1,this.worldSpace=!0,this.rootObject=null,this.gpuCompute=null,this.positionSimRT=null,this.velocitySimRT=null,this.emissionRateSimRT=null,this.emitterShape=void 0,this.isEmitting=!1,this.hasBeenReset=!1,this.emittedParticlesAmount=0,this.lastEmitTime=0,this.globalTime=0,this.targetFPS=60,this.previousRatio=1,this.lerpFactor=.4,this.particlesAmount=0,this.noiseStrength=0,this.noiseScale=0,this.isBillboardBased=!0,this.simFeaturesDefinition={USE_COLLIDER:!1,USE_ATTRACTOR:!1,USE_VORTEX:!1,USE_SPHERE_COLLIDER:!1,USE_BOX_COLLIDER:!1,USE_FORCE_LOCAL_SPACE:!1,USE_NORMALS:!1,USE_CURL_NOISE:!0,USE_SIMPLEX_NOISE:!1,USE_FBM_NOISE:!1},this.textureLoader=new QQ,this.currentWorldPosition=new tH,this.systemQuaternion=new eH,this.worldGravity=new tH(0,0,0),this.directionAxis=new tH(0,0,0),this.colliderV3=new tH(0,0,0),this.colliderQuaternion=new eH(0,0,0,1),this.matrixAutoUpdate=!0,this.renderer=e,this.system=t,this.shared=t.context.shared;let n=t.data;this.material=new Bce(n.renderMaterial,t.context),this.material.uniforms={uSize:{value:0},uSizeEnd:{value:0},uColor:{value:n.renderMaterial.color},uColor2:{value:n.renderMaterial.color2},uPosition:{value:new tH(0,0,0)},uEmissionData:{value:new tH(0,0,0)},uTexture:{value:this.defaultTexture},uWorldOffset:{value:new tH(0,0,0)},uWorldQuaternion:{value:new KV(0,0,0,1)},uRandScaleFactor:{value:n.randomScale??0},uRandRotationFactor:{value:n.randomRotation??0},uRotation:{value:n.renderMaterial.spriteRotation[0]??0},uRotationEnd:{value:n.renderMaterial.spriteRotation[1]??0}},this.setTexture(this.material.uniforms,n.renderMaterial.texture),this.init(n)}setTexture(e,t){let n=t.data;if("string"==typeof t){let n=this.shared.image(t),r=new QV(n.img);return r.needsUpdate=!0,void(e.uTexture.value=r)}if("string"!=typeof n){let t=new Image;t.onload=()=>{let n=new QV(t);n.needsUpdate=!0,e.uTexture.value=n};let r=new Blob([n],{type:"image/*"}),i=URL.createObjectURL(r);t.src=i}}updateGeometryAttributes(e,t){let n=function(e){let t=new Float32Array(e*e*2);for(let n=0;n<e;n++)for(let r=0;r<e;r++){let i=n*e+r;t[2*i+0]=n/(e-1),t[2*i+1]=r/(e-1)}return t}(t);!this.emitterShape?.positionsAttribute||e.geometry.setAttribute("ref",new eY(n,2))}applyWorldSpace(){if(!(this.system.started&&this.worldSpace&&this.positionSimRT&&this.velocitySimRT))return;let e=this.system;e.getWorldQuaternion(this.systemQuaternion),this.systemQuaternion.invert(),e.getWorldPosition(this.currentWorldPosition),this.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.positionSimRT.material.uniforms.uWorldOffset.value=this.currentWorldPosition,this.systemQuaternion.invert(),this.positionSimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize()),this.velocitySimRT.material.uniforms.uWorldQuaternion.value.copy(this.systemQuaternion.normalize())}update(e,t){if(!this.gpuCompute||!this.positionSimRT||!this.velocitySimRT||!this.emissionRateSimRT||this.hasBeenReset)return;if(this.checkIfAllParticlesAreDead()&&!this.hasBeenReset)return void this.reset();this.applyWorldSpace(),this.globalTime=e,this.positionSimRT.material.uniforms.uTime.value=e,this.emissionRateSimRT.material.uniforms.uTime.value=e;let n=1e3/t,r=this.targetFPS/n,i=this.previousRatio+(r-this.previousRatio)*this.lerpFactor;this.positionSimRT.material.uniforms.uFPSRatio.value=i,this.previousRatio=i;let a=this.isEmitting?this.GoEmitSomeParticles(e,this.system.data.birthRatePerSec):0;this.emissionRateSimRT.material.uniforms.uLastIndexEmitted.value=this.emittedParticlesAmount,this.emissionRateSimRT.material.uniforms.uParticlesToEmit.value=a,this.material.uniforms.uPosition.value=this.gpuCompute.getCurrentRenderTarget(this.positionSimRT)?.texture,this.system.colliderEntities.length>0&&this.renderColliders(),this.gpuCompute.compute()}renderColliders(){if(!this.velocitySimRT)return;let e=this.system.colliderEntities[0];if(!e)return;e.getWorldPosition(this.colliderV3),0===this.colliderV3.y&&(this.colliderV3.y=1e-4),this.velocitySimRT.material.uniforms.uColliderPos.value.copy(this.colliderV3);let t=e.data.size;this.colliderV3.fromArray(t),this.velocitySimRT.material.uniforms.uColliderSize.value.copy(this.simFeaturesDefinition.USE_SPHERE_COLLIDER?this.colliderV3.multiplyScalar(.5):this.colliderV3),e.getWorldQuaternion(this.colliderQuaternion),this.velocitySimRT.material.uniforms.uColliderQuaternion.value.copy(this.colliderQuaternion.normalize()),this.velocitySimRT.material.uniforms.uColliderQuaternionInvert.value.copy(this.colliderQuaternion.normalize().invert())}updateState(e){!this.velocitySimRT||!this.positionSimRT||(e.renderMaterial&&this.updateMaterialState(e.renderMaterial),this.updateParticleState(e))}updateVariableState(e,t){if(!this.velocitySimRT||!this.positionSimRT)return;"size"===t[2]&&this.material.updateState({size:[e,this.material.uniforms.uSizeEnd.value]}),"sizeEnd"===t[2]&&this.material.updateState({size:[this.material.uniforms.uSize.value,e]});let n=(e,t)=>{let n=[...this.system.data.shape.size];n[e]=t,this.updateParticleState({shape:{...this.system.data.shape,size:n}})};"shape_size_0"===t[2]&&n(0,e),"shape_size_1"===t[2]&&n(1,e),"shape_size_2"===t[2]&&n(2,e),"speed"===t[2]&&(this.velocitySimRT.material.uniforms.uSpeed.value=e/10),"gravity"===t[2]&&this.worldGravity.set(0,e/100,0),"noiseStrength"===t[2]&&(this.noiseStrength=e,this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),"noiseScale"===t[2]&&(this.noiseScale=e,this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),"direction_x"===t[2]&&(this.directionAxis=this.getDirectionAxis([Number(e),this.system.data.direction[1],this.system.data.direction[2]])),"direction_y"===t[2]&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],Number(e),this.system.data.direction[2]])),"direction_z"===t[2]&&(this.directionAxis=this.getDirectionAxis([this.system.data.direction[0],this.system.data.direction[1],Number(e)]))}updateMaterialState(e){this.material.updateState({...e,size:e.size?[Number(this.shared.getVariable(e.size[0],[this.uuid,"particles","size"])),Number(this.shared.getVariable(e.size[1],[this.uuid,"particles","sizeEnd"]))]:[0,0]}),e.texture&&(this.setTexture(this.material.uniforms,e.texture),this.material.needsUpdate=!0)}updateParticleState(e){if(this.positionSimRT&&this.velocitySimRT){if(this.shouldReInitGPUCompute(e)&&this.init(Uce(this.system.data)),void 0!==e.life&&(this.positionSimRT.material.uniforms.uMaxLifeTime.value=e.life),void 0!==e.speed&&(this.velocitySimRT.material.uniforms.uSpeed.value=Number(this.shared.getVariable(e.speed,[this.uuid,"particles","speed"]))/10),void 0!==e.collisionBounce&&(this.velocitySimRT.material.uniforms.uBounce.value=e.collisionBounce),void 0!==e.noiseStrength&&(this.noiseStrength=Number(this.shared.getVariable(e.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.velocitySimRT.material.uniforms.uNoiseStrength.value=this.noiseStrength),void 0!==e.noiseScale&&(this.noiseScale=Number(this.shared.getVariable(e.noiseScale,[this.uuid,"particles","noiseScale"])),this.velocitySimRT.material.uniforms.uNoiseScale.value=this.noiseScale),void 0!==e.noiseSeed&&(this.velocitySimRT.material.uniforms.uNoiseSeed.value=e.noiseSeed),void 0!==e.randomMass&&(this.velocitySimRT.material.uniforms.uRandomMassFactor.value=e.randomMass),void 0!==e.renderMaterial?.size){let t=this.shared.getVariable(e.renderMaterial.size[0],[this.uuid,"particles","size"]);this.velocitySimRT.material.uniforms.particleSize.value=Number(t)}if(void 0!==e.renderMaterial?.spriteRotation&&(this.material.uniforms.uRotation.value=e.renderMaterial.spriteRotation[0],this.material.uniforms.uRotationEnd.value=e.renderMaterial.spriteRotation[1]),void 0!==e.shape){let t=e.shape.size??this.system.data.shape.size,n=[Number(this.shared.getVariable(t[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(t[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(t[2],[this.uuid,"particles","shape_size_2"]))],r={...Uce(this.system.data).shape,size:n};this.emitterShape?.applyToShader(this.positionSimRT.material.uniforms,r)}if(void 0!==e.gravity&&(this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.velocitySimRT.material.uniforms.uGravity={value:this.worldGravity}),void 0!==e.direction){let t=this.getDirectionFromVariable(e.direction);this.directionAxis=this.getDirectionAxis(t),this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis}void 0!==e.randomRotation&&(this.material.uniforms.uRandRotationFactor.value=e.randomRotation),void 0!==e.randomScale&&(this.material.uniforms.uRandScaleFactor.value=e.randomScale)}}updateForceFieldParameters(e){!this.velocitySimRT||(void 0!==e.forceIntensity&&(this.velocitySimRT.material.uniforms.uForceIntensity.value=e.forceIntensity),void 0!==e.forceDambing&&(this.velocitySimRT.material.uniforms.uForceDamping.value=e.forceDambing))}getDirectionAxis(e){let t=[Number(e[0])*CV.DEG2RAD,Number(e[1])*CV.DEG2RAD,Number(e[2])*CV.DEG2RAD],n=new jH(t[0],t[1],t[2],"XYZ");return this.directionAxis.set(0,1,0).applyEuler(n).normalize(),this.velocitySimRT&&(this.velocitySimRT.material.uniforms.uDirectionsAxis.value=this.directionAxis),this.directionAxis}shouldReInitGPUCompute(e){let{birthRatePerSec:t,rootObjectType:n,colliderEntityId:r,shape:i,emitTimeDuration:a,emitTimeCycle:o,life:s,directionMode:l,noiseType:c}=e;return void 0!==t||void 0!==n||r||null===r||void 0!==o||void 0!==i||void 0!==s||void 0!==a||void 0!==l||void 0!==c}init(e){this.dispose(),this.particlesAmount=this.getMaxParticlesAmount({birthRatePerSecond:e.birthRatePerSec,particleMaxLifeTime:e.life,loopDuration:"infinity"===e.emitTimeCycle?0:e.emitTimeDuration}),this.particlesAmount>1e5&&(console.warn("The maximum number of particles is limited to 100000."),this.particlesAmount=1e5),this.emitterShape=this.createShape(e.shape,this.particlesAmount);let t=setInterval((()=>{if(this.emitterShape){if(isNaN(this.emitterShape.positionsTexture.source.data.data[0]))return void this.init(e);clearInterval(t)}}),100);if(!this.emitterShape)return;let n=new class{constructor(e,t,n){this.variables=[],this.currentTextureIndex=0;let r=ej,i=new qX,a=new JG;a.position.z=1;let o={passThruTexture:{value:null}},s=u("uniform sampler2D passThruTexture;\n\nvoid main() {\n\n\tvec2 uv = gl_FragCoord.xy / resolution.xy;\n\n\tgl_FragColor = texture2D( passThruTexture, uv );\n\n}\n",o),l=new GG(new fW(2,2),s);function c(n){n.defines.resolution="vec2( "+e.toFixed(1)+", "+t.toFixed(1)+" )"}function u(e,t){let n=new ZG({uniforms:t=t||{},vertexShader:"void main()\t{\n\n\tgl_Position = vec4( position, 1.0 );\n\n}\n",fragmentShader:e});return c(n),n}i.add(l),this.setDataType=function(e){return r=e,this},this.addVariable=function(e,t,n){let r={name:e,initialValueTexture:n,material:this.createShaderMaterial(t),dependencies:null,renderTargets:[],wrapS:null,wrapT:null,minFilter:VU,magFilter:VU};return this.variables.push(r),r},this.setVariableDependencies=function(e,t){e.dependencies=t},this.init=function(){if(!1===n.capabilities.isWebGL2&&!1===n.extensions.has("OES_texture_float"))return"No OES_texture_float support for float textures.";if(0===n.capabilities.maxVertexTextures)return"No support for vertex shader textures.";for(let n=0;n<this.variables.length;n++){let r=this.variables[n];r.renderTargets[0]=this.createRenderTarget(e,t,r.wrapS,r.wrapT,r.minFilter,r.magFilter),r.renderTargets[1]=this.createRenderTarget(e,t,r.wrapS,r.wrapT,r.minFilter,r.magFilter),this.renderTexture(r.initialValueTexture,r.renderTargets[0]),this.renderTexture(r.initialValueTexture,r.renderTargets[1]);let i=r.material,a=i.uniforms;if(null!==r.dependencies)for(let e=0;e<r.dependencies.length;e++){let t=r.dependencies[e];if(t.name!==r.name){let e=!1;for(let n=0;n<this.variables.length;n++)if(t.name===this.variables[n].name){e=!0;break}if(!e)return"Variable dependency not found. Variable="+r.name+", dependency="+t.name}a[t.name]={value:null},i.fragmentShader="\nuniform sampler2D "+t.name+";\n"+i.fragmentShader}}return this.currentTextureIndex=0,null},this.compute=function(){let e=this.currentTextureIndex,t=0===this.currentTextureIndex?1:0;for(let n=0,r=this.variables.length;n<r;n++){let r=this.variables[n];if(null!==r.dependencies){let t=r.material.uniforms;for(let n=0,i=r.dependencies.length;n<i;n++){let i=r.dependencies[n];t[i.name].value=i.renderTargets[e].texture}}this.doRenderTarget(r.material,r.renderTargets[t])}this.currentTextureIndex=t},this.getCurrentRenderTarget=function(e){return e.renderTargets[this.currentTextureIndex]},this.getAlternateRenderTarget=function(e){return e.renderTargets[0===this.currentTextureIndex?1:0]},this.dispose=function(){l.geometry.dispose(),l.material.dispose();let e=this.variables;for(let t=0;t<e.length;t++){let n=e[t];n.initialValueTexture&&n.initialValueTexture.dispose();let r=n.renderTargets;for(let e=0;e<r.length;e++)r[e].dispose()}},this.addResolutionDefine=c,this.createShaderMaterial=u,this.createRenderTarget=function(n,i,a,o,s,l){return new ZV(n=n||e,i=i||t,{wrapS:a=a||UU,wrapT:o=o||UU,minFilter:s=s||VU,magFilter:l=l||VU,format:oj,type:r,depthBuffer:!1})},this.createTexture=function(){let n=new Float32Array(e*t*4),r=new KX(n,e,t,oj,ej);return r.needsUpdate=!0,r},this.renderTexture=function(e,t){o.passThruTexture.value=e,this.doRenderTarget(s,t),o.passThruTexture.value=null},this.doRenderTarget=function(e,t){let r=n.getRenderTarget(),o=n.xr.enabled,c=n.shadowMap.autoUpdate,u=n.outputEncoding,h=n.toneMapping;n.xr.enabled=!1,n.shadowMap.autoUpdate=!1,n.outputEncoding=$j,n.toneMapping=MU,l.material=e,n.setRenderTarget(t),n.render(i,a),l.material=s,n.xr.enabled=o,n.shadowMap.autoUpdate=c,n.outputEncoding=u,n.toneMapping=h,n.setRenderTarget(r)}}}(this.emitterShape.textureSize,this.emitterShape.textureSize,this.renderer),r=this.updateSimulationDefinition(e),i=n.addVariable("uCurrentPosition",r+"\n// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU\nuniform sampler2D uOriginalPosition;\nuniform float uTime;\nuniform float uSpeed;     // update speed of the particles\nuniform vec3 uWorldOffset;    \nuniform vec4 uWorldQuaternion;\nuniform float uMaxLifeTime;\nuniform vec3 uEmitterSize;\nuniform float uFPSRatio;     // 1  for 60 FPS\n\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy,\n        vec2(12.9898,78.233)))*\n        43758.5453123);\n}\nvec3 applyQuaternionToVector( vec4 q, vec3 v ){\n    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n}\n\nvec3 applyForce(vec3 force, float mass) {\n    vec3 acceleration = force / mass;\n    \n    return acceleration;\n  }\n  \n\nvoid main() {\n    vec2 vUv = gl_FragCoord.xy / resolution.xy;\n    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;\n    float currentLife = texture2D( uCurrentPosition, vUv ).w;   // from 1 to 0\n    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).r;        // 1. = spawning, 0. = not spawning\n    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;          // 1. = active, 0. = not active\n    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;         // timeStart in seconds when the particle was emitted\n    vec3 originalPosition = ((texture2D( uOriginalPosition, vUv ).xyz) * uEmitterSize);\n    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;\n    float collisionFlag = texture2D( uCurrentVelocity, vUv ).w;             // 1. = collided, 0. = not collided\n    float lifeTime = uMaxLifeTime;\n\n    // Calculate the position adjustment based on collision\n    //     if (collisionFlag > .5) {  \n    float isColliding = step(0.5, collisionFlag); // 1.0 if collisionFlag > 0.5, otherwise 0.0\n    float bounceOffset = 3.0 * isColliding; // Becomes 3.0 if colliding, 0.0 otherwise\n    vec3 collisionAdjustedVelocity = velocity * (1.0 + bounceOffset);\n\n    // Update position based on collision or normal movement\n    vec3 fpsVelocity = velocity * min(uFPSRatio, 5.0);\n    position += mix(fpsVelocity, collisionAdjustedVelocity, isColliding);\n\n    // EMISSION RATE - BIRTH\n    // if (isSpawning == 1.0) {\n    // Better Approach to avoid If statement\n    vec3 newPosition = applyQuaternionToVector(uWorldQuaternion, originalPosition) + uWorldOffset;\n    originalPosition = mix(originalPosition, newPosition, isSpawning);\n    position = mix(position, originalPosition, isSpawning);;\n    timeStart = mix(timeStart, uTime, isSpawning);\n\n    // Calculate timeLeft for life normalization\n    float timeLeft = max(lifeTime - (uTime - timeStart), 0.0);\n    float life_Normalize = timeLeft / lifeTime;\n\n    // Use isActive to blend between the calculated color and black\n    vec4 activeColor = vec4(position, life_Normalize);\n    // if (isActive == 1.0) {\n    gl_FragColor = mix(vec4(0.0), activeColor, isActive);\n\n}\n",this.emitterShape.positionsTexture),a=n.addVariable("uCurrentVelocity",r+"\n// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU\nuniform sampler2D uOriginalPosition;\nuniform sampler2D uDirections;     \nuniform vec3 uDirectionsAxis;\nuniform vec4 uWorldQuaternion;\nuniform vec3 uGravity;        \nuniform float uNoiseStrength;     // Variation of the noise\nuniform float uNoiseScale;        // Scale of the noise\nuniform float uNoiseSeed;         // Seed of the noise\nuniform float particleSize;\nuniform float uSpeed;     // update speed of the particles\nuniform float uRandomMassFactor;\n\n// COLLIDER\nuniform vec3 uColliderPos;                // Collider Position\nuniform vec3 uColliderSize;               // Collider Dimension\nuniform vec4 uColliderQuaternion;         // Collider Rotation\nuniform vec4 uColliderQuaternionInvert;   // Collider Rotation\nuniform float uBounce;                    // Bounce factor\nuniform float uForceDamping;\nuniform float uForceIntensity;\n\n\n\n\n    vec3 mod289(vec3 x) {\n      return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n    \n    vec4 mod289(vec4 x) {\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n    \n    vec4 permute(vec4 x) {\n        return mod289(((x*34.0)+1.0)*x);\n    }\n    \n    vec4 taylorInvSqrt(vec4 r)\n    {\n    return 1.79284291400159 - 0.85373472095314 * r;\n    }\n    \n    vec3 fade(vec3 t) {\n  return t*t*t*(t*(t*6.0-15.0)+10.0);\n}\n\n    float snoise(vec3 v)\n    {\n    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n    vec3 i  = floor(v + dot(v, C.yyy) );\n    vec3 x0 =   v - i + dot(i, C.xxx) ;\n    vec3 g = step(x0.yzx, x0.xyz);\n    vec3 l = 1.0 - g;\n    vec3 i1 = min( g.xyz, l.zxy );\n    vec3 i2 = max( g.xyz, l.zxy );\n    vec3 x1 = x0 - i1 + C.xxx;\n    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n    \n    // Permutations\n    i = mod289(i);\n    vec4 p = permute( permute( permute(\n                i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n              + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n              + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n    \n    // Gradients: 7x7 points over a square, mapped onto an octahedron.\n    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n    float n_ = 0.142857142857; // 1.0/7.0\n    vec3  ns = n_ * D.wyz - D.xzx;\n    \n    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n    \n    vec4 x_ = floor(j * ns.z);\n    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n    \n    vec4 x = x_ *ns.x + ns.yyyy;\n    vec4 y = y_ *ns.x + ns.yyyy;\n    vec4 h = 1.0 - abs(x) - abs(y);\n    \n    vec4 b0 = vec4( x.xy, y.xy );\n    vec4 b1 = vec4( x.zw, y.zw );\n    \n    vec4 s0 = floor(b0)*2.0 + 1.0;\n    vec4 s1 = floor(b1)*2.0 + 1.0;\n    vec4 sh = -step(h, vec4(0.0));\n    \n    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n    \n    vec3 p0 = vec3(a0.xy,h.x);\n    vec3 p1 = vec3(a0.zw,h.y);\n    vec3 p2 = vec3(a1.xy,h.z);\n    vec3 p3 = vec3(a1.zw,h.w);\n    \n    //Normalise gradients\n    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n    p0 *= norm.x;\n    p1 *= norm.y;\n    p2 *= norm.z;\n    p3 *= norm.w;\n    \n    // Mix final noise value\n    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n    m = m * m;\n    return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                  dot(p2,x2), dot(p3,x3) ) );\n    }\n    \n    vec3 snoiseVec3( vec3 x ){\n    \n      float s  = snoise(vec3( x ));\n      float s1 = snoise(vec3( x.y - 19.1 , x.z + 33.4 , x.x + 47.2 ));\n      float s2 = snoise(vec3( x.z + 74.2 , x.x - 124.5 , x.y + 99.4 ));\n      vec3 c = vec3( s , s1 , s2 );\n      return c;\n    \n    }\n    \n      \n    vec3 curlNoise( vec3 p, float seed){\n      p += seed;\n      const float e = .1;\n      vec3 dx = vec3( e   , 0.0 , 0.0 );\n      vec3 dy = vec3( 0.0 , e   , 0.0 );\n      vec3 dz = vec3( 0.0 , 0.0 , e   );\n    \n      vec3 p_x0 = snoiseVec3( p - dx );\n      vec3 p_x1 = snoiseVec3( p + dx );\n      vec3 p_y0 = snoiseVec3( p - dy );\n      vec3 p_y1 = snoiseVec3( p + dy );\n      vec3 p_z0 = snoiseVec3( p - dz );\n      vec3 p_z1 = snoiseVec3( p + dz );\n    \n      float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;\n      float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;\n      float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;\n    \n      const float divisor = 1.0 / ( 2.0 * e );\n      return normalize( vec3( x , y , z ) * divisor );\n    \n    }\n\n\n// Classic Perlin noise\nfloat cnoise(vec3 P)\n{\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod289(Pi0);\n  Pi1 = mod289(Pi1);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 * (1.0 / 7.0);\n  vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 * (1.0 / 7.0);\n  vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); \n  return 2.2 * n_xyz;\n}\n\n\nvec3 fbm_vec3(vec3 p, float frequency, float offset)\n{\n  return vec3(\n    cnoise((p+vec3(offset))*frequency),\n    cnoise((p+vec3(offset+20.0))*frequency),\n    cnoise((p+vec3(offset-30.0))*frequency)\n  );\n}\n\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);\n}\nvec3 applyQuaternionToVector( vec4 q, vec3 v ){\n    return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n } \nvec3 applyForce(vec3 force, float mass) {\n  vec3 acceleration = force / mass;\n  \n  return acceleration;\n}\n\nvec4 conjugate(vec4 q) {\n  return vec4(q.w, -q.x, -q.y, -q.z);\n}\n\n// Function to compute the normal of the ellipsoid at a given point\nvec3 ellipsoidNormal(vec3 p, vec3 radii) {\n  return normalize(p / (radii * radii));\n}\n\nfloat friction = .3;\n\nvoid main() {\n    vec2 vUv = gl_FragCoord.xy / resolution.xy;\n    vec3 position = texture2D( uCurrentPosition, vUv ).xyz;\n    vec3 originalPosition = texture2D( uOriginalPosition, vUv ).xyz;\n    float timeLeft = texture2D( uCurrentPosition, vUv ).w;\n    vec3 directions = texture2D( uDirections, vUv ).xyz;    \n    vec3 velocity = texture2D( uCurrentVelocity, vUv ).xyz;\n    float mass = rand(originalPosition.xy) * 0.5 + 0.5;\n    float isSpawning = texture2D( uCurrentEmissionRate, vUv ).x;        // 1. = spawning, 0. = not spawning\n    float isActive = texture2D( uCurrentEmissionRate, vUv ).y;          // 1. = active, 0. = not active\n    float collisionFlag =texture2D( uCurrentVelocity, vUv ).w;          // Indicate collision\n\n    // Randomness Mass\n    mass = (1.0 - (uRandomMassFactor * mass));\n    \n    if (isActive == 1.0) {\n      // **************************************************************\n      // FORCES NOISES\n      // **************************************************************\n      #ifdef USE_CURL_NOISE\n        if (uNoiseScale > 0.0 ) {\n          velocity = curlNoise(position * uNoiseScale * .002, uNoiseSeed) * ( uNoiseStrength + 1.0) * .05 * uSpeed;\n        }\n        // Variation of the noise Over Time\n        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {\n          velocity += curlNoise( position, uNoiseSeed)  * uNoiseStrength * 0.05 * uSpeed;\n        }\n      #endif\n      // **************************************************************\n      #ifdef USE_SIMPLEX_NOISE\n        if (uNoiseScale > 0.0 ) {\n          velocity = vec3(snoise(position * uNoiseScale * .001) * ( uNoiseStrength + 1.0) * .1);\n          velocity *= uSpeed;\n        }\n        // Variation of the noise Over Time\n        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0) {\n          velocity += vec3(snoise(position * uNoiseStrength * .001) * .05 * uSpeed);\n        }\n      #endif\n      // ************************************************************** \n      #ifdef USE_FBM_NOISE\n        if (uNoiseScale > 0.0 ) {\n          float offset = 0.0;\n          velocity = fbm_vec3(position * uNoiseScale * .001, ( uNoiseStrength + 1.0), offset);\n          velocity *= uSpeed;\n        }\n        // Variation of the noise Over Time\n        if (uNoiseStrength > 0.0 && uNoiseScale == 0.0 ) {      \n          float offset = 0.0;\n          velocity += fbm_vec3(position * uNoiseStrength * .001, ( uNoiseStrength + 1.0), uNoiseSeed) * .1 * uSpeed;\n        }\n      #endif\n\n      // COLLIDER\n      \n  #ifdef USE_COLLIDER\n    float restitution = max(uBounce * 2., .01); // Energy Loss\n    // SPHERE COLLIDER\n    // **************************************************************\n    #ifdef USE_SPHERE_COLLIDER       \n      // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)\n      vec3 radii = uColliderSize;\n      // Adjust position relative to collider\n      vec3 relPos = position - uColliderPos;\n      // Apply rotation of the collider to the relative position\n      relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            \n      // Scale relative position by radii (for ellipsoid collision detection)\n      vec3 scaledPos = relPos / radii;\n      // Calculate ellipsoidal distance\n      float dist = length(scaledPos); // Distance in terms of ellipsoid\n      \n      // Check for collision\n      if (dist <= 1. + particleSize / length(radii) && collisionFlag == 0.0) {\n          // Compute the normal at the collision point, accounting for particle size\n        vec3 adjustedPos = scaledPos * (1.0 + particleSize / length(radii));          \n        // Compute the normal at the collision point\n        vec3 normal = ellipsoidNormal(adjustedPos, radii);\n        // Rotate the normal back to world space\n        normal = applyQuaternionToVector(uColliderQuaternion, normal);\n        // Reflect the velocity vector off the normal\n        velocity = reflect(velocity, normal) * restitution;\n\n        collisionFlag = 1.0;\n      } else {\n        collisionFlag = 0.0;\n      }\n    #endif\n\n    // BOX COLLIDER or PLANE COLLIDER \n    // **************************************************************\n    #ifdef USE_BOX_COLLIDER\n      // Box dimensions and repulsion variables\n      vec3 boxHalfSize = uColliderSize / 2.0;\n      // Convert world position to box's local space\n      vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      \n      // Collision detection\n      vec3 localDistance = abs(localPos) - boxHalfSize;\n      float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));    \n\n      // Collision Detected\n      if (distToSurface <= particleSize * 0.5 && collisionFlag == 0.0) {      \n        // Find the nearest face normal for bounce direction\n        vec3 normal;\n        if (localDistance.x > localDistance.y && localDistance.x > localDistance.z) {\n            normal = vec3(sign(localPos.x), 0.0, 0.0);\n        } else if (localDistance.y > localDistance.z) {\n            normal = vec3(0.0, sign(localPos.y), 0.0);\n        } else {\n            normal = vec3(0.0, 0.0, sign(localPos.z));\n        }            \n        // Rotate normal back to world space\n        normal = applyQuaternionToVector(uColliderQuaternion, normal);      \n        // Reflect velocity and apply repulsion force\n        velocity = reflect(velocity, normal) * restitution;\n        \n        collisionFlag = 1.0;\n      } else {\n        collisionFlag = 0.0;\n      }\n    #endif      \n  #endif      \n  // END COLLIDER    \n\n      // ATTRACTION\n      \n  #ifdef USE_ATTRACTOR\n\n      #ifdef USE_SPHERE_COLLIDER      \n        // Convert collider size to radii (assuming uColliderSize is the diameter in each axis)\n        vec3 radii = uColliderSize;\n        // Adjust position relative to collider\n        vec3 relPos = position - uColliderPos;\n        // Apply rotation of the collider to the relative position\n        relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            \n        // Scale relative position by radii (for ellipsoid collision detection)\n        vec3 scaledPos = relPos / radii;\n        // Calculate ellipsoidal distance\n        float distToSurface = length(scaledPos); // Distance in terms of ellipsoid\n        float insideCheck = 1.0;\n\n      #endif\n\n\n      #ifdef USE_BOX_COLLIDER\n        // Box dimensions\n        vec3 boxHalfSize = uColliderSize / 2.0;\n        // Convert world position to box's local space\n        vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      \n        vec3 localDistance = abs(localPos) - boxHalfSize;\n        float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));\n        float insideCheck = particleSize;\n      #endif      \n  \n      // Apply vortex force inside the Helper\n      #ifdef USE_FORCE_LOCAL_SPACE\n        if (distToSurface <= insideCheck ) {    \n            // Define parameters for the attractor field\n            #ifdef USE_SPHERE_COLLIDER      \n              float attractorStrength = (1.0 - distToSurface ) * uForceIntensity; // Adjust as needed\n            #endif\n\n            #ifdef USE_BOX_COLLIDER\n              float attractorStrength = max((1.0 - insideCheck / distToSurface), 0.) * uForceIntensity; // Adjust as needed\n              #endif\n\n            float attractorDamping = uForceDamping;  // Adjust as needed (higher values will attenuate velocity more)\n          \n            // Use the same radii calculation code as for the collider\n            vec3 attractorRadii = uColliderSize;\n            // Adjust position relative to attractor center\n            vec3 relPos = position - uColliderPos;\n            // Apply rotation of the collider to the relative position\n            relPos = applyQuaternionToVector(uColliderQuaternionInvert, relPos);            \n            // Scale relative position by radii (for ellipsoid attraction)\n            vec3 scaledPos = relPos / attractorRadii;\n\n            // Calculate ellipsoidal distance as attractor radius\n            float attractorRadius = length(scaledPos);\n            // Calculate the distance from the attractor center\n            vec3 relativePosition = position - uColliderPos;\n            // Calculate the force vector towards the attractor center\n            vec3 attractorForce = normalize(relativePosition) * attractorStrength;\n            // Apply the attractor force to the particle\n            velocity -= attractorForce;\n            // Attenuate the particle's velocity\n            velocity *= attractorDamping;\n        }\n      #else \n            // Calculate the distance from the attractor center\n            vec3 relativePosition = position - uColliderPos;\n            // Calculate the force vector towards the attractor center\n            vec3 attractorForce = normalize(relativePosition) * uForceIntensity;\n            // Apply the attractor force to the particle\n            velocity -= attractorForce;\n            // Attenuate the particle's velocity\n            velocity *= uForceDamping;\n      #endif    \n  #endif      \n  \n      // VORTEX\n      \n  #ifdef USE_VORTEX\n    // Box dimensions\n    vec3 boxHalfSize = uColliderSize / 2.0;\n    // Convert world position to box's local space\n    vec3 localPos = applyQuaternionToVector(uColliderQuaternionInvert, position - uColliderPos);      \n    vec3 localDistance = abs(localPos) - boxHalfSize;\n    float distToSurface = max(localDistance.x, max(localDistance.y, localDistance.z));\n\n    // Apply vortex force inside the box\n    if (distToSurface <= particleSize) {\n      float vortexStrength = uForceIntensity;\n      vec3 localTopCenter = vec3(0.0, 0., 0.0);\n\n      // Transform the local top center to the world space\n      vec3 vortexCenter = uColliderPos + applyQuaternionToVector(uColliderQuaternion, localTopCenter);\n      // Calculate the vector from particle to vortex center\n      vec3 vortexVector = vortexCenter - position;\n\n      // Calculate the rotation axis from the inverse of the collider's quaternion and the fixed up vector\n      // Note: important to add a tiny z component to the up vector to avoid instability\n      vec3 upVector = vec3(0.0, 1.0, 0.01);\n      vec3 rotationAxis = cross(upVector, applyQuaternionToVector(uColliderQuaternion, vortexVector));\n      rotationAxis = normalize(rotationAxis);\n\n      // Add rotational component to velocity\n      float rotationSpeed = length(vortexVector * vortexStrength * 3.0) ; \n\n      vec3 rotationVelocity = rotationAxis * rotationSpeed;\n      // velocity += rotationVelocity * 0.005 ;\n      velocity = rotationVelocity * 0.005 ;\n\n      // Calculate vortex force\n      // vec3 vortexForce = normalize(vortexVector) * uSpeed * .1 ;\n      // Apply the vortex force to the particle\n      vec3 originDirection = applyQuaternionToVector(uWorldQuaternion, directions);\n      velocity += applyForce( originDirection * uSpeed * (1. - uForceDamping) , mass * .5);\n    }\n  #endif      \n\n    } \n    // End isActive\n\n    // SPAWN BIRTH \n    // **************************************************************\n    // if (isSpawning == 1.)\n    #ifdef USE_NORMALS\n      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, directions) * uSpeed, isSpawning);\n    #else\n      velocity = mix(velocity, applyQuaternionToVector(uWorldQuaternion, uDirectionsAxis) * uSpeed, isSpawning);    \n    #endif\n    \n    // if (collisionFlag == 0.0)\n    velocity += applyForce(uGravity, mass * .5) * (1.0 - collisionFlag);\n\n    gl_FragColor = vec4(velocity, collisionFlag);\n}\n",this.emitterShape.directionsTexture),o=n.addVariable("uCurrentEmissionRate","\n// uniform sampler2D uCurrentPosition; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentVelocity; // Pass in the variable from GPGPU\n// uniform sampler2D uCurrentEmissionRate; // Pass in the variable from GPGPU\n\nuniform sampler2D uIndex; // Texture with corresponding index\nuniform float uLastIndexEmitted; // Last emitted index\nuniform float uParticlesToEmit; // Number of particles to emit on that frame\nuniform float uTime;\n\nvoid main() {\n    vec2 vUv = gl_FragCoord.xy / resolution.xy;\n    float particleIndex = texture(uIndex, vUv).x;\n    float timeLeft = texture2D( uCurrentPosition, vUv ).w;\n    float isActive = texture2D( uCurrentEmissionRate, vUv ).g;    // 1. = active, 0. = not active\n    float timeStart = texture2D( uCurrentEmissionRate, vUv ).b;\n\n\n    // ********** Detect Colision to Create a flag and use it in position **********\n    // We are doing this here, so\n\n    // ********** Emit Particles **********\n    // X = isSpawning 0.0 or 1.0\n    // Y = isActive 0.0 or 1.0\n    // Check if the vertex index is between the first value and the last value\n    // if (particleIndex >= uLastIndexEmitted && particleIndex < uLastIndexEmitted + uParticlesToEmit) {\n    //     // Emit a particle by writing 1 to the red channel of the color output\n    //     // r: 1. == emit the particle\n    //     // g: 1. == particle is now active\n    //     timeStart = uTime;\n    //     gl_FragColor = vec4(1.0, 1.0, timeStart, 1.0);\n    // } else {\n    //     // The Particle is either already emitted or not in the range of the particles to emit\n    //     // Do not emit a particle by writing 0 to the red channel of the color output        \n    //     gl_FragColor = vec4(0.0, isActive, timeStart, 1.0);\n    // }\n    // Determine if the particle is within the emission range\n    float emitLowerBound = step(uLastIndexEmitted, particleIndex);\n    float emitUpperBound = step(particleIndex, uLastIndexEmitted + uParticlesToEmit - 1.0);\n    float emitParticle = emitLowerBound * emitUpperBound; // 1.0 if in range, 0.0 otherwise\n\n    // Set timeStart and color\n    timeStart = mix(timeStart, uTime, emitParticle);\n    gl_FragColor = vec4(emitParticle, mix(isActive, 1.0, emitParticle), timeStart, 1.0);\n\n\n}\n",function(e){let t=new Float32Array(4*e*e);for(let n=0;n<e*e;n++)t[4*n]=0,t[4*n+1]=0,t[4*n+2]=0,t[4*n+3]=0;let n=new KX(t,e,e,oj,ej);return n.needsUpdate=!0,n}(this.emitterShape.textureSize));n.setVariableDependencies(i,[i,a,o]),n.setVariableDependencies(a,[i,a,o]),n.setVariableDependencies(o,[i,a,o]);let s=function({size:e}){let t=new Float32Array(4*e*e);for(let n=0;n<e*e;n++)t[4*n]=n,t[4*n+1]=0,t[4*n+2]=0,t[4*n+3]=0;let n=new KX(t,e,e,oj,ej);return n.needsUpdate=!0,n}({size:this.emitterShape.textureSize}),l={uOriginalPosition:{value:this.emitterShape.positionsTexture},uWorldOffset:{value:new tH(0,0,0)},uWorldQuaternion:{value:new KV(0,0,0,1)},uTime:{value:0},uFPSRatio:{value:1},uMaxLifeTime:{value:e.life},uEmitterSize:{value:new tH(Number(this.shared.getVariable(e.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.shape.size[2],[this.uuid,"particles","shape_size_2"])))},particleSize:{value:0}};i.material.uniforms=l;let c=this.getDirectionFromVariable(e.direction);this.directionAxis=this.getDirectionAxis(c),this.worldGravity.set(0,Number(this.shared.getVariable(this.system.data.gravity,[this.uuid,"particles","gravity"]))/100,0),this.noiseStrength=Number(this.shared.getVariable(e.noiseStrength,[this.uuid,"particles","noiseStrength"])),this.noiseScale=Number(this.shared.getVariable(e.noiseScale,[this.uuid,"particles","noiseScale"]));let u=e.colliderEntityId&&this.system.getColliderData(e.colliderEntityId),h={uOriginalPosition:{value:this.emitterShape.positionsTexture},uDirections:{value:this.emitterShape.directionsTexture},uDirectionsAxis:{value:this.directionAxis},uWorldQuaternion:{value:new KV(0,0,0,1)},uColliderPos:{value:new tH(0,0,0)},uColliderSize:{value:new tH(0,0,0)},uForceIntensity:{value:u?u.forceIntensity:0},uForceDamping:{value:u?u.forceDambing:0},uColliderQuaternion:{value:new KV(0,0,0,1)},uColliderQuaternionInvert:{value:new KV(0,0,0,1)},particleSize:{value:0},uGravity:{value:this.worldGravity},uNoiseStrength:{value:this.noiseStrength},uNoiseScale:{value:this.noiseScale},uNoiseSeed:{value:e.noiseSeed},uRandomMassFactor:{value:e.randomMass},uBounce:{value:e.collisionBounce},uSpeed:{value:Number(this.shared.getVariable(e.speed,[this.uuid,"particles","speed"]))/10}};a.material.uniforms=h;let d={uIndex:{value:s},uTime:{value:0},uLastIndexEmitted:{value:0},uParticlesToEmit:{value:0}};o.material.uniforms=d;let f=[Number(this.shared.getVariable(e.shape.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.shape.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.shape.size[2],[this.uuid,"particles","shape_size_2"]))],p={...Uce(this.system.data).shape,size:f};this.emitterShape.applyToShader(i.material.uniforms,p),n.init(),this.gpuCompute=n,this.positionSimRT=i,this.velocitySimRT=a,this.emissionRateSimRT=o,this.rootObject=this.createPrimaryEmitter(this.emitterShape.textureSize),this.add(this.rootObject),this.material.needsUpdate=!0}getDirectionFromVariable(e){return[Number(this.shared.getVariable(e[0],[this.uuid,"particles","direction_x"])),Number(this.shared.getVariable(e[1],[this.uuid,"particles","direction_y"])),Number(this.shared.getVariable(e[2],[this.uuid,"particles","direction_z"]))]}updateSimulationDefinition(e){if(this.simFeaturesDefinition.USE_COLLIDER=!1,this.simFeaturesDefinition.USE_ATTRACTOR=!1,this.simFeaturesDefinition.USE_VORTEX=!1,this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!1,this.simFeaturesDefinition.USE_BOX_COLLIDER=!1,this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!1,this.simFeaturesDefinition.USE_NORMALS=!1,this.simFeaturesDefinition.USE_CURL_NOISE=!1,this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!1,this.simFeaturesDefinition.USE_FBM_NOISE=!1,e.colliderEntityId&&this.system.colliderEntities.length>0){let t=this.system.getColliderData(e.colliderEntityId);switch(t?.forceType){case"attractor":this.simFeaturesDefinition.USE_ATTRACTOR=!0;break;case"collider":this.simFeaturesDefinition.USE_COLLIDER=!0;break;case"vortex":this.simFeaturesDefinition.USE_VORTEX=!0}let n=t?.colliderType;"sphere"===n&&(this.simFeaturesDefinition.USE_SPHERE_COLLIDER=!0),"box"===n&&(this.simFeaturesDefinition.USE_BOX_COLLIDER=!0),"helper"===t?.forceRange&&(this.simFeaturesDefinition.USE_FORCE_LOCAL_SPACE=!0)}"normals"===e.directionMode&&(this.simFeaturesDefinition.USE_NORMALS=!0),"curl"===e.noiseType&&(this.simFeaturesDefinition.USE_CURL_NOISE=!0),"simplex"===e.noiseType&&(this.simFeaturesDefinition.USE_SIMPLEX_NOISE=!0),"fbm"===e.noiseType&&(this.simFeaturesDefinition.USE_FBM_NOISE=!0);let t="";for(let[e,n]of Object.entries(this.simFeaturesDefinition))n&&(t+=`#define ${e}\n`);return t}createShape(e,t){this.emitterShape&&this.emitterShape.dispose();let n=new tH(Number(this.shared.getVariable(e.size[0],[this.uuid,"particles","shape_size_0"])),Number(this.shared.getVariable(e.size[1],[this.uuid,"particles","shape_size_1"])),Number(this.shared.getVariable(e.size[2],[this.uuid,"particles","shape_size_2"])));if("MeshEmitterShape"===e.type){let r=null;return this.system.context.scene.traverseEntity((t=>{t.uuid===e.fromMeshId&&(r=t)})),r?new Fce(n,t,e.type,r):new Fce(n,t,"SphereEmitterShape")}return new Fce(n,t,e.type)}createPrimaryEmitter(e){let t,n=e*e;return t=new oY(new fW(1,1,1),this.material,n),this.updateGeometryAttributes(t,e),this.material.needsUpdate=!0,t.onBeforeRender=()=>{this.applyWorldSpace()},t}getMaxParticlesAmount({birthRatePerSecond:e,particleMaxLifeTime:t,loopDuration:n=0}){return Math.ceil(e*(t+n))}dispose(){!this.gpuCompute||(this.rootObject?.parent?.remove(this.rootObject),this.gpuCompute.dispose(),this.material.nodeMaterialDispose(),this.emitterShape?.dispose())}GoEmitSomeParticles(e,t){let n=e-this.lastEmitTime,r=1/t;if(n>=r){let t=Math.max(1,Math.floor(n/r));return this.lastEmitTime=e,this.emittedParticlesAmount+t>this.particlesAmount&&(this.emittedParticlesAmount=0),this.emittedParticlesAmount+=t,t}return 0}checkIfAllParticlesAreDead(){return this.lastEmitTime+this.system.data.life+1<this.globalTime}reset(){this.hasBeenReset=!0,this.lastEmitTime=0,this.emittedParticlesAmount=0,this.gpuCompute&&this.init(Uce(this.system.data))}startEmitting(){this.isEmitting=!0,this.hasBeenReset=!1,this.lastEmitTime=this.globalTime}stopEmitting(){this.isEmitting=!1}},Vce=class extends dne{constructor(e,t,n){super(e,t),this.type="ParticleSystem",this.geometry=new DG,this.actualTime=0,this.currentLoopTime=0,this.started=!1,this.stopped=!1,this.isFrozen=!1,this.isIdle=!0,this.emitter=null,this.colliderEntities=[],this.renderer=null,this.isPreWarm=!1,this._hasOnAfterRenderBeenCalled=!1,this.onAfterRender=e=>{this._hasOnAfterRenderBeenCalled||(this._hasOnAfterRenderBeenCalled=!0,this.init(e))},this.context=n,this.data={...t,...Uce(t)},this.geometry.setAttribute("position",new _G([],3)),this.frustumCulled=!1}init(e){this.renderer=e,this.emitter=new jce(e,this),this.add(this.emitter),this.updateParticleState(this.data)}update(e){if(!this.isReady||!this.started||this.isFrozen||this.isIdle)return;this.actualTime+=e,this.stopped||(this.currentLoopTime+=e);let t="one_time"===this.data.emitTimeCycle;if(("loop"===this.data.emitTimeCycle||t)&&this.currentLoopTime>1e3*this.data.emitTimeDuration&&(this.stopped||(this.stop(),t||this.start("start"===this.data.emitTimeLoopDelayStart?0:1e3*this.data.emitTimeDelay))),this.emitter&&this.started){let t=this.actualTime/1e3;this.emitter.update(t,e)}this.scale.set(1,1,1),this.updateMatrix()}isReady(){return!!this.emitter}hasCollider(e){return this.colliderEntities.some((t=>t.identity===e))}getColliderData(e){let t=this.colliderEntities.find((t=>t.identity===e));return t?t.data:null}updateByPatchedOp(e,t,n){super.updateByPatchedOp(e,t,n),j2(e.path,["renderMaterial"])&&this.updateParticleState({renderMaterial:{...this.data.renderMaterial,...h2.drop(e,1).props}}),j2(e.path,["shape"])&&this.updateParticleState({shape:{...this.data.shape,...h2.drop(e,1).props}})}updateState(e,t){super.updateState(e,t),this.updateParticleState(e)}updateParticleState(e){if(this.emitter){if(void 0!==e.colliderEntityId&&null!==e.colliderEntityId){let t=this.context.scene.find(e.colliderEntityId);this.colliderEntities=t?[t]:[]}null===e.colliderEntityId&&(this.colliderEntities=[]),this.emitter.updateState(e),e.emitTimeCycle&&this.started&&this.start()}}updateFromColliderEntity(e){!this.emitter||(this.emitter.updateForceFieldParameters(e),this.stop(),this.start())}start(e=0){this.currentLoopTime=0,e?setTimeout((()=>{this.start(0)}),e):(this.started=!0,this.stopped=!1,this.isFrozen=!1,this.emitter?.startEmitting())}froze(){this.isFrozen=!0}unFroze(){this.isFrozen=!1}stop(){this.stopped=!0,this.currentLoopTime=0,this.emitter?.stopEmitting()}reset(){this.started=!1,this.stopped=!1,this.emitter?.reset()}wakeUp(){this.isIdle=!1}sleep(){this.isIdle=!0,this.reset()}};function Hce(e,t,n){return console.assert(void 0!==t.type),"Mesh"===t.type?function(e,t,n){let r;return"TextGeometry"===t.geometry.type?new Kae(e,t,n):(r="SubdivGeometry"===t.geometry.type?new Tae(e,t,n):"PathGeometry"===t.geometry.type?new Cce(e,t,n):"VectorGeometry"===t.geometry.type?new Ece(e,t,n):"BooleanGeometry"===t.geometry.type?new Noe(e,t,n):"UIGeometry"===t.geometry.type?new kce(e,t,n):new xae(e,t,n),r)}(e,t,n):"Empty"===t.type?new Voe(e,t):"Particle"===t.type?new Vce(e,t,n):"ParticleCollider"===t.type?new Hoe(e,t,n):"Splat"===t.type?new Voe(e,t):"Bone"===t.type?new Dce(e,t):"Page"===t.type?new _ce(e,t,n):"PointLight"===t.type?new Sce(e,t,n):"SpotLight"===t.type?new Lle(e,t,n):"DirectionalLight"===t.type?new kle(e,t,n):"Component"===t.type||"Instance"===t.type?new Ace(e,t,n):H4.is(t.type)?new Moe(e,t):(console.error(t),new Voe(e,t))}function Gce(e,t){let n=!1,r=t.getLayersOfType("transmission"),i=t.getLayersOfType("outline");return i.length>0&&(e.layers.set(8),r.length>0&&e.layers.enable(3),n=!0,Sae(e),_ae(e)),0===r.length&&0===i.length&&e.layers.set(0),e instanceof mae&&e.needsAO&&e.layers.enable(5),n}function Wce(e,t){if(!t.layers)return!1;let n=!1,r=t.getLayersOfType("transmission").filter((e=>e.data.visible)),i=t.getLayersOfType("outline").filter((e=>e.data.visible));return r.length>0&&(e.layers.set(3),i.length>0&&e.layers.enable(8),n=!0),0===r.length&&0===i.length&&e.layers.set(0),e.needsAO&&e.layers.enable(5),n}G7.createEntity=Hce,G7.changeEntityProptotype=function(e,t,n){let r=Hce(e.identity,t,n),i=e.children,a=e.attachedPaths,o=e.parent,s=e.component,l=e.instances,c=e.overrideData,u=e.uuid,h=e.stateSelection;e.dispose();for(let t of Object.keys(e))delete e[t];Object.setPrototypeOf(e,Object.getPrototypeOf(r));for(let t of Object.keys(r))e[t]=r[t];e.children=[...e.children,...i],e.attachedPaths=a,e.parent=o,e.component=s,e.instances=l,e.uuid=u,e.overrideData=c,e.updateState(e.data,n),h&&e.changeSelectedState(h,n),e.resetBBoxNeedsUpdate()},G7.Cloner=coe;var qce=new PK,Xce=new kH,Yce=new DH;function Qce(e,t,n,r=!1){let i=e.cloner;if(i)for(let a of i.children){let i=Xce.copy(a.matrixWorld).invert(),o=Yce.copy(t.ray).applyMatrix4(i),s=e.matrixWorld;o.applyMatrix4(s);let l=qce;l.set(o.origin,o.direction),l.near=t.near,l.far=t.far;let c=l.intersectObject(e,!1);c.length>0&&n.push({...c[0],object:r?a:e})}}var Kce=xF(OF()),Zce=xF(zF()),Jce=xF(OF()),$ce=xF(zF()),eue=class{constructor(e,t,n){this._dataNormalized=e,this._minD=t,this._maxD=n}static createFromUnnormalized(e){let t=$ce.sup(e),n=$ce.inf(e),r=(0,Jce.default)(new Float32Array(e.size),e.shape),i=t-n;return i<1e-4?$ce.assigns(r,0):($ce.subs(r,e,n),$ce.divs(r,r,i)),new eue(r,n,t)}get data(){return this._dataNormalized}get minD(){return this._minD}get maxD(){return this._maxD}denormalize(){let e=(0,Jce.default)(new Float32Array(this._dataNormalized.size),this._dataNormalized.shape);return $ce.muls(e,this._dataNormalized,this._maxD-this._minD),$ce.adds(e,e,this._minD),e}},tue=class{constructor(e,t){this._quantized=e,this._method=t}get quantized(){return this._quantized}static maxIntBits(e){return 2**e-1}static fromNormalized(e,t){let n,r=e.data;if("norm8x"===t){let e=tue.maxIntBits(8),t=(0,Jce.default)(new Float32Array(r.size),r.shape);$ce.muls(t,r,e),$ce.roundeq(t),n=(0,Jce.default)(new Uint8Array(t.data),r.shape)}else if("norm565"===t){let e=(0,Jce.default)(new Float32Array(r.size),r.shape);$ce.assign(e,r),$ce.mulseq(e.pick(null,0),tue.maxIntBits(5)),$ce.mulseq(e.pick(null,1),tue.maxIntBits(6)),$ce.mulseq(e.pick(null,2),tue.maxIntBits(5)),$ce.roundeq(e);let t=(0,Jce.default)(new Uint16Array(e.data),r.shape),i=(0,Jce.default)(new Uint16Array(r.shape[0]),[r.shape[0]]),a=(0,Jce.default)(new Uint16Array(r.shape[0]),[r.shape[0]]);$ce.lshifts(i,t.pick(null,0),11),$ce.lshifts(a,t.pick(null,1),5),$ce.boreq(i,a),$ce.boreq(i,t.pick(null,2)),n=i}else{let e=(0,Jce.default)(new Float32Array(r.size),r.shape);$ce.assign(e,r),$ce.mulseq(e.pick(null,0),tue.maxIntBits(11)),$ce.mulseq(e.pick(null,1),tue.maxIntBits(10)),$ce.mulseq(e.pick(null,2),tue.maxIntBits(11)),$ce.roundeq(e);let t=(0,Jce.default)(new Uint32Array(e.data),r.shape),i=(0,Jce.default)(new Uint32Array(r.shape[0]),[r.shape[0]]),a=(0,Jce.default)(new Uint32Array(r.shape[0]),[r.shape[0]]);$ce.lshifts(i,t.pick(null,0),21),$ce.lshifts(a,t.pick(null,1),11),$ce.boreq(i,a),$ce.boreq(i,t.pick(null,2)),n=i}return new tue(n,t)}dequantize(e,t){let n,r=this._method,i=this._quantized;if("norm8x"===r){let e=tue.maxIntBits(8);n=(0,Jce.default)(new Float32Array(i.size),i.shape),$ce.muls(n,i,1/e)}else if("norm565"===r){let e=(0,Jce.default)(new Uint8Array(i.shape[0]),[i.shape[0]]),t=(0,Jce.default)(new Uint8Array(i.shape[0]),[i.shape[0]]),r=(0,Jce.default)(new Uint8Array(i.shape[0]),[i.shape[0]]);$ce.rrshifts(e,i,11),$ce.rrshifts(t,i,5),$ce.bandseq(t,tue.maxIntBits(6)),$ce.bands(r,i,tue.maxIntBits(5)),n=(0,Jce.default)(new Float32Array(3*i.shape[0]),[i.shape[0],3]),$ce.muls(n.pick(null,0),e,1/tue.maxIntBits(5)),$ce.muls(n.pick(null,1),t,1/tue.maxIntBits(6)),$ce.muls(n.pick(null,2),r,1/tue.maxIntBits(5))}else{let e=(0,Jce.default)(new Uint16Array(i.shape[0]),[i.shape[0]]),t=(0,Jce.default)(new Uint16Array(i.shape[0]),[i.shape[0]]),r=(0,Jce.default)(new Uint16Array(i.shape[0]),[i.shape[0]]);$ce.rrshifts(e,i,21),$ce.rrshifts(t,i,11),$ce.bandseq(t,tue.maxIntBits(10)),$ce.bands(r,i,tue.maxIntBits(11)),n=(0,Jce.default)(new Float32Array(3*i.shape[0]),[i.shape[0],3]),$ce.muls(n.pick(null,0),e,1/tue.maxIntBits(11)),$ce.muls(n.pick(null,1),t,1/tue.maxIntBits(10)),$ce.muls(n.pick(null,2),r,1/tue.maxIntBits(11))}return new eue(n,e,t)}},nue=class{constructor(e,t,n,r,i,a=!1){this._quantized=e,this._minMaxMatrix=t,this._chunkSize=n,this._quantizationMethod=r,this._variableChunkSize=i,this._isDynamicChunks=a}get length(){return this._quantized.shape[0]}get nchunks(){return this._minMaxMatrix.shape[0]}get quantized(){return this._quantized}get method(){return this._quantizationMethod}get minmaxMatrix(){return this._minMaxMatrix}_createPrunedMinMax(e){let t=e.length,n=this.minmaxMatrix.shape[0]-t,r=(0,Kce.default)(new Float32Array(2*n),[n,2]),i=0,a=n,o=0,s=this.minmaxMatrix.shape[0];for(let t=0;t<e.length;t++)s=e[t],a=s-o+i,a>i&&Zce.assign(r.hi(a,2).lo(i,0),this.minmaxMatrix.hi(s,2).lo(o,0)),i=a,o=s+1;return i<n&&Zce.assign(r.lo(i,0),this.minmaxMatrix.lo(o,0)),r}_createPrunedQuantized(e){let t,n,r=e.length,i=this.quantized.shape[0]-r,a=this._quantizationMethod;if("norm8x"===a){n=this._quantized.shape[1];let e=n?i*n:i;t=(0,Kce.default)(new Uint8Array(e),n?[i,n]:[i,1])}else t="norm565"===a?(0,Kce.default)(new Uint16Array(i),[i]):(0,Kce.default)(new Uint32Array(i),[i]);let o=0,s=i,l=0,c=t.shape[0];for(let r=0;r<e.length;r++)c=e[r],s=c-l+o,s>o&&(n?Zce.assign(t.hi(s,n).lo(o,0),this._quantized.hi(c,n).lo(l,0)):Zce.assign(t.hi(s).lo(o),this._quantized.hi(c).lo(l))),o=s,l=c+1;return o<i&&(n?Zce.assign(t.lo(o,0),this._quantized.lo(l,0)):Zce.assign(t.lo(o),this._quantized.lo(l))),t}pruneFeature(e,t,n){let r=this._createPrunedQuantized(e),i=this._createPrunedMinMax(t);return new nue(r,i,this._chunkSize,this._quantizationMethod,n,!0)}static getRequiredNChunks(e,t){return Math.floor(e/t)}static fromArray(e,t,n){let r,i=e.shape[0],a=Math.floor(i/n),o=(0,Kce.default)(new Float32Array(2*a),[a,2],[2,1]);r="norm8x"===t?(0,Kce.default)(new Uint8Array(e.size),e.shape):"norm565"===t?(0,Kce.default)(new Uint16Array(e.shape[0]),[e.shape[0]]):(0,Kce.default)(new Uint32Array(e.shape[0]),[e.shape[0]]);for(let s=0;s<a;s++){let l,c=s*n,u=s+1<a?(s+1)*n:i;l=e.shape.length>1?eue.createFromUnnormalized(e.hi(u,e.shape[1]).lo(c,0)):eue.createFromUnnormalized(e.hi(u).lo(c)),o.set(s,0,l.minD),o.set(s,1,l.maxD),r.shape.length>1?Zce.assign(r.hi(u,r.shape[1]).lo(c,0),tue.fromNormalized(l,t).quantized):Zce.assign(r.hi(u).lo(c),tue.fromNormalized(l,t).quantized)}return new nue(r,o,n,t)}denormDequant(){let e,t,n=this._minMaxMatrix.shape[0],r=this._quantized,i=r.shape[0],a=this._quantizationMethod,o=this._chunkSize;if(this._isDynamicChunks){if(!this._variableChunkSize)throw new Error("variable chunk must exists if chunkSize isDynamic");e=this._variableChunkSize}t="norm8x"===a?(0,Kce.default)(new Float32Array(r.size),r.shape):(0,Kce.default)(new Float32Array(3*i),[i,3]);let s=0,l=o;for(let o=0;o<n;o++){let[c,u]=[this._minMaxMatrix.get(o,0),this._minMaxMatrix.get(o,1)];this._isDynamicChunks&&(l=e[o]);let h,d=o+1<n?s+l:i;h=r.shape.length>1?new tue(r.hi(d,r.shape[1]).lo(s,0),a):new tue(r.hi(d).lo(s),a),Zce.assign(t.hi(d,t.shape[1]).lo(s,0),h.dequantize(c,u).denormalize()),s=d}return t}static async fetchArrayBuffer(e){return await(await fetch(e,{mode:"cors"})).arrayBuffer()}},rue=xF(OF()),iue=xF(zF()),aue=xF(OF()),oue=xF(zF()),sue=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function lue(e){return e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9}function cue(e,t){if(e===t)return 0;if(~~e===e&&~~t===t){if(0===e||0===t)return e<t?-1:1;if(e<0||t<0){if(t>=0)return-1;if(e>=0)return 1;e=-e,t=-t}let n=lue(e),r=lue(t),i=0;return n<r?(e*=sue[r-n-1],t/=10,i=-1):n>r&&(t*=sue[n-r-1],e/=10,i=1),e===t?i:e<t?-1:1}let n=String(e),r=String(t);return n===r?0:n<r?-1:1}function uue(e,t,n,r){let i=t+1;if(i===n)return 1;if(r(e[i++],e[t])<0){for(;i<n&&r(e[i],e[i-1])<0;)i++;!function(e,t,n){for(n--;t<n;){let r=e[t];e[t++]=e[n],e[n--]=r}}(e,t,i)}else for(;i<n&&r(e[i],e[i-1])>=0;)i++;return i-t}function hue(e,t,n,r,i){for(r===t&&r++;r<n;r++){let n=e[r],a=t,o=r;for(;a<o;){let t=a+o>>>1;i(n,e[t])<0?o=t:a=t+1}let s=r-a;switch(s){case 3:e[a+3]=e[a+2];case 2:e[a+2]=e[a+1];case 1:e[a+1]=e[a];break;default:for(;s>0;)e[a+s]=e[a+s-1],s--}e[a]=n}}function due(e,t,n,r,i,a){let o=0,s=0,l=1;if(a(e,t[n+i])>0){for(s=r-i;l<s&&a(e,t[n+i+l])>0;)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;l<s&&a(e,t[n+i-l])<=0;)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s);let r=o;o=i-l,l=i-r}for(o++;o<l;){let r=o+(l-o>>>1);a(e,t[n+r])>0?o=r+1:l=r}return l}function fue(e,t,n,r,i,a){let o=0,s=0,l=1;if(a(e,t[n+i])<0){for(s=i+1;l<s&&a(e,t[n+i-l])<0;)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s);let r=o;o=i-l,l=i-r}else{for(s=r-i;l<s&&a(e,t[n+i+l])>=0;)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;o<l;){let r=o+(l-o>>>1);a(e,t[n+r])<0?l=r:o=r+1}return l}function pue(e){let t=(0,aue.default)(new Int32Array(e.shape[0]),[e.shape[0]]),n=(0,aue.default)(new Int32Array(e.shape[0]),[e.shape[0]]);return oue.bands(t,e,1023),oue.lshifts(n,t,16),oue.bxoreq(t,n),oue.bandseq(t,4278190335),oue.lshifts(n,t,8),oue.bxoreq(t,n),oue.bandseq(t,50393103),oue.lshifts(n,t,4),oue.bxoreq(t,n),oue.bandseq(t,51130563),oue.lshifts(n,t,2),oue.bxoreq(t,n),oue.bandseq(t,153391689),t}function mue(e,t){if(e.shape[0]!==t.shape[0])throw new Error("wrong length");let n=(0,aue.default)(new Float32Array(e.size),e.shape,e.stride,e.offset);for(let r=0;r<t.shape[0];r++){let i=t.get(r);if(e.shape.length>1)for(let t=0;t<e.shape[1];t++)n.set(r,t,e.get(i,t));else n.set(r,e.get(i))}return n}function gue(e){let t=oue.sup(e),n=oue.inf(e),r=1e3/Math.min(1e3,t-n),i=(0,aue.default)(new Float32Array(e.data),e.shape);oue.mulseq(i,r);let a=function(e){let t=pue(e.pick(null,0)),n=pue(e.pick(null,1));oue.lshiftseq(n,1);let r=pue(e.pick(null,2));return oue.lshiftseq(r,2),oue.boreq(t,n),oue.boreq(t,r),t}((0,aue.default)(new Int32Array(i.data),e.shape)),o=Array.from(a.data).map(((e,t)=>[e,t]));!function(e,t,n,r){if(!Array.isArray(e))throw new TypeError("Can only sort arrays");t?"function"!=typeof t&&(r=n,n=t,t=cue):t=cue,n||(n=0),r||(r=e.length);let i=r-n;if(i<2)return;let a=0;if(i<32)return a=uue(e,n,r,t),void hue(e,n,r,n+a,t);let o=new class{constructor(e,t){_F(this,"array",null),_F(this,"compare",null),_F(this,"minGallop",7),_F(this,"length",0),_F(this,"tmpStorageLength",256),_F(this,"stackLength",0),_F(this,"runStart",null),_F(this,"runLength",null),_F(this,"stackSize",0),this.array=e,this.compare=t,this.length=e.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}pushRun(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let t=this.compare,n=this.array,r=this.runStart[e],i=this.runLength[e],a=this.runStart[e+1],o=this.runLength[e+1];this.runLength[e]=i+o,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let s=fue(n[a],n,r,i,0,t);r+=s,i-=s,0!==i&&(o=due(n[r+i-1],n,a,o,o-1,t),0!==o&&(i<=o?this.mergeLow(r,i,a,o):this.mergeHigh(r,i,a,o)))}mergeLow(e,t,n,r){let i=this.compare,a=this.array,o=this.tmp,s=0;for(s=0;s<t;s++)o[s]=a[e+s];let l=0,c=n,u=e;if(a[u++]=a[c++],0==--r){for(s=0;s<t;s++)a[u+s]=o[l+s];return}if(1===t){for(s=0;s<r;s++)a[u+s]=a[c+s];return void(a[u+r]=o[l])}let h=this.minGallop;for(;;){let e=0,n=0,d=!1;do{if(i(a[c],o[l])<0){if(a[u++]=a[c++],n++,e=0,0==--r){d=!0;break}}else if(a[u++]=o[l++],e++,n=0,1==--t){d=!0;break}}while((e|n)<h);if(d)break;do{if(e=fue(a[c],o,l,t,0,i),0!==e){for(s=0;s<e;s++)a[u+s]=o[l+s];if(u+=e,l+=e,(t-=e)<=1){d=!0;break}}if(a[u++]=a[c++],0==--r){d=!0;break}if(n=due(o[l],a,c,r,0,i),0!==n){for(s=0;s<n;s++)a[u+s]=a[c+s];if(u+=n,c+=n,0==(r-=n)){d=!0;break}}if(a[u++]=o[l++],1==--t){d=!0;break}h--}while(e>=7||n>=7);if(d)break;h<0&&(h=0),h+=2}if(this.minGallop=h,h<1&&(this.minGallop=1),1===t){for(s=0;s<r;s++)a[u+s]=a[c+s];a[u+r]=o[l]}else{if(0===t)throw new Error("mergeLow preconditions were not respected");for(s=0;s<t;s++)a[u+s]=o[l+s]}}mergeHigh(e,t,n,r){let i=this.compare,a=this.array,o=this.tmp,s=0;for(s=0;s<r;s++)o[s]=a[n+s];let l=e+t-1,c=r-1,u=n+r-1,h=0,d=0;if(a[u--]=a[l--],0==--t){for(h=u-(r-1),s=0;s<r;s++)a[h+s]=o[s];return}if(1===r){for(u-=t,l-=t,d=u+1,h=l+1,s=t-1;s>=0;s--)a[d+s]=a[h+s];return void(a[u]=o[c])}let f=this.minGallop;for(;;){let n=0,p=0,m=!1;do{if(i(o[c],a[l])<0){if(a[u--]=a[l--],n++,p=0,0==--t){m=!0;break}}else if(a[u--]=o[c--],p++,n=0,1==--r){m=!0;break}}while((n|p)<f);if(m)break;do{if(n=t-fue(o[c],a,e,t,t-1,i),0!==n){for(u-=n,l-=n,t-=n,d=u+1,h=l+1,s=n-1;s>=0;s--)a[d+s]=a[h+s];if(0===t){m=!0;break}}if(a[u--]=o[c--],1==--r){m=!0;break}if(p=r-due(a[l],o,0,r,r-1,i),0!==p){for(u-=p,c-=p,r-=p,d=u+1,h=c+1,s=0;s<p;s++)a[d+s]=o[h+s];if(r<=1){m=!0;break}}if(a[u--]=a[l--],0==--t){m=!0;break}f--}while(n>=7||p>=7);if(m)break;f<0&&(f=0),f+=2}if(this.minGallop=f,f<1&&(this.minGallop=1),1===r){for(u-=t,l-=t,d=u+1,h=l+1,s=t-1;s>=0;s--)a[d+s]=a[h+s];a[u]=o[c]}else{if(0===r)throw new Error("mergeHigh preconditions were not respected");for(h=u-(r-1),s=0;s<r;s++)a[h+s]=o[s]}}}(e,t),s=function(e){let t=0;for(;e>=32;)t|=1&e,e>>=1;return e+t}(i);do{if(a=uue(e,n,r,t),a<s){let r=i;r>s&&(r=s),hue(e,n,n+r,n+a,t),a=r}o.pushRun(n,a),o.mergeRuns(),i-=a,n+=a}while(0!==i);o.forceMergeRuns()}(o,((e,t)=>e[0]-t[0]));let s=o.map((([e,t])=>t));return(0,aue.default)(Uint32Array.from(s))}var vue=class{constructor(e,t,n,r,i,a,o,s,l,c){this.propertyDescs=e,this.format=t,this.nsplats=n,this.xyz=r,this.colors=i,this.harmonics=a,this.opacity=o,this.scaling=s,this.rotation=l,this.maxSHDegree=c}getPlyBinary(){let e=vue._generateHeaderString(this.propertyDescs,this.format,this.nsplats),t=(new TextEncoder).encode(e),n=Object.keys(this.propertyDescs).length,r=(0,rue.default)(new Float32Array(this.nsplats*n),[this.nsplats,n]);if(iue.assign(r.pick(null,this.propertyDescs.x.index),this.xyz.pick(null,0)),iue.assign(r.pick(null,this.propertyDescs.y.index),this.xyz.pick(null,1)),iue.assign(r.pick(null,this.propertyDescs.z.index),this.xyz.pick(null,2)),iue.assign(r.pick(null,this.propertyDescs.f_dc_0.index),this.colors.pick(null,0)),iue.assign(r.pick(null,this.propertyDescs.f_dc_1.index),this.colors.pick(null,1)),iue.assign(r.pick(null,this.propertyDescs.f_dc_2.index),this.colors.pick(null,2)),iue.assign(r.pick(null,this.propertyDescs.opacity.index),this.opacity.pick(null,0)),iue.assign(r.pick(null,this.propertyDescs.scale_0.index),this.scaling.pick(null,0)),iue.assign(r.pick(null,this.propertyDescs.scale_1.index),this.scaling.pick(null,1)),iue.assign(r.pick(null,this.propertyDescs.scale_2.index),this.scaling.pick(null,2)),iue.assign(r.pick(null,this.propertyDescs.rot_0.index),this.rotation.pick(null,0)),iue.assign(r.pick(null,this.propertyDescs.rot_1.index),this.rotation.pick(null,1)),iue.assign(r.pick(null,this.propertyDescs.rot_2.index),this.rotation.pick(null,2)),iue.assign(r.pick(null,this.propertyDescs.rot_3.index),this.rotation.pick(null,3)),this.harmonics&&this.harmonics.length>0)for(let e=0;e<this.harmonics.length;e++){let t=3*e;iue.assign(r.pick(null,this.propertyDescs[`f_rest_${t}`].index),this.harmonics[e].pick(null,0)),iue.assign(r.pick(null,this.propertyDescs[`f_rest_${t+1}`].index),this.harmonics[e].pick(null,1)),iue.assign(r.pick(null,this.propertyDescs[`f_rest_${t+2}`].index),this.harmonics[e].pick(null,2))}let i=new Uint8Array(r.data.buffer),a=new Uint8Array(i.length+t.length);return a.set(t),a.set(i,t.length),a.buffer}save(e,t){let n=this.getPlyBinary(),r=new Blob([n],{type:"application/octet-stream"}),i=new File([r],e),a=new FormData;a.append("file",i),a.append("filename",e),a.append("basedir",t),fetch("http://127.0.0.1:8000/push_file",{method:"POST",body:a})}static async loadFile(e){return await(await fetch(e)).arrayBuffer()}mortonPositionSplatsSort(){let e=gue(this.xyz),t=mue(this.xyz,e),n=mue(this.colors,e),r=mue(this.opacity,e),i=mue(this.scaling,e),a=mue(this.rotation,e),o=[];for(let t=0;t<this.harmonics.length;t++)o.push(mue(this.harmonics[t],e));return new vue(this.propertyDescs,this.format,this.nsplats,t,n,o,r,i,a,this.maxSHDegree)}static _generateHeaderString(e,t,n){let r=`ply\nformat ${t.format} ${t.version}\nelement vertex ${n}`,i=Object.keys(e).length,a=Array(i);for(let t in e){let n=e[t];a[n.index]={name:t,dtype:n.dtype}}for(let e=0;e<a.length;e++)r=`${r}\nproperty ${a[e].dtype} ${a[e].name}`;return`${r}\nend_header\n`}static fromArrayBuffer(e,t=3){let{splatCount:n,vertexData:r,propertiesDesc:i,format:a}=vue.decodeHeader(e),o=r.buffer.slice(r.byteOffset),s=Object.keys(i).length,l=(0,rue.default)(new Float32Array(o),[n,s]),c=0,u={},h={double:8,int:4,uint:4,float:4,short:2,ushort:2,uchar:1};for(let e in i)if(i.hasOwnProperty(e)){let t=i[e].dtype;u[e]=c,c+=h[t]}let d=(0,rue.default)(new Float32Array(3*n),[n,3]);iue.assign(d.pick(null,0),l.pick(null,u.x/4)),iue.assign(d.pick(null,1),l.pick(null,u.y/4)),iue.assign(d.pick(null,2),l.pick(null,u.z/4));let f=(0,rue.default)(new Float32Array(3*n),[n,3]);iue.assign(f.pick(null,0),l.pick(null,u.scale_0/4)),iue.assign(f.pick(null,1),l.pick(null,u.scale_1/4)),iue.assign(f.pick(null,2),l.pick(null,u.scale_2/4));let p=(0,rue.default)(new Float32Array(3*n),[n,3]);iue.assign(p.pick(null,0),l.pick(null,u.f_dc_0/4)),iue.assign(p.pick(null,1),l.pick(null,u.f_dc_1/4)),iue.assign(p.pick(null,2),l.pick(null,u.f_dc_2/4));let m=(0,rue.default)(new Float32Array(4*n),[n,4]);iue.assign(m.pick(null,0),l.pick(null,u.rot_1/4)),iue.assign(m.pick(null,1),l.pick(null,u.rot_2/4)),iue.assign(m.pick(null,2),l.pick(null,u.rot_3/4)),iue.assign(m.pick(null,3),l.pick(null,u.rot_0/4));for(let e=0;e<n;e++){let t=m.pick(e,null),n=Math.sqrt(t.get(0)**2+t.get(1)**2+t.get(2)**2+t.get(3)**2);iue.divseq(t,n)}let g=(0,rue.default)(new Float32Array(1*n),[n,1]);iue.assign(g.pick(null,0),l.pick(null,u.opacity/4));let v=(Math.min(Math.max(t,0),3)+1)**2-1,y=[];for(let e=0;e<v;e++){let t=(0,rue.default)(new Float32Array(3*n),[n,3]),r=3*e;iue.assign(t.pick(null,0),l.pick(null,u[`f_rest_${r}`]/4)),iue.assign(t.pick(null,1),l.pick(null,u[`f_rest_${r+1}`]/4)),iue.assign(t.pick(null,2),l.pick(null,u[`f_rest_${r+2}`]/4)),y.push(t)}return new vue(i,a,n,d,p,y,g,f,m,t)}static async fromPLYFile(e,t=3){let n=await vue.loadFile(e);return vue.fromArrayBuffer(n,t)}static decodeHeader(e){let t=new TextDecoder,n=0,r="",i=100;for(;;){if(n+i>=e.byteLength)throw new Error("End of file reached while searching for end of header");let a=new Uint8Array(e,n,i);r+=t.decode(a),n+=i;let o=n-200,s=new Uint8Array(e,Math.max(0,o),o>0?200:i);if(t.decode(s).includes("end_header"))break}let a,o=r.split("\n"),s=0,l={},c={},u=0;for(let e=0;e<o.length;e++){let t=o[e].trim();if(t.startsWith("element vertex")){let e=t.match(/\d+/);e&&(s=parseInt(e[0]))}else if(t.startsWith("property")){let e=t.match(/(\w+)\s+(\w+)\s+(\w+)/);if(e){let t=e[2],n=e[3];l[n]=u,c[n]={dtype:t,index:u},u++}}else if(t.startsWith("format")){let e=t.match(/(\w+)\s+(\w+)\s+(\d+\.?\d*)/);e&&(a={format:e[2],version:e[3]})}else if("end_header"===t)break}let h=r.indexOf("end_header")+10+1;return{splatCount:s,vertexData:new DataView(e,h),headerOffset:n,propertiesDesc:c,format:a}}},yue=class{constructor(e,t,n,r,i,a,o,s){this.config=e,this.xyz=t,this.scaling=n,this.color=r,this.opacity=i,this.harmonics=o,this.quaternion=a,this.variableChunkSize=s}get isDynamicChunks(){return this.variableChunkSize&&this.variableChunkSize.length>0}get nchunks(){return this.xyz.nchunks}get nsplats(){return this.xyz.length}get chunkSize(){return this.config.chunkSize}static compressFromGaussianData(e,t){let n=nue.fromArray(e.xyz,t.xyz,t.chunkSize),r=nue.fromArray(e.scaling,t.scaling,t.chunkSize),i=nue.fromArray(e.colors,t.color,t.chunkSize),a=nue.fromArray(e.opacity,t.opacity,t.chunkSize),o=nue.fromArray(e.rotation,t.quaternion,t.chunkSize),s=e.harmonics,l=[];if(t.harmonics)for(let e=0;e<s.length;e++){let n=nue.fromArray(s[e],t.harmonics,t.chunkSize);l.push(n)}return new yue(t,n,r,i,a,o,l)}_countIndexesInChunks(e){let t=[],n=this.nchunks,r=this.chunkSize,i=this.nsplats;if(n===nue.getRequiredNChunks(i,r))for(let n=0;n<e.length;n++){let r=e[n],i=Math.floor(r/this.chunkSize);i in t?t[i].push(r):t[i]=[r]}else{let i=this.variableChunkSize,a={},o=0;for(let e=0;e<n;e++)a[e]=o,o+=i[e];for(let o=0;o<e.length;o++){let s=e[o],l=Math.min(Math.floor(s/r),n-1);for(;s>=a[l]+i[l];)l++;l in t?t[l].push(s):t[l]=[s]}}return t}pruneSplats(e){let t,n=this._countIndexesInChunks(e),r=[];return n.length>0&&(t=this.variableChunkSize?[...this.variableChunkSize]:Array(this.nchunks).fill(this.chunkSize),n.forEach(((e,n)=>{t[n]-=e.length,t[n]<=0&&r.push(n)})),t=t.filter((e=>e>0))),new yue(this.config,this.xyz.pruneFeature(e,r,t),this.scaling.pruneFeature(e,r,t),this.color.pruneFeature(e,r,t),this.opacity.pruneFeature(e,r,t),this.quaternion.pruneFeature(e,r,t),this.harmonics?this.harmonics.map((t=>t.pruneFeature(e,r,this.variableChunkSize))):void 0,t)}static async loadConfig(e){return await(await fetch(e,{method:"GET",mode:"cors",headers:{Accept:"application/json"}})).json()}toGaussians(){let e={},t=0;if(e.x={dtype:"float",index:t},t++,e.y={dtype:"float",index:t},t++,e.z={dtype:"float",index:t},t++,e.f_dc_0={dtype:"float",index:t},t++,e.f_dc_1={dtype:"float",index:t},t++,e.f_dc_2={dtype:"float",index:t},t++,this.harmonics&&this.harmonics.length>0)for(let n=0;n<this.harmonics.length;n++)e[`f_rest_${n}`]={dtype:"float",index:t},t++,e[`f_rest_${n+1}`]={dtype:"float",index:t},t++,e[`f_rest_${n+2}`]={dtype:"float",index:t},t++;e.opacity={dtype:"float",index:t},t++,e.scale_0={dtype:"float",index:t},t++,e.scale_1={dtype:"float",index:t},t++,e.scale_2={dtype:"float",index:t},t++,e.rot_0={dtype:"float",index:t},t++,e.rot_1={dtype:"float",index:t},t++,e.rot_2={dtype:"float",index:t},t++,e.rot_3={dtype:"float",index:t},t++;let n=this.harmonics?.map((e=>e.denormDequant()));return new vue(e,{format:"binary_little_endian",version:"1.0"},this.xyz.length,this.xyz.denormDequant(),this.color.denormDequant(),n||[],this.opacity.denormDequant(),this.scaling.denormDequant(),this.quaternion.denormDequant(),3)}},wue=xF(OF()),bue=xF(zF()),xue={xyz:3,color:3,opacity:1,scaling:3,quaternion:4,harmonics:3},_ue=class{constructor(e){this._buffer=e}get buffer(){return this._buffer}get decoded(){return this._decoded||(this._decoded=this.decodeBuffer()),this._decoded}get colorsA(){let e=this.decoded.color.denormDequant(),t=this.decoded.opacity.denormDequant(),n=(0,wue.default)(new Float32Array(4*e.shape[0]),[e.shape[0],4]);return bue.mulseq(e,.28209479177387814),bue.addseq(e,.5),bue.mulseq(e,255),bue.maxseq(e,0),bue.minseq(e,255),bue.negeq(t),bue.expeq(t),bue.addseq(t,1),bue.recipeq(t),bue.mulseq(t,255),bue.assign(n.hi(e.shape[0],3).lo(0,0),e),bue.assign(n.hi(e.shape[0],4).lo(0,3),t),(0,wue.default)(new Uint8Array(n.data),[e.shape[0],4]).data}get nsplats(){return this.decoded.nsplats}getSplatCount(){return this.decoded.nsplats}get precomputedCovarianceBufferData(){return this._precomputedCovarianceBufferData}decodeBuffer(){let{splatCount:e,chunkCount:t,chunkSize:n,typeChunks:r,vertexData:i,propertiesDesc:a}=this.decodeHeader(),o={xyz:a.xyz.compressionMethod,color:a.color.compressionMethod,opacity:a.opacity.compressionMethod,scaling:a.scaling.compressionMethod,quaternion:a.quaternion.compressionMethod,chunkSize:n};a.harmonics_0&&(o.harmonics=a.harmonics_0.compressionMethod);let s=i.byteOffset,l=Array(Object.keys(a).length);for(let e in a)l[a[e].index]={name:e,method:a[e].compressionMethod};let c,u=2*t*4,h=s,d="dynamic"===r?2*t:0,f=!1;if(d>0){let e=new Uint16Array(i.buffer.slice(h,h+d));h+=d,c=Array.from(e),f=!0}let p={};for(let r of l){let a,o=0,s=!0;if("norm8x"===r.method)o=1*e*xue[r.name];else if("norm11"===r.method)o=4*e;else{if("norm565"!==r.method)throw s=!1,new Error(`Not Implemented format: ${r.method}`);o=2*e}if(!s)throw new Error("loading chunk byt hasnot minmax!");{let e=i.buffer.slice(h,h+u);a=(0,wue.default)(new Float32Array(e),[t,2]),h+=u}let l,d=i.buffer.slice(h,h+o);if(h+=o,"norm8x"===r.method)l=(0,wue.default)(new Uint8Array(d),[e,xue[r.name]]);else if("norm11"===r.method)l=(0,wue.default)(new Uint32Array(d));else{if("norm565"!==r.method)throw new Error(`Not Implemented format: ${r.method}`);l=(0,wue.default)(new Uint16Array(d))}p[r.name]=new nue(l,a,n,r.method,c,f)}let m=[];for(let e=0;e<15;e++){let t=p[`harmonics_${e}`];t&&(m.push(t),delete p[`harmonics_${e}`])}return m.length>0&&(p.harmonics=m),new yue(o,p.xyz,p.scaling,p.color,p.opacity,p.quaternion,p.harmonics,c)}buildPreComputedBuffers(){let e=this.decoded,t=e.nsplats,n=new ArrayBuffer(24*t),r=new Float32Array(n),i=e.scaling.denormDequant(),a=e.quaternion.denormDequant(),o=new eH,s=new TV,l=new TV,c=new TV,u=new kH;for(let e=0;e<t;e++){u.makeScale(Math.exp(i.get(e,0)),Math.exp(i.get(e,1)),Math.exp(i.get(e,2))),l.setFromMatrix4(u),o.set(a.get(e,0),a.get(e,1),a.get(e,2),a.get(e,3)),u.makeRotationFromQuaternion(o),s.setFromMatrix4(u),c.copy(s).multiply(l);let t=c.elements;r[6*e]=t[0]*t[0]+t[3]*t[3]+t[6]*t[6],r[6*e+1]=t[0]*t[1]+t[3]*t[4]+t[6]*t[7],r[6*e+2]=t[0]*t[2]+t[3]*t[5]+t[6]*t[8],r[6*e+3]=t[1]*t[1]+t[4]*t[4]+t[7]*t[7],r[6*e+4]=t[1]*t[2]+t[4]*t[5]+t[7]*t[8],r[6*e+5]=t[2]*t[2]+t[5]*t[5]+t[8]*t[8]}this._precomputedCovarianceBufferData=n}decodeHeader(){let e=this._buffer,t=new TextDecoder,n=0,r="",i=100;for(;;){if(n+i>=e.byteLength)throw new Error("End of file reached while searching for end of header");let a=new Uint8Array(e,n,i);r+=t.decode(a),n+=i;let o=n-200,s=new Uint8Array(e,Math.max(0,o),o>=0?200:i);if(t.decode(s).includes("end_header"))break}let a=r.split("\n"),o=0,s=0,l=0,c=0,u="",h={};for(let e=0;e<a.length;e++){let t=a[e].trim();if(t.startsWith("element vertex")){let e=t.match(/\d+/);e&&(o=parseInt(e[0]))}else if(t.startsWith("property")){let e=t.match(/(\w+)\s+(\w+)\s+(\w+)/);if(e){let t=e[2],n=e[3];h[t]={compressionMethod:n,index:c},c++}}else if(t.startsWith("element chunks")){let e=t.match(/\d+/);e&&(s=parseInt(e[0]))}else if(t.startsWith("element chunkSize")){let e=t.match(/\d+/);e&&(l=parseInt(e[0]))}else if(t.startsWith("element typeChunks")){let e=t.match(/(\w+)\s+(\w+)\s+(\w+)/);e&&(u=e[3])}else if("end_header"===t)break}let d=r.indexOf("end_header")+10+1;return{splatCount:o,chunkCount:s,chunkSize:l,typeChunks:u,vertexData:new DataView(e,d),propertiesDesc:h}}pruneSplats(e){let t=this.decodeBuffer().pruneSplats(e);return _ue.fromCompressedGaussianSplats(t)}static fromCompressedGaussianSplats(e){let t=e.xyz.length,n=e.xyz.nchunks,r=`gspline\nelement vertex ${t}\nelement chunks ${n}\nelement chunkSize ${e.chunkSize}\nelement typeChunks ${e.isDynamicChunks?"dynamic":"static"}\nproperty xyz ${e.xyz.method}\nproperty color ${e.color.method}\nproperty opacity ${e.opacity.method}\nproperty scaling ${e.scaling.method}\nproperty quaternion ${e.quaternion.method}`;if(e.harmonics&&e.harmonics.length>0)for(let t=0;t<e.harmonics.length;t++)r=`${r}\nproperty harmonics_${t} ${e.harmonics[t].method}`;r=`${r}\nend_header\n`;let i=(new TextEncoder).encode(r),a=2*n*4,o=e.xyz.quantized.data.buffer.byteLength,s=e.xyz instanceof nue?a:0,l=e.color.quantized.data.buffer.byteLength,c=e.color instanceof nue?a:0,u=e.opacity.quantized.data.buffer.byteLength,h=e.opacity instanceof nue?a:0,d=e.scaling.quantized.data.buffer.byteLength,f=e.scaling instanceof nue?a:0,p=e.quaternion.quantized.data.buffer.byteLength,m=e.quaternion instanceof nue?a:0,g=e.variableChunkSize?Uint16Array.from(e.variableChunkSize):void 0,v=g?g.byteLength:0,y=i.byteLength+v+o+s+l+c+u+h+d+f+p+m,w=0,b=0;if(e.harmonics&&e.harmonics.length>0)for(let t=0;t<e.harmonics.length;t++)w+=e.harmonics[t].quantized.data.buffer.byteLength,b+=e.harmonics[t]instanceof nue?a:0;w=0,b=0,y+=w+b;let x=new Uint8Array(y),_=0;if(x.set(i,_),_+=i.byteLength,v>0&&(x.set(new Uint8Array(g.buffer),_),_+=v),e.xyz instanceof nue&&(x.set(new Uint8Array(e.xyz.minmaxMatrix.data.buffer),_),_+=a),x.set(new Uint8Array(e.xyz.quantized.data.buffer),_),_+=o,e.color instanceof nue&&(x.set(new Uint8Array(e.color.minmaxMatrix.data.buffer),_),_+=a),x.set(new Uint8Array(e.color.quantized.data.buffer),_),_+=l,e.opacity instanceof nue&&(x.set(new Uint8Array(e.opacity.minmaxMatrix.data.buffer),_),_+=a),x.set(new Uint8Array(e.opacity.quantized.data.buffer),_),_+=u,e.scaling instanceof nue&&(x.set(new Uint8Array(e.scaling.minmaxMatrix.data.buffer),_),_+=a),x.set(new Uint8Array(e.scaling.quantized.data.buffer),_),_+=d,e.quaternion instanceof nue&&(x.set(new Uint8Array(e.quaternion.minmaxMatrix.data.buffer),_),_+=a),x.set(new Uint8Array(e.quaternion.quantized.data.buffer),_),_+=p,w>0&&e.harmonics&&e.harmonics.length>0)for(let t=0;t<e.harmonics.length;t++){let n=e.harmonics[t];n instanceof nue&&(x.set(new Uint8Array(n.minmaxMatrix.data.buffer),_),_+=a),x.set(new Uint8Array(n.quantized.data.buffer),_),_+=n.quantized.data.byteLength}return new _ue(x.buffer)}},Sue=class{};function Eue(e){let t,n,r,i,a,o,s,l,c,u,h,d,f,p,m,g;function v(e,t,o){let s=new Float32Array(u,a,3*n);r=0;let l=new Uint32Array(u,i,n);for(let n=0;n<o.length-1;n++){let i=t[n],a=e[n].elements,c=i.filter((e=>e.enabled&&"Include"===e.mode)).map((e=>"Box"===e.type?w(e):x(e))),u=i.filter((e=>e.enabled&&"Exclude"===e.mode)).map((e=>"Box"===e.type?w(e):x(e)));for(let e=o[n];e<o[n+1];e++){let t=f[3*e],n=f[3*e+1],i=f[3*e+2];if((0===c.length||y(t,n,i,c))&&(0===u.length||!y(t,n,i,u))){let o=1/(a[3]*t+a[7]*n+a[11]*i+a[15]);s[3*r]=(a[0]*t+a[4]*n+a[8]*i+a[12])*o,s[3*r+1]=(a[1]*t+a[5]*n+a[9]*i+a[13])*o,s[3*r+2]=(a[2]*t+a[6]*n+a[10]*i+a[14])*o,l[r]=e,r++}}}}function y(e,t,n,r,i){return r["Intersect"===i?"every":"some"]((r=>{let i=function(e,t,n,r,i){let a=e-i[0],o=t-i[1],s=n-i[2],l=1/(r[3]*a+r[7]*o+r[11]*s+r[15]);return{x:(r[0]*a+r[4]*o+r[8]*s+r[12])*l+i[0],y:(r[1]*a+r[5]*o+r[9]*s+r[13])*l+i[1],z:(r[2]*a+r[6]*o+r[10]*s+r[14])*l+i[2]}}(e,t,n,r.invRotationMatrix,r.cropCenter);return Array.isArray(r)?function(e,t,n,r){return e>=r[0]&&e<=r[3]&&t>=r[1]&&t<=r[4]&&n>=r[2]&&n<=r[5]}(i.x,i.y,i.z,r):function(e,t,n,r){let i=(e-r.cropCenter[0])*r.invRadiusX,a=(t-r.cropCenter[1])*r.invRadiusY,o=(n-r.cropCenter[2])*r.invRadiusZ;return i*i+a*a+o*o<=1}(i.x,i.y,i.z,r)}))}function w(e){let t=e.cropSize[0]/2,n=e.cropSize[1]/2,r=e.cropSize[2]/2,i=[e.cropCenter[0]-t,e.cropCenter[1]-n,e.cropCenter[2]-r,e.cropCenter[0]+t,e.cropCenter[1]+n,e.cropCenter[2]+r],a=b(e.cropRotation);return Object.assign(i,{invRotationMatrix:a,cropCenter:e.cropCenter})}function b(e){let t=[],n=e[0]*Math.PI/180,r=e[1]*Math.PI/180,i=e[2]*Math.PI/180,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i),h=a*c,d=a*u,f=o*c,p=o*u;return t[0]=s*c,t[1]=-s*u,t[2]=l,t[4]=d+f*l,t[5]=h-p*l,t[6]=-o*s,t[8]=p-h*l,t[9]=f+d*l,t[10]=a*s,t[12]=0,t[13]=0,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,t}function x(e){let t=2/e.cropSize[0],n=2/e.cropSize[1],r=2/e.cropSize[2],i=b(e.cropRotation);return{invRadiusX:t,invRadiusY:n,invRadiusZ:r,cropCenter:e.cropCenter,invRotationMatrix:i}}e.onmessage=b=>{if(b.data.getCroppedIndexes){let t=new Uint32Array(function(e,t){let n=[],r=t.filter((e=>e.enabled&&"Include"===e.mode)).map((e=>"Box"===e.type?w(e):x(e))),i=t.filter((e=>e.enabled&&"Exclude"===e.mode)).map((e=>"Box"===e.type?w(e):x(e))),a=e.length;for(let t=0;t<a;t+=3){let a=e[t],o=e[t+1],s=e[t+2];(0===r.length||y(a,o,s,r))&&(0===i.length||!y(a,o,s,i))||n.push(t/3)}return console.log(n),n}(new Float32Array(b.data.positions),b.data.crops)).buffer;e.postMessage({outOfBoundsIndexes:t},[t])}else if(b.data.positions)h=b.data.positions,f=new Float32Array(h),m=b.data.meshMatrixWorlds,g=b.data.cropsArray,p=b.data.meshIndexIntervals,v(m,g,p),e.postMessage({sortSetupComplete:!0});else if(b.data.sort||b.data.newMatrixWorlds||b.data.newCropsArray)(b.data.newMatrixWorlds||b.data.newCropsArray)&&(g=b.data.newCropsArray||g,m=b.data.newMatrixWorlds||m,v(m,g,p)),function(h){let f,p=new Float64Array(u,o,16);for(let e=0;e<16;e++)p[e]=h[e];if(r>1){t.exports.sortIndexes(i,a,c,o,s,l,d.DepthMapRange,r);let e=new Uint32Array(r);f=e.buffer,e.set(new Uint32Array(u,l,r))}else if(1===r){let e=new Uint32Array(r);e[0]=new Uint32Array(u,i,n)[0],f=e.buffer}else f=new ArrayBuffer(0);e.postMessage({sortDone:!0,indexesBuffer:f},[f])}(b.data.sort.view,b.data.sort.cameraPosition);else if(b.data.init){d=b.data.init.Constants,n=b.data.init.splatCount;let r=d.BytesPerInt,h=3*d.BytesPerFloat,f=new Uint8Array(b.data.init.sorterWasmBytes),p=n*(r+h)+(n*d.BytesPerInt*2+d.DepthMapRange*d.BytesPerInt*2)+32*d.MemoryPageSize,m=Math.floor(p/d.MemoryPageSize)+1,g={module:{},env:{memory:new WebAssembly.Memory({initial:2*m,maximum:3*m,shared:!0})}};WebAssembly.compile(f).then((e=>WebAssembly.instantiate(e,g))).then((f=>{t=f,i=0,a=n*r,o=a+n*h,c=o+16*d.BytesPerFloat*2,s=c+n*d.BytesPerInt,l=s+d.DepthMapRange*d.BytesPerInt,u=g.env.memory.buffer,e.postMessage({sortSetupPhase1Complete:!0})}))}}}_F(Sue,"DepthMapRange",65536),_F(Sue,"MemoryPageSize",65536),_F(Sue,"BytesPerFloat",4),_F(Sue,"BytesPerInt",4);var Cue=function(){let e=new Float32Array(1),t=new Int32Array(e.buffer);return function(n){return e[0]=n,t[0]}}(),Aue=function(e,t,n,r){return e+(t<<8)+(n<<16)+(r<<24)},Tue=new AV,Mue=class extends GG{constructor(e,t,n,r,i=!1,a=1,o,s){super(n,r),this.splatCount=t,this.meshIndexIntervals=o,this.meshMatrixWorlds=s,this.splatBuffers=e,this.geometry=n,this.material=r,this.splatDataTextures=null,this.halfPrecisionCovariancesOnGPU=i,this.devicePixelRatio=a,this.resetLocalSplatDataAndTexturesFromSplatBuffer()}static buildMesh(e,t,n=!1,r=1,i,a){let o=Mue.buildGeomtery(t),s=Mue.buildMaterial(i);return new Mue(e,t,o,s,n,r,i,a)}static buildMaterial(e){let t={covariancesTexture:{type:"t",value:null},centersColorsTexture:{type:"t",value:null},meshIndexIntervals:{value:e},meshMatrixWorldsTexture:{type:"t",value:null},focal:{type:"v2",value:new AV},viewport:{type:"v2",value:new AV},basisViewport:{type:"v2",value:new AV},debugColor:{type:"v3",value:new HV},covariancesTextureSize:{type:"v2",value:new AV(1024,1024)},centersColorsTextureSize:{type:"v2",value:new AV(1024,1024)},orthoZoom:{type:"f",value:-1}};return new ZG({uniforms:t,vertexShader:"\n            precision highp float;\n            #include <common>\n\n            attribute uint splatIndex;\n\n            uniform highp sampler2D covariancesTexture;\n            uniform highp usampler2D centersColorsTexture;\n            uniform vec2 focal;\n            uniform vec2 viewport;\n            uniform vec2 basisViewport;\n            uniform vec2 covariancesTextureSize;\n            uniform vec2 centersColorsTextureSize;\n\t\t\t\t\t\tuniform highp sampler2D meshMatrixWorldsTexture;\n\t\t\t\t\t\tuniform uint meshIndexIntervals[257];\n\t\t\t\t\t\tuniform float orthoZoom;\n\n            varying vec4 vColor;\n            varying vec2 vUv;\n\n            varying vec2 vPosition;\n\n            const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);\n            const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));\n            const uvec4 shift4 = uvec4(0, 8, 16, 24);\n            vec4 uintToRGBAVec (uint u) {\n               uvec4 urgba = mask4 & u;\n               urgba = urgba >> shift4;\n               vec4 rgba = vec4(urgba) * encodeNorm4;\n               return rgba;\n            }\n\n            vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {\n                vec2 samplerUV = vec2(0.0, 0.0);\n                float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;\n                samplerUV.y = float(floor(d)) / dimensions.y;\n                samplerUV.x = fract(d);\n                return samplerUV;\n            }\n\n            void main () {\n                uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));\n                vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));\n                vColor = uintToRGBAVec(sampledCenterColor.r);\n\n                vPosition = position.xy * 2.0;\n\n\t\t\t\t\t\t\t\tuint meshIndex;\n\t\t\t\t\t\t\t\tfor (int i = 1; i < 257; i++) {\n\t\t\t\t\t\t\t\t\tif (splatIndex < meshIndexIntervals[i]) {\n\t\t\t\t\t\t\t\t\t\tmeshIndex = uint(i - 1);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfloat strideMulmeshIndex = float(4u*meshIndex);\n\t\t\t\t\t\t\t\tfloat meshMatrixWorldsTextureLength = float(256*4);\n\n\t\t\t\t\t\t\t\tmat4 modelMat = mat4(\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+0.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+1.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+2.0)/meshMatrixWorldsTextureLength, 0)),\n\t\t\t\t\t\t\t\t\ttexture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+3.0)/meshMatrixWorldsTextureLength, 0))\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tmat4 modelViewMat = viewMatrix * modelMat;\n\t\t\t\t\t\t\t\tvec4 viewCenter = modelViewMat * vec4(splatCenter, 1.0); \n                vec4 clipCenter = projectionMatrix * viewCenter;\n\n                vec2 sampledCovarianceA = texture(covariancesTexture, getDataUV(3, 0, covariancesTextureSize)).rg;\n                vec2 sampledCovarianceB = texture(covariancesTexture, getDataUV(3, 1, covariancesTextureSize)).rg;\n                vec2 sampledCovarianceC = texture(covariancesTexture, getDataUV(3, 2, covariancesTextureSize)).rg;\n\n                vec3 cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rg, sampledCovarianceB.r);\n                vec3 cov3D_M22_M23_M33 = vec3(sampledCovarianceB.g, sampledCovarianceC.rg);\n\n                // Compute the 2D covariance matrix from the upper-right portion of the 3D covariance matrix\n                mat3 Vrk = mat3(\n                    cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,\n                    cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,\n                    cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z\n                );\n                float s = 1.0 / (viewCenter.z * viewCenter.z);\n\n                mat3 W = transpose(mat3(modelViewMat));\n                mat3 T = orthoZoom > 0.0 ? W : W * mat3(\n\t\t\t\t\t\t\t\t\tfocal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,\n\t\t\t\t\t\t\t\t\t0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,\n\t\t\t\t\t\t\t\t\t0., 0., 0.\n\t\t\t\t\t\t\t\t);\n                mat3 cov2Dm = transpose(T) * Vrk * T;\n                cov2Dm[0][0] += 0.3;\n                cov2Dm[1][1] += 0.3;\n\n                // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because\n                // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],\n                // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't\n                // need cov2Dm[1][0] because it is a symetric matrix.\n                vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);\n\n                vec3 ndcCenter = clipCenter.xyz / clipCenter.w;\n\n                // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix\n                // so that we can determine the 2D basis for the splat. This is done using the method described\n                // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html\n                //\n                // This is a different approach than in the original work at INRIA. In that work they compute the\n                // max extents of the 2D covariance matrix in screen space to form an axis aligned bounding rectangle\n                // which forms the geometry that is actually rasterized. They then use the inverse 2D covariance\n                // matrix (called 'conic') to determine fragment opacity.\n                float a = cov2Dv.x;\n                float d = cov2Dv.z;\n                float b = cov2Dv.y;\n                float D = a * d - b * b;\n                float trace = a + d;\n                float traceOver2 = 0.5 * trace;\n                float term2 = sqrt(trace * trace / 4.0 - D);\n                float eigenValue1 = traceOver2 + term2;\n\t\t\t\t\t\t\t\tfloat eigenValue2 = max(traceOver2 - term2, 0.00); // prevent negative eigen value\n\n                const float maxSplatSize = 1024.0;\n                vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));\n                // since the eigen vectors are orthogonal, we derive the second one from the first\n                vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);\n                vec2 basisVector1 = eigenVector1 * min(sqrt(2.0 * eigenValue1), maxSplatSize);\n                vec2 basisVector2 = eigenVector2 * min(sqrt(2.0 * eigenValue2), maxSplatSize);\n\n                vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) * basisViewport;\n\n\t\t\t\t\t\t\t\tif (orthoZoom > 0.0) {\n\t\t\t\t\t\t\t\t\tndcOffset *= orthoZoom;\n\t\t\t\t\t\t\t\t}\n\n                gl_Position = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);\n            }",fragmentShader:"\n            precision highp float;\n            #include <common>\n\n            uniform vec3 debugColor;\n\n            varying vec4 vColor;\n            varying vec2 vUv;\n\n            varying vec2 vPosition;\n\t\t\t\t\t\tlayout(location = 1) out vec4 gVelocity; \n\n            void main () {\n                // compute the negative squared distance from the center of the splat to the\n                // current fragment in the splat's local space.\n                float A = -dot(vPosition, vPosition);\n                if (A < -4.0) discard;\n                vec3 color = vColor.rgb;\n                A = exp(A) * vColor.a;\n                gl_FragColor = vec4(color.rgb, A);\n\t\t\t\t\t\t\t\tgVelocity = vec4(0.0); // so it is ignored by TAA\n            }",transparent:!0,alphaTest:1,blending:KF,depthTest:!0,depthWrite:!1,side:YF})}static buildGeomtery(e){let t=new DG;t.setIndex([0,1,2,0,2,3]);let n=new Float32Array(12),r=new wG(n,3);t.setAttribute("position",r),r.setXYZ(0,-1,-1,0),r.setXYZ(1,-1,1,0),r.setXYZ(2,1,1,0),r.setXYZ(3,1,-1,0),r.needsUpdate=!0;let i=(new hK).copy(t),a=new Uint32Array(e),o=new eY(a,1,!1);return o.setUsage(35048),i.setAttribute("splatIndex",o),i.instanceCount=e,i}resetLocalSplatDataAndTexturesFromSplatBuffer(){this.updateLocalSplatDataFromSplatBuffer(),this.allocateAndStoreLocalSplatDataInTextures()}updateLocalSplatDataFromSplatBuffer(){this.splatBuffers.forEach((e=>e.buildPreComputedBuffers())),this.covariances=new Float32Array(6*this.splatCount),this.colors=new Uint8Array(4*this.splatCount),this.centers=new Float32Array(3*this.splatCount);let e=0,t=0,n=0;for(let r of this.splatBuffers){let i=r.nsplats;this.colors.subarray(e,e+4*i).set(r.colorsA),e+=4*i,this.centers.subarray(t,t+3*i).set(r.decoded.xyz.denormDequant().data),t+=3*i,this.covariances.subarray(n,n+6*i).set(new Float32Array(r.precomputedCovarianceBufferData)),n+=6*i}}allocateAndStoreLocalSplatDataInTextures(){let e=this.splatCount,t=new AV(4096,1024);for(;t.x*t.y*2<6*e;)t.y*=2;let n,r,i=new AV(4096,1024);for(;i.x*i.y*4<4*e;)i.y*=2;if(this.halfPrecisionCovariancesOnGPU){r=new Uint16Array(t.x*t.y*2);for(let e=0;e<this.covariances.length;e++)r[e]=JK.toHalfFloat(this.covariances[e]);n=new KX(r,t.x,t.y,fj,tj)}else r=new Float32Array(t.x*t.y*2),r.set(this.covariances),n=new KX(r,t.x,t.y,fj,ej);n.needsUpdate=!0,this.material.uniforms.covariancesTexture.value=n,this.material.uniforms.covariancesTextureSize.value.copy(t);let a=new Uint32Array(i.x*i.y*4);for(let t=0;t<e;t++){let e=4*t,n=3*t,r=4*t;a[r]=Aue(this.colors[e],this.colors[e+1],this.colors[e+2],this.colors[e+3]),a[r+1]=Cue(this.centers[n]),a[r+2]=Cue(this.centers[n+1]),a[r+3]=Cue(this.centers[n+2])}let o=new KX(a,i.x,i.y,mj,$U);o.internalFormat="RGBA32UI",o.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=o,this.material.uniforms.centersColorsTextureSize.value.copy(i);let s=new Float32Array(4096);for(let e=0;e<this.meshMatrixWorlds.length;e++)s.set(this.meshMatrixWorlds[e].elements,16*e);let l=new KX(s,1024,1,oj,ej);l.needsUpdate=!0,this.material.uniforms.meshMatrixWorldsTexture.value=l,this.material.uniformsNeedUpdate=!0,this.splatDataTextures={covariances:{data:r,texture:n,size:t},centerColors:{data:a,texture:o,size:i},meshMatrixWorlds:{data:s,texture:l}}}updateIndexes(e){let t=this.geometry;t.attributes.splatIndex.set(e),t.attributes.splatIndex.needsUpdate=!0,t.instanceCount=e.length}updateUniforms(e,t,n,r){this.splatCount>0&&(Tue.set(e.x*this.devicePixelRatio,e.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(Tue),this.material.uniforms.basisViewport.value.set(2/Tue.x,2/Tue.y),this.material.uniforms.focal.value.set(t,n),this.material.uniforms.orthoZoom.value=r,this.material.uniformsNeedUpdate=!0)}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(){return this.splatCount}getCenters(){return this.centers}getColors(){return this.colors}getCovariances(){return this.covariances}dispose(){this.geometry.dispose(),this.material.dispose(),this.splatDataTextures&&(this.splatDataTextures.covariances.texture.dispose(),this.splatDataTextures.centerColors.texture.dispose(),this.splatDataTextures.meshMatrixWorlds.texture.dispose())}},Pue=new gG;Pue.wireframe=!0;var Due=new tH,kue=class extends qX{constructor(e,t){super(),this.data=e,this.sharedAssets=t,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.geometryCacheChanged=!1,this.splatViewer=null,this.entityByUuid={},this.entityIdentityToEntity={},this.toExpandCloner=new Set,this.toUpdateCloner=new Set,this.pendingCommands=[],this.pathConstraints=new class{constructor(){this._constraints=new Map}setConstraint(e,t){null===t?this._constraints.delete(e):this._constraints.set(e,t)}removeDependencies(e){this._constraints.delete(e)}applyConstraints(e){let t=new Set;this._constraints.forEach(((n,r)=>{let i=[r,n],a=n;for(;this._constraints.has(a);)a=this._constraints.get(a),t.has(a)||i.push(a);for(let n=i.length-2;n>=0;n--)if(!t.has(i[n])){let r=e.find(i[n]);r?r.applyPathSnapping(e):console.warn(`missing entity ${i[n]}`),t.add(i[n])}}))}findDependency(e,t){let n=e;for(;this._constraints.has(n);)if(n=this._constraints.get(n),n===t)return!0;return!1}},this.invisibleObjects=new Voe("jflkdsafjasdifjaslk",{...V5.defaultData,visible:!1,name:"buildin invisible"}),this.needsRecomputeInstances=!1,this.init(e,t),this.matrixAutoUpdate=!1,this.errorPage=new _ce("fdasfa",{...Z5.defaultData,name:""},{shared:t,scene:this})}markGeometryCacheDirty(){this.geometryCacheChanged=!0}markNeedsUpdateRendererDirty(){this.needsTransmissionDirty=!0,this.needsNormalDirty=!0}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=function(e){let t=!1;return e.traverseEntity((e=>{if(e instanceof mae)if(Array.isArray(e.material))for(let n=0;n<e.material.length;n++)Wce(e,e.material[n])&&(t=!0);else Wce(e,e.material)&&(t=!0)})),t}(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=function(e){let t=!1;return e.traverseEntity((e=>{if(e instanceof mae)if(Array.isArray(e.material))for(let n=0;n<e.material.length;n++)Gce(e,e.material[n])&&(t=!0);else Gce(e,e.material)&&(t=!0)})),t}(this),this.needsNormalDirty=!1),this._needsNormal}registerInstanceAndSetUuid(e){let t=e.identity.join("-"),n=this.entityIdentityToEntity[t];n&&(e.uuid=n.uuid),this.entityIdentityToEntity[t]=e,this.entityByUuid[e.uuid]=e}markPenumbraSizeDirty(){for(let e of this.children)e instanceof _ce&&(e.penumbraSizeArrayCache=null)}findInstance(e){return this.entityIdentityToEntity[e.join("-")]}get bgColor(){return this.activePage.bgColor}get postprocessing(){return this.activePage.data.postprocessing}getWithSortKey(e){let t=this.find(e);if(void 0===t)return;let n=[],r=t;for(;r!==this;){let e=r;r=r.parent;let t=r.children.indexOf(e);n.splice(0,0,t)}return{entity:t,sortKey:n}}getAllSorted(e){let t=[];for(let n of e){let e=this.getWithSortKey(n.id);void 0!==e&&t.push(e)}return t.sort(((e,t)=>I1(e.sortKey,t.sortKey))),t.map((e=>e.entity))}nonExistOrDescendantOf(e,t){let n=this.find(e);if(void 0===n)return!0;for(;n;){if(n.uuid===t)return!0;n=n.parent}return!1}find(e){if(this.activePage&&this.activePage.personalCamera.parent){if("f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera"===e)return this.activePage.personalCamera;if(e===K4)return this.activePage.personalCamera}if(""===e||void 0===e)return;let t=this.entityByUuid[e];return void 0===t?this.getObjectByProperty("uuid",e):t}find2D(e){for(let t of this.children)if(t instanceof _ce&&t.uiScene){let n=t.uiScene.find(e);if(n)return n}}findScene2DfromObject2D(e){for(let t of this.children)if(t instanceof _ce&&t.uiScene&&t.uiScene.find(e))return t.uiScene}find2DInUIObjects(e){let t;return this.traverseEntity((n=>{void 0===t&&n instanceof kce&&(t=n.uiCanvas.find(e))})),t}traverse2D(e){for(let t of this.children)t instanceof _ce&&t.uiScene&&t.uiScene.traverse(e)}debugEnsureEntity(e){let t=this.find(e);t?Array.isArray(t.identity)&&void 0===this.findInstance(t.identity)&&console.error("not found instance"):console.error("not found")}addPendingExpandCloner(e){this.toExpandCloner.add(e)}addPendingUpdateCloner(e){this.toUpdateCloner.add(e)}markToExpandCloner(e){this.toExpandCloner.add(e),e.traverseEntityAncestors((e=>{this.toExpandCloner.add(e)}))}doPendingExpandCloner(){this.toExpandCloner.forEach((e=>{e.expandCloner(this)})),this.toExpandCloner.clear()}doPendingUpdateCloner(){this.toUpdateCloner.forEach((e=>{e.cloner?.update()})),this.toUpdateCloner.clear()}doPendingUpdates(){this.doPendingExpandCloner(),this.doPendingUpdateCloner(),this.applyPendingCommands()}addPendingCommand(e){this.pendingCommands.push(e)}applyPendingCommands(){this.pendingCommands.forEach((e=>e())),this.pendingCommands.length=0}updateByLibOp(e,t){1===e.path.length&&"components"===e.path[0]&&1===e.type&&this.createChildrenObjects([{...e.data.asset,id:e.id}],this.invisibleObjects,t)}updateTreeByOp(e,t){if(0===e.path.length&&7===e.type){let n=null===e.parent?this:this.find(e.parent);if(void 0===n)throw new Error("unexpected");let r=this.createObject(e.id,e.data,e.children,n,e.localIndex,t);r.updateVisible(this),r.resetBBoxNeedsUpdate(),Boe(r)&&Foe(r.parent)&&(r.invalidateUpstreamBooleanData(),r.parent.invalidateDownstreamBooleanData().recomputeBoolean()),this.markNeedsRecomputeInstancesForAncessors(n),this.markNeedsRecomputeInstancesForChildren(r),this.markToExpandCloner(r),this.markPenumbraSizeDirty(),r.updatePathSnapping()}else if(0===e.path.length&&8===e.type){let t=this.find(e.id);if(void 0===t)throw new Error("unexpected");this.markToExpandCloner(t),t.resetBBoxNeedsUpdate(),this.unregisterObject(t);let n=t.parent;this.markNeedsRecomputeInstancesForAncessors(n),this.markNeedsRecomputeInstancesForChildren(t),this.markPenumbraSizeDirty(),t.parent.remove(t),Foe(t.parent)&&(t.parent.invalidateUpstreamBooleanData(),t.parent.invalidateDownstreamBooleanData().recomputeBoolean()),Boe(t)&&(t.freeBooleanPointer(),n instanceof Noe&&n.invalidateDownstreamBooleanData().recomputeBoolean()),t instanceof Cce&&t.detachShape(),this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(t),this.pathConstraints.removeDependencies(t.uuid),t.updatePathSnapping()}else if(0===e.path.length&&9===e.type){let t=this.find(e.id);if(void 0===t)throw new Error("unexpected");this.markNeedsRecomputeInstancesForChildren(t);let n=t.parent;this.markNeedsRecomputeInstancesForAncessors(n),t.cloner?.resetOnMove(),this.markToExpandCloner(t);let r=null===e.parent?this:this.find(e.parent);if(void 0===r)throw new Error("unexpected");r.add(t),this.markNeedsRecomputeInstancesForAncessors(r),this.markToExpandCloner(t),t.invalidateClonerTransform(t),t.updateVisible(this),t.resetBBoxNeedsUpdate(),this.markPenumbraSizeDirty();let i=e.localIndex;r.children.splice(i,0,r.children.pop()),Boe(t)&&(t.invalidateUpstreamBooleanData(),Foe(t.parent)?t.parent.invalidateDownstreamBooleanData().recomputeBoolean():n instanceof Noe&&n.invalidateDownstreamBooleanData().recomputeBoolean()),t.updatePathSnapping()}this.markNeedsUpdateRendererDirty(),this.markGeometryCacheDirty()}get playPage(){return this.find(this.data.publish.playPage)??this.errorPage}updatePage(e){this.activePage&&this.activePage.onDeactive(),this.activePage=this.errorPage;for(let t of this.children)t instanceof _ce&&(t.visible=t.uuid===e,t.visible&&(this.activePage=t,this.activePage.onActive(this)));this.activePage!==this.splatViewer?.activePage&&this.reloadSplats()}updateEntityByOp(e,t,n,r){if(0===t.type){if(("overrides"in t.props||"component"in t.props)&&this.markNeedsRecomputeInstances(),"visible"in t.props&&this.markPenumbraSizeDirty(),t.path.includes("overrides")&&"states"in t.props){let{rest:e}=t.props;t={...t,props:e},this.markNeedsRecomputeInstances()}"pathSnapping"===t.path[0]&&void 0!==t.props.pathId&&this.pathConstraints.setConstraint(e,t.props.pathId)}let i=this.find(e);if(i)try{(function(e,t,n,r){e.updateByOp(t,n,r,!1)})(i,t,n,{scene:this,shared:r}),i instanceof xae&&i.updateGeometryGroupsIfNeeded()}catch(e){console.error(e)}}updateEntity2DByOp(e,t,n,r,i,a=[]){e.updateEntityByOp(t,n,r,i),this.traverseEntity((e=>{(e instanceof kce||e instanceof _ce)&&(a.includes(e.frameId??"")||e.frameId===t)&&e.updateEntity2DByOp(t,n,r,i)}))}get activeCamera(){return this.activePage.activeCamera}switchActiveCamera(e){this.activePage.switchActiveCamera(e)}isInvisibleObjects(e){return e===this.invisibleObjects||e.hasAnccestor(this.invisibleObjects)}init(e,t){let n=Object.entries(t.data.lib.components).map(((e,t)=>({data:e[1].asset.data,children:e[1].asset.children,id:e[0],fi:t})));this.invisibleObjects.updateState(this.invisibleObjects.data,{scene:this,shared:t}),this.add(this.invisibleObjects),this.createChildrenObjects(n,this.invisibleObjects,t),this.createChildrenObjects(e.objects,this,t),this.updatePage(e.publish.playPage),this.activePage.switchToPlayCamera(),this.expandInstances(t,!0),this.traverseEntity((e=>{e instanceof Moe&&e.updateUp()})),this.doPendingExpandCloner(),this.applyPendingCommands()}markNeedsRecomputeInstances(){this.needsRecomputeInstances=!0}markNeedsRecomputeInstancesForChildren(e){e.traverseEntity((e=>{("Component"===e.data.type||"Instance"===e.data.type)&&this.markNeedsRecomputeInstances()}))}markNeedsRecomputeInstancesForAncessors(e){O7.is(e)&&("Component"===e.data.type&&this.markNeedsRecomputeInstances(),e.traverseAncestors((e=>{O7.is(e)&&"Component"===e.data.type&&this.markNeedsRecomputeInstances()})))}relativeizeInner(e,t,n,r,i,a,o){if(e){let s=r.find(e);s&&s!==r&&i.forInstancesRec((r=>{r.data=F2(r.data,(i=>{let s=i.events.data(o.id),l=r.goUp(a);if(l){let r=[...O1(l.identity),e].join("-"),i=this.entityIdentityToEntity[r];if(i){let e=i.uuid;L2.zoom(s,t)[n]=e}else console.warn("cannot find instance")}})).data}))}}rewriteActions(e,t,n,r,i,a){e.forEach((e=>{("Transition"===e.data.type||"Animation"===e.data.type)&&this.relativeizeInner(e.data.object,[...t,e.id],"object",n,r,i,a)}))}rewriteEventsBeforeGoToPlayMode(){this.traverseEntity((e=>{if(e instanceof Ace&&"string"==typeof e.identity&&"Component"===e.data.type)return e.traverseEntity(((t,n)=>{t.data.events.forEach((r=>{if("GameControl"===r.data.type){let i=!1;if(t.forInstancesRec((e=>{e.data=F2(e.data,(t=>{e.isInstanceRoot||(t.events.delete(r.id),i=!0)})).data})),!1===i)for(let i of m6.list)this.rewriteActions(r.data.gameActions[i],["gameActions",i],e,t,n,r)}else"Conditional"===r.data.type?("Distance"===r.data.condition.type?(this.relativeizeInner(r.data.condition.fromObject,["condition"],"fromObject",e,t,n,r),this.relativeizeInner(r.data.condition.toObject,["condition"],"toObject",e,t,n,r)):"State"===r.data.condition.type?this.relativeizeInner(r.data.condition.object,["condition"],"object",e,t,n,r):"Comparison"===r.data.condition.type&&("Property"===r.data.condition.lOperand.type&&this.relativeizeInner(r.data.condition.lOperand.value[0],["condition","lOperand","value"],0,e,t,n,r),"Property"===r.data.condition.rOperand.type&&this.relativeizeInner(r.data.condition.rOperand.value[0],["condition","rOperand","value"],0,e,t,n,r)),this.rewriteActions(r.data.inActions,["inActions"],e,t,n,r),this.rewriteActions(r.data.outActions,["outActions"],e,t,n,r)):"actions"in r.data&&this.rewriteActions(r.data.actions,["actions"],e,t,n,r)}))})),!0}))}expandInstances(e,t,n){let r=new Set;this.traverseEntity((i=>{if(i instanceof Ace&&i.isInstanceRoot)return i.expandInstanceChildren({scene:this,shared:e,pendingDeletes:r}),t||i.resetBBoxNeedsUpdate(),n&&i.traverseEntity((e=>{n.addClip(e)})),!0}));for(let e of r)this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(e),Tce(e)}recomputeInstances(e,t){this.needsRecomputeInstances&&(this.needsRecomputeInstances=!1,this.traverseEntity((e=>{e instanceof Ace&&e.isInstanceRoot&&(e.component=void 0)})),this.expandInstances(e,!1,t))}disposeAndUnregisterEntityRecursivelyIfNotReregistered(e){e.traverseEntity((e=>{let t="string"==typeof e.identity?e.identity:e.identity.join("-");this.entityIdentityToEntity[t]===e&&(delete this.entityByUuid[e.uuid],delete this.entityIdentityToEntity[t]),e.dispose()}))}clearScene(){for(let e of this.children)O7.is(e)&&e.disposeRecursively();this.children.length=0}resetAfterClear(e,t){this.init(e,t)}raycast(e){return this.raycast1(e,!1)}raycast1(e,t){let n=[],r=i=>{for(let a of i.children){let i=a.cloner;if(O7.is(a)&&!a.raycastLock&&(a.visible||i?.object.data.visible))if(!0===t&&a.isInstanceRoot){let t=[];if(e.intersectObject(a,!0,t),t.length){let e=t[0];e.object=a,e.point.applyMatrix4(e.object.matrixWorld);let r=a.matrixWorld.clone().invert();e.point.applyMatrix4(r),n.push(e)}}else(Boe(a)||Uoe(a)&&this.enableHelpers&&a.objectHelper.visible)&&(e.intersectObject(a,!1,n),Qce(a,e,n)),r(a)}};return r(this.activePage),n}raycastWithClones(e){let t=[],n=r=>{for(let i of r.children){let r=i.cloner;O7.is(i)&&(i.visible||r?.object.data.visible)&&((Boe(i)||Uoe(i)&&this.enableHelpers&&i.objectHelper.visible)&&(e.intersectObject(i,!1,t),Qce(i,e,t,!0)),n(i))}};return n(this),t}forEachEntity(e){for(let t of this.children)O7.is(t)&&e(t)}traverseConcreteEntity(e){for(let t of this.children)O7.is(t)&&t.isConcreteEntity&&t.traverseEntity(e)}traverseEntity(e){for(let t of this.children)O7.is(t)&&t.traverseEntity(e)}updateFont(e,t){this.traverseEntity((n=>{if(n instanceof xae&&"Mesh"===n.data.type&&"TextGeometry"===n.data.geometry.type&&n.data.geometry.font===e){let r=n.geometry,i=n.data.geometry;r.updateFont(e,t).then((()=>{r.update(i);let e=n.invalidateDownstreamBooleanData();Foe(e)&&e.recomputeBoolean()}))}}))}traverseObject(e){for(let t of this.children)A7.is(t)&&t.traverseObject(e)}traverseVisibleEntity(e){for(let t of this.children)O7.is(t)&&t.visible&&t.traverseVisibleEntity(e)}dispose(){this.clearScene()}createChildrenObjects(e,t,n){let r=0;for(let i of e)this.createObject(i.id,i.data,i.children,t,r,n),r+=1}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createObject(e,t,n,r,i,a){let o={scene:this,shared:a},s=Hce(e,t,o);return s&&(this.entityByUuid[e]=s,r.add(s),r.children.splice(i,0,r.children.pop()),n.length>0&&(s.isInstanceRoot?console.error("instance should not have children!"):this.createChildrenObjects(n,s,a)),s.updateState(t,o),s instanceof xae&&s.updateGeometryGroupsIfNeeded(),s.updateVisible(this),s.cloner&&this.toExpandCloner.add(s),t.pathSnapping?.pathId&&this.pathConstraints.setConstraint(e,t.pathSnapping.pathId)),"Empty"===t.type&&t.animations&&s.traverseEntity((e=>{let t=e.dataPatched;if(e instanceof xae&&t.bones&&t.boneInverses){let n=t.bones.map((e=>this.find(e))),r=t.boneInverses.map((e=>(new kH).fromArray(e))),i=new $X(n,r);e.bind(i,e.bindMatrix)}else e.matrixAutoUpdate=!0})),s}getCenter(e){let t=[];for(let n=0,r=e.length;n<r;++n){let{id:r,recursive:i}=e[n],a=this.find(r),o=i?a.recursiveBBox:a.singleBBox;t.push(...o.vertices)}let n=new iH;return n.setFromPoints(t),n.getCenter(Due),Due}copyMatrixWorld(e,t){if(null===e)return void t.identity();let n=this.find(e);n?t.copy(n.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){if(null===e)return void t.identity();let n=this.find(e)?.parent;n?t.copy(n.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity((t=>{if(t instanceof dne)if(Array.isArray(t.material))for(let n=0;n<t.material.length;n++)t.material[n]instanceof Xie&&e(t.material[n]);else t.material instanceof Xie&&e(t.material)}))}updateViewPlaneSize(e,t,n=!1){this.traverseConcreteEntity((r=>{r instanceof Moe&&r.setViewplaneSize(e,t,n)}))}initializeSplatViewer(e){this.splatViewer=new class{constructor(e={}){_F(this,"updateSplatMeshUniforms",function(){let e=new AV;return function(){null!==this.splatMesh&&this.splatMesh.getSplatCount()>0&&(this.renderer.getSize(e),this.cameraFocalLengthX=this.camera.projectionMatrix.elements[0]*this.devicePixelRatio*e.x*.45,this.cameraFocalLengthY=this.camera.projectionMatrix.elements[5]*this.devicePixelRatio*e.y*.45,this.splatMesh.updateUniforms(e,this.cameraFocalLengthX,this.cameraFocalLengthY,this.camera.isPerspectiveCamera?-1:this.camera.zoom*this.devicePixelRatio))}}()),_F(this,"updateView",function(){let e=new kH,t=[],n=new tH(0,0,-1),r=new tH(0,0,-1),i=new tH,a=new tH;return function(o=!1){let s=this.updateMatrixWorldsInWorkerIfNeeded(),l=this.cropsChanged();if(!o){r.set(0,0,-1).applyQuaternion(this.camera.quaternion);let e=!1,t=!1;if(r.dot(n)<=.95&&(e=!0),a.copy(this.camera.position).sub(i).length()>=1&&(t=!0),!(e||t||s||l))return}i.copy(this.camera.position),n.copy(r),e.copy(this.camera.matrixWorld).invert(),e.premultiply(this.camera.perspCamera.projectionMatrix),t[0]=this.camera.position.x,t[1]=this.camera.position.y,t[2]=this.camera.position.z;let c={sort:{view:e.elements,cameraPosition:t,splatRenderCount:this.splatRenderCount,splatSortCount:this.splatRenderCount},...s?{newMatrixWorlds:this.meshMatrixWorlds}:{},...l?{newCropsArray:this.cropsArray}:{}};this.sortRunning?this.queuedMessage=c:(this.queuedMessage=null,this.sortRunning=!0,this.sortWorker.postMessage(c))}}()),this.scene=e.scene,this.currentPage=null,this.renderer=e.renderer,this.devicePixelRatio=window.devicePixelRatio,this.sortWorker=null,this.splatRenderCount=0,this.splatSortCount=0,this.splatMesh=null,this.sortRunning=!1,this.splatRenderingInitialized=!1,this.meshMatrixWorlds=null,this.meshMatrixWorldsOld=null,this.cropsArray=null,this.splatEntries=null,this.queuedMessage=null}get camera(){return this.scene.activeCamera}reloadSplats(){this.splatRenderingInitialized=!1;let e=this.loadSplat();this.renderer.pipeline.opaquePass.splatViewer=e?this:null}loadSplat(e={}){this.activePage=this.scene.activePage,e.position&&(e.position=(new tH).fromArray(e.position)),e.orientation&&(e.orientation=(new eH).fromArray(e.orientation)),e.halfPrecisionCovariances=!!e.halfPrecisionCovariances;let t=[];if(this.splatEntries=t,this.activePage.traverseEntity((e=>{if("Splat"===e.data.type){let n=e.visible;e.traverseAncestors((e=>{n&&(n=e.visible)})),n&&t.push(e)}})),this.splatMesh&&this.splatMesh.dispose(),0===t.length)return this.splatMesh=null,!1;this.meshMatrixWorlds=t.map((e=>e.matrixWorld)),this.meshMatrixWorldsOld=t.map((e=>e.matrixWorld.clone())),this.cropsArray=t.map((e=>e.data.crops.map((e=>e.data))));let n=t.map((e=>new _ue(new Uint8Array(e.data.buffer).buffer))),r=0,i=[0];for(let e of n)r+=e.getSplatCount(),i.push(r);return this.setupSplatMesh(n,r,e.position,e.orientation,e.halfPrecisionCovariances,this.devicePixelRatio,i,this.meshMatrixWorlds),this.setupSortWorker(r),!0}updateMatrixWorldsInWorkerIfNeeded(){let e=this.splatDataTextures.meshMatrixWorlds.data;for(let t=0;t<this.meshMatrixWorlds.length;t++)e.set(this.meshMatrixWorlds[t].elements,16*t);return this.splatDataTextures.meshMatrixWorlds.texture.needsUpdate=!0,!this.meshMatrixWorlds.every(((e,t)=>e.equals(this.meshMatrixWorldsOld[t])))&&(this.meshMatrixWorldsOld=this.meshMatrixWorlds.map((e=>e.clone())),!0)}cropsChanged(){let e=!1;return this.splatEntries.forEach(((t,n)=>{t.data.crops.forEach(((t,r)=>{void 0===this.cropsArray[n][r]?(e=!0,this.cropsArray[n][r]=t.data):Object.entries(t.data).forEach((([t,i])=>{(Array.isArray(i)&&i.some(((e,i)=>e!==this.cropsArray[n][r][t][i]))||i!==this.cropsArray[n][r]?.[t])&&(e=!0,this.cropsArray[n][r][t]=i)}))})),t.data.crops.length!==this.cropsArray[n]?.length&&(this.cropsArray[n].length=t.data.crops.length,e=!0)})),e}setupSplatMesh(e,t,n=new tH,r=new eH,i=!1,a=1,o,s){this.splatMesh=Mue.buildMesh(e,t,i,a,o,s),this.splatMesh.position.copy(n),this.splatMesh.quaternion.copy(r),this.splatMesh.frustumCulled=!1,this.splatMesh.renderOrder=10,this.updateSplatMeshUniforms(),this.splatRenderCount=t}setupSortWorker(e){this.sortWorker=function(e){let t=new Worker(URL.createObjectURL(new Blob(["(",Eue.toString(),")(self)"],{type:"application/javascript"}))),n=atob("AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAETA2AAAGAIf39/f39/f38AYAABfwISAQNlbnYGbWVtb3J5AgMAgIAEAwQDAAECBzkDEV9fd2FzbV9jYWxsX2N0b3JzAAALc29ydEluZGV4ZXMAARNlbXNjcmlwdGVuX3Rsc19pbml0AAIK3gMDAwABC9IDAwF/BnwBfgJAIAdFDQAgAysDUCEMIAMrAzAhDSADKwMQIQ5BACEDRP///////+9/IQtEAAAAAAAAEAAhCgNAIAIgA0ECdGoCfyAOIAEgA0EMbGoiCCoCALuiIA0gCCoCBLuioCAMIAgqAgi7oqBEAAAAAAAAsECiIgmZRAAAAAAAAOBBYwRAIAmqDAELQYCAgIB4CzYCACAJIAsgCSALYxshCyAJIAogCSAKZBshCiADQQFqIgMgB0cNAAsgB0UNACAGuCAKIAuhoyEJQQAhAwNAAn8gCSACIANBAnRqIgEoAgC3IAuhoiIKmUQAAAAAAADgQWMEQCAKqgwBC0GAgICAeAshCCABIAg2AgAgBCAIQQJ0aiIBIAEoAgBBAWo2AgAgA0EBaiIDIAdHDQALCyAGQQJPBEAgBCgCACEIQQEhAwNAIAQgA0ECdGoiASABKAIAIAhqIgg2AgAgA0EBaiIDIAZHDQALCyAHQQFrIgGtIQ8DQCAEIAIgD6dBAnQiA2ooAgBBAnRqIgcgBygCAEEBayIHNgIAIAUgASAHa0ECdGogACADaigCADYCACAPUCEDIA9CAX0hDyADRQ0ACyAGBEAgBEEAIAZBAnT8CwALCwQAQQAL"),r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return t.postMessage({init:{sorterWasmBytes:r.buffer,splatCount:e,Constants:{BytesPerFloat:Sue.BytesPerFloat,BytesPerInt:Sue.BytesPerInt,DepthMapRange:Sue.DepthMapRange,MemoryPageSize:Sue.MemoryPageSize}}}),t}(e),this.sortWorker.onmessage=e=>{e.data.sortDone?(this.sortRunning=!1,this.splatMesh?.updateIndexes(new Uint32Array(e.data.indexesBuffer)),this.lastSortTime=e.data.sortTime,this.queuedMessage&&(this.sortWorker.postMessage(this.queuedMessage),this.queuedMessage=null)):e.data.sortCanceled?this.sortRunning=!1:e.data.sortSetupPhase1Complete?this.sortWorker.postMessage({positions:this.splatMesh.getCenters().buffer,meshMatrixWorlds:this.splatMesh.meshMatrixWorlds,meshIndexIntervals:this.splatMesh.meshIndexIntervals,cropsArray:this.cropsArray}):e.data.sortSetupComplete&&(this.splatDataTextures=this.splatMesh.getSplatDataTextures(),this.updateView(!0,!0),this.splatRenderingInitialized=!0)}}update(){!1!==this.splatRenderingInitialized&&(this.updateSplatMeshUniforms(),this.updateView())}getSplatMesh(){return this.splatMesh}}({scene:this,renderer:e}),this.reloadSplats()}reloadSplats(){this.splatViewer?.reloadSplats()}},Oue=(e,t)=>{let n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},Iue=e=>e*(Math.PI/180),Rue=new Map,Lue=e=>{Rue.has(e)&&clearTimeout(Rue.get(e)),Rue.set(e,setTimeout(e,100))},Nue=(e,t,n)=>{let r,i=t.split(/[ ,]+/g);for(let t=0;t<i.length;t+=1)r=i[t],e.addEventListener?e.addEventListener(r,n,!1):e.attachEvent&&e.attachEvent(r,n)},zue=(e,t,n)=>{let r,i=t.split(/[ ,]+/g);for(let t=0;t<i.length;t+=1)r=i[t],e.removeEventListener?e.removeEventListener(r,n):e.detachEvent&&e.detachEvent(r,n)},Bue=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),Fue=()=>{if(!(typeof window>"u"))return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},Uue=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},jue=(e,t,n)=>{let r=Vue(e);for(let e in r)if(r.hasOwnProperty(e))if("string"==typeof t)r[e]=t+" "+n;else{let i="";for(let e=0,r=t.length;e<r;e+=1)i+=t[e]+" "+n+", ";r[e]=i.slice(0,-2)}return r},Vue=e=>{let t={};return t[e]="",["webkit","Moz","o"].forEach((function(n){t[n+e.charAt(0).toUpperCase()+e.slice(1)]=""})),t},Hue=(e,t)=>{for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},Gue=(e,t)=>{if(e.length)for(let n=0,r=e.length;n<r;n+=1)t(e[n]);else t(e)};typeof window<"u"&&(Wue="ontouchstart"in window,que=!!window.PointerEvent,Xue=!!window.MSPointerEvent);var Wue,que,Xue,Yue,Que={start:"mousedown",move:"mousemove",end:"mouseup"},Kue={};function Zue(){}que?Yue={start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"}:Xue?Yue={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:Wue?(Yue={start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},Kue=Que):Yue=Que,Zue.prototype.on=function(e,t){var n,r=this,i=e.split(/[ ,]+/g);r._handlers_=r._handlers_||{};for(var a=0;a<i.length;a+=1)n=i[a],r._handlers_[n]=r._handlers_[n]||[],r._handlers_[n].push(t);return r},Zue.prototype.off=function(e,t){var n=this;return n._handlers_=n._handlers_||{},void 0===e?n._handlers_={}:void 0===t?n._handlers_[e]=null:n._handlers_[e]&&n._handlers_[e].indexOf(t)>=0&&n._handlers_[e].splice(n._handlers_[e].indexOf(t),1),n},Zue.prototype.trigger=function(e,t){var n,r=this,i=e.split(/[ ,]+/g);r._handlers_=r._handlers_||{};for(var a=0;a<i.length;a+=1)n=i[a],r._handlers_[n]&&r._handlers_[n].length&&r._handlers_[n].forEach((function(e){e.call(r,{type:n,target:r},t)}))},Zue.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=((e,t)=>{let n={};for(let r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)?n[r]=t[r]:e.hasOwnProperty(r)&&(n[r]=e[r]);return n})(t.options,e))},Zue.prototype.bindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},n._domHandlers_[t]=function(){"function"==typeof n["on"+t]?n["on"+t].apply(n,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},Nue(e,Yue[t],n._domHandlers_[t]),Kue[t]&&Nue(e,Kue[t],n._domHandlers_[t]),n},Zue.prototype.unbindEvt=function(e,t){var n=this;return n._domHandlers_=n._domHandlers_||{},zue(e,Yue[t],n._domHandlers_[t]),Kue[t]&&zue(e,Kue[t],n._domHandlers_[t]),delete n._domHandlers_[t],this};var Jue=Zue;function $ue(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),"dynamic"===this.options.mode&&(this.options.restOpacity=0),this.id=$ue.id,$ue.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}$ue.prototype=new Jue,$ue.constructor=$ue,$ue.id=0,$ue.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly||(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front)),this},$ue.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=((e,t)=>{let n=Vue("borderRadius");for(let e in n)n.hasOwnProperty(e)&&(n[e]="50%");return n})(),n=jue("transition","opacity",e),r={};return r.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},r.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},r.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},Hue(r.el,n),"circle"===this.options.shape&&Hue(r.back,t),Hue(r.front,t),this.applyStyles(r),this},$ue.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var n in e[t])this.ui[t].style[n]=e[t][n];return this},$ue.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)||this.options.zone.appendChild(this.ui.el),this},$ue.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)||this.options.zone.removeChild(this.ui.el),this},$ue.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()},$ue.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout((function(){t.ui.el.style.opacity=1}),0),t.showTimeout=setTimeout((function(){t.trigger("shown",t.instance),"function"==typeof e&&e.call(this)}),t.options.fadeTime)),t},$ue.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout((function(){var n="dynamic"===t.options.mode?"none":"block";t.ui.el.style.display=n,"function"==typeof e&&e.call(t),t.trigger("hidden",t.instance)}),t.options.fadeTime),t.options.restJoystick){let n=t.options.restJoystick,r={};r.x=!0===n||!1!==n.x?0:t.instance.frontPosition.x,r.y=!0===n||!1!==n.y?0:t.instance.frontPosition.y,t.setPosition(e,r)}return t},$ue.prototype.setPosition=function(e,t){var n=this;n.frontPosition={x:t.x,y:t.y};var r=n.options.fadeTime+"ms",i={};i.front=jue("transition",["top","left"],r);var a={front:{}};a.front={left:n.frontPosition.x+"px",top:n.frontPosition.y+"px"},n.applyStyles(i),n.applyStyles(a),n.restTimeout=setTimeout((function(){"function"==typeof e&&e.call(n),n.restCallback()}),n.options.fadeTime)},$ue.prototype.restCallback=function(){var e=this,t={};t.front=jue("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)},$ue.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},$ue.prototype.computeDirection=function(e){var t,n,r,i=e.angle.radian,a=Math.PI/4,o=Math.PI/2;if(i>a&&i<3*a&&!e.lockX?t="up":i>-a&&i<=a&&!e.lockY?t="left":i>3*-a&&i<=-a&&!e.lockX?t="down":e.lockY||(t="right"),e.lockY||(n=i>-o&&i<o?"left":"right"),e.lockX||(r=i>0?"up":"down"),e.force>this.options.threshold){var s,l={};for(s in this.direction)this.direction.hasOwnProperty(s)&&(l[s]=this.direction[s]);var c={};for(s in this.direction={x:n,y:r,angle:t},e.direction=this.direction,l)l[s]===this.direction[s]&&(c[s]=!0);if(c.x&&c.y&&c.angle)return e;(!c.x||!c.y)&&this.trigger("plain",e),c.x||this.trigger("plain:"+n,e),c.y||this.trigger("plain:"+r,e),c.angle||this.trigger("dir dir:"+t,e)}else this.resetDirection();return e};var ehe=$ue;function the(e,t){var n=this;n.nipples=[],n.idles=[],n.actives=[],n.ids=[],n.pressureIntervals={},n.manager=e,n.id=the.id,the.id+=1,n.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},n.config(t),("static"===n.options.mode||"semi"===n.options.mode)&&(n.options.multitouch=!1),n.options.multitouch||(n.options.maxNumberOfNipples=1);let r=getComputedStyle(n.options.zone.parentElement);return r&&"flex"===r.display&&(n.parentIsFlex=!0),n.updateBox(),n.prepareNipples(),n.bindings(),n.begin(),n.nipples}the.prototype=new Jue,the.constructor=the,the.id=0,the.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(e){if(void 0===e)return t[0];for(var n=0,r=t.length;n<r;n+=1)if(t[n].identifier===e)return t[n];return!1}},the.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"},the.prototype.begin=function(){var e=this,t=e.options;if("static"===t.mode){var n=e.createNipple(t.position,e.manager.getIdentifier());n.add(),e.idles.push(n)}},the.prototype.createNipple=function(e,t){var n=this,r=n.manager.scroll,i={},a=n.options,o=n.parentIsFlex?r.x:r.x+n.box.left,s=n.parentIsFlex?r.y:r.y+n.box.top;if(e.x&&e.y)i={x:e.x-o,y:e.y-s};else if(e.top||e.right||e.bottom||e.left){var l=document.createElement("DIV");l.style.display="hidden",l.style.top=e.top,l.style.right=e.right,l.style.bottom=e.bottom,l.style.left=e.left,l.style.position="absolute",a.zone.appendChild(l);var c=l.getBoundingClientRect();a.zone.removeChild(l),i=e,e={x:c.left+r.x,y:c.top+r.y}}var u=new ehe(n,{color:a.color,size:a.size,threshold:a.threshold,fadeTime:a.fadeTime,dataOnly:a.dataOnly,restJoystick:a.restJoystick,restOpacity:a.restOpacity,mode:a.mode,identifier:t,position:e,zone:a.zone,frontPosition:{x:0,y:0},shape:a.shape});return a.dataOnly||(Uue(u.ui.el,i),Uue(u.ui.front,u.frontPosition)),n.nipples.push(u),n.trigger("added "+u.identifier+":added",u),n.manager.trigger("added "+u.identifier+":added",u),n.bindNipple(u),u},the.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},the.prototype.bindNipple=function(e){var t,n=this,r=function(e,r){t=e.type+" "+r.id+":"+e.type,n.trigger(t,r)};e.on("destroyed",n.onDestroyed.bind(n)),e.on("shown hidden rested dir plain",r),e.on("dir:up dir:right dir:down dir:left",r),e.on("plain:up plain:right plain:down plain:left",r)},the.prototype.pressureFn=function(e,t,n){var r=this,i=0;clearInterval(r.pressureIntervals[n]),r.pressureIntervals[n]=setInterval(function(){var n=e.force||e.pressure||e.webkitForce||0;n!==i&&(t.trigger("pressure",n),r.trigger("pressure "+t.identifier+":pressure",n),i=n)}.bind(r),100)},the.prototype.onstart=function(e){var t=this,n=t.options,r=e;return e=Bue(e),t.updateBox(),Gue(e,(function(i){t.actives.length<n.maxNumberOfNipples?t.processOnStart(i):r.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach((function(n){if(Object.values(r.touches).findIndex((function(e){return e.identifier===n}))<0){var i=[e[0]];i.identifier=n,t.processOnEnd(i)}})),t.actives.length<n.maxNumberOfNipples&&t.processOnStart(i))})),t.manager.bindDocument(),!1},the.prototype.processOnStart=function(e){var t,n=this,r=n.options,i=n.manager.getIdentifier(e),a=e.force||e.pressure||e.webkitForce||0,o={x:e.pageX,y:e.pageY},s=n.getOrCreate(i,o);s.identifier!==i&&n.manager.removeIdentifier(s.identifier),s.identifier=i;var l=function(t){t.trigger("start",t),n.trigger("start "+t.id+":start",t),t.show(),a>0&&n.pressureFn(e,t,t.identifier),n.processOnMove(e)};if((t=n.idles.indexOf(s))>=0&&n.idles.splice(t,1),n.actives.push(s),n.ids.push(s.identifier),"semi"!==r.mode)l(s);else{if(!(Oue(o,s.position)<=r.catchDistance))return s.destroy(),void n.processOnStart(e);l(s)}return s},the.prototype.getOrCreate=function(e,t){var n,r=this,i=r.options;return/(semi|static)/.test(i.mode)?(n=r.idles[0])?(r.idles.splice(0,1),n):"semi"===i.mode?r.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1):n=r.createNipple(t,e)},the.prototype.processOnMove=function(e){var t=this,n=t.options,r=t.manager.getIdentifier(e),i=t.nipples.get(r),a=t.manager.scroll;if((e=>isNaN(e.buttons)?0!==e.pressure:0!==e.buttons)(e)){if(!i)return console.error("Found zombie joystick with ID "+r),void t.manager.removeIdentifier(r);if(n.dynamicPage){var o=i.el.getBoundingClientRect();i.position={x:a.x+o.left,y:a.y+o.top}}i.identifier=r;var s=i.options.size/2,l={x:e.pageX,y:e.pageY};n.lockX&&(l.y=i.position.y),n.lockY&&(l.x=i.position.x);var c,u,h=Oue(l,i.position),d=((e,t)=>{let n=t.x-e.x,r=t.y-e.y;return(e=>e*(180/Math.PI))(Math.atan2(r,n))})(l,i.position),f=Iue(d),p=h/s,m={distance:h,position:l};if("circle"===i.options.shape?(c=Math.min(h,s),u=((e,t,n)=>{let r={x:0,y:0};return n=Iue(n),r.x=e.x-t*Math.cos(n),r.y=e.y-t*Math.sin(n),r})(i.position,c,d)):(u=((e,t,n)=>({x:Math.min(Math.max(e.x,t.x-n),t.x+n),y:Math.min(Math.max(e.y,t.y-n),t.y+n)}))(l,i.position,s),c=Oue(u,i.position)),n.follow){if(h>s){let e=l.x-u.x,n=l.y-u.y;i.position.x+=e,i.position.y+=n,i.el.style.top=i.position.y-(t.box.top+a.y)+"px",i.el.style.left=i.position.x-(t.box.left+a.x)+"px",h=Oue(l,i.position)}}else l=u,h=c;var g=l.x-i.position.x,v=l.y-i.position.y;i.frontPosition={x:g,y:v},n.dataOnly||Uue(i.ui.front,i.frontPosition);var y={identifier:i.identifier,position:l,force:p,pressure:e.force||e.pressure||e.webkitForce||0,distance:h,angle:{radian:f,degree:d},vector:{x:g/s,y:-v/s},raw:m,instance:i,lockX:n.lockX,lockY:n.lockY};(y=i.computeDirection(y)).angle={radian:Iue(180-d),degree:180-d},i.trigger("move",y),t.trigger("move "+i.id+":move",y)}else this.processOnEnd(e)},the.prototype.processOnEnd=function(e){var t=this,n=t.options,r=t.manager.getIdentifier(e),i=t.nipples.get(r),a=t.manager.removeIdentifier(i.identifier);!i||(n.dataOnly||i.hide((function(){"dynamic"===n.mode&&(i.trigger("removed",i),t.trigger("removed "+i.id+":removed",i),t.manager.trigger("removed "+i.id+":removed",i),i.destroy())})),clearInterval(t.pressureIntervals[i.identifier]),i.resetDirection(),i.trigger("end",i),t.trigger("end "+i.id+":end",i),t.ids.indexOf(i.identifier)>=0&&t.ids.splice(t.ids.indexOf(i.identifier),1),t.actives.indexOf(i)>=0&&t.actives.splice(t.actives.indexOf(i),1),/(semi|static)/.test(n.mode)?t.idles.push(i):t.nipples.indexOf(i)>=0&&t.nipples.splice(t.nipples.indexOf(i),1),t.manager.unbindDocument(),/(semi|static)/.test(n.mode)&&(t.manager.ids[a.id]=a.identifier))},the.prototype.onDestroyed=function(e,t){var n=this;n.nipples.indexOf(t)>=0&&n.nipples.splice(n.nipples.indexOf(t),1),n.actives.indexOf(t)>=0&&n.actives.splice(n.actives.indexOf(t),1),n.idles.indexOf(t)>=0&&n.idles.splice(n.idles.indexOf(t),1),n.ids.indexOf(t.identifier)>=0&&n.ids.splice(n.ids.indexOf(t.identifier),1),n.manager.removeIdentifier(t.identifier),n.manager.unbindDocument()},the.prototype.destroy=function(){var e=this;for(var t in e.unbindEvt(e.options.zone,"start"),e.nipples.forEach((function(e){e.destroy()})),e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};var nhe=the;function rhe(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=Fue(),t.config(e),t.prepareCollections();var n=function(){var e;t.collections.forEach((function(n){n.forEach((function(n){e=n.el.getBoundingClientRect(),n.position={x:t.scroll.x+e.left,y:t.scroll.y+e.top}}))}))};if(typeof window>"u")return t.collections;Nue(window,"resize",(function(){Lue(n)}));var r=function(){t.scroll=Fue()};return Nue(window,"scroll",(function(){Lue(r)})),t.collections}rhe.prototype=new Jue,rhe.constructor=rhe,rhe.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var n;return e.collections.every((function(e){return!(n=e.get(t))})),n}},rhe.prototype.create=function(e){return this.createCollection(e)},rhe.prototype.createCollection=function(e){var t=this,n=new nhe(t,e);return t.bindCollection(n),t.collections.push(n),n},rhe.prototype.bindCollection=function(e){var t,n=this,r=function(e,r){t=e.type+" "+r.id+":"+e.type,n.trigger(t,r)};e.on("destroyed",n.onDestroyed.bind(n)),e.on("shown hidden rested dir plain",r),e.on("dir:up dir:right dir:down dir:left",r),e.on("plain:up plain:right plain:down plain:left",r)},rhe.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)},rhe.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||!0===e)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)},rhe.prototype.getIdentifier=function(e){var t;return e?void 0===(t=void 0===e.identifier?e.pointerId:e.identifier)&&(t=this.latest||0):t=this.index,void 0===this.ids[t]&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]},rhe.prototype.removeIdentifier=function(e){var t={};for(var n in this.ids)if(this.ids[n]===e){t.id=n,t.identifier=this.ids[n],delete this.ids[n];break}return t},rhe.prototype.onmove=function(e){return this.onAny("move",e),!1},rhe.prototype.onend=function(e){return this.onAny("end",e),!1},rhe.prototype.oncancel=function(e){return this.onAny("end",e),!1},rhe.prototype.onAny=function(e,t){var n,r=this,i="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=Bue(t);var a=function(e,t,n){n.ids.indexOf(t)>=0&&(n[i](e),e._found_=!0)};return Gue(t,(function(e){n=r.getIdentifier(e),Gue(r.collections,a.bind(null,e,n)),e._found_||r.removeIdentifier(n)})),!1},rhe.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach((function(e){e.destroy()})),e.off()},rhe.prototype.onDestroyed=function(e,t){var n=this;if(n.collections.indexOf(t)<0)return!1;n.collections.splice(n.collections.indexOf(t),1)};var ihe=new rhe,ahe=new Map,ohe=new Map,she=class{constructor(e,t,n,r){this.data=t;let{audio:i,volume:a,delay:o,loop:s}=t;if(!i)throw new Error("Missing property");let l="string"==typeof i?r.getAudio(i).src:i.data;this.audioPlayer=new nae({src:l,volume:a,delay:o,loop:s}),ohe.has(n.uuid)?ohe.get(n.uuid).push(this):ohe.set(n.uuid,[this]),ahe.set(e,this)}playByToggle(){"stop"===this.data.toggle?"playing"===this.audioPlayer.status?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):"pause"===this.data.toggle?"playing"===this.audioPlayer.status?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.stop()}},lhe=class{constructor(e){this.data=e}dispatch(){this.data.playAudio?this.pauseAudio(this.data.playAudio):this.data.object?this.pauseAllAudiosFromObject(this.data.object):this.pauseAllAudios()}pauseAudio(e){let t=ahe.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout((()=>{t.audioPlayer[this.data.interaction](),this.disposeDelay()}),this.data.delay)):t.audioPlayer[this.data.interaction]())}pauseAllAudiosFromObject(e){let t=ohe.get(e);!t?.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout((()=>{t.forEach((e=>e.audioPlayer[this.data.interaction]())),this.disposeDelay()}),this.data.delay)):t.forEach((e=>e.audioPlayer[this.data.interaction]())))}pauseAllAudios(){let e=[...ohe.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout((()=>{e.forEach((e=>{e.forEach((e=>{e.audioPlayer[this.data.interaction]()}))})),this.disposeDelay()}),this.data.delay)):e.forEach((e=>{e.forEach((e=>{e.audioPlayer[this.data.interaction]()}))})))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},che=class{constructor(e,t,n,r,i){if(this.data=t,this.shared=r,this.condition=i,"play"===t.interaction)this.interaction=new she(e,t,n,r);else{if("pause"!==t.interaction&&"stop"!==t.interaction)throw new Error("Missing property");this.interaction=new lhe(t)}}dispatchBasic(){if(!1===tfe(this.shared,this.condition))return!1;this.interaction instanceof she?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(!1===tfe(this.shared,this.condition))return!1;this.interaction instanceof she?this.interaction.audioPlayer.play():this.interaction.dispatch()}dispatchGameControl(e){if(!1===tfe(this.shared,this.condition))return!1;this.interaction instanceof she&&("start"===e?this.interaction.audioPlayer.play():this.interaction.audioPlayer.stop())}dispose(){this.interaction.dispose()}},uhe=class{constructor(e,t,n,r){this.data=e,this.page=t,this.shared=n,this.condition=r,this.delay=0,this.emission=e.emission,void 0!==e.delay&&(this.delay=e.delay),this.particleSystem=this.page.scene.find(this.data.emitterObjectId)}toggleEmitting(){this.particleSystem.started&&!this.particleSystem.stopped?this.stop():this.start(this.delay)}toggleFroze(){this.particleSystem.started&&!this.particleSystem.isFrozen?this.freeze():this.unFreeze()}start(e=0){e?this.delayTimerId=window.setTimeout((()=>{this.start(0),this.clearDelay()}),this.delay):this.particleSystem.start()}stop(){this.particleSystem.stop(),this.clearDelay()}freeze(){this.particleSystem.froze(),this.clearDelay()}unFreeze(){this.particleSystem.unFroze(),this.clearDelay()}reset(){this.particleSystem.reset(),this.clearDelay()}reverseFromCurrent(){switch(this.emission){case"emitToggle":this.toggleEmitting();break;case"pauseToggle":this.toggleFroze()}}dispatchBasic(){if(!1===tfe(this.shared,this.condition)||!this.particleSystem)return!1;switch(this.emission){case"start":this.start(this.delay);break;case"emitToggle":this.toggleEmitting();break;case"pause":this.freeze();break;case"pauseToggle":this.toggleFroze();break;case"stop":this.stop();break;case"reset":this.reset()}}dispatchConditional(){if(!1===tfe(this.shared,this.condition)||!this.particleSystem)return!1;switch(this.emission){case"start":this.particleSystem.start();break;case"stop":this.particleSystem.stop();break;case"reset":this.particleSystem.reset()}}dispatchGameControl(e){if(!1===tfe(this.shared,this.condition)||!this.particleSystem)return!1;"start"===e?this.particleSystem.start():this.particleSystem.stop()}dispose(){!this.particleSystem||(this.particleSystem.reset(),this.clearDelay())}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}},hhe=(e,t)=>t.some((t=>t instanceof RegExp?t.test(e):t===e));var dhe=class{constructor(e,t,n,r,i){this.data=e,this.page=t,this.controlsManager=n,this.shared=r,this.condition=i,this.timeoutIdQueue=[],this.dispatchInner=()=>{this.objects.forEach(this.destroyCallback)},this.destroyCallback=e=>{this.timeoutIdQueue.shift();let t=this.page.scene.find(e);if(void 0===t)return;let n=this.controlsManager.sharedGameControlGlobals.rapierWorld,r=!n||t.dataPatched.physics?.fusedBody;if(t.cloner){for(let e of t.cloner.children)r?(e.playModeVisible=!1,e.rigidBody&&"positioned"===t.dataPatched.physics?.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(e.rigidBody.collider(0).handle),n.removeRigidBody(e.rigidBody),e.rigidBody=void 0),e.bvhGeometry&&(e.bvhGeometry=void 0)):void 0===this.clone||this.clone===e?(e.playModeVisible=!1,e.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(e.rigidBody.collider(0).handle),n.removeRigidBody(e.rigidBody),e.rigidBody=void 0)):void 0===e.playModeVisible&&(e.playModeVisible=!0);(r||void 0===this.clone||!1===this.clone)&&(t.visible=!1,t.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(t.rigidBody.collider(0).handle),n.removeRigidBody(t.rigidBody),t.rigidBody=void 0),t.bvhGeometry&&(t.bvhGeometry=void 0))}else t.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(t.rigidBody.collider(0).handle),n.removeRigidBody(t.rigidBody),t.rigidBody=void 0),t.bvhGeometry&&(t.bvhGeometry=void 0),t.visible=!1;this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=void 0===n?this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter((e=>void 0!==e.bvhGeometry)):this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter((e=>void 0!==e.rigidBody)),t.destroyedInAction=!0,this.controlsManager.requestRender()},this.objects=[...e.objects]}dispatch(e){if(!1===tfe(this.shared,this.condition))return!1;this.clone=e,this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay)):this.dispatchInner()}dispatchFromStart(){if(!1===tfe(this.shared,this.condition))return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay))}dispose(){this.timeoutIdQueue.forEach((e=>window.clearTimeout(e)))}},fhe=class{constructor(e,t,n,r,i){this.data=e,this.page=t,this.shared=n,this.eventManager=r,this.condition=i,this.shared=n}dispatch(){if(!1===tfe(this.shared,this.condition))return!1;clearTimeout(this.timeoutId),delete this.timeoutId,this.timeoutId=window.setTimeout((()=>{this.shared.reset(this.shared.data,!0),zde(this.page,this.shared,!0),this.eventManager.reset(),this.eventManager.controlsManager.gameControl?.reset(!0),this.page.switchToPlayCamera(),this.eventManager.controlsManager.requestRender(),delete this.timeoutId}),1e3*(this.data.delay??0))}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},phe={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,timelineChangeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},mhe={duration:1e3,delay:0,endDelay:0,startOnceDelay:0,pingPongDelayCorrection:0,pingPongEndDelayCorrection:0,easing:"easeOutElastic(1, .5)",round:0},ghe=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],vhe={CSS:{},springs:{}};function yhe(e,t,n){return Math.min(Math.max(e,t),n)}function whe(e,t){return e.indexOf(t)>-1}function bhe(e,t){return e.apply(null,t)}var xhe={arr:function(e){return Array.isArray(e)},obj:function(e){return whe(Object.prototype.toString.call(e),"Object")},pth:function(e){return xhe.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return!("isNode"in e)&&(e.nodeType||xhe.svg(e))},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return typeof e>"u"},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return xhe.hex(e)||xhe.rgb(e)||xhe.hsl(e)},key:function(e){return!phe.hasOwnProperty(e)&&!mhe.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function _he(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function She(e,t){var n=_he(e),r=yhe(xhe.und(n[0])?1:n[0],.1,100),i=yhe(xhe.und(n[1])?100:n[1],.1,100),a=yhe(xhe.und(n[2])?10:n[2],.1,100),o=yhe(xhe.und(n[3])?0:n[3],.1,100),s=Math.sqrt(i/r),l=a/(2*Math.sqrt(i*r)),c=l<1?s*Math.sqrt(1-l*l):0,u=l<1?(l*s-o)/c:-o+s;function h(e){var n=t?t*e/1e3:e;return n=l<1?Math.exp(-n*l*s)*(1*Math.cos(c*n)+u*Math.sin(c*n)):(1+u*n)*Math.exp(-n*s),0===e||1===e?e:1-n}return t?h:function(){var t=vhe.springs[e];if(t)return t;for(var n=1/6,r=0,i=0;;)if(1===h(r+=n)){if(++i>=16)break}else i=0;var a=r*n*1e3;return vhe.springs[e]=a,a}}function Ehe(e){return void 0===e&&(e=10),function(t){return Math.ceil(yhe(t,1e-6,1)*e)*(1/e)}}var Che=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function r(e){return 3*e}function i(e,i,a){return((t(i,a)*e+n(i,a))*e+r(i))*e}function a(e,i,a){return 3*t(i,a)*e*e+2*n(i,a)*e+r(i)}return function(t,n,r,o){if(0<=t&&t<=1&&0<=r&&r<=1){var s=new Float32Array(11);if(t!==n||r!==o)for(var l=0;l<11;++l)s[l]=i(l*e,t,r);return function(l){return t===n&&r===o||0===l||1===l?l:i(function(n){for(var o=0,l=1;10!==l&&s[l]<=n;++l)o+=e;--l;var c=o+(n-s[l])/(s[l+1]-s[l])*e,u=a(c,t,r);return u>=.001?function(e,t,n,r){for(var o=0;o<4;++o){var s=a(t,n,r);if(0===s)return t;t-=(i(t,n,r)-e)/s}return t}(n,c,t,r):0===u?c:function(e,t,n,r,a){var o,s,l=0;do{(o=i(s=t+(n-t)/2,r,a)-e)>0?n=s:t=s}while(Math.abs(o)>1e-7&&++l<10);return s}(n,o,o+e,t,r)}(l),n,o)}}}}(),Ahe=function(){var e={linear:function(){return function(e){return e}}},t={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=yhe(e,1,10),r=yhe(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}};return["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,n){t[e]=function(){return function(e){return Math.pow(e,n+2)}}})),Object.keys(t).forEach((function(n){var r=t[n];e["easeIn"+n]=r,e["easeOut"+n]=function(e,t){return function(n){return 1-r(e,t)(1-n)}},e["easeInOut"+n]=function(e,t){return function(n){return n<.5?r(e,t)(2*n)/2:1-r(e,t)(-2*n+2)/2}}})),e}();function The(e,t){if(xhe.fnc(e))return e;var n=e.split("(")[0],r=Ahe[n],i=_he(e);switch(n){case"spring":return She(e,t);case"cubicBezier":return bhe(Che,i);case"steps":return bhe(Ehe,i);default:return bhe(r,i)}}function Mhe(e){try{return document.querySelectorAll(e)}catch{return}}function Phe(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],a=0;a<n;a++)if(a in e){var o=e[a];t.call(r,o,a,e)&&i.push(o)}return i}function Dhe(e){return e.reduce((function(e,t){return e.concat(xhe.arr(t)?Dhe(t):t)}),[])}function khe(e){return xhe.arr(e)?e:(xhe.str(e)&&(e=Mhe(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function Ohe(e,t){return e.some((function(e){return e===t}))}function Ihe(e){var t={};for(var n in e)t[n]=e[n];return t}function Rhe(e,t){var n=Ihe(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function Lhe(e,t){var n=Ihe(e);for(var r in t)n[r]=xhe.und(e[r])?t[r]:e[r];return n}function Nhe(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function zhe(e,t){return xhe.fnc(e)?e(t.target,t.id,t.total):e}function Bhe(e,t){return e.getAttribute(t)}function Fhe(e,t,n){if(Ohe([n,"deg","rad","turn"],Nhe(t)))return t;var r=vhe.CSS[t+n];if(!xhe.und(r))return r;var i=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(i),i.style.position="absolute",i.style.width=100+n;var o=100/i.offsetWidth;a.removeChild(i);var s=o*parseFloat(t);return vhe.CSS[t+n]=s,s}function Uhe(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?Fhe(e,i,n):i}}function jhe(e,t){return xhe.dom(e)&&!xhe.inp(e)&&(Bhe(e,t)||xhe.svg(e)&&e[t])?"attribute":xhe.dom(e)&&Ohe(ghe,t)?"transform":xhe.dom(e)&&"transform"!==t&&Uhe(e,t)?"css":null!=e[t]?"object":void 0}function Vhe(e){if(xhe.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;t=r.exec(n);)i.set(t[1],t[2]);return i}}function Hhe(e,t,n,r){switch(jhe(e,t)){case"transform":return function(e,t,n,r){var i=whe(t,"scale")?1:0+function(e){return whe(e,"translate")||"perspective"===e?"px":whe(e,"rotate")||whe(e,"skew")?"deg":void 0}(t),a=Vhe(e).get(t)||i;return n&&(n.transforms.list.set(t,a),n.transforms.last=t),r?Fhe(e,a,r):a}(e,t,r,n);case"css":return Uhe(e,t,n);case"attribute":return Bhe(e,t);default:return e[t]||0}}function Ghe(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=Nhe(e)||0,i=parseFloat(t),a=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+a+r;case"-":return i-a+r;case"*":return i*a+r}}function Whe(e,t){if(xhe.col(e))return function(e){return xhe.rgb(e)?function(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}(e):xhe.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):xhe.hsl(e)?function(e){var t,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),a=parseInt(i[1],10)/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,l=i[4]||1;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=r=s;else{var u=s<.5?s*(1+o):s+o-s*o,h=2*s-u;t=c(h,u,a+1/3),n=c(h,u,a),r=c(h,u,a-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+l+")"}(e):void 0}(e);if(/\s/g.test(e))return e;var n=Nhe(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function qhe(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Xhe(e){for(var t,n=e.points,r=0,i=0;i<n.numberOfItems;i++){var a=n.getItem(i);i>0&&(r+=qhe(t,a)),t=a}return r}function Yhe(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*Bhe(e,"r")}(e);case"rect":return function(e){return 2*Bhe(e,"width")+2*Bhe(e,"height")}(e);case"line":return function(e){return qhe({x:Bhe(e,"x1"),y:Bhe(e,"y1")},{x:Bhe(e,"x2"),y:Bhe(e,"y2")})}(e);case"polyline":return Xhe(e);case"polygon":return function(e){var t=e.points;return Xhe(e)+qhe(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function Qhe(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;xhe.svg(t)&&xhe.svg(t.parentNode);)t=t.parentNode;return t}(e),i=r.getBoundingClientRect(),a=Bhe(r,"viewBox"),o=i.width,s=i.height,l=n.viewBox||(a?a.split(" "):[0,0,o,s]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:o/l[2],h:s/l[3]}}function Khe(e,t){function n(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var r=Qhe(e.el,e.svg),i=n(),a=n(-1),o=n(1);switch(e.property){case"x":return(i.x-r.x)*r.w;case"y":return(i.y-r.y)*r.h;case"angle":return 180*Math.atan2(o.y-a.y,o.x-a.x)/Math.PI}}function Zhe(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Whe(xhe.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:xhe.str(e)||t?r.split(n):[]}}function Jhe(e){return Phe(e?Dhe(xhe.arr(e)?e.map(khe):khe(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function $he(e){var t=Jhe(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:Vhe(e)}}}))}function ede(e,t){var n=Ihe(t);if(/^spring/.test(n.easing)&&(n.duration=She(n.easing)),xhe.arr(e)){var r=e.length;2!==r||xhe.obj(e[0])?xhe.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}var i=xhe.arr(e)?e:[e];return i.map((function(e,n){var r=xhe.obj(e)&&!xhe.pth(e)?e:{value:e};return xhe.und(r.delay)&&(r.delay=n?0:t.delay),xhe.und(r.endDelay)&&(r.endDelay=n===i.length-1?t.endDelay:0),r})).map((function(e){return Lhe(e,n)}))}var tde={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var a="";r.list.forEach((function(e,t){a+=t+"("+e+") "})),e.style.transform=a}}};function nde(e,t){$he(e).forEach((function(e){for(var n in t){var r=zhe(t[n],e),i=e.target,a=Nhe(r),o=Hhe(i,n,a,e),s=Ghe(Whe(r,a||Nhe(o)),o),l=jhe(i,n);tde[l](i,n,s,e.transforms,!0)}}))}function rde(e,t){return Phe(Dhe(e.map((function(e){return t.map((function(t){return function(e,t){var n=jhe(e.target,t.name);if(n){var r=function(e,t){var n;return e.tweens.map((function(r){var i=function(e,t){var n={};for(var r in e){var i=zhe(e[r],t);xhe.arr(i)&&1===(i=i.map((function(e){return zhe(e,t)}))).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),a=i.value,o=xhe.arr(a)?a[1]:a,s=Nhe(o),l=Hhe(t.target,e.name,s,t),c=n?n.to.original:l,u=xhe.arr(a)?a[0]:c,h=Nhe(u)||Nhe(l),d=s||h;return xhe.und(o)&&(o=c),i.from=Zhe(u,d),i.to=Zhe(Ghe(o,u),d),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=The(i.easing,i.duration),i.isPath=xhe.pth(a),i.isColor=xhe.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(e,t)}))}))),(function(e){return!xhe.und(e)}))}function ide(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map((function(e){let t=e.startOnceDelay??0,n=e.pingPongDelayCorrection??0,i=e.pingPongEndDelayCorrection??0;return r(e)+t+n+i+e.duration*(e.loop??1)}))):t.duration,i.delay=n?Math.min.apply(Math,e.map((function(e){let t=e.startOnceDelay??0,n=e.pingPongDelayCorrection??0;return r(e)+t+n+e.delay}))):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map((function(e){let t=e.startOnceDelay??0,n=e.pingPongDelayCorrection??0,i=e.pingPongEndDelayCorrection??0;return r(e)+t+n+e.duration*(e.loop??1)-e.endDelay-i}))):t.endDelay,i}var ade,ode=0,sde=[],lde=[],cde=function(){function e(){ade=requestAnimationFrame(t)}function t(t){var n=sde.length;if(n){for(var r=0;r<n;){var i=sde[r];i.paused?(sde.splice(r,1),n-=1):(i.tick(t),r++)}e()}else ade=cancelAnimationFrame(ade)}return e}();function ude(e){void 0===e&&(e={});var t,n,r=0,i=0,a=0,o=0,s=null;function l(e){var t=window.Promise&&new Promise((function(e){return s=e}));return e.finished=t,t}var c=function(e){var t=Rhe(phe,e),n=Rhe(mhe,e),r=function(e,t){var n=[],r=t.keyframes;for(var i in r&&(t=Lhe(function(e){for(var t=Phe(Dhe(e.map((function(e){return Object.keys(e)}))),(function(e){return xhe.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var i=t[r];n[i]=e.map((function(e){var t={};for(var n in e)xhe.key(n)?n==i&&(t.value=e[n]):t[n]=e[n];return t}))},i=0;i<t.length;i++)r(i);return n}(r),t)),t)xhe.key(i)&&n.push({name:i,tweens:ede(t[i],e)});return n}(n,e),i=$he(e.targets),a=rde(i,r),o=ide(a,n),s=ode;return ode++,Lhe(t,{id:s,children:[],animatables:i,animations:a,duration:o.duration,delay:o.delay,endDelay:o.endDelay,startOnceDelay:n.startOnceDelay,pingPongDelayCorrection:n.pingPongDelayCorrection,pingPongEndDelayCorrection:n.pingPongEndDelayCorrection})}(e);function u(){var e=c.direction;"alternate"!==e&&(c.direction="normal"!==e?"normal":"reverse"),c.reversed=!c.reversed,n.forEach((function(e){(1===e.loop||e.loop%2==0)&&(e.reversed=c.reversed)}))}function h(e){return c.reversed?c.duration-e:e}function d(e,t,n=!1){t&&(c.reversed?t.seek(t.duration*t.loop-(e-t.timelineOffset-t.pingPongDelayCorrection),n):t.seek(e-t.timelineOffset-t.startOnceDelay-t.pingPongDelayCorrection,n))}function f(e){var t=0,n=c.animations,r=n.length;for("alternate"!==c.direction&&"alternate"===c.parent?.direction?!1===c.parent?.rewind&&!0===c.reversePlayback&&!1===c.rewind&&(e=c.parent?.reversed&&"alternate"===c.direction?c.duration-c.delay+c.endDelay-e:c.duration+c.delay-c.endDelay-e):g(!1,c.parent?.rewind,c.rewind,c.parent?.reversePlayback,c.reversePlayback)&&(e=c.parent?.reversed&&"alternate"===c.direction?c.duration-c.delay+c.endDelay-e:c.duration+c.delay-c.endDelay-e);t<r;){var i=n[t],a=i.animatable,o=i.tweens,s=o.length-1,l=o[s];let r;s&&(l=Phe(o,(function(t){return e<t.end}))[0]||l),r=c.parent?.reversed&&"alternate"===c.direction?yhe(e-l.start-l.endDelay,0,l.duration)/l.duration:yhe(e-l.start-l.delay,0,l.duration)/l.duration;for(var u=isNaN(r)?1:l.easing(r),h=l.to.strings,d=l.round,f=[],p=l.to.numbers.length,m=void 0,v=0;v<p;v++){var y=void 0;let e,t;"alternate"!==c.direction?!1===c.parent?.rewind&&!0===c.reversePlayback&&!1===c.rewind?(e=l.to.numbers[v],t=l.from.numbers[v]||0):(t=l.to.numbers[v],e=l.from.numbers[v]||0):g(!0,c.parent?.rewind,c.rewind,c.parent?.reversePlayback,c.reversePlayback)?(e=l.to.numbers[v],t=l.from.numbers[v]||0):(t=l.to.numbers[v],e=l.from.numbers[v]||0),y=l.isPath?Khe(l.value,u*t):e+u*(t-e),d&&(l.isColor&&v>2||(y=Math.round(y*d)/d)),f.push(y)}var w=h.length;if(w){m=h[0];for(var b=0;b<w;b++){h[b];var x=h[b+1],_=f[b];isNaN(_)||(m+=x?_+x:_+" ")}}else m=f[0];tde[i.type](a.target,i.property,m,a.transforms),i.currentValue=m,t++}}function p(e){c[e]&&!c.passThrough&&c[e](c)}l(c);let m={0:!1,1:!0,2:!1,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1,9:!0,10:!0,11:!1,12:!1,13:!1,14:!0,15:!0,16:!1,17:!0,18:!0,19:!1,20:!1,21:!1,22:!0,23:!0,24:!1,25:!0,26:!1,27:!0,28:!1,29:!1,30:!1,31:!1};function g(e,t,n,r,i){return m[e<<4|t<<3|n<<2|r<<1|i]}function v(e,t=!1){var i=c.duration;let a=c.delay,m=i-c.endDelay;c.parent?.reversed&&"alternate"===c.direction&&(a=c.endDelay,m=i-c.delay);var g=h(e);if(c.progress=yhe(g/i*100,0,100),t||(c.reversePlayback=g<c.currentTime),o&&function(e,t=!1){if(c.reversed)for(var r=o;r--;)d(e,n[r],t);else for(var i=0;i<o;i++)d(e,n[i],t)}(g,t),!c.began&&c.currentTime>=0&&(c.began=!0,p("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,p("loopBegin")),(c.reversed||g>=0)&&g<=a&&0!==c.currentTime&&(f(0),p("change")),(g>=m&&c.currentTime!==i+c.pingPongDelayCorrection||!i)&&(f(i),p("change")),g>a&&g<m?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,p("changeBegin")),f(g),p("change")):c.changeBegan?(c.changeCompleted=!0,c.changeBegan=!1,p("change"),o&&p("timelineChangeComplete")):c.began&&g>m&&p("changeComplete"),c.currentTime=yhe(g,0,i+c.pingPongDelayCorrection),c.began&&p("update"),e>=i)if(c.remaining&&!0!==c.remaining&&c.remaining--,c.remaining){r+=o?c.duration/ude.speed:c.duration;for(let e of n)e.setStartTime(0),e.remaining=e.loop;p("loopComplete"),c.loopBegan=!1,"alternate"===c.direction?u():o&&(c.direction="normal",c.reversed=!1,n.forEach((function(e){return e.reversed=!1})))}else c.paused=!0,c.completed||(c.completed=!0,p("loopComplete"),p("complete"),!c.passThrough&&"Promise"in window&&(s(),l(c)))}return c.reset=function(){var e=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed="reverse"===e,c.remaining=c.loop,n=c.children;for(var t=o=n.length;t--;)c.children[t].reset();f(c.reversed?c.duration:0)},c.setStartTime=function(e){r=e},c.set=function(e,t){return nde(e,t),c},c.tick=function(e){a=e,r||(r=a),v((a+(i-r))*ude.speed)},c.seek=function(e,t=!1){v(e-r,t)},c.pause=function(e){c.paused=!0,o&&(t=e??performance.now())},c.play=function(e){!c.paused||(c.completed&&c.reset(),c.paused=!1,sde.push(c),o&&void 0!==t&&(r+=(e??performance.now())-t),ade||cde())},c.reverse=function(){u(),c.completed=!c.reversed,r=0,i=h(c.currentTime)*(1/ude.speed)},c.restart=function(){c.reset(),c.play()},c.reset(),c.autoplay&&c.play(),c}function hde(e,t){for(var n=t.length;n--;)Ohe(e,t[n].animatable.target)&&t.splice(n,1)}typeof document<"u"&&document.addEventListener("visibilitychange",(function(e){document.hidden?(sde.forEach((function(t){return t.pause(e.timeStamp)})),lde=sde.slice(0),ude.running=sde=[]):lde.forEach((function(t){return t.play(e.timeStamp)}))})),ude.version="3.2.0",ude.speed=1,ude.running=sde,ude.remove=function(e){for(var t=Jhe(e),n=sde.length;n--;){var r=sde[n],i=r.animations,a=r.children;hde(t,i);for(var o=a.length;o--;){var s=a[o],l=s.animations;hde(t,l),!l.length&&!s.children.length&&a.splice(o,1)}!i.length&&!a.length&&r.pause()}},ude.get=Hhe,ude.set=nde,ude.convertPx=Fhe,ude.path=function(e,t){var n=xhe.str(e)?Mhe(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:Qhe(n),totalLength:Yhe(n)*(r/100)}}},ude.setDashoffset=function(e){var t=Yhe(e);return e.setAttribute("stroke-dasharray",t),t},ude.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?The(t.easing):null,i=t.grid,a=t.axis,o=t.from||0,s="first"===o,l="center"===o,c="last"===o,u=xhe.arr(e),h=parseFloat(u?e[0]:e),d=u?parseFloat(e[1]):0,f=Nhe(u?e[1]:e)||0,p=t.start||0+(u?h:0),m=[],g=0;return function(e,t,v){if(s&&(o=0),l&&(o=(v-1)/2),c&&(o=v-1),!m.length){for(var y=0;y<v;y++){if(i){var w=l?(i[0]-1)/2:o%i[0],b=l?(i[1]-1)/2:Math.floor(o/i[0]),x=w-y%i[0],_=b-Math.floor(y/i[0]),S=Math.sqrt(x*x+_*_);"x"===a&&(S=-x),"y"===a&&(S=-_),m.push(S)}else m.push(Math.abs(o-y));g=Math.max.apply(Math,m)}r&&(m=m.map((function(e){return r(e/g)*g}))),"reverse"===n&&(m=m.map((function(e){return a?e<0?-1*e:-e:Math.abs(g-e)})))}return p+(u?(d-h)/g:h)*(Math.round(100*m[t])/100)+f}},ude.timeline=function(e){void 0===e&&(e={});var t=ude(e);return t.duration=0,t.add=function(n,r){var i=sde.indexOf(t),a=t.children;function o(e){e.passThrough=!0}i>-1&&sde.splice(i,1);for(var s=0;s<a.length;s++)o(a[s]);var l=Lhe(n,Rhe(mhe,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.timelineOffset=xhe.und(r)?c:Ghe(r,c),o(t);var u=ude(l);o(u),a.push(u),u.parent=t;var h=ide(a,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,!0===u.loop&&(t.duration=1/0),t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ude.easing=The,ude.penner=Ahe,ude.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var dde=ude,fde=new tH,pde=new tH,mde=new eH;function gde(e,t,n,r,i,a){let o=n[e]?n[e]:void 0,s=r[e];if(null==s)return;let l=null!=o?"string"==typeof o?Number(i.getVariable(o)??0):o:t[e],c="string"==typeof s?Number(i.getVariable(s)??0):s;return l!==c?{update:n=>{let r=CV.lerp(l,c,n);t[e]=a?Math.trunc(r):r},start:()=>{t[e]=l},end:()=>{t[e]=c}}:void 0}function vde(e,t,n,r,i,a){let o=n[e]?n[e]:void 0,s=r[e];if(!s)return;let l=t[e],c=[...o??l].map((e=>"string"==typeof e?Number(i.getVariable(e)??0):e)),u=[...s].map((e=>"string"==typeof e?Number(i.getVariable(e)??0):e));return c.length!==u.length||m1(c,u)?void 0:{update:n=>{c.forEach(((r,i)=>{let o=CV.lerp(r,u[i],n);t[e][i]=a?Math.trunc(o):o}))},start:()=>{Object.assign(t[e],c)},end:()=>{Object.assign(t[e],u)}}}function yde(e,t,n){return t.forEach(((t,r)=>{e.setComponent(r,"string"==typeof t?Number(n.getVariable(t)??0):t)})),e}function wde(e,t,n,r,i){let a=n[e]?n[e]:void 0,o=r[e];if(!o)return;let s=t[e],l=a?yde(new tH,a,i):s.clone(),c=yde(new tH,o,i);return l.equals(c)?void 0:{update:e=>{s.lerpVectors(l,c,e)},start:()=>{s.copy(l)},end:()=>{s.copy(c)}}}function bde(e,t,n){return t.forEach(((t,r)=>{e.setComponent(r,"string"==typeof t?Number(n.getVariable(t)??0):t)})),e}function xde(e,t,n,r,i){let a=n[e]?n[e]:void 0,o=r[e];if(!o)return;let s=t[e],l=!(s instanceof AV),c=s instanceof AV?s:(new AV).fromArray(s),u=a?bde(new AV,a,i):c.clone(),h=bde(new AV,o,i);return u.equals(h)?void 0:{update:n=>{c.lerpVectors(u,h,n),l&&(t[e]=c.toArray())},start:()=>{c.copy(u),l&&(t[e]=c.toArray())},end:()=>{c.copy(h),l&&(t[e]=c.toArray())}}}function _de(e,t,n,r,i){let a=n[e]?n[e]:void 0,o=r[e];if(!o)return;let s=t[e],l=new bne(s.r,s.g,s.b,s.a),c=a?"string"==typeof a?i.getColor(a).clone():new bne(a.r,a.g,a.b,a.a):l.clone(),u="string"==typeof o?i.getColor(o).clone():new bne(o.r,o.g,o.b,o.a);return c.equals(u)?void 0:{update:n=>{l.lerpColors(c,u,n);let r=CV.lerp(c.a,u.a,n);l.a=r,t[e]={r:l.r,g:l.g,b:l.b,a:l.a}},start:()=>{l.copy(c)},end:()=>{l.copy(u)}}}function Sde(e,t,n,r,i){return"number"==typeof t[e]?gde(e,t,n??{},r,i):Array.isArray(t[e])?vde(e,t,n??{},r,i):void 0}function Ede(e,t,n,r){let i=[],a=qie(n,r)||!!t.layers&&qie(t,r);i.push(function(e,t){return{update:()=>{e.transparent=t}}}(e,a));for(let a of e.layers){let e=t.layers?.data(a.uuid),o=n.layers.data(a.uuid);if(!o||"light"!==a.type&&(!(a.visible??1)||!(o.visible??1)))continue;let s=a.getNames().filter((e=>!x5.some((t=>e.includes(t)))));for(let t of s)try{let n,s=a.getValue(t);if("colors"===t)n=kde(a,e,o,t);else if(Array.isArray(s))"steps"===t&&(n=Dde(a,e,o,t));else if("number"==typeof s)n=Cde(a,e,o,t,r);else{if("boolean"==typeof s)continue;s instanceof AV?n=Ade(a,e,o,t):s instanceof tH?n=Tde(a,e,o,t,r):s instanceof bne?n=Pde(a,e,o,t,r):s instanceof HV?n=Mde(a,e,o,t,r):"isTexture"in s&&(n=Ode(a,e,o,t))}n&&(Array.isArray(n)?i.push(...n):i.push(n))}catch(e){console.error(`lerpMaterial: unexpected material layer for ${t}`,e)}}return i}function Cde(e,t,n,r,i){if(!e.hasValue(r)||!(r in n))return;let a=t?t[r]:e.getValue(r),o=n[r],s="string"==typeof a?Number(i.getVariable(a)??0):a,l="string"==typeof o?Number(i.getVariable(o)??0):o;return s!==l?{update:t=>{e.setValue(r,CV.lerp(s,l,t))},start:()=>{e.setValue(r,s)},end:()=>{e.setValue(r,l)}}:void 0}function Ade(e,t,n,r){if(!e.hasValue(r)||!(r in n))return;let i=e.getValue(r),a=t?(new AV).fromArray(t[r]):i.clone(),o=(new AV).fromArray(n[r]);return a.equals(o)?void 0:{update:e=>{i.lerpVectors(a,o,e)},start:()=>{i.copy(a)},end:()=>{i.copy(o)}}}function Tde(e,t,n,r,i){if(!e.hasValue(r)||!(r in n))return;let a=e.getValue(r),o=t?t[r]:void 0,s=n[r],l=o?yde(new tH,o,i):a.clone(),c=yde(new tH,s,i);return l.equals(c)?void 0:{update:e=>{a.lerpVectors(l,c,e)},start:()=>{a.copy(l)},end:()=>{a.copy(c)}}}function Mde(e,t,n,r,i){if(!e.hasValue(r)||!(r in n))return;let a=t?t[r]:void 0,o=n[r],s=e.getValue(r),l=a?"string"==typeof a?i.getColor(a).clone():(new HV).setRGB(a.r,a.g,a.b):s.clone(),c="string"==typeof o?i.getColor(o).clone():(new HV).setRGB(o.r,o.g,o.b);if(l.equals(c))return;let u=s.clone();return{update:t=>{e.getValue(r)!==u&&e.setValue(r,u),u.lerpColors(l,c,t)},start:()=>{u.copy(l)},end:()=>{u.copy(c)}}}function Pde(e,t,n,r,i){if(!e.hasValue(r)||!(r in n))return;let a=t?t[r]:void 0,o=n[r],s=e.getValue(r),l=a?"string"==typeof a?i.getColor(a).clone():(new HV).setRGB(a.r,a.g,a.b):s.clone(),c="string"==typeof o?i.getColor(o).clone():new bne(o.r,o.g,o.b,o.a);if(l.equals(c))return;let u=s.clone();return{update:t=>{e.getValue(r)!==u&&e.setValue(r,u),u.lerpColors(l,c,t)},start:()=>{u.copy(l)},end:()=>{u.copy(c)}}}function Dde(e,t,n,r="steps"){if(!e.hasValue(r)||!(r in n))return;let i=[],a=e.getValue(r),o=t?t[r]:a,s=n[r];for(let e=0;e<a.length;++e){let t=o[e],n=s[e];t!==n&&i.push({update:r=>{a[e]=CV.lerp(t,n,r)},start:()=>{a[e]=t},end:()=>{a[e]=n}})}return i.length?i:void 0}function kde(e,t,n,r="colors"){if(!e.hasValue(r)||!(r in n))return;let i=[],a=e.getValue(r),o=t?t[r]:a.map((e=>e.toArray())),s=n[r];for(let e=0;e<a.length;++e){let t=[...o[e]],n=[...s[e]];L4.isEqual(t,n)||i.push({update:r=>{a[e].fromArray(L4.lerp(t,n,r))},start:()=>{a[e].fromArray(t)},end:()=>{a[e].fromArray(n)}})}return i.length?i:void 0}function Ode(e,t,n,r="texture"){if(!e.hasValue(r)||!(r in n))return;let i=e.getNode("mat");if(!i)return;let a=t?t[r]:i,o=n[r],s=[...a.repeat],l=[...a.offset],c=[...o.repeat],u=[...o.offset];return I4.isEqual(s,c)&&I4.isEqual(l,u)?void 0:{update:e=>{i.repeat=I4.lerp(s,c,e),i.offset=I4.lerp(l,u,e),i.updateMatrix()},start:()=>{i.repeat=[...s],i.offset=[...l],i.updateMatrix()},end:()=>{i.repeat=[...c],i.offset=[...u],i.updateMatrix()}}}var Ide=new tH,Rde=new jH;function Lde(e,t,n,r,i){let a=[];return e.data.visible&&a.push(...function(e,t,n,r,i){let a,o,s,l,c,u,h,d=[];if(e instanceof zle?(a=xde("position",e,t,n,i),a&&d.push(a),s=gde("rotation",e,t,n,i),s&&d.push(s)):(h={slide:t.pathSnapping?.slide??e.updatedPathSnapping?.slide??e.dataPatched.pathSnapping?.slide??0,offset:t.pathSnapping?.offset??e.updatedPathSnapping?.offset??e.dataPatched.pathSnapping?.offset??0},c=gde("slide",h,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,n.pathSnapping??e.dataPatched.pathSnapping,i),c&&d.push(c),u=gde("offset",h,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,n.pathSnapping??e.dataPatched.pathSnapping,i),u&&d.push(u),!c&&!u&&(a=wde("position",e,t,n,i),a&&d.push(a),o=wde("scale",e,t,n,i),o&&d.push(o),s=function(e,t,n,r,i){let a=t?.rotation?t.rotation.map((e=>("string"==typeof e?Number(i.getVariable(e)??0):e)*CV.DEG2RAD)):void 0,o=n.rotation?.map((e=>("string"==typeof e?Number(i.getVariable(e)??0):e)*CV.DEG2RAD));if(!o)return;let s=a?(new tH).fromArray(a):(new tH).setFromEuler(e.rotation),l=(new tH).fromArray(o);if(s.equals(l))return;let c=Ide.subVectors(l,s);if(r&&c.toArray().every((e=>Math.abs(e)<2*Math.PI))){let t=(new eH).setFromEuler(Rde.setFromVector3(s)),n=(new eH).setFromEuler(Rde.setFromVector3(l));return{update:r=>{!function(e,t,n,r){if(0===r)return n.copy(e);if(1===r)return n.copy(t);let i=e.w*t.w+e.x*t.x+e.y*t.y+e.z*t.z;if(i>=1)return n.copy(e);let a=1-i*i;if(a<=Number.EPSILON){let i=1-r;return n.w=i*e.w+r*t.w,n.x=i*e.x+r*t.x,n.y=i*e.y+r*t.y,n.z=i*e.z+r*t.z,n.normalize(),n}let o=Math.sqrt(a),s=Math.atan2(o,i),l=Math.sin((1-r)*s)/o,c=Math.sin(r*s)/o;n.w=e.w*l+t.w*c,n.x=e.x*l+t.x*c,n.y=e.y*l+t.y*c,n.z=e.z*l+t.z*c}(t,n,e.quaternion,r)},start:()=>{e.rotation.setFromVector3(s)},end:()=>{e.rotation.setFromVector3(l)}}}return{update:t=>{Ide.lerpVectors(s,l,t),e.rotation.setFromVector3(Ide)},start:()=>{e.rotation.setFromVector3(s)},end:()=>{e.rotation.setFromVector3(l)}}}(e,t,n,r,i),s&&d.push(s),l=function(e,t,n,r){let i=n[e]?n[e]:void 0,a=r[e];if(!a)return;let o=t[e],s=i?(new kH).fromArray(i):o.clone(),l=new tH,c=new eH,u=new tH;s.decompose(l,c,u);let h=(new kH).fromArray(a),d=new tH,f=new eH,p=new tH;return h.decompose(d,f,p),s.equals(h)?void 0:{update:e=>{mde.slerpQuaternions(c,f,e),fde.lerpVectors(l,d,e),pde.lerpVectors(u,p,e),o.compose(fde,mde,pde)},start:()=>{o.compose(l,c,u)},end:()=>{o.compose(d,f,p)}}}("hiddenMatrix",e,t,n),l&&d.push(l))),a||o||s||l||c||u){let n=e instanceof zle?()=>{e.updateWorldMatrix(!0)}:()=>{e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD()),e.parent?.matrixWorldFusedFalse&&(e.matrixWorld.multiplyMatrices(e.parent.matrixWorldFusedFalse,e.matrix),e.matrixWorldNeedsUpdate=!1),Boe(e)&&Foe(e.parent)&&e.invalidateDownstreamBooleanData(!0),e.updatePathSnapping(Object.assign({},t.pathSnapping,h))};d.push({update:n,start:n,end:n})}return d}(e,t,n,i,r)),e instanceof zle?a.push(...function(e,t,n,r,i){let a,o,s,l,c,u,h,d,f,p,m,g,v,y,w,b=[];if("width"in e&&(a=gde("width",e,t,n,i),a&&b.push(a)),"height"in e&&(o=gde("height",e,t,n,i),o&&b.push(o)),e instanceof sce||e instanceof dce){let r={...t.fill},a={...n.fill};void 0!==r.enabled&&r.enabled!==a.enabled&&(b.push(function(e,t){return{update:()=>{e instanceof sce&&(e.fill.enabled=!0)}}}(e)),r.enabled||Object.assign(r,{enabled:!0,color:{...r.color,a:0}}),a.enabled||Object.assign(a,{enabled:!0,color:{...a.color,a:0}})),s=_de("color",e.fill,r,a,i),s&&b.push(s)}if(e instanceof sce){let r={...t.stroke},a={...n.stroke};(r.enabled||a.enabled)&&(b.push(function(e,t){return{update:()=>{e instanceof sce&&(e.stroke.enabled=!0)}}}(e)),r.enabled||Object.assign(r,{enabled:!0,color:{...r.color,a:0}}),a.enabled||Object.assign(a,{enabled:!0,color:{...a.color,a:0}})),l=_de("color",e.stroke,r,a,i),l&&b.push(l),c=gde("thickness",e.stroke,r,a,i),c&&b.push(c)}if(e instanceof sce){let r={...t.dropShadow},a={...n.dropShadow};(r.enabled||a.enabled)&&(b.push(function(e,t){return{update:()=>{e instanceof sce&&(e.dropShadow.enabled=!0)}}}(e)),r.enabled||Object.assign(r,{enabled:!0,color:{...r.color,a:0}}),a.enabled||Object.assign(a,{enabled:!0,color:{...a.color,a:0}})),u=_de("color",e.dropShadow,r,a,i),u&&b.push(u),h=gde("blurRadius",e.dropShadow,r,a,i),h&&b.push(h),f=gde("spread",e.dropShadow,r,a,i),f&&b.push(f),d=xde("offset",e.dropShadow,r,a,i),d&&b.push(d)}if(e instanceof sce){let r={...t.innerShadow},a={...n.innerShadow};(r.enabled||a.enabled)&&(b.push(function(e,t){return{update:()=>{e instanceof sce&&(e.innerShadow.enabled=!0)}}}(e)),r.enabled||Object.assign(r,{enabled:!0,color:{...r.color,a:0}}),a.enabled||Object.assign(a,{enabled:!0,color:{...a.color,a:0}})),p=_de("color",e.innerShadow,r,a,i),p&&b.push(p),m=gde("blurRadius",e.innerShadow,r,a,i),m&&b.push(m),v=gde("spread",e.innerShadow,r,a,i),v&&b.push(v),g=xde("offset",e.innerShadow,r,a,i),g&&b.push(g)}if(e instanceof sce||e instanceof dce){let r={...t.backgroundBlur},a={...n.backgroundBlur};(r.enabled||a.enabled)&&(b.push(function(e,t){return{update:()=>{e instanceof sce&&(e.backgroundBlur.enabled=!0)}}}(e)),r.enabled||Object.assign(r,{enabled:!0,radius:0}),a.enabled||Object.assign(a,{enabled:!0,radius:0})),y=gde("radius",e.backgroundBlur,r,a,i),y&&b.push(y)}if(e instanceof sce){let r={...t.layerBlur},a={...n.layerBlur};(r.enabled||a.enabled)&&(b.push(function(e,t){return{update:()=>{e instanceof sce&&(e.layerBlur.enabled=!0)}}}(e)),r.enabled||Object.assign(r,{enabled:!0,radius:0}),a.enabled||Object.assign(a,{enabled:!0,radius:0})),w=gde("radius",e.layerBlur,r,a,i),w&&b.push(w)}if(e instanceof dce||e instanceof cce){let r=vde("cornerRadius",e,t,n,i);r&&b.push(r)}return b}(e,t,n,0,r)):(e.data.visible&&a.push(...function(e,t,n,r){let i=[];if(!("cloner"in n)||!e.cloner)return i;let a=e.cloner,o="cloner"in t?t.cloner:{},s=n.cloner;h5.forEach((e=>{let t;t="count"===e?gde("count",a.parameters,o,s,r,!0):Sde(e,a.parameters,o??{},s,r),t&&i.push(t)}));let l=function(e,t,n,r){if("radial"!==e.parameters.type)return;let i=t.radial,a=n.radial;if(!a)return;let o=e.parameters.radial,s=[];return d5.forEach((e=>{let t=Sde(e,o,i??{},a,r);t&&s.push(t)})),s}(a,o,s,r);l?.length&&i.push(...l);let c=function(e,t,n,r){if("linear"!==e.parameters.type)return;let i=t.linear,a=n.linear;if(!a)return;let o=[],s=e.parameters.linear;return f5.forEach((e=>{let t=Sde(e,s,i??{},a,r);t&&o.push(t)})),o}(a,o,s,r);c?.length&&i.push(...c);let u=function(e,t,n,r){if("grid"!==e.parameters.type)return;let i=t.grid,a=n.grid;if(!a)return;let o=[],s=e.parameters.grid;return p5.forEach((e=>{let t;t="count"===e?vde(e,s,i??{},a,r,!0):Sde(e,s,i??{},a,r),t&&o.push(t)})),o}(a,o,s,r);u?.length&&i.push(...u);let h=function(e,t,n,r){if("toObject"!==e.parameters.type)return;let i=t.toObject,a=n.toObject;if(!a)return;let o=[],s=e.parameters.toObject;return m5.forEach((e=>{let t;t="count"===e?gde(e,s,i??{},a,r,!0):Sde(e,s,i??{},a,r),t&&o.push(t)})),o}(a,o,s,r);h?.length&&i.push(...h);let d=function(e,t,n,r){if(!e.parameters.randomness)return;let i=t.randomnessObject,a=n.randomnessObject;if(!a)return;let o=[],s=e.parameters.randomnessObject;return g5.forEach((e=>{let t=Sde(e,s,i??{},a,r);t&&o.push(t)})),o}(a,o,s,r);return d?.length&&i.push(...d),i.length&&i.push({update:()=>{a.update()}}),i}(e,t,n,r)),Boe(e)?(e instanceof xae&&e.data.visible&&a.push(...function(e,t,n,r){let i=[];if(!("geometry"in n))return i;let a=e.geometry.userData.parameters,o="geometry"in t?t.geometry:{},s=n.geometry;if(e instanceof Tae){let t=function(e,t,n,r){if(void 0===n.scaleBaked)return;let i=(t.scaleBaked??e.data.geometry.scaleBaked).map((e=>"string"==typeof e?Number(r.getVariable(e)??0):e)),a=n.scaleBaked.map((e=>"string"==typeof e?Number(r.getVariable(e)??0):e));if(R4.isEqual(i,a))return;let o=[];return o.push({update:t=>{e.updateGeometryInteractions({scaleBaked:[CV.lerp(i[0],a[0],t),CV.lerp(i[1],a[1],t),CV.lerp(i[2],a[2],t)]},r),e.invalidateDownstreamBooleanData()},start:()=>{e.updateGeometryInteractions({scaleBaked:i},r),e.invalidateDownstreamBooleanData()},end:()=>{e.updateGeometryInteractions({scaleBaked:a},r),e.invalidateDownstreamBooleanData()}}),o}(e,o,s,r);t&&i.push(...t)}else{let t={};if(Object.assign(t,S1(a,v6)),v6.forEach((e=>{let n=Sde(e,t,o,s,r);n&&i.push(n)})),e instanceof Cce){Object.assign(t,{extrusion:{...a.extrusion}});let e=function(e,t,n,r){if(!n.extrusion)return;let i=e.extrusion,a=t.extrusion??{},o=n.extrusion,s=[];return P5.forEach((e=>{let t=Sde(e,i,a,o,r);t&&s.push(t)})),s}(t,o,s,r);e&&i.push(...e)}i.length&&i.push({update:n=>{e.updateGeometryInteractions(t,r),e.updateGeometryGroupsIfNeeded()},start:n=>{e.updateGeometryInteractions(t,r),e.updateGeometryGroupsIfNeeded()},end:n=>{e.updateGeometryInteractions(t,r),e.updateGeometryGroupsIfNeeded()}})}return i}(e,t,n,r)),e.data.visible&&a.push(...function(e,t,n,r){let i=[];if(Array.isArray(e.material)){if(!("materials"in n)||!n.materials)return i;let a="materials"in t&&t.materials?t.materials:[],o=n.materials;e.material.forEach(((e,t)=>{if(!o[t])return;let n=a[t]??{},s=o[t];"string"==typeof n||"string"==typeof s||i.push(...Ede(e,n,s,r))}))}else{if(!("material"in n)||!n.material)return i;let a="material"in t&&t.material?t.material:{},o=n.material;if("string"==typeof a||"string"==typeof o)return i;i.push(...Ede(e.material,a,o,r))}return i}(e,t,n,r))):(e=>Loe.is(e))(e)?e.data.visible&&a.push(...function(e,t,n,r){let i=[];if(void 0!==n.intensity){let a=gde("intensity",e,t,n,r);a&&i.push(a)}if(void 0!==n.color){let a=function(e,t,n,r,i){let a=n[e]?n[e]:void 0,o=r[e];if(!o)return;let s=t[e],l=a?"string"==typeof a?i.getColor(a).clone():(new HV).setRGB(a.r,a.g,a.b):s.clone(),c="string"==typeof o?i.getColor(o).clone():(new HV).setRGB(o.r,o.g,o.b);if(l.equals(c))return;let u=s.clone();return t[e]=u,{update:e=>{u.lerpColors(l,c,e)},start:()=>{u.copy(l)},end:()=>{u.copy(c)}}}("color",e,t,n,r);a&&i.push(a)}return i}(e,t,n,r)):(e=>e instanceof Moe)(e)&&a.push(...function(e,t,n,r){let i=[],a="OrthographicCamera"===e.cameraType?t.orthographic?.zoom:t.perspective?.zoom,o="OrthographicCamera"===e.cameraType?n.orthographic?.zoom:n.perspective?.zoom;if(void 0!==o){let t=a??e.zoom,n=o;t!==n&&i.push({update:r=>{e.zoom=CV.lerp(t,n,r),e.updateProjectionMatrix()},start:()=>{e.zoom=t,e.updateProjectionMatrix()},end:()=>{e.zoom=n,e.updateProjectionMatrix()}})}if(void 0!==n.targetOffset){let a=gde("targetOffset",e,t,n,r);a&&i.push(a)}return i}(e,t,n,r))),a.length?{update:e=>{a.forEach((t=>t.update(e)))},start:e=>{a.forEach((t=>t.start?.(e)))},end:e=>{a.forEach((t=>t.end?.(e)))}}:void 0}var Nde=new tH;function zde(e,t,n=!1){let r=[],i=n=>{let r=n.data;delete n.states,n.currentState=null,n.reversibleToState=null,n.currentTransitionEvent=null;for(let e of r.states){let t={...e.data};n.states||(n.states={}),n.states[e.id]=F6.patch(r,t)}Fde(e.scene,n,null,t,void 0!==r.events.find((e=>"Follow"===e.data.type||"LookAt"===e.data.type))),Bde(e)};e.scene.traverse2D(i),e.traverseChildren((a=>{if(n&&(a.rigidBody?.setTranslation(a.position0,!0),a.rigidBody?.setRotation(a.rotation0,!0),a.rigidBody?.setLinvel(Nde,!0),a.rigidBody?.setAngvel(Nde,!0)),!O7.is(a))return;let o=a.uuid,s=a.data;if(delete a.states,a.uuid===K4)return;let l=!1;r.some((t=>e.scene.find(o)?.isDescendantOf(t)))?l=!0:!0===s.physics?.fusedBody&&"dynamic"===s.physics.rigidBody&&r.push(o),a.data=s,a.currentState=null,a.reversibleToState=null,a.currentTransitionEvent=null;for(let t of s.states){let n={...t.data};!0===e.data.globalPhysics.usePhysics&&s.physics&&("dynamic"===s.physics.rigidBody||l)&&(void 0!==t.data.position&&delete n.position,void 0!==t.data.rotation&&delete n.rotation,void 0!==t.data.hiddenMatrix&&delete n.hiddenMatrix),a.states||(a.states={}),a.states[t.id]=$5.patch(s,n)}Fde(e.scene,a,null,t,void 0!==s.events.find((e=>"Follow"===e.data.type||"LookAt"===e.data.type))),Bde(e),a instanceof kce&&a.frame&&(a.frame.traverse((e=>i(e))),a.uiCanvas?.applySize())})),e.frame&&(e.frame.traverse((e=>i(e))),e.uiCanvas?.applySize())}function Bde(e){e.traverseEntity((t=>{for(let n of t.data.events){let t=[];switch(n.data.type){case"Follow":case"MouseHover":case"Scroll":case"MouseDown":case"MouseUp":case"MousePress":case"KeyUp":case"KeyDown":case"KeyPress":case"Collision":t.push(...n.data.actions);break;case"GameControl":for(let e of Object.values(n.data.gameActions))t.push(...e);break;case"DragDrop":t.push(...n.data.dragDropActions.drag,...n.data.dragDropActions.drop);break;case"Conditional":t.push(...n.data.inActions,...n.data.outActions)}for(let n of t)if("Create"===n.data.type&&"Yes"===n.data.hideBase){let t=e.scene.find(n.data.object);t&&(t.visible=!1)}}}))}function Fde(e,t,n,r,i=!1){if(t instanceof xae&&t.removeInteractionGeometry(r),t instanceof zle?t.changeSelectedState(n,{shared:r},i):t.changeSelectedState(n,{scene:e,shared:r},i),t instanceof xae&&t.updateGeometryGroupsIfNeeded(),t instanceof Moe&&t.updateCameraState(t.dataPatched,{scene:e,shared:r}),!(t instanceof zle)){if(t.cloner)for(let e of t.cloner.children)e.playModeVisible=void 0;t.updateVisible(e)}}function Ude(e){let t;if(5===e.easing){let{control1:n,control2:r}=e;t=`cubicBezier(\n\t\t\t${n[0]}, ${n[1]}, ${r[0]}, ${r[1]}\n\t\t)`}else if(6===e.easing){let{mass:n,stiffness:r,damping:i,velocity:a}=e;t=`spring( ${n}, ${r}, ${i}, ${a} )`}else{let n;switch(e.easing){case 0:default:n=V4.linear;break;case 1:n=V4.ease;break;case 2:n=V4.easeIn;break;case 3:n=V4.easeOut;break;case 4:n=V4.easeInOut}let[r,i,a,o]=n;t=`cubicBezier( ${r}, ${i}, ${a}, ${o} )`}return{duration:Math.max(e.duration,1e-4),easing:t}}function jde(e){let t={delay:0,loop:-1===e.repeat||e.repeat+1};if(0===e.repeat)t.direction="normal",t.rewind=!1;else switch(e.direction){case"pingpong":t.direction="alternate",t.rewind=!1;break;case"pingpong-rewind":t.direction="alternate",t.rewind=!0;break;default:t.direction="normal",t.rewind=!1}switch(t.delay=0,t.endDelay=0,t.startOnceDelay=0,t.pingPongDelayCorrection=0,t.pingPongEndDelayCorrection=0,e.delayDirection){case"start-once":t.startOnceDelay=e.delay;break;case"start":t.delay=e.delay;break;case"end":t.endDelay=e.delay;break;case"start-end":case void 0:t.delay=e.delay,t.endDelay=e.delay}return"alternate"===t.direction&&(t.delay/=2,t.endDelay/=2,"start"===e.delayDirection?(t.pingPongDelayCorrection=t.delay,"number"==typeof t.loop&&t.loop%2==0&&(t.pingPongEndDelayCorrection=t.delay)):"end"===e.delayDirection?"number"==typeof t.loop&&t.loop%2!=0&&(t.pingPongEndDelayCorrection=t.endDelay):"start-end"===e.delayDirection&&(t.pingPongDelayCorrection=t.delay,t.pingPongEndDelayCorrection=t.endDelay)),t}var Vde={type:"beginState"},Hde={type:"completeState",isfromEntity:!1},Gde=class{constructor(e,t,n,r,i,a){if(this.object=e,this.data=r,this.sharedAssets=i,this.allowSlerp=a,this.targets={t:0},this.firstLoop=!0,this._changeBegan=!1,this._changeCompleted=!0,this.onChange=()=>{this.callback&&(this.callback.update(this.targets.t),this.object.requestRender()),0===this.targets.t||1===this.targets.t?this._changeCompleted||(this._changeCompleted=!0,this._changeBegan=!1,this.onChangeComplete()):(this._changeCompleted&&(this._changeCompleted=!1),this._changeBegan||(this._changeBegan=!0,this.onChangeBegin()))},this.onChangeBegin=()=>{this.object.reversibleToState=this.to.id;let e=this.targets.t>.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=e,this.object.dispatchEvent({type:"beginState",state:e}),this.object instanceof zle||this.object.traverseEntity((e=>{e!==this.object&&e instanceof Moe&&e.dispatchEvent(Vde)}))},this.onChangeComplete=()=>{this.firstLoop&&(this.onFirstLoop(),this.firstLoop=!1),this.object.reversibleToState=this.to.id;let e=this.targets.t<.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=e,this.object.dispatchEvent({type:"completeState",state:e}),this.object instanceof zle||this.object.traverseEntity((e=>{e!==this.object&&e instanceof Moe&&e.dispatchEvent(Hde)}))},this.onFirstLoop=()=>{this.useCurrentState&&(this.callback=Lde(this.object,this.from.data,this.to.data,this.sharedAssets,this.allowSlerp))},void 0===t){let e=qde(this.object,this.object.currentState===n?this.object.prevState:this.object.currentState);if(!e)throw new Error("Missing property");this.from=e}else{let e=qde(this.object,t);if(!e)throw new Error("Missing property");this.from=e}if(void 0===n)throw new Error("Missing property");{let e=qde(this.object,n);if(!e)throw new Error("Missing property");this.to=e}this.useCurrentState=void 0===t||void 0===n,this.params={targets:this.targets,t:1,autoplay:!1,...jde(r),...Ude(r),change:this.onChange},this.callback=Lde(this.object,void 0===t?{}:this.from.data,void 0===n?{}:this.to.data,this.sharedAssets,this.allowSlerp)}get changeBegan(){return this._changeBegan}get changeCompleted(){return this._changeCompleted}},Wde=class extends hV{constructor(e,t,n,r){if(super(),this.data=e,this.page=t,this.shared=n,this.condition=r,this.toggleIsForward=!1,this.timelineNeedsRebuild=!1,this.useToggle=!1,this.onTimelineChangeComplete=()=>{"normal"!==this.data.tweens[0].data.direction&&(this.toggleIsForward=!this.toggleIsForward),!1!==this.timelineNeedsRebuild&&(this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!1,isRebuild:!0}),this.timeline.play())},!e.object)throw new Error("Missing property");let i=this.page.scene.find(e.object)??this.page.uiCanvas?.find(e.object)??this.page.scene.find2DInUIObjects(e.object);if(!i)throw new Error("Missing property");if(!i.states)throw new Error("Missing property");if(this.object=i,e.tweens.length<2)throw new Error("Missing property");this.tweens=Array(this.data.tweens.length-1),this.startOnceDelay="start-once"===e.tweens[0].data.delayDirection?e.tweens[0].data.delay:0,this.init()}get playing(){return this.timeline&&!1===this.timeline.paused}init(){this.initialCurrentState=qde(this.object,this.object.currentState).id,this.toggleIsForward=!1}get currentState(){return this.useToggle?this.initialCurrentState:this.object.currentState}buildTimeline({isForward:e=!0,needsRebuild:t=!1,isRebuild:n=!1}={}){try{let r=jde(this.data.tweens[0].data);n&&"number"==typeof r.loop&&r.loop--,this.timeline?.pause(),this.timeline=dde.timeline({autoplay:!1,...r,...!0===r.loop||r.loop>1?{timelineChangeComplete:this.onTimelineChangeComplete}:{}});let i=this.tweens.findIndex((e=>e?.changeBegan));if(!0===t&&(this.timelineNeedsRebuild=!0),e){let e=-1===i?0:i;for(let t=e;t<this.data.tweens.length-1;t++){let n,a=this.data.tweens[t],o=this.data.tweens[t+1];t!==e||!0!==this.object.wasMovedByUser&&!0!==this.object.previousAction?.playing?n=void 0===a.data.state?this.currentState:a.data.state:(n=void 0,this.object instanceof Moe&&(this.object.wasMovedByUser=!1));let s=new Gde(this.object,n,void 0===o.data.state?this.currentState:o.data.state,o.data,this.shared,this.data.allowSlerp??!1);-1!==i&&t===e&&Object.assign(s.params,{startOnceDelay:0}),this.tweens[t]=s,this.timeline.add(s.params,this.timeline.duration+(t===e?r.delay:0))}this.timeline.duration+=r.endDelay}else{let e=-1===i?this.data.tweens.length-1:i+1;for(let t=e;t>0;t--){let n,a=this.data.tweens[t],o=this.data.tweens[t-1];t!==e||!0!==this.object.wasMovedByUser&&!0!==this.object.previousAction?.playing?n=void 0===a.data.state?this.currentState:a.data.state:(n=void 0,this.object instanceof Moe&&(this.object.wasMovedByUser=!1));let s=new Gde(this.object,n,void 0===o.data.state?this.currentState:o.data.state,a.data,this.shared,this.data.allowSlerp??!1);-1!==i&&t===e&&Object.assign(s.params,{startOnceDelay:0}),this.tweens[t-1]=s,this.timeline.add(s.params,this.timeline.duration+(t===e?r.endDelay:0))}this.timeline.duration+=r.delay}}catch(e){e instanceof Error&&console.error(e.message)}!0===this.object.previousAction?.playing&&this.object.previousAction.pause(),this.object.previousAction=this}play(){if(!1===tfe(this.shared,this.condition)||this.playing)return!1;clearTimeout(this.timeoutId);let e=jde(this.data.tweens[0].data).pingPongDelayCorrection;this.timeoutId=window.setTimeout((()=>{try{this.buildTimeline(),this.timeline.play()}catch(e){e instanceof Error&&console.error(e.message)}}),this.startOnceDelay+e)}pause(){this.timeline?.pause(),clearTimeout(this.timeoutId),this.tweens=Array(this.data.tweens.length-1),delete this.timeoutId}stop(){this.pause();let e=void 0===this.data.tweens[0].data.state?this.initialCurrentState:this.data.tweens[0].data.state;this.object instanceof zle?this.object.changeSelectedState(e,{shared:this.shared}):this.object.changeSelectedState(e,{scene:this.page.scene,shared:this.shared}),this.object.currentState=e}seek(e){void 0===this.timeline&&this.buildTimeline(),this.timeline?.seek(e*this.timeline.duration,!0)}toggle(e){if(!1===tfe(this.shared,this.condition))return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward,this.playing?(this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!0}),this.timeline.play()):this.timeoutId=window.setTimeout((()=>{this.timeline?.pause(),this.buildTimeline({isForward:this.toggleIsForward}),this.timeline.play()}),this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause()}};function qde(e,t){let n,r;if("string"==typeof t?(n=t,r=e.states?.[n]):null===t&&(n=null,r=e.data),void 0!==n&&void 0!==r)return{id:n,data:r}}var Xde={type:"beginState"},Yde={type:"completeState",isfromEntity:!1},Qde={type:"requestRender"},Kde=class extends hV{constructor(e,t,n,r){super(),this.data=e,this.page=t,this.shared=n,this.condition=r,this.toggleIsForward=!1,this.useToggle=!1,this.posStart=new tH,this.posEnd=new tH,this.qStart=new eH,this.qEnd=new eH,this.zoomStart=1,this.zoomEnd=1}init(){}get playing(){return this.animation&&this.animation.began&&!this.animation.completed}buildAnimation(e=!1){if(!this.data.animate)return;let t=this.page.scene.find(this.data.targetCamera);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");let n={t:0};this.posStart.copy(this.page.activeCamera.position),this.qStart.copy(this.page.activeCamera.quaternion),this.zoomStart=this.page.activeCamera.zoom,this.animation=dde({targets:n,t:1,...Ude(this.data),update:()=>{0===n.t&&(this.useToggle&&!this.toggleIsForward?(this.posEnd.copy(this.fromCamera.position),this.qEnd.copy(this.fromCamera.quaternion),this.zoomEnd=this.fromCamera.zoom,this.switchCamera(this.fromCamera.uuid)):(this.posEnd.copy(t.position),this.qEnd.copy(t.quaternion),this.zoomEnd=t.zoom,this.fromCamera=this.page.activeCamera,this.switchCamera(t.uuid)),this.page.activeCamera.dispatchEvent(Xde));let e=this.page.activeCamera;e.position.lerpVectors(this.posStart,this.posEnd,n.t),e.quaternion.slerpQuaternions(this.qStart,this.qEnd,n.t),e.zoom=this.zoomStart+(this.zoomEnd-this.zoomStart)*n.t,e.wasMovedBySwitchCameraAction=!0,e.updateMatrix(),e.updateMatrixWorld(),e.updateProjectionMatrix(),e.dispatchEvent(Qde),1===n.t&&e.dispatchEvent(Yde)}})}switchCamera(e){let t=this.page.activeCamera,n=this.page.scene.find(e);if(!n||!n.visible)throw new ReferenceError("Target camera not founded or not visible");this.page.switchActiveCamera(n),t.dispatchEvent({type:"cameraChange",camera:n})}play(){if(!1===tfe(this.shared,this.condition))return!1;if(!this.playing&&this.page.activeCamera.uuid!==this.data.targetCamera)try{clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{delete this.timeoutId,this.data.animate?(this.buildAnimation(),this.animation?.play()):this.switchCamera(this.data.targetCamera)}),1e3*this.data.delay)}catch{}}pause(){this.animation?.pause(),clearTimeout(this.timeoutId),delete this.timeoutId}toggle(e){if(!1===tfe(this.shared,this.condition))return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward;try{this.playing?(this.animation?.pause(),this.buildAnimation(!0),this.animation?.play()):this.timeoutId=window.setTimeout((()=>{delete this.timeoutId,this.data.animate?(this.animation?.pause(),this.buildAnimation(),this.animation?.play()):(this.toggleIsForward?(this.fromCamera=this.page.activeCamera,this.switchCamera(this.data.targetCamera)):this.switchCamera(this.fromCamera.uuid),this.page.activeCamera.dispatchEvent(Yde),this.page.activeCamera.dispatchEvent(Qde))}),1e3*this.data.delay)}catch{}}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause(),this.toggleIsForward=!1}},Zde=class extends hV{constructor(e,t,n,r,i){super(),this.page=t,this.animationControls=n,this.shared=r,this.condition=i,this.startOnceDelay=0,this.toggleIsForward=!1;let a=e.object,o=t.scene.find(e.object);o&&Array.isArray(o.identity)&&(a=o.identity[0]),this.data={...e,object:a};let s=this.animationControls.clipIdToAction[e.clipId+"/"+a];this.duration=s?.getClip()?.duration??1;let l=s?.getClip()?.tracks[0]?.times.length??1/0;this.leftFrameTime=this.data.crop[0]/l*this.duration,this.rightFrameTime=this.data.crop[1]/l*this.duration,this.startOnceDelay=e.delay}get playing(){return this.threeAnimAction?.isRunning()??!1}play(e=!1){if(!1===tfe(this.shared,this.condition))return!1;window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{if(this.threeAnimAction=this.animationControls.play(this.data),!this.threeAnimAction)return;this.threeAnimAction.reset(),this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime;let t=this.data.object;Object.entries(this.animationControls.clipIdToAction).forEach((([n,r])=>{let i=n.split("/")[1];this.threeAnimAction!==r&&i===t&&r.isRunning()&&(e?r.fadeOut(.2):r.stop())})),e&&this.threeAnimAction?.fadeIn(.2)}),this.startOnceDelay)}pause(){this.threeAnimAction&&(this.threeAnimAction.paused=!0),window.clearTimeout(this.timeoutId),delete this.timeoutId}stop(){this.threeAnimAction?.fadeOut(.2)}seek(e){this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction&&(this.threeAnimAction.paused=!0,this.threeAnimAction.time=CV.clamp(this.threeAnimAction.time+1/60*e,this.leftFrameTime,this.rightFrameTime-16e-5),this.animationControls.needsUpdate=!0,this.animationControls.requestRender())}toggle(e,t=!1){if(!1===tfe(this.shared,this.condition))return!1;this.toggleIsForward=e??!this.toggleIsForward,this.threeAnimAction&&(this.threeAnimAction._loopCount=0),this.playing?this.threeAnimAction&&(this.threeAnimAction.timeScale=this.toggleIsForward?1:-1,this.toggleIsForward?(this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime)):this.timeoutId=window.setTimeout((()=>{if(this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction){this.toggleIsForward?(this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction.time=this.rightFrameTime,this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime),this.threeAnimAction.paused=!1,this.threeAnimAction.timeScale=this.toggleIsForward?1:-1;let e=this.data.clipId.split("/")[1];Object.entries(this.animationControls.clipIdToAction).forEach((([n,r])=>{let i=n.split("/")[1];this.threeAnimAction!==r&&i===e&&r.isRunning()&&(t?r.fadeOut(.2):r.stop())})),t&&this.threeAnimAction?.fadeIn(.2)}}),this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){let e=this.animationControls.clipIdToAction[this.data.clipId+"/"+this.data.object]?.getClip();e&&(e.duration=this.duration),this.pause()}},Jde=class{constructor(e,t,n,r,i){this.data=e,this.page=t,this.eventManager=n,this.shared=r,this.condition=i,this.timeOutId=-1,this.scene=t.scene}dispatch(){if(!1===tfe(this.shared,this.condition))return!1;this.data.target!==this.page.uuid&&(window.clearTimeout(this.timeOutId),this.timeOutId=window.setTimeout((()=>{this.play()}),1e3*this.data.delay))}dispose(){window.clearTimeout(this.timeOutId)}play(){if(this.scene.children.every((e=>e.uuid!==this.data.target)))return;"fade"===this.data.transition&&this.data.duration>0&&this.eventManager.eventContext.renderer.renderFromSceneForSceneTransitionPass(this.scene,this.scene.activeCamera,1e3*this.data.duration),this.eventManager.deactivate(),this.eventManager.controlsManager.deactivate();let e=this.scene.activeCamera;this.scene.updatePage(this.data.target),this.scene.traverseVisibleEntity((e=>{"ParticleSystem"===e.type&&(e.sleep(),e.wakeUp(),e.data.autoPlay?e.start():e.stop())})),this.scene.activePage.switchToPlayCamera(),this.scene.activeCamera.copyViewPlaneSize(e),zde(this.scene.activePage,this.shared),this.eventManager.activate(),this.eventManager.controlsManager.activate(this.eventManager)}},$de=class{constructor(e,t,n,r){this.data=e,this.page=t,this.shared=n,this.condition=r,this.evaluatedCondition=!1}checkConditions(){this.evaluatedCondition=tfe(this.shared,this.condition)}dispatch(){if(!1===this.evaluatedCondition)return!1;let e=this.shared.getVariable(this.data.variableId),t=pte(this.data.expression,this.shared,c6.typeOfVariable(e));void 0!==t&&this.shared.updateVariable(this.data.variableId,"string"==typeof t?{textValue:t}:t)}dispose(){}},efe=class{constructor(e,t,n,r){this.data=e,this.page=t,this.shared=n,this.condition=r,this.timeoutId=null}dispatchInner(){if(!1===tfe(this.shared,this.condition))return!1;let e=this.shared.getDynamicVariablePlayState(this.data.variableId);if("PlayPause"===this.data.mode)void 0===this.shared.getDynamicVariableToggleIsForward(this.data.variableId)&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"===e?"Paused":"Playing");else if("Play"===this.data.mode&&"Playing"!==e)void 0===this.shared.getDynamicVariableToggleIsForward(this.data.variableId)&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing");else if("Stop"===this.data.mode&&"Stopped"!==e)this.shared.setDynamicVariablePlayState(this.data.variableId,"Stopped");else if("Pause"===this.data.mode&&"Paused"!==e)this.shared.setDynamicVariablePlayState(this.data.variableId,"Paused");else if("Restart"===this.data.mode)this.shared.setDynamicVariablePlayState(this.data.variableId,"Restarted");else if("Toggle"===this.data.mode){let t=this.shared.getDynamicVariableToggleIsForward(this.data.variableId);"Playing"===e?this.shared.setDynamicVariableToggleIsForward(this.data.variableId,void 0!==t&&!t):(this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!t),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"))}}dispatch(){let e=this.data.delay,t=this.shared.getDynamicVariablePlayState(this.data.variableId);"PlayPause"===this.data.mode&&"Playing"===t&&(e=this.data.pauseDelay),0!==e?(this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{this.timeoutId=null,this.dispatchInner()}),e)):this.dispatchInner()}dispose(){this.timeoutId&&window.clearTimeout(this.timeoutId)}};function tfe(e,t){if(void 0===t)return!0;if(0===t.expression.length)return!1;let n=pte(t.expression,e,"boolean");return t.negate?!n:!!n}function nfe(e,t,n,r,i,a){let o={Audio:[],Video:[],Particles:[],Link:[],Destroy:[],Create:[],Reset:[],Transition:[],SwitchCamera:[],Animation:[],SceneTransition:[],SetVariable:[],DynamicVariablePlay:[]},s=t=>({id:l,data:c})=>{try{"Audio"!==c.type||a instanceof zle?"Video"!==c.type||a instanceof zle?"Particles"===c.type?O4[e.type].includes("Particles")&&o.Particles.push(new uhe(c,n,r,t)):"Link"===c.type?O4[e.type].includes("Link")&&o.Link.push(new class{constructor({url:e,context:t},n,r,i){if(this.controlsManager=n,this.shared=r,this.condition=i,!e)throw new Error("Missing property");this.url=e.startsWith("mailto:")?e:function(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return((e,{stripHash:t})=>{let n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!n)throw new Error(`Invalid URL: ${e}`);let{type:r,data:i,hash:a}=n.groups,o=r.split(";");a=t?"":a;let s=!1;"base64"===o[o.length-1]&&(o.pop(),s=!0);let l=(o.shift()||"").toLowerCase(),c=[...o.map((e=>{let[t,n=""]=e.split("=").map((e=>e.trim()));return"charset"===t&&(n=n.toLowerCase(),"us-ascii"===n)?"":`${t}${n?`=${n}`:""}`})).filter(Boolean)];return s&&c.push("base64"),(c.length>0||l&&"text/plain"!==l)&&c.unshift(l),`data:${c.join(";")},${s?i.trim():i}${a?`#${a}`:""}`})(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let r=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===r.protocol&&(r.protocol="http:"),t.forceHttps&&"http:"===r.protocol&&(r.protocol="https:"),t.stripAuthentication&&(r.username="",r.password=""),t.stripHash?r.hash="":t.stripTextFragment&&(r.hash=r.hash.replace(/#?:~:text.*?$/i,"")),r.pathname){let e=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,t=0,n="";for(;;){let i=e.exec(r.pathname);if(!i)break;let a=i[0],o=i.index;n+=r.pathname.slice(t,o).replace(/\/{2,}/g,"/"),n+=a,t=o+a.length}n+=r.pathname.slice(t,r.pathname.length).replace(/\/{2,}/g,"/"),r.pathname=n}if(r.pathname)try{r.pathname=decodeURI(r.pathname)}catch{}if(!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=r.pathname.split("/"),n=e[e.length-1];hhe(n,t.removeDirectoryIndex)&&(e=e.slice(0,-1),r.pathname=e.slice(1).join("/")+"/")}if(r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(r.hostname)&&(r.hostname=r.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let e of[...r.searchParams.keys()])hhe(e,t.removeQueryParameters)&&r.searchParams.delete(e);if(!0===t.removeQueryParameters&&(r.search=""),t.sortQueryParameters){r.searchParams.sort();try{r.search=decodeURIComponent(r.search)}catch{}}t.removeTrailingSlash&&(r.pathname=r.pathname.replace(/\/$/,""));let i=e;return e=r.toString(),!t.removeSingleSlash&&"/"===r.pathname&&!i.endsWith("/")&&""===r.hash&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||"/"===r.pathname)&&""===r.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}(e,{removeTrailingSlash:!1,removeSingleSlash:!1}),this.context=t??"tab"}dispatch(){if(!1===tfe(this.shared,this.condition))return!1;T1?window.location.assign(this.url):("tab"===this.context?window.open(this.url,"_blank"):"window"===this.context?window.open(this.url,"_blank",`width=${window.innerWidth}, height=${window.innerHeight}`):window.open(this.url,"_parent"),this.controlsManager.orbitControls?.onPointerUp(L1[0]),L1.splice(0,L1.length))}}(c,i.controlsManager,r,t)):"Create"===c.type?O4[e.type].includes("Create")&&o.Create.push(new pfe(c,n,i.controlsManager,r,t)):"Destroy"===c.type?O4[e.type].includes("Destroy")&&o.Destroy.push(new dhe(c,n,i.controlsManager,r,t)):"Reset"===c.type?O4[e.type].includes("Reset")&&o.Reset.push(new fhe(c,n,r,i,t)):"Transition"===c.type?O4[e.type].includes("Transition")&&o.Transition.push(new Wde(c,n,r,t)):"SwitchCamera"===c.type?O4[e.type].includes("SwitchCamera")&&o.SwitchCamera.push(new Kde(c,n,r,t)):"SceneTransition"===c.type?O4[e.type].includes("SceneTransition")&&o.SceneTransition.push(new Jde(c,n,i,r,t)):"Animation"===c.type?O4[e.type].includes("Animation")&&o.Animation.push(new Zde(c,n,i.animationControls,r,t)):"SetVariable"===c.type?O4[e.type].includes("SetVariable")&&o.SetVariable.push(new $de(c,n,r,t)):"DynamicVariablePlay"===c.type?O4[e.type].includes("DynamicVariablePlay")&&o.DynamicVariablePlay.push(new efe(c,n,r,t)):"Conditional"===c.type&&O4[e.type].includes("Conditional")&&(c.ifActions.forEach(s({expression:c.condition,negate:!1})),c.elseActions.forEach(s({expression:c.condition,negate:!0}))):O4[e.type].includes("Video")&&o.Video.push(new lfe(l,c,a,r,t)):O4[e.type].includes("Audio")&&o.Audio.push(new che(l,c,a,r,t))}catch(e){}};return t.forEach(s()),o}function rfe(e){Object.values(e).forEach((e=>{e.forEach((e=>{(e instanceof che||e instanceof lfe||e instanceof uhe||e instanceof Zde||e instanceof Wde||e instanceof pfe||e instanceof dhe||e instanceof Kde||e instanceof Jde||e instanceof fhe||e instanceof $de||e instanceof efe)&&e.dispose()}))}))}var ife=new Map,afe=new Map,ofe=class{constructor(e,t,n){this.data=t,this.delay=0,this.status="stopped";let{layerId:r,loop:i,volume:a,delay:o}=t;if(this.object=n,void 0===r)throw new Error("Missing property");let s=function(e,t){let n;if("material"in e){let r=e.material;n=Array.isArray(r)?e.material[0].layers.find((e=>e.uuid===t)):e.material.layers.find((e=>e.uuid===t))}if(n)return n.color.texture.image.img instanceof HTMLVideoElement?n.color.texture.image.img:void 0}(n,r);s&&(this.videoElement=s,this.videoElement.loop=i===1/0,T1&&(this.videoElement.autoplay=!0),void 0!==a&&(this.videoElement.volume=a)),void 0!==o&&(this.delay=o),afe.has(n.uuid)?afe.get(n.uuid).push(this):afe.set(n.uuid,[this]),ife.set(e,this),this.pause()}mute(){!this.videoElement||(this.videoElement.muted=!0)}unMute(){!this.videoElement||(this.videoElement.muted=!1)}play(e){if(!this.videoElement)return;let t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e?(this.mute(),this.delay+=150):t?(this.mute(),window.setTimeout((()=>{this.unMute()}),100)):this.unMute(),this.delayTimerId=window.setTimeout((()=>{if(!this.videoElement)return;let e=this.videoElement.play();void 0!==e&&e.then((e=>{})).catch((e=>{this.play()})),this.clearDelay()}),this.delay),this.status="playing"}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}pause(){!this.videoElement||(this.videoElement.pause(),this.status="paused")}stop(){!this.videoElement||(this.videoElement.pause(),this.videoElement.currentTime=0,this.status="stopped",this.clearDelay())}playByToggle(){"stop"===this.data.toggle?"playing"===this.status?this.stop():(this.stop(),this.play()):"pause"===this.data.toggle?"playing"===this.status?this.pause():this.play():(this.stop(),this.play())}dispose(){!this.videoElement||(this.stop(),this.videoElement.muted=!0)}},sfe=class{constructor(e){this.data=e}dispatch(){this.data.playVideo?this.pauseVideo(this.data.playVideo):this.data.object?this.pauseAllVideosFromObject(this.data.object):this.pauseAllVideos()}pauseVideo(e){let t=ife.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout((()=>{t[this.data.interaction](),this.disposeDelay()}),this.data.delay)):t[this.data.interaction]())}pauseAllVideosFromObject(e){let t=afe.get(e);!t?.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout((()=>{t.forEach((e=>e[this.data.interaction]())),this.disposeDelay()}),this.data.delay)):t.forEach((e=>e[this.data.interaction]())))}pauseAllVideos(){let e=[...afe.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout((()=>{e.forEach((e=>{e.forEach((e=>{e[this.data.interaction]()}))})),this.disposeDelay()}),this.data.delay)):e.forEach((e=>{e.forEach((e=>{e[this.data.interaction]()}))})))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},lfe=class{constructor(e,t,n,r,i){if(this.data=t,this.shared=r,this.condition=i,"play"===t.interaction)this.interaction=new ofe(e,t,n);else{if("pause"!==t.interaction&&"stop"!==t.interaction)throw new Error("Missing property");this.interaction=new sfe(t)}}dispatchBasic(){if(!1===tfe(this.shared,this.condition))return!1;this.interaction instanceof ofe?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(!1===tfe(this.shared,this.condition))return!1;this.interaction instanceof ofe?this.interaction.play():this.interaction.dispatch()}dispose(){this.interaction.dispose()}},cfe=(()=>{let e,t,n,r;function i(n){!e&&!ufe()&&t?.sharedGameControlGlobals.createdObjects.length>0&&(e=requestAnimationFrame(a)),n&&(t=n,r=n.requestRender)}function a(i){let o=n?i-n:0,s=t.sharedGameControlGlobals.createdObjects,l=t.sharedGameControlGlobals.nCreatedPerAction,c=s.length,u=0;for(;u<c;){let e=s[u];void 0===e.userData.createdTime&&(e.userData.createdTime=i),void 0===e.userData.lifetime&&void 0===e.userData.quantity||e.userData.lifetime&&i-e.userData.createdTime<e.userData.lifetime||e.userData.quantity&&l[e.userData.actionId]<=e.userData.quantity?(e.userData.velocity&&(e.position.addScaledVector(e.userData.velocity,o/1e3),e.updateMatrix(),r()),u++):(l[e.userData.actionId]>e.userData.quantity&&l[e.userData.actionId]--,s.splice(u,1),e.removeFromParent(),t.sharedGameControlGlobals.rapierWorld&&e.rigidBody?(t.sharedGameControlGlobals.colliderToEntity.delete(e.rigidBody.collider(0).handle),t.sharedGameControlGlobals.rapierWorld.removeRigidBody(e.rigidBody)):(e.bvhGeometry=void 0,t.sharedGameControlGlobals.entitiesWithTransformAnim=t.sharedGameControlGlobals.entitiesWithTransformAnim.filter((e=>void 0!==e.bvhGeometry))),c--,r())}e=u>0?requestAnimationFrame(a):void 0,n=u>0?i:void 0}return typeof document<"u"&&document.addEventListener("visibilitychange",(function(){ufe()?e&&(cancelAnimationFrame(e),e=void 0,n=void 0):i()})),i})();function ufe(){return!!document&&document.hidden}var hfe=new eH,dfe=new tH,ffe=new tH,pfe=class{constructor(e,t,n,r,i){this.data=e,this.page=t,this.controlsManager=n,this.shared=r,this.condition=i,this.intervalId=null,this.timeoutIdQueue=[],this.uniqueId=CV.generateUUID(),this.dispatch=()=>{if(!1===tfe(this.shared,this.condition))return!1;this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay)):this.dispatchInner()},this.dispatchFromStart=()=>{if(!1===tfe(this.shared,this.condition))return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,1e3*this.data.delay))},this.dispatchThrottled=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return nJ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),f1(e,t,{leading:r,maxWait:t,trailing:i})}(this.dispatch,1e3/this.data.creationSpeed),this.dispatchStart=()=>{null===this.intervalId&&(this.intervalId=window.setInterval(this.dispatch,1e3/this.data.creationSpeed))},this.dispatchStop=()=>{null!==this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null)},this.dispatchInner=()=>{this.timeoutIdQueue.shift();let e=new L7(this.object);if(e.playModeVisible=!0,e.expand(),"world"!==this.data.coordinateSystem){let t=this.data.coordinateSystem,n=this.page.scene.find(t);n&&(n.updateMatrixWorldSVD(),e.hiddenMatrix.copy(n.matrixWorldRigid))}e.position.fromArray(this.data.position),e.rotation.fromArray(this.data.rotation),e.updateMatrix(),this.page.add(e);let t=this.controlsManager.sharedGameControlGlobals;t.createdObjects.push(e),void 0===t.nCreatedPerAction[this.uniqueId]?t.nCreatedPerAction[this.uniqueId]=1:t.nCreatedPerAction[this.uniqueId]++,e.updateWorldMatrix(!0,!0),e.traverseObject(this.traverseObjectCB),cfe(),this.controlsManager.requestRender()},this.traverseObjectCB=e=>{let t;if(e.hasNonUniformScale&&e.updateMatrixWorldSVD(),this.controlsManager.sharedGameControlGlobals.rapierWorld){if(e instanceof coe){if(!e.objectForSample)return!0===e.object.dataPatched.physics.fusedBody&&"dynamic"===e.object.dataPatched.physics.rigidBody||void 0;if(e.objectForSample.dataPatched.physics.fusedBody)return;t=e.object}else if(e instanceof L7)t=e.object;else if(t=e,t.dataPatched.cloner?.hideBase)return!0}else{if(e instanceof coe)return;t=e instanceof L7?e.object:e}"Time"===this.data.destroy?e.userData.lifetime=1e3*this.data.lifetime:"Quantity"===this.data.destroy&&(e.userData.quantity=this.data.destroyAfterQuantity,e.userData.actionId=this.uniqueId);let n=(new tH).fromArray(this.data.velocity),r=t.dataPatched;if(!("visibility"===r.physics.enabled?!r.visible:!r.physics.enabled)&&(this.controlsManager.sharedGameControlGlobals.rapierWorld?(this.controlsManager.addRigidBody(e,t,{fromCreate:!0,dynamic:this.data.dynamic}),"Collision"===this.data.destroy&&(e.rigidBody?.collider(0).setActiveEvents(1),e.userData.hasCollisionDestroy=!0),e.matrixWorld.decompose(dfe,hfe,ffe),n.applyQuaternion(hfe),this.data.velocity.some((e=>0!==e))&&this.data.dynamic&&e.rigidBody?.setLinvel(n.divideScalar(this.controlsManager.pixelsPerMeter),!0)):("geometry"in e.object&&this.controlsManager.addBoundsTree(e),this.data.velocity.some((e=>0!==e))&&this.data.dynamic&&(e.userData.velocity=n)),!0===t.dataPatched.physics?.fusedBody))return!0};let a=this.page.scene.find(this.data.object);if(!a)throw new Error("Missing Property");if(this.object=a,"world"!==this.data.coordinateSystem&&!this.page.scene.find(this.data.coordinateSystem))throw new Error("Missing Property");cfe(n)}dispose(){null!==this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null),this.timeoutIdQueue.forEach((e=>window.clearTimeout(e))),this.dispatchThrottled.cancel(),this.page.remove(...this.controlsManager.sharedGameControlGlobals.createdObjects),this.controlsManager.sharedGameControlGlobals.createdObjects=[]}},mfe=.02,gfe=(new tH,new tH),vfe=new tH,yfe=new tH,wfe=new tH,bfe=new tH,xfe=new tH,_fe=new kH,Sfe=new kH,Efe=new kH,Cfe=(new kH,new eH),Afe=new eH,Tfe=new jH(0,0,0,"YXZ"),Mfe=new tH(1,0,0),Pfe=new tH(0,1,0),Dfe=new tH(0,0,1),kfe=new tH(1,1,1),Ofe=(new _H,new zK),Ife=new iH,Rfe={type:"requestRender"},Lfe={type:"updateMatrix"},Nfe=Math.PI/6,zfe=class extends hV{constructor(e,t,n,r,i,a,o,s,l){super(),this.object=e,this.domElement=t,this.data=n,this.gloabalPhysics=r,this.controlsManager=i,this.cameraFollow=a,this.camera=o,this.page=s,this.sharedAssets=l,this.enableDamping=!0,this.hiddenMatrix0=new kH,this.target0=new tH,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.pixelsPerMeter=200,this.euler0=new jH(0,0,0,"YXZ"),this.position0Cam=new tH,this.quat0Cam=new eH,this.scale0Cam=new tH,this.hiddenMatrix0Cam=new kH,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.threshEndRotVel=.005,this.collider={type:"capsule",radius:40,segment:new zK(new tH(0,-40,0),new tH(0,40,0)),matrix:new kH,position:new tH,rotation:new eH},this.euler=new jH(0,0,0,"YXZ"),this.eulerDelta=new tH,this.lastPosition=new tH,this.lastCameraQuaternion=new eH,this.lastCameraPosition=new tH,this.PI_2=Math.PI/2,this.prevMouse=new AV,this.velocityTarget=new tH,this.velocity=new tH,this.directionXZ=new tH,this.rotVelocityStick=new tH,this.rotVelocityTarget=new tH,this.rotVelocity=new tH,this.rotDirection=new tH,this.nonColliderRotOffset=new kH,this.nonColliderPosOffset=new kH,this.firstPointerId=-1,this.rot=new tH,this.path=[],this.movementState={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0,run:0},this.vrEulerYOffset=0,this.onObject=!1,this.actionState={},this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new kH,this.objectToTarget=new tH,this.objectToTarget0=new tH,this.objectToCamXZ=new tH,this.objectToCamXZ0=new tH,this.targetToCamera=new tH,this.targetToCamera0=new tH,this.cameraPolarAxis0=new tH,this.targetPos=new tH,this.targetQuat=new eH,this.lerpFactorPos=(new tH).setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.objXZQuat=new eH,this.objXZQuatInv=new eH,this.objXZRotMat=new kH,this.isFirstPerson=!1,this.didHit=!1,this.groundVelocity=new tH,this.pushedVelocity=new tH,this.groundYRotation=0,this.objectRealQuat=new eH,this.colliderWorldQuat=new eH,this.groundNormal=new tH,this.groundTilt=new eH,this.groundTiltInv=new eH,this.lastHitObj=null,this.isFirstFrame=!0,this.rotationAccumWhenOrientWithCamera=0,this.navMeshPathDest=null,this.position=new tH,this.quaternion=new eH,this.scale=new tH,this.initialAction=!0,this.onPointerDown=e=>{e.target!==this.domElement||-1!==this.firstPointerId||(this.firstPointerId=e.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),"keys"!==this.rotBy&&!P1&&(!D1||k1>=15.5)&&this.domElement.requestPointerLock(),this.prevMouse.set(e.clientX,e.clientY))},this.onPointerUp=e=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),"mouse"===e.pointerType&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=e=>{if(e.pointerId!==this.firstPointerId)return;let t=e.clientX-this.prevMouse.x,n=e.clientY-this.prevMouse.y;this.prevMouse.set(e.clientX,e.clientY),"mouse"===e.pointerType&&"keys"!==this.rotBy&&(D1&&k1<15.5&&!P1?(this.eulerDelta.y=-t*this.mouseOrbitSensitivity,this.eulerDelta.x=-n*this.mouseOrbitSensitivity):(this.eulerDelta.y=-e.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-e.movementY*this.mouseOrbitSensitivity)),"mouse"!==e.pointerType&&"drag"===this.rotByTouch&&(this.eulerDelta.y=-t*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-n*this.mouseOrbitSensitivity*5),this.controlsManager.requestRender()},this.onPointerlockChange=e=>{this.domElement.ownerDocument.pointerLockElement===this.domElement?zfe.isLocked=!0:zfe.isLocked=!1},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.handleVisibilityChange=()=>{if(document?.hidden)for(let e in this.movementState)this.movementState[e]=0},this.onKeyDown=e=>{!(e.target instanceof HTMLInputElement)&&("ArrowLeft"===e.code||"ArrowUp"===e.code||"ArrowRight"===e.code||"ArrowDown"===e.code||"Space"===e.code)&&e.preventDefault();for(let t of this.keyAssignments)if(e.key.toUpperCase()===t[1]||e.key===t[1]){this.movementState[t[0]]=1;break}this.controlsManager.requestRender()},this.onKeyUp=e=>{for(let t of this.keyAssignments)if(e.key.toUpperCase()===t[1]||e.key===t[1]||e.code.slice(3,e.code.length).toUpperCase()===t[1]){this.movementState[t[0]]=0;break}},this.copyVRGamePadValues=(e,t)=>{for(let n=2;n<4;n++){let r=e.axes[n];0===t?2===n?this.movementState.movePosX=r:this.movementState.movePosZ=r:(e.buttons[3].pressed?this.movementState.jump=1:this.movementState.jump=0,2===n?(Math.abs(this.movementState.rotPosY)<.3&&Math.abs(r)>=.3&&(this.vrEulerYOffset+=r<0?1:-1),this.movementState.rotPosY=r):"fly"===this.moveMode&&(this.movementState.moveNegY=r))}},this.sharedGameControlGlobals=i.sharedGameControlGlobals,e===o&&(this.isFirstPerson=!0),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.euler0.setFromQuaternion(this.quaternion,"YXZ");let c=this.euler0.clone(),u=c.y;if(this.objectRealQuat.copy(this.quaternion),c.y=0,this.quaternion.setFromEuler(c),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),c.set(0,u,0),this.quaternion.setFromEuler(c),this.rot.setFromEuler(c),this.object.matrixAutoUpdate=!1,(this.isFirstPerson||!0===this.cameraFollow)&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom),!0===this.cameraFollow){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?(this.camera.hiddenMatrix.copy(this.camera?.parent.matrixWorld),this.camera.matrix.copy(this.camera.matrixWorld)):this.camera.hiddenMatrix.identity(),this.camera.matrix.copy(this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let e,t,n=new tH(0,0,-1).applyQuaternion(this.camera.quaternion),r=(new tH).subVectors(this.position,this.camera.position);this.objectToCamXZ.copy(r),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ),Math.abs(n.y)<1e-6?(r.y=0,n.y=0,t=r.projectOnVector(n)):t=r.y/n.y>0?n.multiplyScalar(r.y/n.y):n.multiplyScalar(r.length()),this.targetToCamera0.copy(t).negate(),e=this.camera.position.clone().add(t),this.objectToTarget0.subVectors(e,this.position);let i=(new jH).setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-i.x,i.x=0,i.z=0,i.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(i)}if(this.object instanceof Moe&&(this.object.matrixAutoUpdate=!1),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.rotByTouch=n.rotByTouch??"joystick",this.rotBy=n.rotBy??"keys",this.rotationMode=n.rotationMode??"normal",this.moveMode=n.moveMode??"walk",this.collisionEnabled=n.collisionEnabled,this.speedTranslate=1*(n.speedTranslate??250),this.speedOrbit=.025*(n.speedRotate??100),this.mouseOrbitSensitivity=16e-6*(n.speedRotate??100),this.keyAssignments=n.keyAssignments.map((e=>{let t=[e[0],e[1]];return"▲"===t[1]?t[1]="ArrowUp":"◀"===t[1]?t[1]="ArrowLeft":"▼"===t[1]?t[1]="ArrowDown":"▶"===t[1]?t[1]="ArrowRight":"⇧"===t[1]?t[1]="Shift":"↵"===t[1]?t[1]="Enter":"Space"===t[1]?t[1]=" ":"⌘"===t[1]?t[1]="Meta":"Ctrl"===t[1]?t[1]="Control":"Esc"===t[1]&&(t[1]="Escape"),t})),"mouse"===n.rotBy){let e;e=this.keyAssignments.findIndex((e=>"rotNegX"===e[0])),-1!==e&&(this.keyAssignments[e][1]=""),e=this.keyAssignments.findIndex((e=>"rotPosX"===e[0])),-1!==e&&(this.keyAssignments[e][1]=""),e=this.keyAssignments.findIndex((e=>"rotPosY"===e[0])),-1!==e&&(this.keyAssignments[e][1]=""),e=this.keyAssignments.findIndex((e=>"rotNegY"===e[0])),-1!==e&&(this.keyAssignments[e][1]="")}this.lerpFactorPosStart=1-.02**(1/(60*(n.delayPos[0]??.3))),this.lerpFactorPosEnd=1-.02**(1/(60*(n.delayPos[1]??.3))),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-.02**(1/(60*(n.delayRot[0]??.3))),this.lerpFactorRotEnd=1-.02**(1/(60*(n.delayRot[1]??.3))),this.lerpFactorPosCamera=1-.02**(1/(60*(n.delayPosCamera??.3))),this.lerpFactorRotCamera=1-.02**(1/(60*(n.delayRotCamera??.3))),this.gravity=12*(this.gloabalPhysics.gravity??L5.defaultData.gravity),this.usePhysics=this.gloabalPhysics.usePhysics??L5.defaultData.usePhysics,this.jumpPower=20*n.jumpPower,this.resetYPosition=this.position.y+Math.abs(n.resetYPosition)*(this.gravity>0?1:-1),this.alignToGround=n.alignToGround??!1,this.orientMode=n.autoOrientMove?n.orientMode:"none",this.orientWith=n.orientWith??g6.defaultDataThirdPerson.orientWith,this.slopeThresh=65*Math.PI/180,"capsule"===n.collider.type?(this.collider.radius=n.collider.radius,this.collider.segment.start.y=n.collider.height/2-n.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y,this.offset=n.collider.height*mfe/this.pixelsPerMeter,this.stepThresh=.3*n.collider.height/this.pixelsPerMeter,this.colliderHeight=n.collider.height):"sphere"===n.collider.type?(this.collider.radius=n.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0,this.offset=2*n.collider.radius*mfe/this.pixelsPerMeter,this.stepThresh=2*n.collider.radius*.3/this.pixelsPerMeter,this.colliderHeight=2*n.collider.radius):(this.offset=n.collider.height*mfe/this.pixelsPerMeter,this.stepThresh=.3*n.collider.height/this.pixelsPerMeter,this.colliderHeight=n.collider.height),this.collider.type=n.collider.type;let h=(new tH).fromArray(n.collider.position),d=(new eH).setFromEuler((new jH).fromArray([...n.collider.rotation,"XYZ"]));this.collider.position.copy(h).multiply(this.scale),this.collider.rotation.copy(d),this.collider.matrix.compose(h,d,kfe),void 0!==n.cameraXAxis&&(this.cameraXAxis=n.cameraXAxis,this.cameraYAxis=n.cameraYAxis,this.minPolarAngle=n.cameraRotXLimits[0],this.maxPolarAngle=n.cameraRotXLimits[1],this.minAzimuthAngleRel=n.cameraRotYLimits[0],this.maxAzimuthAngleRel=n.cameraRotYLimits[1]),this.forwardDir=n.forwardDirection??"-z",this.runMultiplier=n.runMultiplier??2;let f=2*n.navmesh.destinationHelperRadius;if(f>0){let e=new s2;e.push({fi:0,data:{...v5.defaultData("light","phong"),alpha:0},id:"layer1"}),e.push({fi:0,data:{...v5.defaultData("color"),color:n.navmesh.destinationHelperColor,alpha:n.navmesh.destinationHelperColor.a},id:"layer2"});let t=new Qie({layers:e},{scene:this.page.scene,shared:this.sharedAssets});this.navMeshPathDest=new GG(n9.create({parameters:{width:f,height:f/10,hollow:.7}}),t),this.navMeshPathDest.material.userData.opacity0=n.navmesh.destinationHelperColor.a}this.activate()}reset(e=!1){if(this.object.hiddenMatrix.copy(this.hiddenMatrix0),e){this.object.updateMatrix(),this.object.updateMatrixWorld(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity();let e=(new jH).setFromQuaternion(this.quaternion,"YXZ"),t=e.y;this.objectRealQuat.copy(this.quaternion),e.y=0,this.quaternion.setFromEuler(e),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),e.set(0,t,0),this.quaternion.setFromEuler(e),this.rot.setFromEuler(e),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}else this.object instanceof Moe?this.object.matrixAutoUpdate=!0:this.object.updateMatrix();!0===this.cameraFollow&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.controlsManager.requestRender()}activate(){this.instantiateActions(),this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.addEventListener("visibilitychange",this.handleVisibilityChange)}deactivate(){this.disposeActions(),this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.removeEventListener("visibilitychange",this.handleVisibilityChange)}dispose(){this.deactivate(),this.navMeshPathDest?.parent&&this.page.remove(this.navMeshPathDest)}instantiateActions(){let e=this.data,t=this.sharedAssets;void 0!==e.gameActions&&(this.actions={},m6.list.forEach((n=>{this.actions[n]=nfe({...e,disabled:!1,type:"GameControl"},e.gameActions[n],this.page,t,this.controlsManager.eventManager,this.object)}))),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"),this.initialAction&&(this.initialAction=!1)}disposeActions(){this.initialAction=!1,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),rfe(this.actions.idle),rfe(this.actions.move),rfe(this.actions.run),rfe(this.actions.jump)}dispatchStartEvent(e){void 0!==this.actions[e]&&(this.actionState[e]||(this.actionState[e]=!0,this.actions[e].Transition.forEach((e=>{e.play()})),this.actions[e].Animation.forEach((e=>{e.play(!1===this.initialAction)})),this.actions[e].Create.forEach((e=>{e.dispatchStart()})),this.actions[e].Audio.forEach((e=>{e.dispatchGameControl("start")})),this.actions[e].Particles.forEach((e=>{e.dispatchGameControl("start")}))))}dispatchStopEvent(e){void 0!==this.actions[e]&&(!this.actionState[e]||(this.actionState[e]=!1,this.actions[e].Transition.forEach((e=>{e.stop(),null!==e.object.currentState&&e.object.changeSelectedState(null,{scene:this.page.scene,shared:this.sharedAssets})})),this.actions[e].Create.forEach((e=>{e.dispatchStop()})),this.actions[e].Audio.forEach((e=>{e.dispatchGameControl("stop")})),this.actions[e].Particles.forEach((e=>{e.dispatchGameControl("stop")}))))}get colliderWorldPosition(){return wfe.copy(this.collider.position).applyQuaternion(this.objectRealQuat).add(this.position)}update(e,t,n){if(this.gravity<0?this.position.y<this.resetYPosition:this.position.y>this.resetYPosition)return this.reset(!0),!0;this.sharedGameControlGlobals.gamePads.forEach(this.copyVRGamePadValues);let r=(this.isFirstFrame?16.6:e)/1e3;this.isFirstFrame&&(this.isFirstFrame=!1);let i=60*r,a=!1;if(this.usePhysics&&this.collisionEnabled){let e=bfe.set(0,(0===this.velocity.y?this.pixelsPerMeter*Math.max(Math.abs(this.gravity)/120,1)*(this.gravity>0?1:-1):this.velocity.y)*r,0).divideScalar(this.pixelsPerMeter),t=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter),this.colliderWorldQuat,e,this.object.rigidBody?.collider(0).shape,1,!1,16,void 0,void 0,this.object.rigidBody);if(t){this.onObject=!0,this.groundNormal.set(t.normal2.x,t.normal2.y,t.normal2.z).applyQuaternion(this.colliderWorldQuat).negate(),this.alignToGround&&this.groundTiltAdjustment(this.groundNormal),Math.acos(this.groundNormal.y)<this.slopeThresh&&(a=!0),0===t.collider.parent()?.bodyType()&&Math.acos(this.groundNormal.y)*(180/Math.PI)>45&&(this.onObject=!1);let e=t.collider.parent();this.groundYRotation=0,this.groundVelocity.set(0,0,0);for(let t of this.sharedGameControlGlobals.entitiesWithTransformAnim)if(t.rigidBody===e&&t.userData.isFollowingObj!==this.object.uuid){(t.hasNonUniformScale?t.matrixWorldRigid:t.matrixWorld).decompose(wfe,Afe,bfe),this.groundVelocity.subVectors(wfe,t.prevT),this.object.getWorldPosition(bfe).add(this.collider.position).sub(wfe),this.groundYRotation=Tfe.setFromQuaternion(Afe).y-t.prevR.y,xfe.copy(bfe).applyAxisAngle(Pfe,this.groundYRotation),this.groundVelocity.add(xfe.sub(bfe)).divideScalar(r);break}}else this.onObject=!1}if("walk"===this.moveMode&&this.collisionEnabled&&(1===this.movementState.jump&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.movementState.jump=0,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("jump"),this.onObject=!1),this.onObject?this.velocityTarget.y/=2:this.velocityTarget.y+=this.gravity*i),"fly"===this.moveMode&&(this.velocityTarget.y=(this.movementState.movePosY-this.movementState.moveNegY)*this.speedTranslate),this.directionXZ.z=this.movementState.movePosZ-this.movementState.moveNegZ,this.directionXZ.x=this.movementState.movePosX-this.movementState.moveNegX,"+z"===this.forwardDir&&this.directionXZ.multiplyScalar(-1),this.directionXZ.manhattanLength()>0&&(this.path=[]),this.navMeshPathDest){let e=this.navMeshPathDest.material;if("walk"===this.moveMode&&this.path.length>1){this.navMeshPathDest.position.copy(this.path[this.path.length-1]),this.navMeshPathDest.parent||this.page.add(this.navMeshPathDest);let t=wfe.subVectors(this.path[1],this.position),n=bfe.subVectors(this.path[1],this.path[0]);t.dot(n)<0?this.path.shift():(this.directionXZ.x=n.x,this.directionXZ.z=n.z),e.opacity=e.userData.opacity0}else e.opacity-=.05*e.userData.opacity0,this.navMeshPathDest.material.opacity<=0&&this.navMeshPathDest.parent&&this.page.remove(this.navMeshPathDest)}this.directionXZ.normalize(),this.movementState.run?this.moveForce=this.runMultiplier:this.moveForce=1,this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce,this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce,("walk"===this.moveMode?this.velocityTarget.x+this.velocityTarget.z===0:0===this.velocityTarget.manhattanLength())?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),"walk"===this.moveMode&&(this.lerpFactorPos.y=1),!1===this.didHit&&0===this.pushedVelocity.manhattanLength()||!1===this.usePhysics?(this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-(1-this.lerpFactorPos.x)**i),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-(1-this.lerpFactorPos.y)**i),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-(1-this.lerpFactorPos.z)**i)):this.velocity.copy(this.velocityTarget),("walk"===this.moveMode?this.velocity.x**2+this.velocity.z**2<this.speedTranslate:this.velocity.lengthSq()<this.speedTranslate)?(this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.onObject&&(this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"))):(this.dispatchStopEvent("idle"),this.onObject&&(this.dispatchStopEvent("jump"),this.movementState.run?(this.dispatchStopEvent("move"),this.dispatchStartEvent("run")):(this.dispatchStopEvent("run"),this.dispatchStartEvent("move"))));let o=yfe.copy(this.velocity);if("none"!==this.orientMode&&!1===this.isFirstPerson){let e=bfe.copy(o);e.y=0,o.set(0,o.y,e.length()*("+z"===this.forwardDir?1:-1))}if(this.directionXZ.manhattanLength()>0&&"none"!==this.orientMode)if("camera"===this.orientWith&&this.path.length<=1){let e=wfe;this.camera.getWorldDirection(e);let t=xfe.copy(Pfe).multiplyScalar(e.dot(Pfe));e.sub(t);let n=bfe.copy(this.directionXZ);n.x*=-1,this.rot.y=e.angleTo(n)*(e.cross(n).y>0?-1:1)+this.rotationAccumWhenOrientWithCamera}else this.rot.y=(this.path.length>1?0:this.euler.y)+Math.atan2(-this.directionXZ.z,this.directionXZ.x)+Math.PI/2*("+z"===this.forwardDir?1:-1);if(Tfe.setFromVector3(this.rot),"walk"===this.moveMode&&(Tfe.x=0),o.applyEuler(Tfe),a&&(Afe.setFromUnitVectors(Pfe,this.groundNormal),o.applyQuaternion(Afe)),n){let e=Tfe.set(0,this.vrEulerYOffset*Nfe,0);n.applyEuler(e),o.x+=n.x,o.z+=n.z,this.nonColliderPosOffset.elements[13]+=n.y*r}if(!0===this.usePhysics){let e=bfe;this.pushedVelocity.set(0,0,0);for(let t of this.sharedGameControlGlobals.entitiesWithTransformAnim){let n=xfe.setFromMatrixPosition(t.matrixWorld).sub(t.prevT).divideScalar(r).divideScalar(this.pixelsPerMeter),i=t.rigidBody.collider(0).castCollider(n,this.object.rigidBody.collider(0),wfe.copy(o).divideScalar(this.pixelsPerMeter),r,!1);n.multiplyScalar(this.pixelsPerMeter);let a=O7.is(t)?t:t.object;if(null!==i&&this.lastHitObj!==a){let e;t instanceof L7&&(e=t);let n=this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid];if(n)for(let t of n)"character"===t.data.target&&(t.dispatch(e),a.dispatchEvent(ege));this.lastHitObj=a}if(null!==i){this.pushedVelocity.copy(n),e.copy(i.normal1).applyQuaternion(t.quaternion);break}}if(0!==this.pushedVelocity.manhattanLength()){let t=e.dot(o);t<0&&o.addScaledVector(e,-t),o.add(this.pushedVelocity)}else o.add(this.groundVelocity)}if(this.rotDirection.y=Number(this.movementState.rotPosY)-Number(this.movementState.rotNegY),this.rotDirection.x=Number(this.movementState.rotPosX)-Number(this.movementState.rotNegX),this.rotDirection.normalize(),"normal"===this.rotationMode&&(this.movementState.rotPosX||this.movementState.rotNegX)||"steer"===this.rotationMode&&(this.movementState.rotPosX||this.movementState.rotNegX)&&(this.movementState.movePosZ||this.movementState.moveNegZ||"walk"===this.moveMode)?this.rotVelocityStick.x=-this.rotDirection.x*this.speedOrbit*this.rotForce:this.rotVelocityStick.x=0,"normal"===this.rotationMode&&(this.movementState.rotPosY||this.movementState.rotNegY)||"steer"===this.rotationMode&&(this.movementState.rotPosY||this.movementState.rotNegY)&&(this.movementState.movePosZ||this.movementState.moveNegZ)?this.rotVelocityStick.y=-this.rotDirection.y*this.speedOrbit*this.rotForce:this.rotVelocityStick.y=0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(r),this.rotVelocityStick),0===this.rotVelocityTarget.manhattanLength()?this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotEnd)**i):this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotStart)**i),this.euler.x+=this.rotVelocity.x*r,this.euler.y+=this.rotVelocity.y*r+this.groundYRotation,0===this.rotVelocityTarget.y&&0===this.directionXZ.manhattanLength()?this.rotationAccumWhenOrientWithCamera=0:(!1===this.cameraFollow||"Locked"===this.cameraYAxis)&&(this.rotationAccumWhenOrientWithCamera+=this.rotVelocity.y*r),!1===this.isFirstPerson&&"none"!==this.orientMode&&this.directionXZ.manhattanLength()>0){if("radial"===this.orientMode){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(Pfe,this.euler.y-this.euler0.y);let e=bfe.copy(this.objectToCamXZ).normalize(),t=xfe.copy(o).multiplyScalar(r);t.y=0;let n=t.sub(wfe.copy(e).multiplyScalar(t.dot(e))).cross(e).y;this.euler.y-=Math.atan2(n,this.objectToCamXZ.length())}}else this.rot.y+=this.rotVelocity.y*r+this.groundYRotation,0!==this.rotVelocityTarget.y&&(!1===this.cameraFollow||"Locked"===this.cameraYAxis)&&(this.euler.y=this.rot.y);if(!0===this.cameraFollow&&("walk"===this.moveMode?"Limit"===this.cameraXAxis?this.euler.x=CV.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):this.euler.x=CV.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):"Limit"===this.cameraXAxis&&(this.euler.x=CV.clamp(this.euler.x,-this.PI_2,this.PI_2))),"fly"===this.moveMode?this.rot.x=this.euler.x:this.isFirstPerson&&(t?(Tfe.copy(t),Tfe.y=0):(Tfe.copy(this.euler),Tfe.y=0),this.nonColliderRotOffset.makeRotationFromEuler(Tfe)),t&&("walk"===this.moveMode?(this.rot.y=t.y,this.rot.x=0,this.rot.z=0):this.rot.setFromEuler(t),this.rot.y+=this.vrEulerYOffset*Nfe),Cfe.setFromAxisAngle(Mfe,this.rot.x),Afe.setFromAxisAngle(Pfe,this.rot.y),Afe.multiply(Cfe),Cfe.setFromAxisAngle(Dfe,this.rot.z),Afe.multiply(Cfe),this.quaternion.copy(Afe),this.objectRealQuat.multiplyQuaternions(this.quaternion,this.objXZQuat),this.objectRealQuat.multiply(this.objXZQuat),this.colliderWorldQuat.copy(this.objectRealQuat).multiply(this.collider.rotation),this.collisionEnabled)if(this.usePhysics){let e=bfe.copy(o).multiplyScalar(r/this.pixelsPerMeter),t=null;this.didHit=!1;let n=new tH;for(let r=0;r<5;r++){let i=e.length(),a=xfe.copy(e).normalize();if(t=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(n),this.colliderWorldQuat,a,this.object.rigidBody?.collider(0).shape,i,!1,24,void 0,void 0,this.object.rigidBody),null===t){0===r&&0!==this.directionXZ.manhattanLength()&&(this.lastHitObj=null),n.add(e);break}{this.didHit=!0;let o=this.sharedGameControlGlobals.colliderToEntity.get(t.collider.handle);if(o!==this.lastHitObj&&0===r){this.lastHitObj=o;let e=this.sharedGameControlGlobals.entityToCollisionEvents[o?.uuid];if(e)for(let n of e)if("character"===n.data.target){let e,r=this.sharedGameControlGlobals.rapierWorld?.getCollider(t.collider.handle)._parent;if(o.cloner)for(let t of o.cloner.children)if(t.rigidBody===r){e=t;break}n.dispatch(e),o.dispatchEvent(ege)}}let s=gfe.set(t.normal2.x,t.normal2.y,t.normal2.z).applyQuaternion(this.colliderWorldQuat),l=vfe.copy(a).multiplyScalar(t.toi).dot(s),c=t.toi;if(0===c&&(this.position.y+=this.offset*this.pixelsPerMeter),l>this.offset&&(c=t.toi*(l-this.offset)/l,n.addScaledVector(a,c)),e.copy(a).multiplyScalar(i-c),Math.acos(-s.y)>this.slopeThresh){let r=this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(n),i=xfe.copy(t.witness2).applyQuaternion(this.colliderWorldQuat);i.y=0;let a=r.add(i);a.y+=this.stepThresh;let o=this.sharedGameControlGlobals.rapierWorld.castShape(a,this.colliderWorldQuat,e,this.object.rigidBody?.collider(0).shape,1,!1,24,void 0,void 0,this.object.rigidBody);null!==o&&0===o.toi&&(s.y=0,s.normalize())}e.addScaledVector(s,-e.dot(s))}}this.position.addScaledVector(n,this.pixelsPerMeter),this.object.rigidBody?.setTranslation(wfe.copy(this.position).divideScalar(this.pixelsPerMeter),!0),this.object.rigidBody?.setRotation(Cfe.copy(this.quaternion).premultiply(this.groundTilt).multiply(this.objXZQuat),!0)}else{let e=this.onObject?1:5,t=o.multiplyScalar(r/e);for(let n=0;n<e;n++)this.position.add(t),this.collisionAdjustment(r/e)}else this.position.addScaledVector(o,r);if("walk"===this.moveMode&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.quaternion.premultiply(this.groundTilt).multiply(this.objXZQuat),this.object.matrix.compose(this.position,this.quaternion,this.scale),this.object.matrixWorldNeedsUpdate=!0,this.object.matrix.multiply(this.nonColliderPosOffset).multiply(this.nonColliderRotOffset),this.quaternion.premultiply(this.groundTiltInv).multiply(this.objXZQuatInv),!0===this.cameraFollow){this.updateFollowArms();let e=this.objectToTarget.add(this.position),t=this.targetToCamera.add(e);_fe.lookAt(t,e,Pfe).setPosition(t),_fe.decompose(this.targetPos,this.targetQuat,wfe),this.camera.quaternion.slerp(this.targetQuat,1-(1-this.lerpFactorRotCamera)**i),this.camera.position.lerp(this.targetPos,1-(1-this.lerpFactorPosCamera)**i),this.camera.updateMatrix(),this.camera.updateMatrixWorld(),"Limit"===this.cameraYAxis&&"cartesian"===this.orientMode&&(this.euler.y=CV.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=CV.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.object.dispatchEvent(Lfe),!(this.path.length<2&&this.lastPosition.distanceToSquared(this.position)<this.threshEndTranslate&&Math.abs(this.rotVelocity.x)<this.threshEndRotVel&&Math.abs(this.rotVelocity.y)<this.threshEndRotVel&&(void 0===this.camera||this.isFirstPerson||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&("fly"===this.moveMode||!0===this.onObject||!1===this.collisionEnabled)&&(null===this.navMeshPathDest||this.navMeshPathDest.material.opacity<-.04*this.navMeshPathDest?.material?.userData.opacity0)||(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.position),this.object.dispatchEvent(Rfe),0))}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let e,t=Cfe.setFromAxisAngle(Pfe,"Limit"===this.cameraYAxis&&"radial"!==this.orientMode?CV.clamp(this.euler.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.euler.y-this.euler0.y);("Locked"!==this.cameraYAxis||"radial"===this.orientMode)&&this.objectToTarget.applyQuaternion(t),e="Limit"===this.cameraXAxis?CV.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):CV.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let n=wfe.copy(this.cameraPolarAxis0);("Locked"!==this.cameraYAxis||"radial"===this.orientMode)&&n.applyQuaternion(t);let r=Afe.setFromAxisAngle(n,e);"Locked"!==this.cameraYAxis&&this.targetToCamera.applyQuaternion(t),"Locked"!==this.cameraXAxis&&this.targetToCamera.applyQuaternion(r)}groundTiltAdjustment(e){180*Pfe.angleTo(e)/Math.PI<15||180*Pfe.angleTo(e)/Math.PI>85?Cfe.identity():Cfe.setFromUnitVectors(Pfe,e),this.groundTilt.slerp(Cfe,.06),this.groundTiltInv.copy(this.groundTilt).invert()}collisionAdjustment(e){let t=vfe.set(0,0,0);this.object.matrix.compose(this.position,this.quaternion,this.scale);let n=_fe.multiplyMatrices(this.object.matrix,this.objXZRotMat).multiply(this.collider.matrix).decompose(wfe,Cfe,bfe).compose(wfe,Cfe,kfe);this.sharedGameControlGlobals.entitiesWithTransformAnim.forEach((e=>{if(e===this.object||e.isDescendantOf(this.object))return;Ife.makeEmpty(),e.updateMatrixWorldSVD();let r=e.matrixWorldRigid,i=Sfe.copy(r).invert(),a=Efe.copy(Sfe).multiply(n);Ofe.copy(this.collider.segment),Ofe.start.applyMatrix4(a),Ofe.end.applyMatrix4(a);let o=gfe.copy(this.position).applyMatrix4(i);Ife.expandByPoint(Ofe.start),Ife.expandByPoint(Ofe.end),Ife.min.addScalar(-this.collider.radius),Ife.max.addScalar(this.collider.radius),e.bvhGeometry.boundsTree.shapecast({traverseBoundsOrder(e){return e.distanceToPoint(Ofe.end)},intersectsBounds:e=>e.intersectsBox(Ife),intersectsTriangle:e=>{let n=wfe,i=bfe,a=e.closestPointToSegment(Ofe,n,i);if(a<this.collider.radius){let e=this.collider.radius-a,s=i.sub(n).normalize(),l=xfe.copy(o);l.addScaledVector(s,e);let c=l.applyMatrix4(r).sub(this.position);t.add(c),Ofe.start.addScaledVector(s,e),Ofe.end.addScaledVector(s,e)}}})})),Ife.makeEmpty(),Ofe.copy(this.collider.segment),Ofe.start.applyMatrix4(n),Ofe.end.applyMatrix4(n),Ife.expandByPoint(Ofe.start),Ife.expandByPoint(Ofe.end),Ife.min.addScalar(-this.collider.radius),Ife.max.addScalar(this.collider.radius),this.sharedGameControlGlobals.staticMeshBVH?.shapecast({traverseBoundsOrder(e){return e.distanceToPoint(Ofe.end)},intersectsBounds:e=>e.intersectsBox(Ife),intersectsTriangle:e=>{let n=wfe,r=bfe,i=e.closestPointToSegment(Ofe,n,r);if(i<this.collider.radius){let e=this.collider.radius-i,a=r.sub(n).normalize();this.alignToGround&&this.groundTiltAdjustment(a),t.addScaledVector(a,e),Ofe.start.addScaledVector(a,e),Ofe.end.addScaledVector(a,e)}}}),this.onObject=Math.abs(t.y)>Math.abs(e*this.velocity.y*.25),this.onObject&&this.dispatchStopEvent("jump");let r=Math.max(0,t.length()-1e-5);t.normalize().multiplyScalar(r),this.position.add(t)}},Bfe=zfe;Bfe.isLocked=!1;var Ffe=xF(EF());function Ufe(e,t){let n=new DG;if(!e.getAttribute("position"))return n.setAttribute("position",new _G([],3)),n.setIndex([]),n;let{positions:r,triIndices:i}=Fte(e.getAttribute("position"),e.getIndex());return n.setAttribute("position",new _G(r,3)),n.setIndex(i),t&&n.applyMatrix4(t),n}var jfe=new kH,Vfe=new kH,Hfe=[[0,0,0],[0,0,0],[0,0,0]];function Gfe(e){let t=e.elements;Hfe[0][0]=t[0],Hfe[0][1]=t[4],Hfe[0][2]=t[8],Hfe[1][0]=t[1],Hfe[1][1]=t[5],Hfe[1][2]=t[9],Hfe[2][0]=t[2],Hfe[2][1]=t[6],Hfe[2][2]=t[10];let{u:n,v:r}=(0,Ffe.SVD)(Hfe),i=jfe.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),a=Vfe.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1);return i.multiply(a.transpose())}var Wfe=class extends PK{constructor(){super(),this.layers.enable(3),this.layers.enable(8)}setFromCamera(e,t){t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):t.isPerspectiveCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):console.error("Raycaster: Unsupported camera type.")}intersectVisibleObjects(e,t=!0,n=[]){return e.forEach((e=>{e.visible&&this.intersectObject(e,t,n)})),n}createRaycastLineHelper(){let e=new sY({color:65280,linewidth:10}),t=new tH(this.ray.origin.x,this.ray.origin.y,this.ray.origin.z),n=new tH(this.ray.direction.x,this.ray.direction.y,this.ray.direction.z),r=this.camera.far-this.camera.near,i=(new tH).addVectors(t,n.multiplyScalar(r)),a=new DG;return a.setFromPoints([t,i]),new fY(a,e)}},qfe=e=>e instanceof Voe||e instanceof Ace;function Xfe(e,t){return e.distance-t.distance}function Yfe(e,t,n){if(K7(t)&&t.visible){Boe(t)&&t.raycast(e,n);for(let r of t.children)Yfe(e,r,n)}}function Qfe(e,t,n,r=!1){if(!r&&!n.some((t=>void 0!==Jfe(e,t))))return[];let i=[];return t.children.forEach((t=>Yfe(e,t,i))),i.sort(Xfe),i}function Kfe(e){let t=[];if(e.length){let n=e[0].object;K7(n)&&t.push(n);let r=n.parent;for(;r;)qfe(r)&&t.push(r),r=r.parent}return t}function Zfe(e,t,n,r){let i=e.frame;if(i){let e=t[0]*i.width,a=(1-t[1])*i.height;for(let t of n){let n=t===i.uuid?i:i.find(t);if(n?.intersects(e,a))return r(n),!0}}return!1}function Jfe(e,t){if(Boe(t)){if(t.visible){let n=[];return t.raycast(e,n),n.length?n[0]:void 0}}else if(qfe(t))return $fe(e,t)}function $fe(e,t){if(K7(t)&&t.visible){if(Boe(t)){let n=[];if(t.raycast(e,n),n.length)return n[0]}for(let n of t.children){let t=$fe(e,n);if(t)return t}}}var epe=class{constructor(e){this.eventContext=e,this.domEventsNeeded=new Set,this.hasVideoAction=!1}connect(){}disconnect(){}},tpe=[["start","Start"],["keyDown","KeyDown"],["keyUp","KeyUp"],["mouseDown","MouseDown"],["mouseUp","MouseUp"],["mouseHover","MouseHover"],["collision","Collision"],["lookAt","LookAt"],["follow","Follow"],["scroll","Scroll"]],npe=e=>tpe.find((([t,n])=>n===e))?.[0],rpe=e=>tpe.find((([t])=>t===e))?.[1],ipe=(e,t)=>{let n=npe(e);if(n){let e=new CustomEvent(n,{bubbles:!0});return Object.defineProperty(e,"target",{writable:!1,value:t}),e}},ape=class extends epe{constructor(e){super(e),this.objectsPerEvents=new Map,this.splineEvents={},this.onBeginEvent=e=>{if(!e.eventName||!e.target||"Scroll"===e.eventName)return;let t=this.splineEvents[npe(e.eventName)]?.[e.target.uuid];if(!t)return;"Scroll"===e.eventName&&void 0!==e.deltaY&&Object.assign(t,{deltaY:e.deltaY});let{domElement:n}=this.eventContext;n.dispatchEvent(t)};let{page:t}=this.eventContext;t.traverseEntity((e=>{if(e.data?.events.length)for(let[t,n]of tpe)if(e.data.events.some((e=>e.data.type===n&&!e.data.disabled))){this.objectsPerEvents.has(t)?this.objectsPerEvents.get(t)?.push(e):this.objectsPerEvents.set(t,[e]);let r={id:e.uuid,name:e.name},i=ipe(n,r),a=this.splineEvents[t];a?a[e.uuid]=i:this.splineEvents[t]={[e.uuid]:i}}}))}connect(){this.objectsPerEvents.forEach((e=>{e.forEach((e=>{e.addEventListener("beginEvent",this.onBeginEvent)}))}))}disconnect(){this.objectsPerEvents.forEach((e=>{e.forEach((e=>{e.removeEventListener("beginEvent",this.onBeginEvent)}))}))}},ope=class{constructor(e,t,n,r,i,a){if(this.id=e,this.data=t,this.object=n,this.entered=!1,this.alreadyPlayedNonTogglingActions=new Set,this.useToggle="Toggle"===t.runMode,("KeyDown"===t.type||"KeyUp"===t.type||"KeyPress"===t.type)&&!t.key)throw new Error("Missing property");this.actions=nfe(t,t.actions,r,i,a,n)}disconnect(){rfe(this.actions)}dispatchHeld(e){this.actions.Create.forEach((t=>{e&&t.dispatchThrottled.cancel(),t.dispatchThrottled()}))}dispatch(e=!1){this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this?(e.object.currentTransitionEvent=this,e.init()):"Once"===this.data.runMode&&this.alreadyPlayedNonTogglingActions.add(e)})),this.useToggle?(this.actions.Transition.forEach((e=>{e.toggle()})),this.actions.Animation.forEach((e=>{e.toggle()})),this.actions.SwitchCamera.forEach((e=>{e.toggle()}))):"MousePress"===this.data.type||"KeyPress"===this.data.type?this.entered||(this.entered=!0,this.actions.Transition.forEach((e=>e.playFromCurrent())),this.actions.Animation.forEach((e=>e.playFromCurrent())),this.actions.SwitchCamera.forEach((e=>e.playFromCurrent())),this.actions.Create.forEach((e=>e.dispatchStart()))):(this.actions.Transition.some((e=>e.playing))||this.actions.Transition.forEach((e=>{!1===this.alreadyPlayedNonTogglingActions.has(e)&&e.play()})),this.actions.SwitchCamera.some((e=>e.playing))||this.actions.SwitchCamera.forEach((e=>{e.play()})),this.actions.Animation.forEach((e=>{e.play()}))),this.actions.Link.forEach((e=>{e.dispatch()})),this.actions.SceneTransition.forEach((e=>{e.dispatch()})),!1===e&&this.actions.Create.forEach((e=>{e.dispatch()})),this.actions.Destroy.forEach((e=>{e.dispatch()})),this.actions.Reset.forEach((e=>{e.dispatch()})),this.actions.Audio.forEach((e=>{e.dispatchBasic()})),this.actions.Video.forEach((e=>{e.dispatchBasic()})),this.actions.Particles.forEach((e=>{e.dispatchBasic()})),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch()))}dispatchRelease(){this.entered&&(this.entered=!1,this.actions.Transition.forEach((e=>e.reverseFromCurrent())),this.actions.Particles.forEach((e=>e.reverseFromCurrent())),this.actions.Animation.forEach((e=>e.reverseFromCurrent())),this.actions.SwitchCamera.forEach((e=>e.reverseFromCurrent())),this.actions.Create.forEach((e=>e.dispatchStop())))}dispatchUserEvent(e){this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())})),e?(this.actions.Transition.forEach((e=>e.reverseFromCurrent())),this.actions.Animation.forEach((e=>e.reverseFromCurrent())),this.actions.SwitchCamera.forEach((e=>e.reverseFromCurrent()))):(this.actions.Transition.forEach((e=>e.playFromCurrent())),this.actions.Animation.forEach((e=>e.playFromCurrent())),this.actions.SwitchCamera.forEach((e=>e.playFromCurrent()))),this.actions.Link.forEach((e=>{e.dispatch()})),this.actions.SceneTransition.forEach((e=>{e.dispatch()})),this.actions.Create.forEach((e=>{e.dispatch()})),this.actions.Destroy.forEach((e=>{e.dispatch()})),this.actions.Reset.forEach((e=>{e.dispatch()})),this.actions.Audio.forEach((e=>{e.dispatchBasic()})),this.actions.Video.forEach((e=>{e.dispatchBasic()})),this.actions.Particles.forEach((e=>{e.dispatchBasic()})),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch()))}},spe=class extends epe{constructor(e,t,n){super(e),this.useForRaycastProperty=n,this.objectsPerTypes={MouseDown:[],MouseUp:[],MousePress:[],KeyDown:[],KeyUp:[],KeyPress:[]},this.canvasMouseEvents=[],this.eventsPerObjects={MouseDown:{},MouseUp:{},MousePress:{},KeyDown:{},KeyUp:{},KeyPress:{}},this.heldKeys={},this.heldKeysPress={},this._prevObjects=[],this.sceneInterects=null,this.onCanvasRaycast=e=>{if(!0===this.useForRaycastProperty&&null===this.sceneInterects){this.eventContext.updateRaycaster(e);let{raycaster:t,page:n}=this.eventContext,r=Qfe(t,n,[],!0);this.sceneInterects=r,r.length&&(this.eventContext.sharedAssets.raycastProperty={x:r[0].point.x,y:r[0].point.y,z:r[0].point.z,objX:r[0].object.matrixWorld.elements[12],objY:r[0].object.matrixWorld.elements[13],objZ:r[0].object.matrixWorld.elements[14]})}},this.onCanvasMouseDown=e=>{(e.target===this.eventContext.domElement||"SPLINE-VIEWER"===e.target.tagName)&&this.canvasMouseEvents.forEach((t=>{("MouseDown"===t.data.type||"MousePress"===t.data.type)&&(this.onCanvasRaycast(e),t.dispatch())}))},this.onCanvasMouseUp=e=>{(e.target===this.eventContext.domElement||"SPLINE-VIEWER"===e.target.tagName)&&this.canvasMouseEvents.forEach((t=>{"MouseUp"===t.data.type?(this.onCanvasRaycast(e),t.dispatch()):"MousePress"===t.data.type&&t.dispatchRelease()}))},this.onMouseDown=e=>{L1.length>1||(this.eventContext.updateRaycaster(e),this.handleMouseEvent("MouseDown"))},this.onMouseUp=e=>{L1.length>1||(this.eventContext.updateRaycaster(e),this.handleMouseEvent("MouseUp"))},this.onMousePressDown=e=>{L1.length>1||(this.eventContext.updateRaycaster(e),this.handleMousePressEvent())},this.onMousePressRelease=e=>{L1.length>1||(this.eventContext.updateRaycaster(e),this.handleMousePressEvent(!0))},this.onKeyDown=e=>{this.heldKeys[e.key]||(this.handleKeyEvent(e,"KeyDown"),this.handleKeyEventHeld(e,"KeyDown",!0)),this.heldKeys[e.key]=!0},this.onKeyUp=e=>{this.handleKeyEvent(e,"KeyUp"),this.handleKeyEventHeld(e,"KeyUp",!0)},this.onKeyPressDown=e=>{this.heldKeysPress[e.key]?this.handleKeyEventHeld(e,"KeyPress"):(this.handleKeyEvent(e,"KeyPress"),this.handleKeyEventHeld(e,"KeyPress",!0)),this.heldKeysPress[e.key]=!0},this.onKeyPressUp=e=>{this.handleKeyEvent(e,"KeyPress",!0)},this.releaseHeldKey=e=>{delete this.heldKeys[e.key]},this.releaseHeldKeyPress=e=>{delete this.heldKeysPress[e.key]},this._onUserEvent=({eventName:e,target:t,reverse:n})=>{if(!e||!t)return;let r=rpe(e);r&&("MouseDown"===r||"MouseUp"===r||"MousePress"===r?(t.dispatchEvent({type:"beginEvent",eventName:r}),this.eventsPerObjects[r]?.[t.uuid]?.forEach((e=>{e.dispatchUserEvent(n)}))):("KeyDown"===r||"KeyUp"===r||"KeyPress"===r)&&(t.dispatchEvent({type:"beginEvent",eventName:r}),this.eventsPerObjects[r]?.[t.uuid]?.forEach((e=>{e.dispatchUserEvent()}))))};let{page:r,sharedAssets:i}=this.eventContext,a=(e,n)=>{if(!e.data?.events.length)return;let a=["MouseDown","MouseUp","MousePress","KeyDown","KeyUp","KeyPress"];for(let o of a){let a=this.eventsPerObjects[o];e.data.events.filter((({data:e})=>e.type===o&&!0!==e.disabled)).forEach((({id:n,data:o})=>{try{let s=new ope(n,o,e,r,i,t);s.actions.Video.length&&(this.hasVideoAction=!0),"MouseDown"!==o.type&&"MouseUp"!==o.type&&"MousePress"!==o.type||"Canvas"!==o.mode&&"Window"!==o.mode?a[e.uuid]?a[e.uuid].push(s):a[e.uuid]=[s]:this.canvasMouseEvents.push(s)}catch(e){}})),a[e.uuid]?.length&&this.objectsPerTypes[o].push(e instanceof zle&&("MouseDown"===o||"MouseUp"===o||"MousePress"===o)?n:e)}};r.traverseEntity((e=>{(e instanceof kce||e instanceof _ce)&&e.frame?.traverse((t=>{a(t,e)})),a(e)}))}connect(){let{domElement:e}=this.eventContext;this.heldKeys={},this.heldKeysPress={},this.domEventsNeeded.clear(),e.addEventListener("pointerdown",this.onCanvasMouseDown),e.addEventListener("pointerup",this.onCanvasMouseUp),(this.objectsPerTypes.MouseDown?.length||this.useForRaycastProperty)&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown)),this.objectsPerTypes.MouseUp?.length&&(this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),this.objectsPerTypes.MousePress?.length&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMousePressDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMousePressRelease)),this.objectsPerTypes.KeyDown?.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.releaseHeldKey)),this.objectsPerTypes.KeyUp?.length&&(this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyUp)),this.objectsPerTypes.KeyPress?.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyPressDown),document.addEventListener("keyup",this.releaseHeldKeyPress),this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyPressUp)),Object.entries(this.objectsPerTypes).forEach((([e,t])=>{t.forEach((e=>{e.addEventListener("userEvent",this._onUserEvent)}))}))}disconnect(){let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),this.heldKeys={},this.heldKeysPress={},e.removeEventListener("pointerdown",this.onCanvasMouseDown),e.removeEventListener("pointerup",this.onCanvasMouseUp),e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerdown",this.onMousePressDown),e.removeEventListener("pointerup",this.onMouseUp),e.removeEventListener("pointerup",this.onMousePressRelease),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyPressDown),document.removeEventListener("keyup",this.onKeyPressUp),document.removeEventListener("keyup",this.releaseHeldKey),Object.values(this.eventsPerObjects).forEach((e=>{Object.values(e).forEach((e=>{e.forEach((e=>{e.disconnect()}))}))})),this.canvasMouseEvents.forEach((e=>{e.disconnect()})),Object.entries(this.objectsPerTypes).forEach((([e,t])=>{t.forEach((e=>{e.removeEventListener("userEvent",this._onUserEvent)}))}))}handleMouseEvent(e){let{stopRaycast:t,raycaster:n,page:r,pointerScreen:i}=this.eventContext,a=this.objectsPerTypes[e],o=a.filter((e=>!(e instanceof zle)));if((a.length||this.useForRaycastProperty)&&(!r.uiCanvas||!Zfe(r,[i.x,i.y],Object.keys(this.eventsPerObjects[e]),(t=>{this.handleObjectMouseEventDispatch(t,e)})))){if(t||this.useForRaycastProperty){let i;if(null===this.sceneInterects?i=Qfe(n,r,o,this.useForRaycastProperty):(i=this.sceneInterects,this.sceneInterects=null),this.useForRaycastProperty&&i.length&&(this.eventContext.sharedAssets.raycastProperty={x:i[0].point.x,y:i[0].point.y,z:i[0].point.z,objX:i[0].object.matrixWorld.elements[12],objY:i[0].object.matrixWorld.elements[13],objZ:i[0].object.matrixWorld.elements[14]}),t){let t=[i[0]?.uv?.x??0,i[0]?.uv?.y??0];Kfe(i).forEach((n=>{n instanceof kce&&Zfe(n,t,Object.keys(this.eventsPerObjects[e]),(t=>{this.handleObjectMouseEventDispatch(t,e)})),this.eventsPerObjects[e][n.uuid]&&this.handleObjectMouseEventDispatch(n,e)}))}}t||o.forEach((t=>{let r=Jfe(n,t);r&&(this.handleObjectMouseEventDispatch(t,e),t instanceof kce&&Zfe(t,[r?.uv?.x??0,r?.uv?.y??0],Object.keys(this.eventsPerObjects[e]),(t=>{this.handleObjectMouseEventDispatch(t,e)})))}))}}handleMousePressEvent(e=!1){let t="MousePress",n=this.objectsPerTypes[t],r=n.filter((e=>!(e instanceof zle))),i=[];if(n.length){if(!e){let{stopRaycast:e,raycaster:n,page:a,pointerScreen:o}=this.eventContext,s=!1;if(a.uiCanvas&&(s=Zfe(a,[o.x,o.y],Object.keys(this.eventsPerObjects[t]),(e=>{i.push(e)}))),e&&!s){let e=Qfe(n,a,r);i=Kfe(e),e.forEach((e=>{e.object instanceof kce&&Zfe(e.object,[e?.uv?.x??0,e?.uv?.y??0],Object.keys(this.eventsPerObjects[t]),(e=>{i.push(e)}))}))}else r.forEach((e=>{let r=Jfe(n,e);r&&(i.push(e),e instanceof kce&&Zfe(e,[r?.uv?.x??0,r?.uv?.y??0],Object.keys(this.eventsPerObjects[t]),(e=>{i.push(e)})))}))}this._prevObjects.length&&this._prevObjects.forEach((e=>{i.includes(e)||this.handleObjectMouseEventDispatchRelease(e,t)})),i.length&&i.forEach((e=>{this.handleObjectMouseEventDispatch(e,t)})),this._prevObjects=i}}handleObjectMouseEventDispatch(e,t){e.dispatchEvent({type:"beginEvent",eventName:t}),this.eventsPerObjects[t]?.[e.uuid]?.forEach((e=>{e.dispatch()}))}handleObjectMouseEventDispatchRelease(e,t){e.dispatchEvent({type:"beginEvent",eventName:t}),this.eventsPerObjects[t]?.[e.uuid]?.forEach((e=>{e.dispatchRelease()}))}handleKeyEvent(e,t,n=!1){this.objectsPerTypes[t].forEach((r=>{let i=this.eventsPerObjects[t][r.uuid];i.some((({data:t})=>"key"in t&&t.key===e.key))&&r.dispatchEvent({type:"beginEvent",eventName:t}),i.forEach((t=>{"key"in t.data&&t.data.key===e.key&&(n?t.dispatchRelease():t.dispatch(!0))}))}))}handleKeyEventHeld(e,t,n=!1){this.objectsPerTypes[t].forEach((r=>{this.eventsPerObjects[t][r.uuid].forEach((t=>{"key"in t.data&&t.data.key===e.key&&t.dispatchHeld(n)}))}))}},lpe=new tH,cpe=new tH,upe=class{constructor(e,t,n,r,i){this.actionsIn=nfe(e,e.inActions,n,r,i,t),this.actionsOut=nfe(e,e.outActions,n,r,i,t)}disconnect(){rfe(this.actionsIn),rfe(this.actionsOut)}},hpe=class extends upe{constructor(e,t,n,r,i,a){super(t,n,r,i,a),this.id=e,this.data=t,this.object=n,this.stage="out",this.objects=[],this.onUpdateMatrixWorld=()=>{for(let e of this.objects)if(!e.visible)return;let e=lpe.setFromMatrixPosition(this.objects[0].matrixWorld),t=cpe.setFromMatrixPosition(this.objects[1].matrixWorld),n=e.distanceTo(t)<=this.distance?"in":"out";if(this.stage!==n){this.stage=n;let e="in"===n?this.actionsIn:this.actionsOut;e.Audio.forEach((e=>e.dispatchConditional())),e.Particles.forEach((e=>e.dispatchConditional())),e.Video.forEach((e=>e.dispatchConditional())),e.Link.forEach((e=>e.dispatch())),e.Create.forEach((e=>e.dispatch())),e.Destroy.forEach((e=>e.dispatch())),e.Reset.forEach((e=>e.dispatch())),e.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this),e.init()})),e.Transition.forEach((e=>e.play())),e.Animation.forEach((e=>e.play())),e.SwitchCamera.forEach((e=>e.play())),e.SceneTransition.forEach((e=>e.dispatch())),e.SetVariable.forEach((e=>e.checkConditions())),e.SetVariable.forEach((e=>e.dispatch())),e.DynamicVariablePlay.forEach((e=>e.dispatch()))}};let{distance:o,fromObject:s,toObject:l}=t.condition;this.distance=o;for(let e of[s,l]){if(!e)throw new Error("Missing property");let t=r.find(e);if(!t)throw new Error("Missing property");this.objects.push(t)}}connect(){window.setTimeout((()=>{this.objects.forEach((e=>{e.addEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)})),this.onUpdateMatrixWorld()}),0)}disconnect(){super.disconnect(),this.stage="out",this.objects.forEach((e=>{e.removeEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)}))}},dpe=class extends upe{constructor(e,t,n,r,i,a){super(t,n,r,i,a),this.id=e,this.data=t,this.object=n,this.onBegin=({target:e,state:t})=>{this.toState!==t&&(this.actionsOut.Audio.forEach((e=>e.dispatchConditional())),this.actionsOut.Particles.forEach((e=>e.dispatchConditional())),this.actionsOut.Video.forEach((e=>e.dispatchConditional())),this.actionsOut.Link.forEach((e=>e.dispatch())),this.actionsOut.Create.forEach((e=>e.dispatch())),this.actionsOut.Destroy.forEach((e=>e.dispatch())),this.actionsOut.Reset.forEach((e=>e.dispatch())),this.actionsIn.Transition.forEach((e=>e.pause())),this.object.currentTransitionEvent=this,this.actionsOut.Transition.forEach((e=>e.play())),this.actionsOut.Animation.forEach((e=>e.play())),this.actionsIn.SwitchCamera.forEach((e=>e.pause())),this.actionsOut.SwitchCamera.forEach((e=>e.play())),this.actionsOut.SceneTransition.forEach((e=>e.dispatch())),this.actionsOut.SetVariable.forEach((e=>e.checkConditions())),this.actionsOut.SetVariable.forEach((e=>e.dispatch())),this.actionsOut.DynamicVariablePlay.forEach((e=>e.dispatch())))},this.onComplete=({target:e,state:t})=>{this.toState===t&&(this.actionsIn.Audio.forEach((e=>e.dispatchConditional())),this.actionsIn.Particles.forEach((e=>e.dispatchConditional())),this.actionsIn.Video.forEach((e=>e.dispatchConditional())),this.actionsIn.Link.forEach((e=>e.dispatch())),this.actionsIn.Create.forEach((e=>e.dispatch())),this.actionsIn.Destroy.forEach((e=>e.dispatch())),this.actionsIn.Reset.forEach((e=>e.dispatch())),this.actionsOut.Transition.forEach((e=>e.pause())),this.actionsOut.Transition.forEach((e=>e.pause())),this.object.currentTransitionEvent=this,this.actionsIn.Transition.forEach((e=>e.play())),this.actionsIn.Animation.forEach((e=>e.play())),this.actionsOut.SwitchCamera.forEach((e=>e.pause())),this.actionsIn.SwitchCamera.forEach((e=>e.play())),this.actionsIn.SceneTransition.forEach((e=>e.dispatch())),this.actionsIn.SetVariable.forEach((e=>e.checkConditions())),this.actionsIn.SetVariable.forEach((e=>e.dispatch())),this.actionsIn.DynamicVariablePlay.forEach((e=>e.dispatch())))};let{condition:o}=t;if(!o.object)throw new Error("Missing property");let s=r.find(o.object)??r.scene.find2D(o.object);if(!s)throw new Error("Missing property");if(this.toObject=s,o.state&&!this.toObject.states?.[o.state])throw new Error("Missing property");this.toState=o.state}connect(){p$(this.actionsOut).forEach((e=>{this.actionsOut[e]?.length&&this.toObject.addEventListener("beginState",this.onBegin)})),p$(this.actionsIn).forEach((e=>{this.actionsIn[e]?.length&&this.toObject.addEventListener("completeState",this.onComplete)}))}disconnect(){super.disconnect(),p$(this.actionsOut).forEach((e=>{this.actionsIn[e]?.length&&this.toObject.removeEventListener("beginState",this.onBegin)})),p$(this.actionsIn).forEach((e=>{this.actionsIn[e]?.length&&this.toObject.removeEventListener("completeState",this.onComplete)}))}},fpe=class extends epe{constructor(e,t){super(e),this.eventsPerConditions={Comparison:[],Distance:[],State:[]},this.hasVideoAction=!1;let{page:n,sharedAssets:r}=this.eventContext;n.traverseEntity((e=>{if(e.data?.events.length)for(let{id:i,data:a}of e.data.events)if(!a.disabled&&"Conditional"===a.type)try{let o;"Comparison"===a.condition.type||("Distance"===a.condition.type?o=new hpe(i,a,e,n,r,t):"State"===a.condition.type&&(o=new dpe(i,a,e,n,r,t))),o&&(this.eventsPerConditions[a.condition.type].push(o),(o.actionsIn.Video.length||o.actionsOut.Video.length)&&(this.hasVideoAction=!0))}catch(e){}}))}connect(){super.connect(),Object.values(this.eventsPerConditions).forEach((e=>e.forEach((e=>e.connect()))))}disconnect(){super.disconnect(),Object.values(this.eventsPerConditions).forEach((e=>e.forEach((e=>e.disconnect()))))}},ppe=new tH,mpe=new tH,gpe=new tH,vpe=new sW,ype=new tH,wpe=new tH,bpe=new tH,xpe=new eH,_pe=new jH,Spe=new kH,Epe=new TV,Cpe=new tH,Ape=new tH,Tpe=.2;function Mpe(e,t){!t||(t[0]<t[1]&&(e.x=Math.min(Math.max(e.x,t[0]),t[1])),t[2]<t[3]&&(e.y=Math.min(Math.max(e.y,t[2]),t[3])),t[4]<t[5]&&(e.z=Math.min(Math.max(e.z,t[4]),t[5])))}var Ppe=function(){let e=new kH;return(t,n,r)=>{let i=t.obj;e.copy(i.hiddenMatrix),null!==i.parent&&e.premultiply(i.parent.matrixWorld),e.invert(),i.position.copy(n),"global"===t.reference&&Mpe(i.position,t.limits),i.position.applyMatrix4(e),"parent"===t.reference?Mpe(i.position,t.limits):"local"===t.reference&&(xpe.copy(t.quat0).invert(),i.position.sub(t.position0),i.position.applyQuaternion(xpe),Mpe(i.position,t.limits),xpe.invert(),i.position.applyQuaternion(xpe),i.position.add(t.position0)),e.multiply(r??i.matrixWorld).decompose(ype,i.quaternion,wpe),i.updateMatrix(),i.hasNonUniformScale&&(i.updateMatrixWorld(),i.updateMatrixWorldSVD()),i instanceof dne&&Foe(i.parent)&&i.invalidateDownstreamBooleanData(!0)}}(),Dpe=class extends epe{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.lastDropDestination=null,this.dragTimeout=null,this.onPointerDown=e=>{if(L1.length>1)return;this.eventContext.updateRaycaster(e);let{raycaster:t,page:n}=this.eventContext,r=n.raycastWithClones(t);if(this.lastDropDestination=null,0!==r.length){for(let e of this.events){let t=0;for(let{obj:n,pointEnd:i,pointStart:a}of e.dragItems){if(n===r[0].object||n===r[0].object.object||O7.is(n)&&n.isAncestorOf(r[0].object.uuid)){if(e.activeIdx=t,e.activeDragItem.reset=!1,e.activeDragItem.currentDampingFactor=e.data.dampingFactor,e.activeDragItem.snapped=!1,"hand"===e.data.cursor&&this.setCursor("grabbing"),this.eventManager.controlsManager.usePhysics){e.activeDragItem.obj.rigidBody&&e.activeDragItem.obj.rigidBody.setBodyType(2,!0);let t=e.activeDragItem.obj;n.hasNonUniformScale&&n.updateMatrixWorldSVD(),(t.hasNonUniformScale?t.matrixWorldRigid:t.matrixWorld).decompose(ype,xpe,wpe),_pe.setFromQuaternion(xpe),void 0===t.prevR?(t.prevR=_pe.clone(),t.prevT=ype.clone()):(t.prevR.copy(_pe),t.prevT.copy(ype)),this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.push(e.activeDragItem.obj)}return this.calcPlaneIntersectPos(n,a,e.data.plane,e.data.referenceFrame),i.copy(a),(this.eventManager.controlsManager.usePhysics&&"dynamic"===n.data.physics?.rigidBody||!1===e.data.drop||!1===e.data.resetOnSnapFail)&&e.activeDragItem.fromPosition.setFromMatrixPosition(e.activeDragItem.obj.matrixWorld),this.activeEvent=e,void(this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1))}t++}}this.activeEvent=null}else this.activeEvent=null},this.onPointerMove=e=>{if(L1.length>1)return;this.eventContext.updateRaycaster(e);let{raycaster:t,page:n}=this.eventContext,r=n.raycastWithClones(t);if(0!==L1.length){if(this.activeEvent&&this.activeEvent.activeDragItem){let e,t=this.activeEvent.activeDragItem;if(t.snapped=!1,this.activeEvent.data.drop&&(e=r.filter((e=>t.obj!==e.object&&!t.obj.isAncestorOf(e.object.uuid)&&!(e.object instanceof Voe)&&("all"===this.activeEvent.data.dropOn||this.activeEvent.dropDestIds.some((t=>t===e.object.uuid||n.scene.find(t).isAncestorOf(e.object.uuid))))))[0]),e){let n=bpe.copy(e.face.normal).applyMatrix3(Epe.getNormalMatrix(e.object.matrixWorld));if("center"===this.activeEvent.data.snapTo)t.fromPosition.setFromMatrixPosition(e.object.matrixWorld);else if("surface"===this.activeEvent.data.snapTo){if(t.fromPosition.copy(e.point),"bbox"===this.activeEvent.data.snapSurfaceMode){ype.copy(n).applyMatrix3(Epe.setFromMatrix4(t.obj.matrixWorld).transpose());let e=t.obj;ype.x>Tpe?wpe.x=-e.recursiveBBox.min.x:ype.x<-Tpe&&(wpe.x=-e.recursiveBBox.max.x),ype.y>Tpe?wpe.y=-e.recursiveBBox.min.y:ype.y<-Tpe&&(wpe.y=-e.recursiveBBox.max.y),ype.z>Tpe?wpe.z=-e.recursiveBBox.min.z:ype.z<-Tpe&&(wpe.z=-e.recursiveBBox.max.z),wpe.applyMatrix3(Epe.invert())}else wpe.copy(n).multiplyScalar(this.activeEvent.data.snapSurfaceOffset);t.fromPosition.add(wpe)}this.activeEvent.data.autoOrient&&(ype.set(0,1,0).cross(n),ype.length()<1e-4&&ype.set(-1,0,0).cross(n),wpe.crossVectors(bpe,ype),t.orientationMatrix.makeBasis(ype,wpe,n)),t.pointStart.copy(t.fromPosition),t.pointEnd.copy(t.pointStart),t.currentDampingFactor=this.activeEvent.snapDampingFactor,t.snapped=!0,this.lastDropDestination!==e.object&&(this.lastDropDestination=e.object,this.activeEvent.actionsDrop.Transition.forEach((e=>{e.play()})),this.activeEvent.actionsDrop.Animation.forEach((e=>{e.play()})),this.activeEvent.actionsDrop.Audio.forEach((e=>{e.dispatchGameControl("start")})),this.activeEvent.actionsDrop.Particles.forEach((e=>{e.dispatchGameControl("start")})),this.activeEvent.actionsDrop.Create.forEach((e=>{e.dispatchThrottled()})))}else t.orientationMatrix.makeRotationFromQuaternion(t.quat0),this.lastDropDestination=null,t.currentDampingFactor=this.activeEvent.data.dampingFactor,this.calcPlaneIntersectPos(t.obj,t.pointEnd,this.activeEvent.data.plane,this.activeEvent.data.referenceFrame),this.activeEvent.actionsDrop.Transition.forEach((e=>{e.stop(),null!==e.object.currentState&&e.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})})),this.activeEvent.actionsDrop.Animation.forEach((e=>{e.stop()})),this.activeEvent.actionsDrop.Audio.forEach((e=>{e.dispatchGameControl("stop")})),this.activeEvent.actionsDrop.Particles.forEach((e=>{e.dispatchGameControl("stop")}));this.activeEvent.actionsDrag.Create.forEach((e=>{e.dispatchThrottled()})),this.activeEvent.actionsDrag.SetVariable.forEach((e=>e.checkConditions())),this.activeEvent.actionsDrag.SetVariable.forEach((e=>e.dispatch())),this.activeEvent.actionsDrag.DynamicVariablePlay.forEach((e=>e.dispatch())),!1===this.activeEvent.wasDragEventTriggered&&(this.activeEvent.wasDragEventTriggered=!0,this.activeEvent.actionsDrag.Transition.forEach((e=>{e.play()})),this.activeEvent.actionsDrag.Animation.forEach((e=>{e.play()})),this.activeEvent.actionsDrag.Audio.forEach((e=>{e.dispatchGameControl("start")})),this.activeEvent.actionsDrag.Particles.forEach((e=>{e.dispatchGameControl("start")}))),this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout((()=>{!this.activeEvent||(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Audio.forEach((e=>{e.dispatchGameControl("stop")})),this.activeEvent.actionsDrag.Particles.forEach((e=>{e.dispatchGameControl("stop")})),this.activeEvent.actionsDrag.Transition.forEach((e=>{e.stop(),null!==e.object.currentState&&e.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})})),this.activeEvent.actionsDrag.Animation.forEach((e=>{e.stop()})))}),500),this.updateDragItem(t),t.obj.dispatchEvent({type:"requestRender"})}}else{let e=!1;for(let t of this.events){for(let{obj:n}of t.dragItems)if(n===r[0]?.object||n===r[0]?.object?.object||O7.is(n)&&n.isAncestorOf(r[0]?.object.uuid)){switch(e=!0,t.data.cursor){case"hand":this.setCursor("grab");break;case"move":this.setCursor("move")}break}if(e)break}e||this.setCursor("default")}},this.onPointerUp=e=>{if(this.activeEvent&&this.activeEvent.activeDragItem){"hand"===this.activeEvent.data.cursor&&this.setCursor("grab");let e="dynamic"===this.activeEvent.activeDragItem.obj.data.physics?.rigidBody;!1===this.activeEvent.activeDragItem.snapped&&this.activeEvent.data.drop&&this.activeEvent.data.resetOnSnapFail&&(!1===this.eventManager.controlsManager.usePhysics||!e)&&(this.activeEvent.activeDragItem.reset=this.activeEvent.data.resetOnSnapFail,this.activeEvent.activeDragItem.paused=!1,this.activeEvent.activeDragItem.currentDampingFactor=this.activeEvent.resetDampingFactor),this.eventManager.controlsManager.usePhysics&&e&&(this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.pop(),this.activeEvent.activeDragItem.obj.rigidBody.setBodyType(0,!0),this.activeEvent.activeDragItem.paused=!0),!0===this.activeEvent.wasDragEventTriggered&&(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Transition.forEach((e=>{e.stop(),null!==e.object.currentState&&e.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})})),this.activeEvent.actionsDrag.Animation.forEach((e=>{e.stop()})),this.activeEvent.actionsDrag.Audio.forEach((e=>{e.dispatchGameControl("stop")})),this.activeEvent.actionsDrag.Particles.forEach((e=>{e.dispatchGameControl("stop")})),this.activeEvent.actionsDrop.SetVariable.forEach((e=>e.checkConditions())),this.activeEvent.actionsDrop.SetVariable.forEach((e=>e.dispatch())),this.activeEvent.actionsDrop.DynamicVariablePlay.forEach((e=>e.dispatch()))),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0)}};let n={};e.page.traverseEntity((e=>{e.component&&(n[e.component.uuid]?n[e.component.uuid].push(e.uuid):n[e.component.uuid]=[e.uuid])})),e.page.traverseEntity((r=>{r.data?.events.filter((e=>"DragDrop"===e.data.type&&!e.data.disabled)).forEach((i=>{this.events.push(new class{constructor(e,t,n,r,i,a){this.object=e,this.data=t,this.dropDestIds=[],this.activeIdx=null,this.wasDragEventTriggered=!1,this.resetDampingFactor=0===this.data.resetSpeed?1:8/this.data.resetSpeed+1,this.snapDampingFactor=0===this.data.snapSpeed?1:8/this.data.snapSpeed+1,this.actionsDrag=nfe(t,t.dragDropActions.drag,n,r,i,this.object),this.actionsDrop=nfe(t,t.dragDropActions.drop,n,r,i,this.object);let o=[];this.data.objects.forEach((e=>{let t=n.find(e);!t||!1!==t.data.visible&&(o.push(t),a[t.uuid]&&a[t.uuid].forEach((e=>{let t=n.find(e);!t||!1!==t.data.visible&&o.push(t)})))})),this.data.dropDestinations.forEach((e=>{let t=n.find(e);!t||!1!==t.data.visible&&(this.dropDestIds.push(t.uuid),a[t.uuid]&&a[t.uuid].forEach((e=>{let t=n.find(e);!t||!1!==t.data.visible&&this.dropDestIds.push(t.uuid)})))})),this.dragItems=o.map((e=>("locked"===this.data.planeMode&&(e.userData.lockedPlane=!0),e.userData.worldPosition0=(new tH).setFromMatrixPosition(e.matrixWorld),{obj:e,fromPosition:(new tH).setFromMatrixPosition(e.matrixWorld),pointStart:new tH,pointEnd:new tH,paused:!0,currentDampingFactor:this.data.dampingFactor,reset:!1,position0:(new tH).copy(e.position),quat0:(new eH).copy(e.quaternion),snapped:!1,orientationMatrix:new kH,limits:this.data.limits,reference:this.data.referenceFrame})))}get activeDragItem(){return null!==this.activeIdx?this.dragItems[this.activeIdx]:null}dispose(){rfe(this.actionsDrag),rfe(this.actionsDrop),this.dragItems.forEach((e=>{e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart),e.obj.recursiveBBoxNeedsUpdate=!0,e.obj.userData.lockedPlane=void 0,e.obj.position.copy(e.position0),e.obj.quaternion.copy(e.quat0),e.obj.updateMatrix()}))}}(r,i.data,e.page,e.sharedAssets,t,n))}))}))}connect(){if(!this.events.length)return;this.domEventsNeeded.clear(),this.domEventsNeeded.add("pointerdown");let e=this.eventContext.domElement;e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointermove",this.onPointerMove),e.addEventListener("pointerup",this.onPointerUp),this.domEventsNeeded.add("pointermove")}disconnect(){if(!this.events.length)return;this.domEventsNeeded.clear();let e=this.eventContext.domElement;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),this.events.forEach((e=>e.dispose()))}setCursor(e){this.eventContext.domElement.style.cursor=e}onAnimationFrameDamping(){for(let e of this.events)for(let t of e.dragItems)t.paused||this.updateDragItem(t,!0)}calcPlaneIntersectPos(e,t,n,r){let{getCamera:i,raycaster:a}=this.eventContext;i().getWorldDirection(mpe),mpe.negate();let o=xpe.identity();switch("parent"===r?Spe.multiplyMatrices(e.parent.matrixWorld,e.hiddenMatrix).decompose(ype,o,wpe):"local"===r&&e.matrixWorld.decompose(ype,o,wpe),n){case"x":ype.set(1,0,0).applyQuaternion(o),Cpe.copy(mpe).cross(ype),Ape.copy(ype).cross(Cpe);break;case"y":ype.set(0,1,0).applyQuaternion(o),Cpe.copy(mpe).cross(ype),Ape.copy(ype).cross(Cpe);break;case"z":ype.set(0,0,1).applyQuaternion(o),Cpe.copy(mpe).cross(ype),Ape.copy(ype).cross(Cpe);break;case"xy":Ape.set(0,0,1).applyQuaternion(o);break;case"yz":Ape.set(1,0,0).applyQuaternion(o);break;case"xz":Ape.set(0,1,0).applyQuaternion(o);break;case"adaptive":mpe.angleTo(wpe.set(0,1,0))>Math.PI/6?(ype.crossVectors(wpe.set(0,1,0),mpe),Ape.crossVectors(ype,wpe)):Ape.set(0,1,0);break;default:Ape.copy(mpe)}gpe.setFromMatrixPosition(e.matrixWorld);let s=e.userData.lockedPlane?e.userData.worldPosition0:gpe;if(vpe.setFromNormalAndCoplanarPoint(Ape,s),a.ray.intersectPlane(vpe,t)&&("x"===n||"y"===n||"z"===n)){let e=wpe.subVectors(t,s).dot(ype);t.copy(s).addScaledVector(ype,e)}}updateDragItem(e,t=!1){gpe.setFromMatrixPosition(e.obj.matrixWorld),"current"===e.reset?ppe.subVectors(e.fromPosition,gpe).divideScalar(e.currentDampingFactor):"original"===e.reset?(ppe.subVectors(e.obj.userData.worldPosition0,gpe).divideScalar(e.currentDampingFactor),e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart)):ppe.subVectors(e.pointEnd,e.pointStart).add(e.fromPosition).sub(gpe).divideScalar(e.currentDampingFactor),e.paused=!(e.currentDampingFactor>1)||ppe.length()<.01,(this.activeEvent&&1===this.activeEvent.data.dampingFactor||t)&&Ppe(e,ppe.add(gpe),this.activeEvent?.data.drop&&this.activeEvent?.data.autoOrient?e.orientationMatrix:null),e.obj.dispatchEvent({type:"beginEvent",eventName:"DragDrop"}),this.eventManager.requestRender()}},kpe=new tH,Ope=new tH,Ipe=new tH,Rpe=new tH,Lpe=new sW,Npe={type:"requestRender"},zpe=function(){let e=new tH,t=new tH;return(n,r,i)=>i>0?(e.subVectors(n,r),e.length()<=i?n:t.copy(r).add(e.normalize().multiplyScalar(i))):r}(),Bpe=function(){let e=new kH;return(t,n)=>{t.position.copy(n),null!==t.parent&&(e.copy(t.parent.matrixWorld).invert(),t.position.applyMatrix4(e)),e.copy(t.hiddenMatrix).invert(),t.position.applyMatrix4(e),t.updateMatrix(),t.hasNonUniformScale&&(t.updateMatrixWorld(),t.updateMatrixWorldSVD()),t instanceof dne&&Foe(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),Fpe=class extends epe{constructor(e,t){super(e),this.events=[],this.pairOfEventListeners=[],this.onMouseMove=e=>{if(!(L1.length>1)){this.eventContext.updateRaycaster(e);for(let e of this.events)void 0===e.target&&this.updateSingleEvent(e)}},this.onMouseEnter=e=>{for(let e of this.events)void 0===e.target&&(e.isReset=!1,e.currentDampingFactor=e.data.dampingFactor)},this.onMouseLeave=e=>{for(let e of this.events)void 0===e.target&&(e.data.resetOnPointerLeave&&(e.isReset=!0,e.currentDampingFactor=e.resetDampingFactor),this.updateSingleEvent(e))},this.onTargetChange=e=>()=>{this.updateSingleEvent(e)};let{page:n}=this.eventContext;n.traverseEntity((r=>{let i=r.data?.events.find((e=>"Follow"===e.data.type&&!e.data.disabled));i&&(!n.data.globalPhysics.usePhysics||"dynamic"!==r.dataPatched.physics?.rigidBody)&&this.events.push(new class{constructor(e,t,n,r,i){this.data=e,this.object=t,this.paused=!1,this.currentDampingFactor=1,this.snapComplete=!1,this.isReset=!1,this.worldPosition0=new tH,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={..._4.defaultData,...e,...void 0===e.resetOnPointerLeave&&{resetOnPointerLeave:!1}},void 0===e.target||"cursor"===e.target||(this.target=n.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.resetDampingFactor=80/this.data.resetSpeed+1,this.object.getWorldPosition(this.worldPosition0),this.actions=nfe(e,e.actions,n,r,i,t)}}(i.data,r,n,e.sharedAssets,t))}))}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),P1&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents||(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let e of this.events)if(void 0!==e.target){let t=e.target,n=this.onTargetChange(e);this.pairOfEventListeners.push([t,n]),t.addEventListener("requestRender",n)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),P1&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave);for(let[e,t]of this.pairOfEventListeners)e.removeEventListener("requestRender",t);for(let e of this.events)e.paused=!0,e.isReset=!1,rfe(e.actions)}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e,!0)}updateSingleEvent(e,t=!1){this.events.forEach((e=>{e.actions.Create.forEach((e=>{e.dispatchThrottled()}))}));let{plane:n,limitDistance:r,limitDistanceEnabled:i}=e.data;if(e.object.getWorldPosition(Ipe),e.isReset)Rpe.copy(e.worldPosition0);else if(e.target)e.target.getWorldPosition(Rpe);else{let{getCamera:e,raycaster:t}=this.eventContext;if("custom"===n?(e().getWorldDirection(Ope),Ope.negate(),kpe.copy(Ope)):"xy"===n?kpe.set(0,0,1):"xz"===n?kpe.set(0,1,0):"yz"===n&&kpe.set(1,0,0),Lpe.setFromNormalAndCoplanarPoint(kpe,Ipe),!t.ray.intersectPlane(Lpe,Rpe))return}if(!e.isReset)if(Rpe.distanceTo(e.worldPosition0)>r&&i&&e.target){if(e.snapComplete=!1,e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&null!==e.timeoutId&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,!e.data.resetAfterDistanceLimit)return;Rpe.copy(e.worldPosition0),e.currentDampingFactor=e.resetDampingFactor}else if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout((()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)}),1e3*e.data.snapDelay)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),!1===e.delayFinished)return;!1===e.data.enabledTranslation[0]&&(Rpe.x=Ipe.x),!1===e.data.enabledTranslation[1]&&(Rpe.y=Ipe.y),!1===e.data.enabledTranslation[2]&&(Rpe.z=Ipe.z);let a=zpe(Ipe,Rpe,e.wasOutside?0:e.data.maxDelta);if(e.currentDampingFactor>1){let n=kpe.subVectors(a,Ipe).divideScalar(e.currentDampingFactor);Ipe.add(n),t&&Bpe(e.object,Ipe),e.paused=n.length()<.01}else Bpe(e.object,a),e.paused=!0;e.object?.dispatchEvent({type:"beginEvent",eventName:"Follow"}),e.object.dispatchEvent(Npe)}},Upe=new tH,jpe=new tH,Vpe=new kH,Hpe=new eH,Gpe=new eH,Wpe=new tH,qpe=new tH,Xpe=new tH,Ype=new tH,Qpe=new sW,Kpe={type:"requestRender"},Zpe={type:"changeRotation"},Jpe=function(){let e=new kH;return function(t,n){null!==t.parent?e.multiplyMatrices(t.parent.matrixWorld,t.hiddenMatrix):e.copy(t.hiddenMatrix),n.premultiply(Gfe(e).invert()),t.rotation.setFromRotationMatrix(n),t.updateMatrix(),t instanceof dne&&Foe(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),$pe=class extends epe{constructor(e){super(e),this.events=[],this.pairOfEventListeners=[],this.pairOfUserEventListeners=[],this.onMouseMove=e=>{if(!(L1.length>1)){this._lastMouseEvent=e,this.eventContext.updateRaycaster(e);for(let e of this.events)void 0===e.target&&this.updateSingleEvent(e)}},this.onMouseEnter=e=>{for(let e of this.events)void 0===e.target&&(e.isReset=!1,e.currentDampingFactor=e.data.dampingFactor)},this.onMouseLeave=e=>{for(let e of this.events)void 0===e.target&&(e.data.resetOnPointerLeave&&(e.isReset=!0,e.currentDampingFactor=e.resetDampingFactor),this.updateSingleEvent(e))},this.onScroll=e=>{if(this._lastMouseEvent){let e=new PointerEvent("pointermove",{clientX:this._lastMouseEvent.clientX,clientY:this._lastMouseEvent.clientY,bubbles:!0,cancelable:!0,view:window});this.eventContext.eventElement.dispatchEvent(e)}},this.onTargetChange=e=>()=>{this.updateSingleEvent(e)},this.createUserEventListener=e=>({eventName:t,target:n})=>{if(!t||!n)return;let r=rpe(t);r&&"LookAt"===r&&this.updateSingleEvent(e)};let{page:t}=this.eventContext;t.traverseEntity((e=>{let n=e.data?.events.find((e=>"LookAt"===e.data.type&&!e.data.disabled));n&&(!t.data.globalPhysics.usePhysics||"dynamic"!==e.dataPatched.physics?.rigidBody)&&this.events.push(new class{constructor(e,t,n){this.object=t,this.paused=!1,this.currentDampingFactor=1,this.isReset=!1,this.worldQuaternion0=new eH,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...S4.defaultData,...e,...void 0===e.resetOnPointerLeave&&{resetOnPointerLeave:!1}},void 0===e.target||"cursor"===e.target||(this.target=n.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.object.getWorldQuaternion(this.worldQuaternion0),this.resetDampingFactor=80/this.data.resetSpeed+1}}(n.data,e,t))}))}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),P1&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents?t.addEventListener("scroll",this.onScroll):(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let e of this.events){if(void 0!==e.target){let t=this.onTargetChange(e),n=e.target;this.pairOfEventListeners.push([n,t]),n.addEventListener("requestRender",t)}let t=this.createUserEventListener(e),n=e.object;this.pairOfUserEventListeners.push([n,t]),n.addEventListener("userEvent",t)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),P1&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave),t.removeEventListener("scroll",this.onScroll);for(let[e,t]of this.pairOfEventListeners)e.removeEventListener("requestRender",t);for(let[e,t]of this.pairOfUserEventListeners)e.removeEventListener("userEvent",t);for(let e of this.events)e.paused=!0,e.isReset=!1}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e)}updateSingleEvent(e){let{tilt:t,axis:n,distance:r,plane:i,limitDistance:a,enabledRotation:o,limitDistanceEnabled:s}=e.data,{getCamera:l,raycaster:c}=this.eventContext,{object:u,target:h}=e;if(u.getWorldPosition(Wpe),!e.isReset)if(e.target)e.target.getWorldPosition(qpe);else{if("custom"===i?(l().getWorldDirection(jpe),jpe.negate(),Qpe.setFromNormalAndCoplanarPoint(jpe,Wpe)):("xy"===i?Upe.set(0,0,1):"xz"===i?Upe.set(0,1,0):"yz"===i&&Upe.set(1,0,0),Qpe.setFromNormalAndCoplanarPoint(Upe,Wpe)),!c.ray.intersectPlane(Qpe,qpe))return;r>0&&("custom"===i||void 0===i)&&qpe.addScaledVector(jpe,r)}if(e.isReset||(h?"target"===t?Xpe.copy(h.up).applyMatrix4(Vpe.extractRotation(h.matrixWorld)).normalize():o.some((e=>!1===e))?("x"===n?(Ype.set(0,0,1),!1===o[2]&&Ype.set(0,1,0)):"y"===n?(Ype.set(1,0,0),!1===o[0]&&Ype.set(0,0,1)):(Ype.set(0,1,0),!1===o[1]&&Ype.set(1,0,0)),Xpe.copy(Ype).applyQuaternion(e.worldQuaternion0).normalize()):Xpe.set(0,1,0):"custom"===i?Xpe.set(0,1,0):Xpe.copy(Upe)),e.isReset)Gpe.copy(e.worldQuaternion0);else if(Wpe.distanceTo(qpe)>a&&s&&h){if(e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&null!==e.timeoutId&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,!e.data.resetAfterDistanceLimit)return;Gpe.copy(e.worldQuaternion0),e.currentDampingFactor=e.resetDampingFactor}else{if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout((()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)}),1e3*e.data.snapDelay)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),!1===e.delayFinished)return;(function(e,t,n,r,i,a){let o=e.elements;nme.subVectors(t,n),0===nme.lengthSq()&&(nme.z=1),nme.normalize(),tme.crossVectors(r,nme),0===tme.lengthSq()&&(1===Math.abs(r.z)?nme.x+=1e-4:nme.z+=1e-4,nme.normalize(),tme.crossVectors(r,nme)),tme.normalize(),eme.crossVectors(nme,tme),"x"===i?1===a.z?[tme,eme,nme]=[nme,tme,eme]:(tme.negate(),[tme,nme]=[nme,tme]):"y"===i?1===a.x?[tme,eme,nme]=[eme,nme,tme]:(tme.negate(),[eme,nme]=[nme,eme]):1===a.x&&(tme.negate(),[tme,eme]=[eme,tme]),o[0]=tme.x,o[4]=eme.x,o[8]=nme.x,o[1]=tme.y,o[5]=eme.y,o[9]=nme.y,o[2]=tme.z,o[6]=eme.z,o[10]=nme.z})(Vpe,qpe,Wpe,Xpe,n,Ype),Gpe.setFromRotationMatrix(Vpe),Hpe.setFromUnitVectors(Ype.applyQuaternion(Gpe),Xpe),o.some((e=>!1===e))&&"target"!==t&&Gpe.premultiply(Hpe).normalize()}e.currentDampingFactor>1?(u.updateWorldMatrix(!0,!1),Hpe.setFromRotationMatrix(Gfe(u.matrixWorld)),Hpe.slerp(Gpe,1/e.currentDampingFactor),Jpe(u,Vpe.makeRotationFromQuaternion(Hpe)),e.paused=8*(1-Hpe.dot(Gpe))<1e-6):(Jpe(u,Vpe.makeRotationFromQuaternion(Gpe)),e.paused=!0),e.object?.dispatchEvent({type:"beginEvent",eventName:"LookAt"}),u.dispatchEvent(Kpe),u.dispatchEvent(Zpe)}},eme=new tH,tme=new tH,nme=new tH,rme=class{constructor(e,t,n,r,i,a){this.id=e,this.data=t,this.object=n,this.entered=!1,this.actions=nfe(t,t.actions,r,i,a,n)}disconnect(){rfe(this.actions)}dispatchEnter(){this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())})),this.entered||(this.entered=!0,this.actions.Transition.forEach((e=>e.playFromCurrent())),this.actions.Animation.forEach((e=>e.play())),this.actions.Create.forEach((e=>e.dispatch())),this.actions.Particles.forEach((e=>e.dispatchBasic())),this.actions.Destroy.forEach((e=>e.dispatch())),this.actions.SwitchCamera.forEach((e=>e.playFromCurrent())),this.actions.SceneTransition.forEach((e=>e.dispatch())),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch())))}dispatchLeave(){this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())})),this.entered&&(this.entered=!1,this.actions.Transition.forEach((e=>e.reverseFromCurrent())),this.actions.Particles.forEach((e=>e.reverseFromCurrent())),this.actions.SwitchCamera.forEach((e=>e.reverseFromCurrent())))}dispatchUserEvent(e){this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())})),e?(this.actions.Transition.forEach((e=>e.reverseFromCurrent())),this.actions.Particles.forEach((e=>e.reverseFromCurrent())),this.actions.Animation.forEach((e=>e.reverseFromCurrent())),this.actions.SwitchCamera.forEach((e=>e.reverseFromCurrent()))):(this.actions.Transition.forEach((e=>e.playFromCurrent())),this.actions.Animation.forEach((e=>e.playFromCurrent())),this.actions.Create.forEach((e=>e.dispatch())),this.actions.Particles.forEach((e=>e.dispatchBasic())),this.actions.Destroy.forEach((e=>e.dispatch())),this.actions.SwitchCamera.forEach((e=>e.playFromCurrent()))),this.actions.SceneTransition.forEach((e=>e.dispatch())),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch()))}},ime=class extends epe{constructor(e,t){super(e),this.eventsPerObjects={},this.objects=[],this.objects2D=[],this._prevObjects=[],this.onMouseDown=e=>{L1.length>1||(this.eventContext.updateRaycaster(e),this.handleMouseHoverEvent())},this.onMouseUp=e=>{L1.length>1||this.handleMouseHoverEvent(!0)},this.onMouseMove=e=>{L1.length>1||(this.eventContext.updateRaycaster(e),this.handleMouseHoverEvent())},this.onUserEvent=({eventName:e,target:t,reverse:n})=>{if(!e||!t)return;let r=rpe(e);r&&"MouseHover"===r&&(t.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[t.uuid]?.forEach((e=>e.dispatchUserEvent(n))))};let{page:n,sharedAssets:r}=this.eventContext,i=(e,i)=>{if(e.visible&&e.data?.events.length){for(let{id:i,data:a}of e.data.events)if(!a.disabled&&"MouseHover"===a.type)try{let o=new rme(i,a,e,n,r,t);this.eventsPerObjects[e.uuid]?this.eventsPerObjects[e.uuid].push(o):this.eventsPerObjects[e.uuid]=[o]}catch(e){}this.eventsPerObjects[e.uuid]?.length&&this.objects.push(e instanceof zle?i:e)}};n.traverseEntity((e=>{(e instanceof kce||e instanceof _ce)&&e.frame?.traverse((t=>{i(t,e)})),i(e)}))}connect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),P1&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),this.domEventsNeeded.add("pointermove"),e.addEventListener("pointermove",this.onMouseMove),this.objects.forEach((e=>{e.addEventListener("userEvent",this.onUserEvent)}))}disconnect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),P1&&(e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerup",this.onMouseUp)),e.removeEventListener("pointermove",this.onMouseMove),Object.values(this.eventsPerObjects).forEach((e=>{e.forEach((e=>{e.disconnect()}))})),this.objects.forEach((e=>{e.removeEventListener("userEvent",this.onUserEvent)}))}handleMouseHoverEvent(e=!1){let t=[];if(!e){let{stopRaycast:e,raycaster:n,page:r,pointerScreen:i}=this.eventContext,a=!1;if(r.uiCanvas&&(a=Zfe(r,[i.x,i.y],Object.keys(this.eventsPerObjects),(e=>{t.push(e)}))),e&&!a){let e=Qfe(n,r,this.objects);t=Kfe(e),e.forEach((e=>{e.object instanceof kce&&Zfe(e.object,[e?.uv?.x??0,e?.uv?.y??0],Object.keys(this.eventsPerObjects),(e=>{t.push(e)}))}))}else this.objects.forEach((e=>{let r=Jfe(n,e);r&&(t.push(e),e instanceof kce&&Zfe(e,[r?.uv?.x??0,r?.uv?.y??0],Object.keys(this.eventsPerObjects),(e=>{t.push(e)})))}))}this._prevObjects.length&&this._prevObjects.forEach((e=>{t.includes(e)||(e.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[e.uuid]?.forEach((e=>e.dispatchLeave())))})),t.length&&t.forEach((e=>{e.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),this.eventsPerObjects[e.uuid]?.forEach((e=>e.dispatchEnter()))})),this._prevObjects=t}},ame=class{constructor(e,t,n,r,i,a){this.id=e,this.data=t,this.object=n,this.scrollCounter=0,this.actions=nfe(t,t.actions,r,i,a,n)}connect(){this.scrollCounter=0}disconnect(){rfe(this.actions)}dispatch(e){this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}));let t=e>0?1:-1;this.scrollCounter+=t,this.scrollCounter=Math.min(Math.max(this.scrollCounter,0),this.data.steps);let n=this.scrollCounter/this.data.steps;this.actions.Transition.forEach((e=>e.seek(n))),this.actions.Animation.forEach((e=>e.seek(t))),this.actions.Create.forEach((e=>e.dispatchThrottled())),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch()))}dispatchUserEvent(e){this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())})),e?(this.actions.Transition.forEach((e=>e.reverseFromCurrent())),this.actions.Animation.forEach((e=>e.reverseFromCurrent()))):(this.actions.Transition.forEach((e=>{e.playFromCurrent()})),this.actions.Animation.forEach((e=>{e.playFromCurrent()}))),this.actions.Create.forEach((e=>e.dispatchThrottled())),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch()))}},ome=class{constructor(e,t,n,r,i,a,o){this.id=e,this.data=t,this.object=n,this.domElement=a,this.eventManager=o,this.scrollStart=0,this.scrollEnd=0,this.actions=nfe(t,t.actions,r,i,o,n)}computeScrollBounds(){let e=this.domElement.getBoundingClientRect(),t=document.body,n=document.documentElement,r=window.pageYOffset||n.scrollTop||t.scrollTop,i=n.clientTop||t.clientTop||0,a=Math.round(e.top+r-i);if("enter"===this.data.startFrom){let t=window.innerHeight,n=e.height,r=this.data.enterAnchor,i="top"===r?t:"bottom"===r?t-n:t-.5*n;this.scrollStart=a-i}else this.scrollStart=0;this.scrollStart+=this.data.startOffset??0,this.scrollEnd=this.scrollStart+(this.data.endAfter??400),this.box=e,this.computeScroll({x:window.scrollX,y:window.scrollY})}connect(){this.computeScrollBounds()}disconnect(){rfe(this.actions)}handleResize(){this.computeScrollBounds()}get isInvalidBox(){return void 0===this.box||0===this.box.width&&0===this.box.height&&0===this.box.top&&0===this.box.bottom}computeScroll({x:e,y:t}){this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}));let n=this.scrollEnd-this.scrollStart,r=Math.min(1,Math.max(0,(t-this.scrollStart)/n));this.actions.Transition.forEach((e=>e.seek(r))),this.actions.Animation.forEach((e=>e.seek(r))),this.actions.Create.forEach((e=>e.dispatchThrottled())),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch()))}dispatch(e){this.isInvalidBox&&this.computeScrollBounds(),this.computeScroll(e)}dispatchUserEvent(e){this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())})),e?(this.actions.Transition.forEach((e=>e.reverseFromCurrent())),this.actions.Animation.forEach((e=>e.reverseFromCurrent()))):(this.actions.Transition.forEach((e=>{e.playFromCurrent()})),this.actions.Animation.forEach((e=>{e.playFromCurrent()}))),this.actions.Create.forEach((e=>e.dispatchThrottled())),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch()))}},sme=class extends epe{constructor(e,t){super(e),this.wheelEventsPerObject=new Map,this.scrollEventsPerObject=new Map,this.isInview=!0,this.handleResize=()=>{[...this.scrollEventsPerObject.entries()].forEach((([e,t])=>{t.forEach((e=>e.handleResize()))}))},this.onScroll=e=>{if(!this.isInview)return;let t={y:window.scrollY,x:window.scrollX};[...this.scrollEventsPerObject.entries()].forEach((([e,n])=>{e.dispatchEvent({type:"beginEvent",eventName:"Scroll",scroll:t}),n.forEach((e=>e.dispatch(t)))}))},this.onWheel=e=>{!this.isInview||e.ctrlKey||[...this.wheelEventsPerObject.entries()].forEach((([t,n])=>{t.dispatchEvent({type:"beginEvent",eventName:"Scroll",deltaY:e.deltaY}),n.forEach((t=>t.dispatch(e.deltaY)))}))},this.onUserEvent=({eventName:e,target:t,reverse:n})=>{if(!e||!t)return;let r=rpe(e);r&&"Scroll"===r&&(t.dispatchEvent({type:"beginEvent",eventName:"Scroll"}),this.wheelEventsPerObject.get(t)?.forEach((e=>{e.dispatchUserEvent(n)})))};let{page:n,sharedAssets:r,domElement:i,isExport:a}=this.eventContext,o=e=>{if(e.data?.events.length)for(let{id:o,data:s}of e.data.events)if(!s.disabled&&"Scroll"===s.type)if("load"!==s.trigger&&a){let a=new ome(o,s,e,n,r,i,t);this.scrollEventsPerObject.has(e)?this.scrollEventsPerObject.get(e)?.push(a):this.scrollEventsPerObject.set(e,[a])}else{let i=new ame(o,s,e,n,r,t);this.wheelEventsPerObject.has(e)?this.wheelEventsPerObject.get(e)?.push(i):this.wheelEventsPerObject.set(e,[i])}};n.traverseEntity((e=>{(e instanceof kce||e instanceof _ce)&&e.frame?.traverse((e=>{o(e)})),o(e)})),this.intersectionObserver=new IntersectionObserver((e=>{let t=e[0];t&&(this.isInview=t.isIntersecting)}),{root:null})}connect(){this.intersectionObserver.observe(this.eventContext.domElement),[...this.wheelEventsPerObject.entries()].forEach((([e,t])=>{t.forEach((e=>e.connect())),e.addEventListener("userEvent",this.onUserEvent)})),[...this.scrollEventsPerObject.entries()].forEach((([e,t])=>{t.forEach((e=>e.connect())),e.addEventListener("userEvent",this.onUserEvent)})),[...this.wheelEventsPerObject.values()].some((e=>e.length))&&(this.domEventsNeeded.add("wheel"),window.addEventListener("wheel",this.onWheel)),[...this.scrollEventsPerObject.values()].some((e=>e.length))&&(this.domEventsNeeded.add("scroll"),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.handleResize))}disconnect(){window.removeEventListener("wheel",this.onWheel),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.handleResize),this.intersectionObserver.unobserve(this.eventContext.domElement),this.domEventsNeeded.clear(),[...this.wheelEventsPerObject.entries()].forEach((([e,t])=>{t.forEach((e=>e.disconnect())),e.removeEventListener("userEvent",this.onUserEvent)})),[...this.scrollEventsPerObject.entries()].forEach((([e,t])=>{t.forEach((e=>e.disconnect())),e.removeEventListener("userEvent",this.onUserEvent)}))}},lme=class{constructor(e,t,n,r,i,a){this.id=e,this.data=t,this.object=n,this.actions=nfe(t,t.actions,r,i,a,n)}disconnect(){rfe(this.actions)}dispatch(){this.actions.Transition.forEach((e=>{e.play()})),this.actions.Animation.forEach((e=>{e.play()})),this.actions.SwitchCamera.forEach((e=>{e.play()})),this.actions.SceneTransition.forEach((e=>{e.dispatch()})),this.actions.Reset.forEach((e=>e.dispatch())),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch())),this.actions.Create.forEach((e=>{e.dispatchFromStart()})),this.actions.Destroy.forEach((e=>{e.dispatchFromStart()}))}dispatchAfter(e){this.actions.Audio.forEach((t=>{(t.interaction.data.triggerAfter??"any")===e&&(t.interaction instanceof she?t.interaction.audioPlayer.play():t.interaction instanceof lhe&&t.interaction.dispatch())})),this.actions.Video.forEach((t=>{let n=t.interaction.data.triggerAfter??"autoplay";n===e&&(t.interaction instanceof ofe?t.interaction.play("autoplay"===n):t.interaction instanceof sfe&&t.interaction.dispatch())})),this.actions.Particles.forEach((t=>{(t.data.triggerAfter??"any")===e&&t.dispatchBasic()}))}dispatchUserEvent(e){this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())})),e?(this.actions.Transition.forEach((e=>e.reverseFromCurrent())),this.actions.Animation.forEach((e=>e.reverseFromCurrent())),this.actions.SwitchCamera.forEach((e=>e.reverseFromCurrent()))):(this.actions.Transition.forEach((e=>e.playFromCurrent())),this.actions.Animation.forEach((e=>e.playFromCurrent())),this.actions.SwitchCamera.forEach((e=>e.playFromCurrent()))),this.actions.SceneTransition.forEach((e=>e.dispatch())),this.actions.Reset.forEach((e=>e.dispatch())),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch())),this.actions.Create.forEach((e=>{e.dispatch()})),this.actions.Destroy.forEach((e=>{e.dispatch()})),this.actions.Audio.forEach((e=>{e.interaction instanceof she?e.interaction.audioPlayer.play():e.interaction instanceof lhe&&e.interaction.dispatch()})),this.actions.Video.forEach((e=>{e.interaction instanceof ofe?e.interaction.play():e.interaction instanceof sfe&&e.interaction.dispatch()})),this.actions.Particles.forEach((e=>{e.dispatchBasic()}))}},cme=class extends epe{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObject=new Map,this.eventsAfterPerObject=new Map,this.onMouseDown=()=>{[...this.eventsAfterPerObject.entries()].forEach((([e,t])=>{e.dispatchEvent({type:"beginEvent",eventName:"Start"}),t.forEach((e=>{e.dispatchAfter("mouseDown")}))}))},this.onKeyDown=()=>{[...this.eventsAfterPerObject.entries()].forEach((([e,t])=>{e.dispatchEvent({type:"beginEvent",eventName:"Start"}),t.forEach((e=>{e.dispatchAfter("keyDown")}))}))},this.onAny=()=>{let{domElement:e,isExport:t}=this.eventContext;(t?document:e).removeEventListener("pointerdown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach((([e,t])=>{e.dispatchEvent({type:"beginEvent",eventName:"Start"}),t.forEach((e=>{e.dispatchAfter("any")}))}))},this.onSceneTransitionAudioVideoPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach((([e,t])=>{e.dispatchEvent({type:"beginEvent",eventName:"Start"}),t.forEach((e=>{e.actions.Audio.forEach((e=>{e.interaction instanceof she&&e.interaction.audioPlayer.play()})),e.actions.Video.forEach((e=>{let t=e.interaction.data.triggerAfter??"autoplay";e.interaction instanceof ofe&&e.interaction.play("autoplay"===t)})),e.actions.Particles.forEach((e=>{e.dispatchBasic()}))}))}))},this.onPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach((([e,t])=>{e.dispatchEvent({type:"beginEvent",eventName:"Start"}),t.forEach((e=>{e.dispatchAfter("autoplay")}))}))},this.onUserEvent=({eventName:e,target:t,reverse:n})=>{if(!e||!t)return;let r=rpe(e);r&&"Start"===r&&(t instanceof zle||t.dispatchEvent({type:"beginEvent",eventName:"Start"}),this.eventsPerObject.get(t)?.forEach((e=>{e.dispatchUserEvent(n)})),this.eventsAfterPerObject.get(t)?.forEach((e=>{e.dispatchUserEvent(n)})))}}connect(){let{sharedAssets:e,page:t}=this.eventContext,n=n=>{if(n.data?.events.length)for(let{id:r,data:i}of n.data.events){if(i.disabled||"Start"!==i.type)continue;let a=new lme(r,i,n,t,e,this.eventManager);(a.actions.Transition.length||a.actions.Animation.length||a.actions.SwitchCamera.length||a.actions.Create.length||a.actions.Destroy.length||a.actions.SceneTransition.length||a.actions.Reset.length||a.actions.SetVariable.length||a.actions.DynamicVariablePlay.length)&&(this.eventsPerObject.has(n)?this.eventsPerObject.get(n)?.push(a):this.eventsPerObject.set(n,[a])),a.actions.Audio.length&&(this.eventsAfterPerObject.has(n)?this.eventsAfterPerObject.get(n)?.push(a):this.eventsAfterPerObject.set(n,[a])),a.actions.Video.length&&(this.hasVideoAction=!0,this.eventsAfterPerObject.has(n)?this.eventsAfterPerObject.get(n)?.push(a):this.eventsAfterPerObject.set(n,[a])),a.actions.Particles.length&&(this.eventsAfterPerObject.has(n)?this.eventsAfterPerObject.get(n)?.push(a):this.eventsAfterPerObject.set(n,[a]))}};if(t.traverseEntity((e=>{(e instanceof kce||e instanceof _ce)&&e.frame?.traverse((e=>{n(e)})),n(e)})),[...this.eventsAfterPerObject.values()].some((e=>e.length))){if(0===this.eventManager.activateCount){let{domElement:e,isExport:t}=this.eventContext,n=t?document:e;n.addEventListener("pointerdown",this.onMouseDown,{once:!0}),n.addEventListener("mousedown",this.onMouseDown,{once:!0}),document.addEventListener("keydown",this.onKeyDown,{once:!0}),n.addEventListener("pointerdown",this.onAny),n.addEventListener("mousedown",this.onAny),document.addEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach((([e,t])=>{e.addEventListener("userEvent",this.onUserEvent)}))}else this.onSceneTransitionAudioVideoPlay();this.onPlay()}[...this.eventsPerObject.entries()].forEach((([e,t])=>{e.dispatchEvent({type:"beginEvent",eventName:"Start"}),t.forEach((e=>e.dispatch())),e.addEventListener("userEvent",this.onUserEvent)}))}disconnect(){if([...this.eventsAfterPerObject.values()].some((e=>e.length))){let{domElement:e,isExport:t}=this.eventContext,n=t?document:e;n.removeEventListener("pointerdown",this.onMouseDown),n.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),n.removeEventListener("pointerdown",this.onAny),n.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach((([e,t])=>{e.removeEventListener("userEvent",this.onUserEvent),t.forEach((e=>e.disconnect()))}))}[...this.eventsPerObject.entries()].forEach((([e,t])=>{e.removeEventListener("userEvent",this.onUserEvent),t.forEach((e=>e.disconnect()))})),this.eventsPerObject.clear(),this.eventsAfterPerObject.clear()}},ume=class{constructor(e,t,n,r,i,a){this.id=e,this.data=t,this.object=n,this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=nfe(t,t.actions,r,i,a,n),this.target=t.target,this.useToggle="Toggle"===t.runMode}disconnect(){rfe(this.actions)}dispatch(e){this.disabled||(this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this?(e.object.currentTransitionEvent=this,e.init()):"Once"===this.data.runMode&&this.alreadyPlayedNonTogglingActions.add(e)})),this.object.dispatchEvent({type:"beginEvent",eventName:"Collision"}),this.useToggle?(this.actions.Transition.forEach((e=>{e.toggle()})),this.actions.Animation.forEach((e=>{e.toggle()}))):(this.actions.Transition.forEach((e=>{!1===this.alreadyPlayedNonTogglingActions.has(e)&&e.play()})),this.actions.Animation.forEach((e=>{e.play()}))),this.actions.Reset.forEach((e=>{e.dispatch()})),this.actions.Link.forEach((e=>{e.dispatch()})),this.actions.Reset.forEach((e=>{e.dispatch()})),this.actions.Create.forEach((e=>{e.dispatch()})),this.actions.Destroy.forEach((t=>{t.dispatch(e??!1)})),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch())),this.actions.Audio.forEach((e=>{e.dispatchBasic()})),this.actions.Particles.forEach((e=>{e.dispatchBasic()})),this.actions.Video.forEach((e=>{e.dispatchBasic()})))}},hme=class extends epe{constructor(e,t,n,r,i){super(e),this.sharedVariables=t,this.eventManager=n,this.needsMouse=r,this.needsRaycast=i,this.dynamicVars=[],this.variablesToWatch=[],this.prevMouseProperty=null,this.prevRaycastProperty=null,this.pauseTime=0,this.events=[],this.onFrame=e=>{this.rafId=window.requestAnimationFrame(this.onFrame);let t=new Date,n=[],r=[];for(let e=0;e<this.propertiesToWatch.length;e++){let{objectId:t,property:n,prevValue:i}=this.propertiesToWatch[e],a=this.eventContext.scene.find(t),o=D4.propertyPaths[n];if("width"===o[0]||"height"===o[0]||"depth"===o[0])a=a.geometry.userData.parameters[o[0]];else for(let e=0;e<o.length;e++)a=a[o[e]];null===i?this.propertiesToWatch[e].prevValue=a instanceof tH?a.clone():a:(a instanceof tH?!a.equals(i):i!==a)&&(r.push({objId:t,property:n}),a instanceof tH?this.propertiesToWatch[e].prevValue.copy(a):this.propertiesToWatch[e].prevValue=a)}for(let e=0;e<this.variablesToWatch.length;e++){let{id:t,prevValue:r}=this.variablesToWatch[e],i=this.shared.getVariable(t);i!==r&&(n.push(t),this.variablesToWatch[e].prevValue=i)}for(let r=0;r<this.dynamicVars.length;r++){let{id:i,expectedTime:a,last:o,data:s,timerSeconds:l,startValue:c}=this.dynamicVars[r],u=1e3;if("timer"!==s.dynamicVariableType&&"stopwatch"!==s.dynamicVariableType||"number3decimal"!==s.format?"counter"===s.dynamicVariableType?u=s.updateInterval:"random"===s.dynamicVariableType&&(u=s.isStatic?1/0:s.updateInterval):u=1,-1!==a){if("Stopped"!==this.shared.getDynamicVariablePlayState(i)&&"Restarted"!==this.shared.getDynamicVariablePlayState(i)||(this.dynamicVars[r].last=e,this.dynamicVars[r].expectedTime=e+u,"counter"===s.dynamicVariableType&&this.shared.getVariable(i)!==c&&(this.shared.updateVariable(i,c),this.eventManager.requestRender()),("timer"===s.dynamicVariableType||"stopwatch"===s.dynamicVariableType)&&this.dynamicVars[r].timerSeconds!==c&&(this.dynamicVars[r].timerSeconds=c,this.shared.updateVariable(i,p6.getFormattedTimerTime(c,s)),this.eventManager.requestRender()),"Restarted"===this.shared.getDynamicVariablePlayState(i)&&this.shared.setDynamicVariablePlayState(i,"Playing"),"Stopped"!==this.shared.getDynamicVariablePlayState(i))){if("Paused"===this.shared.getDynamicVariablePlayState(i)){void 0===this.dynamicVars[r].deltaToExpectedTime&&(this.dynamicVars[r].deltaToExpectedTime=Math.max(this.dynamicVars[r].expectedTime-e,0)),this.dynamicVars[r].last=e-(u-this.dynamicVars[r].deltaToExpectedTime),this.dynamicVars[r].expectedTime=e+this.dynamicVars[r].deltaToExpectedTime;continue}if(this.dynamicVars[r].deltaToExpectedTime=void 0,e>=a)if(this.dynamicVars[r].last=e,this.dynamicVars[r].expectedTime+=u,"random"===s.dynamicVariableType){let e=s.min+Math.random()*(s.max-s.min),t=s.decimals;e=Math.round(e*Math.pow(10,t))/Math.pow(10,t),this.shared.updateVariable(i,e),n.push(i),this.eventManager.requestRender()}else if("counter"===s.dynamicVariableType){if(0===s.increment)continue;let e=this.shared.getVariable(i),t=this.shared.getDynamicVariableToggleIsForward(i)??!0,r=this.shared.getVariable(i)+s.increment*(t?1:-1);s.hasEnd&&(r=s.increment>0?CV.clamp(r,c,s.endValue):CV.clamp(r,s.endValue,c),r===c&&this.shared.setDynamicVariableToggleIsForward(i,void 0),s.repeat?r===s.endValue&&(r=c):(r===c||r===s.endValue)&&this.shared.setDynamicVariablePlayState(i,"Paused")),r!==e&&(n.push(i),this.shared.updateVariable(i,r),this.eventManager.requestRender())}else if("time"===s.dynamicVariableType)this.shared.updateVariable(i,kie(t,s)),n.push(i),this.eventManager.requestRender();else{let t=c6.isTextValue(s.endValue)?fme(s.endValue.textValue):s.endValue,a=this.shared.getDynamicVariableToggleIsForward(i)??!0,u=l+(e-o)/1e3*("timer"===s.dynamicVariableType?-1:1)*(a?1:-1);u=Math.max(u,0),s.hasEnd&&(u="stopwatch"===s.dynamicVariableType?CV.clamp(u,c,t):CV.clamp(u,t,c),u===c&&this.shared.setDynamicVariableToggleIsForward(i,void 0),s.repeat?Math.abs(u-t)<("number3decimal"===s.format?1e-4:.1)&&(u=c):(Math.abs(u-c)<("number3decimal"===s.format?1e-4:.1)||Math.abs(u-t)<("number3decimal"===s.format?1e-4:.1))&&this.shared.setDynamicVariablePlayState(i,"Paused")),u!==l&&(n.push(i),this.dynamicVars[r].timerSeconds=u,this.shared.updateVariable(i,p6.getFormattedTimerTime(u,s)),this.eventManager.requestRender())}}}else this.dynamicVars[r].last=e,this.dynamicVars[r].expectedTime=e+u}this.needsMouse&&this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,this.events.forEach((e=>{"mouseProperty"===e.data.variableId&&(e.dispatch(),this.eventManager.requestRender())})));let i=!1;this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,i=!0);let a=!1;this.shared.raycastProperty!==this.prevRaycastProperty&&(this.prevRaycastProperty=this.shared.raycastProperty,a=!0),this.events.forEach((e=>{(n.includes(e.data.variableId)||r.find((t=>t.objId===e.data.objectId&&t.property===e.data.property))||"mouseProperty"===e.data.variableId&&i||"raycastProperty"===e.data.variableId&&a)&&(e.dispatch(),this.eventManager.requestRender())}))},this.onBlur=()=>{this.pause()},this.onFocus=()=>{this.resume()},e.page.traverseEntity((t=>{t.data?.events.filter((e=>"VariableChange"===e.data.type&&!e.data.disabled)).forEach((r=>{this.events.push(new dme(t.uuid,r.data,t,e.page,e.sharedAssets,n))}))})),this.propertiesToWatch=this.events.filter((e=>"objectProperty"===e.data.variableId&&null!==e.data.objectId)).map((e=>({objectId:e.data.objectId,property:e.data.property,prevValue:null}))),this.shared=e.sharedAssets,this.sharedVariables.forEach((({id:e,data:t})=>{if(!("dynamicVariableType"in t))return void(this.events.find((t=>t.data.variableId===e))&&this.variablesToWatch.push({id:e,prevValue:this.shared.getVariable(e)}));let n;if("timer"===t.dynamicVariableType||"stopwatch"===t.dynamicVariableType){let r;if(c6.isTextValue(t.value)&&Array.isArray(t.value.textValue)){let e=t.value.textValue;r=3===e.length?e[2]+60*e[1]+3600*e[0]:e[1]+60*e[0]}else r=t.value;n=r,this.dynamicVars.push({id:e,last:-1,expectedTime:-1,data:t,timerSeconds:r,startValue:n})}else"time"===t.dynamicVariableType&&this.shared.updateVariable(e,kie(new Date,t)),"counter"===t.dynamicVariableType&&(n=c6.isTextValue(t.value)?fme(t.value.textValue):t.value),this.dynamicVars.push({id:e,last:-1,expectedTime:-1,data:t,startValue:n})}))}pause(){this.pauseTime=Date.now()}resume(){let e=Date.now()-this.pauseTime;for(let t=0;t<this.dynamicVars.length;t++)this.dynamicVars[t].last+=e,this.dynamicVars[t].expectedTime+=e}connect(){this.rafId=window.requestAnimationFrame(this.onFrame),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus)}disconnect(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=void 0),this.events.forEach((e=>e.dispose()))}},dme=class{constructor(e,t,n,r,i,a){this.id=e,this.data=t,this.object=n,this.actions=nfe(t,t.actions,r,i,a,n)}dispatch(){let e=this.actions;e.Audio.forEach((e=>e.dispatchConditional())),e.Particles.forEach((e=>e.dispatchConditional())),e.Video.forEach((e=>e.dispatchConditional())),e.Create.forEach((e=>e.dispatch())),e.Destroy.forEach((e=>e.dispatch())),e.Reset.forEach((e=>e.dispatch())),e.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this),e.init()})),e.Transition.forEach((e=>e.play())),e.Animation.forEach((e=>e.play())),e.SwitchCamera.forEach((e=>e.play())),e.SceneTransition.forEach((e=>e.dispatch())),e.SetVariable.forEach((e=>e.checkConditions())),e.SetVariable.forEach((e=>e.dispatch())),e.DynamicVariablePlay.forEach((e=>e.dispatch()))}dispose(){rfe(this.actions)}};function fme(e){return 3===e.length?e[2]+60*e[1]+3600*e[0]:e[1]+60*e[0]}var pme,mme,gme,vme={cs:6,ch:2,walkableSlopeAngle:90,walkableHeight:20,walkableClimb:5,walkableRadius:0,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1};X1.then((e=>{pme=e,mme=new e.Vec3,gme=new e.Vec3}));var yme=new tH;function wme(e){let t=!1;return e.scene.objects.forEach((n=>{"Page"===n.data.type&&!t&&n.data.publish.gameControlObject&&a6.traverseModuleInstances(e,n.id,((e,n,r)=>{for(let e of r)"GameControl"===e.data.type&&e.data.navmesh.enabled&&(t=!0)}))})),t}var bme={type:"change"},xme={type:"changeZoom"},_me={type:"changePan"},Sme={type:"start"},Eme={type:"end",changed:!0},Cme={type:"end",changed:!1},Ame=new eH,Tme=new AV,Mme=2*Math.PI,Pme=new tH,Dme=new AV,kme=new tH,Ome=new eH,Ime=new kH,Rme={type:"requestRender"},Lme=class extends hV{constructor(e,t,n={isPlayMode:!1,isExport:!1}){super(),this.object=e,this.domElement=t,this.options=n,this.enabled=!0,this.useKeyEvents=!0,this.enableDamping=!1,this.enableZoom=!0,this.enableRotate=!0,this.enablePan=!0,this.autoRotate=!1,this.rotationLimitsMode=0,this.panLimitsMode=0,this.rotationSoftLimit=2,this.panSoftLimit=2,this.hoverRotatePanMode=0,this.zoomLimitsEnabled=!1,this.mouseButtons=[0,5],this.mouseButtonsPlay=[3,4,5],this.touches=[null,3,1],this.offset=new tH,this.eye=new tH,this.lastPosition=new tH,this.lastQuaternion=new eH,this.current=new AV,this.overShoot=new AV,this.overRatio=new AV,this.spherical=new OK,this.sphericalDelta=new OK,this.panOffset=new tH,this.panLeftV=new tH,this.panUpV=new tH,this.panV=new tH,this.rotateStart=new AV,this.rotateEnd=new AV,this.rotateDelta=new AV,this.panStart=new AV,this.panEnd=new AV,this.panDelta=new AV,this.dollyStart=new AV,this.dollyEnd=new AV,this.dollyDelta=new AV,this.rotationRangeFactor=new AV,this.panRangeFactor=new AV,this.state=-1,this.zoomChanged=!1,this.isPointerDown=!1,this.isThetaFlipped=!1,this.prevScale=0,this.scale=1,this.gesture=!1,this.timer=-1,this.timerHover=-1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPhi=0,this.maxPhi=Math.PI,this.minTheta=-1/0,this.maxTheta=1/0,this.minH=0,this.maxH=Math.PI,this.minV=-1/0,this.maxV=1/0,this.autoRotateClockwise=!0,this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.resetHoverEffectOnPointerLeave=!1,this.hasChange=!1,this.useWindowEvents=!1,this.isTouchZoom=!0,this.autoRotateSpeed=2,this.dampingFactor=.125,this.zoomSpeed=2,this.rotateSpeed=1,this.panSpeed=1,this.hoverRotatePanStrength=.1,this.hoverRotateDamping=this.dampingFactor,this.thetaIsFree=!1,this.phiIsFree=!1,this.needsUpdate=!0,this.onCameraChange=e=>{this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange),this.object=e.camera,this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)},this.update=()=>{this.object.updateWorldMatrix(!0,!1),this.object.matrixWorld.decompose(kme,Ome,Pme),this.offset.copy(kme).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.autoRotate&&-1===this.state&&this.rotateLeft((!0===this.autoRotateClockwise?1:-1)*this.getAutoRotationAngle()),0!==this.rotationLimitsMode&&this.applyLimits(this.sphericalDelta,this.rotationLimitsMode,this.rotationSoftLimit,this.maxTheta,this.minTheta,this.maxPhi,this.minPhi,this.rotationRangeFactor),2!==this.rotationLimitsMode&&(this.spherical.phi+=this.sphericalDelta.phi),(1!==this.rotationLimitsMode||!0===this.autoRotate)&&(this.spherical.theta+=this.sphericalDelta.theta),this.spherical.radius*=this.scale,this.zoomLimitsEnabled&&(this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius))),0!==this.panLimitsMode&&(this.target.applyQuaternion(Ame.copy(Ome).invert()),this.panOffset.applyQuaternion(Ame),this.applyLimits(this.panOffset,this.panLimitsMode,this.panSoftLimit,this.maxH,this.minH,this.maxV,this.minV,this.panRangeFactor),this.target.applyQuaternion(Ome),this.panOffset.applyQuaternion(Ome)),2===this.panLimitsMode&&(this.panOffset.y=0),1===this.panLimitsMode&&(this.panOffset.x=0),-1!==this.state||this.gesture?(this.target.add(this.panOffset),this.panOffset.set(0,0,0)):(this.panOffset.multiplyScalar(1-this.dampingFactor),this.target.add(this.panOffset)),this.offset.setFromSpherical(this.spherical),kme.copy(this.target).add(this.offset),this.object.position.copy(this.target).add(this.offset),this.object.parent&&(Ime.copy(this.object.parent.matrixWorld).invert(),this.object.position.applyMatrix4(Ime));let e=this.spherical.phi%Mme;if(this.eye.copy(this.offset).normalize(),this.object.up.copy(nG.DEFAULT_UP).applyAxisAngle(this.eye,this.object.angleOffsetFromUp),e>0&&e>Math.PI||e<0&&e>-Math.PI?(this.object.up.negate(),this.object.lookAt(this.target),this.object.isUpVectorFlipped=!0):(this.object.lookAt(this.target),this.object.isUpVectorFlipped=!1),-1===this.state||!0===this.enableDamping){let e=1===this.hoverRotatePanMode?this.hoverRotateDamping:this.dampingFactor;this.sphericalDelta.theta*=1-e,this.sphericalDelta.phi*=1-e}else this.sphericalDelta.set(0,0,0);return this.scale=1,this.zoomChanged||this.lastPosition.distanceToSquared(this.object.position)>.01||8*(1-this.lastQuaternion.dot(this.object.quaternion))>1e-8?(this.dispatchEvent(bme),this.object.dispatchEvent(Rme),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0):(this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.object.wasMovedBySwitchCameraAction=!1,this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0),!1)},this.onPointerDown=e=>{!1!==this.enabled&&("touch"===e.pointerType||"pen"===e.pointerType&&P1?this.onPointerDownTouch(e):this.onPointerDownMouse(e),-1!==this.state&&(this.isPointerDown=!0,this.dispatchEvent(Sme),this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp),e.stopPropagation(),"touch"===e.pointerType||"pen"===e.pointerType&&P1||this.domElement.setPointerCapture(e.pointerId)))},this.onPointerLeave=e=>{this.resetHoverEffectOnPointerLeave&&!this.useWindowEvents?(1===this.hoverRotatePanMode?(this.sphericalDelta.theta=-this.spherical.theta,this.sphericalDelta.phi=-this.spherical.phi,Pme.subVectors(this.position0,this.target0),this.spherical.setFromVector3(Pme),this.sphericalDelta.theta+=this.spherical.theta,this.sphericalDelta.phi+=this.spherical.phi,this.sphericalDelta.theta/=8,this.sphericalDelta.phi/=8):2===this.hoverRotatePanMode&&this.panOffset.subVectors(this.target0,this.target).divideScalar(8),this.update()):this.pointerLeaveEvent=e},this.onPointerEnter=e=>{this.resetHoverEffectOnPointerLeave||void 0===this.pointerLeaveEvent?Dme.set(e.clientX-this.domElement.clientWidth/2,e.clientY-this.domElement.clientHeight/2):Dme.set(e.clientX-this.pointerLeaveEvent.clientX,e.clientY-this.pointerLeaveEvent.clientY),1===this.hoverRotatePanMode?(this.rotateDelta.copy(Dme).multiplyScalar(this.rotateSpeed*this.hoverRotatePanStrength).rotateAround(Tme,-this.object.angleOffsetFromUp),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.domElement.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.domElement.clientHeight),this.rotateStart.set(e.clientX,e.clientY)):2===this.hoverRotatePanMode&&(this.panDelta.copy(Dme).multiplyScalar(this.panSpeed*this.hoverRotatePanStrength),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.set(e.clientX,e.clientY)),this.update()},this.onPointerMove=e=>{!1!==this.enabled&&(this.checkRaycastLock()||("touch"===e.pointerType||"pen"===e.pointerType&&P1?this.onPointerMoveTouch(e):this.onPointerMoveMouse(e),e.stopPropagation()))},this.onPointerUp=e=>{this.isPointerDown=!1,0===L1.length&&(this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)),L1.length>1&&e.preventDefault(),this.hasChange?this.dispatchEvent(Eme):this.dispatchEvent(Cme),this.state=-1,e&&(e.stopPropagation(),"touch"===e.pointerType||"pen"===e.pointerType&&P1||this.domElement.releasePointerCapture(e.pointerId))},this.onPointerDownMouse=e=>{let t;switch(t=this.useKeyEvents?this.mouseButtons[e.button]:this.mouseButtonsPlay[e.button],t){case 0:if(!0!==e.altKey||e.shiftKey||R1(e)){if(" "===this.key){if(!1===this.enablePan)return;this.handleMouseDownPan(e),this.state=2}}else{if(!1===this.enableRotate)return;this.handleMouseDownRotate(e),this.state=0}break;case 4:if(!1===this.enablePan)return;this.handleMouseDownPan(e),this.state=2;break;case 3:if(R1(e)||e.shiftKey){if(!1===this.enablePan)return;this.handleMouseDownPan(e),this.state=2}else{if(!1===this.enableRotate)return;this.handleMouseDownRotate(e),this.state=0}break;case 5:if(R1(e)||e.shiftKey){if(!1===this.enableRotate)return;this.handleMouseDownRotate(e),this.state=0}else{if(!1===this.enablePan)return;this.handleMouseDownPan(e),this.state=2}break;default:this.state=-1}},this.onPointerMoveMouse=e=>{switch(this.state){case 0:if(!1===this.enableRotate)return;this.handleMouseMoveRotate(e);break;case 1:if(!1===this.enableZoom)return;this.handleMouseMoveDolly(e);break;case 2:if(!1===this.enablePan)return;this.handleMouseMovePan(e)}this.object.wasMovedByUser=!0},this.onPointerDownTouch=e=>{switch(L1.length>1&&e.preventDefault(),this.touches[L1.length-1]){case 0:if(!1===this.enableRotate)return void(this.state=-1);this.handleTouchStartRotate(),this.state=3;break;case 1:if(!1===this.enablePan)return void(this.state=-1);this.handleTouchStartPan(),this.state=4;break;case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this.handleTouchStartDollyPan(),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this.handleTouchStartDollyRotate(),this.state=6;break;default:this.state=-1}},this.onPointerMoveTouch=e=>{switch(L1.length>1&&e.preventDefault(),this.state){case 3:if(!1===this.enableRotate)return;this.handleTouchMoveRotate(e),this.update();break;case 4:if(!1===this.enablePan)return;this.handleTouchMovePan(e),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this.handleTouchMoveDollyPan(e),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this.handleTouchMoveDollyRotate(e),this.update();break;default:this.state=-1}this.object.wasMovedByUser=!0},this.dispatchEndDebounced=f1((()=>this.dispatchEvent(Eme)),33),this.onMouseWheel=e=>{!1===this.enabled||!1===this.enableZoom&&!1===this.enablePan||this.checkRaycastLock()||(!this.options.isExport&&this.domElement.clientHeight===document.body.clientHeight&&this.domElement.clientWidth===document.body.clientWidth&&e.preventDefault(),this.dispatchEvent(Sme),this.handleMouseWheel(e),this.dispatchEndDebounced(),this.object.wasMovedByUser=!0)},this.onGesture=e=>{if(e.preventDefault(),!1!==this.enabled&&!this.checkRaycastLock()&&!T1)if("gesturechange"===e.type){if(!1===this.enableZoom||!1===this.isTouchZoom)return;this.dispatchEvent(Sme),e.scale>this.prevScale?this.dollyIn(this.getZoomScale()):e.scale<this.prevScale&&this.dollyOut(this.getZoomScale()),this.prevScale=e.scale,this.update(),this.object.wasMovedByUser=!0}else this.dispatchEvent(Eme)},this.onContextMenu=e=>{e.preventDefault()},this.onTouchEnd=e=>{e.preventDefault()},this.onKeyDown=e=>{!1!==this.enabled&&(this.key=e.key," "===e.key&&this.dispatchEvent(Sme))},this.onKeyUp=e=>{!1!==this.enabled&&(this.key=void 0,-1!==this.state&&"Alt"===e.key&&this.onPointerUp(L1[0])," "===e.key&&this.dispatchEvent(Eme))},this.onPointerHover=e=>{"mouse"!==e.pointerType||!1===this.enabled||-1!==this.state||2===this.hoverRotatePanMode&&this.isPanOverShoot||1===this.hoverRotatePanMode&&this.isRotateOverShoot||(this.isPointerDown=!0,2===this.hoverRotatePanMode?this.handleMouseMovePan(e,this.hoverRotatePanStrength):1===this.hoverRotatePanMode&&this.handleMouseMoveRotate(e,this.hoverRotatePanStrength))},this.onBeginState=()=>{this.enabled=!1,this.needsUpdate=!1},this.onCompleteState=e=>{e.isfromEntity&&this.options.isPlayMode||(this.enabled=!0,this.needsUpdate=!0,this.object.updateUp(),this.object.getTarget(this.target))},this.target=this.object.getTarget(),this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.quat0=this.object.quaternion.clone(),this.isUpVectorFlipped0=this.object.isUpVectorFlipped,this.offset.copy(this.object.position).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.addEventListenersToCamera()}dispatchEvent(e){"start"===e.type?this.hasChange=!1:this.hasChange=!0,super.dispatchEvent(e)}addEventListenersToCamera(){this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)}removeEventListenersFromCamera(){this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange)}updateUseWindowEvents(e){if(window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.useWindowEvents=e,0!==this.hoverRotatePanMode&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),0!==this.hoverRotatePanMode&&!this.useWindowEvents){let e=this.useWindowEvents?window:this.domElement;e.addEventListener("pointerleave",this.onPointerLeave),e.addEventListener("pointerenter",this.onPointerEnter)}}fromJSON(e,t){this.setEnableDampingSpeed(e.enableDamping),this.enablePan=e.enablePan,this.enableZoom=e.enableZoom,this.enableRotate=e.enableRotate,this.rotationLimitsMode=e.rotationLimitsMode,this.thetaIsFree=e.rotationHorizontalOffset.min===e.rotationHorizontalOffset.max&&e.rotationHorizontalOffset.min===Math.PI,this.phiIsFree=e.rotationVerticalOffset.min===e.rotationVerticalOffset.max&&e.rotationVerticalOffset.min===Math.PI,this.panLimitsMode=e.panLimitsMode,this.panSoftLimit=e.panSoftLimit,this.rotationSoftLimit=e.rotationSoftLimit,this.hoverRotatePanMode=e.hoverRotatePanMode,this.hoverRotateDamping=e.hoverRotateDamping??this.dampingFactor,this.useWindowEvents="window"===t,0!==this.hoverRotatePanMode&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover));let n=e.hoverRotatePanStrength/100;this.hoverRotatePanStrength=n**2,this.zoomLimitsEnabled=e.zoomLimitsEnabled,this.minZoom=e.zoomLimits.min,this.maxZoom=Math.max(e.zoomLimits.min,e.zoomLimits.max),this.minDistance=1e3/e.zoomLimits.max,this.maxDistance=Math.max(this.minDistance,1e3/e.zoomLimits.min),this.autoRotate=e.autoRotate,this.autoRotateSpeed=e.autoRotateSpeed,this.autoRotateClockwise=e.autoRotateClockwise;let r=this.object.getTarget().applyQuaternion(Ame.copy(this.object.quaternion).invert());this.minV=-e.panVerticalOffset.min+r.y,this.maxV=e.panVerticalOffset.max+r.y,this.minH=-e.panHorizontalOffset.min+r.x,this.maxH=e.panHorizontalOffset.max+r.x,this.panRangeFactor.set(this.maxH-this.minH,this.maxV-this.minV).divideScalar(2),this.rotationRangeFactor.setScalar(Math.PI).divideScalar(4),this.minPhi=Nme(this.spherical.phi-e.rotationVerticalOffset.min),this.maxPhi=Nme(this.spherical.phi+e.rotationVerticalOffset.max),this.minTheta=Nme(Nme(this.spherical.theta)-e.rotationHorizontalOffset.min),this.maxTheta=Nme(Nme(this.spherical.theta)+e.rotationHorizontalOffset.max),this.isThetaFlipped=this.minTheta>this.maxTheta,1===e.orbitTouches&&(this.touches[0]=0),1===e.panTouches&&(this.touches[0]=1),2===e.orbitTouches&&(this.touches[1]=3),2===e.panTouches&&(this.touches[1]=2),3===e.orbitTouches&&(this.touches[2]=0),3===e.panTouches&&(this.touches[2]=1),this.isTouchZoom=e.isTouchZoom,this.resetHoverEffectOnPointerLeave=e.resetHoverEffectOnPointerLeave??!1}connect(){if(this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.onMouseWheel),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),this.domElement.addEventListener("gesturestart",this.onGesture),this.domElement.addEventListener("gesturechange",this.onGesture),this.domElement.addEventListener("gestureend",this.onGesture),this.domElement.addEventListener("touchend",this.onTouchEnd),0!==this.hoverRotatePanMode&&!this.useWindowEvents){let e=this.useWindowEvents?window:this.domElement;e.addEventListener("pointerleave",this.onPointerLeave),e.addEventListener("pointerenter",this.onPointerEnter)}this.pointerLeaveEvent=void 0}dispose(){this.removeEventListenersFromCamera(),this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.onMouseWheel),window.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("keyup",this.onKeyUp,!1),this.domElement.removeEventListener("pointermove",this.onPointerHover),window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("gesturestart",this.onGesture),this.domElement.removeEventListener("gesturechange",this.onGesture),this.domElement.removeEventListener("gestureend",this.onGesture),this.domElement.removeEventListener("touchend",this.onTouchEnd),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)}applyLimits(e,t,n,r,i,a,o,s){let l,c,u;this.overShoot.set(0,0),e instanceof tH?(l=e.x,c=e.y,this.current.set(this.target.x,this.target.y),u=!0):(l=e.theta,c=e.phi,this.current.set(Nme(this.spherical.theta),Nme(this.spherical.phi)),u=!1),0===n&&(this.current.x+=l,this.current.y+=c),(3===t||2===t)&&(!u&&this.isThetaFlipped?this.current.x>r&&this.current.x<0?this.overShoot.x=r-this.current.x:this.current.x<i&&this.current.x>0&&(this.overShoot.x=i-this.current.x):this.current.x>r?this.overShoot.x=r-this.current.x:this.current.x<i&&(this.overShoot.x=i-this.current.x)),(3===t||1===t)&&(this.current.y>a?this.overShoot.y=a-this.current.y:this.current.y<o&&(this.overShoot.y=o-this.current.y)),u||(this.overShoot.x=Nme(this.overShoot.x),this.overShoot.y=Nme(this.overShoot.y)),0!==n?(this.overRatio.copy(this.overShoot).divide(s),this.overRatio.x=Math.min(Math.abs(this.overRatio.x),1),this.overRatio.y=Math.min(Math.abs(this.overRatio.y),1),1===n&&(this.overRatio.x=zme(Math.abs(this.overRatio.x)),this.overRatio.y=zme(Math.abs(this.overRatio.y))),this.isPointerDown||1===n?2===n&&(this.overRatio.x>.9&&!this.thetaIsFree||this.overRatio.y>.9&&!this.phiIsFree)?this.isPointerDown=!1:(l*this.overShoot.x<0&&!this.thetaIsFree&&(l*=1-this.overRatio.x),c*this.overShoot.y<0&&!this.phiIsFree&&(c*=1-this.overRatio.y)):2===n&&(!u&&(this.overRatio.x>.002&&!this.thetaIsFree||this.overRatio.y>.002&&!this.phiIsFree)||u&&(Math.abs(this.overShoot.x)>2||Math.abs(this.overShoot.y)>2)?(this.thetaIsFree||(l=.05*this.overShoot.x),this.phiIsFree||(c=.05*this.overShoot.y),u?this.isPanOverShoot=!0:this.isRotateOverShoot=!0):u?this.isPanOverShoot=!1:this.isRotateOverShoot=!1)):(l+=this.overShoot.x,c+=this.overShoot.y),e instanceof tH?(e.x=l,e.y=c):(this.thetaIsFree||(e.theta=l),this.phiIsFree||(e.phi=c))}setEnableDampingSpeed(e){this.enableDamping=e,this.rotateSpeed=!0===e?.2:1}stopDamping(){this.sphericalDelta.theta=0,this.sphericalDelta.phi=0}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}panLeft(e,t){this.panLeftV.setFromMatrixColumn(t,0),this.panLeftV.multiplyScalar(-e),this.panOffset.add(this.panLeftV)}panUp(e,t){this.panUpV.setFromMatrixColumn(t,1),this.panUpV.multiplyScalar(e),this.panOffset.add(this.panUpV)}pan(e,t){let n=this.domElement;if(n&&this.object.isPerspectiveCamera){let r=this.object.position;this.panV.copy(r).sub(this.target);let i=this.panV.length();i*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*i/n.clientHeight,this.object.matrixWorld),this.panUp(2*t*i/n.clientHeight,this.object.matrixWorld)}else n&&this.object.isOrthographicCamera&&(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrixWorld),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrixWorld));this.dispatchEvent(_me)}dollyOut(e){this.object.isPerspectiveCamera?this.scale/=e:this.object.isOrthographicCamera&&(this.object.zoom*=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(xme)}dollyIn(e){this.object.isPerspectiveCamera?this.scale*=e:this.object.isOrthographicCamera&&(this.object.zoom/=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(xme)}zoomOut(e=this.getZoomScale()){this.dispatchEvent(Sme),this.dollyOut(e),this.dispatchEvent(Eme)}zoomIn(e=this.getZoomScale()){this.dispatchEvent(Sme),this.dollyIn(e),this.dispatchEvent(Eme)}handleMouseDownRotate(e){this.rotateStart.set(e.clientX,e.clientY)}handleMouseDownDolly(e){this.dollyStart.set(e.clientX,e.clientY)}handleMouseDownPan(e){this.panStart.set(e.clientX,e.clientY)}handleMouseMoveRotate(e,t=1){void 0!==e.movementX?this.rotateDelta.set(e.movementX,e.movementY):(this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd)),this.rotateDelta.multiplyScalar(this.rotateSpeed*t).rotateAround(Tme,-this.object.angleOffsetFromUp);let n=this.domElement,r=this.useWindowEvents?window.innerHeight:n.clientHeight,i=2*Math.PI*this.rotateDelta.x/r,a=2*Math.PI*this.rotateDelta.y/r;this.rotateLeft(i),this.rotateUp(a),this.update()}handleMouseMoveDolly(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}handleMouseMovePan(e,t=1){void 0!==e.movementX?this.panDelta.set(e.movementX,e.movementY):(this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.panStart.copy(this.panEnd)),this.panDelta.multiplyScalar(this.panSpeed*t),this.pan(this.panDelta.x,this.panDelta.y),this.update()}handleMouseWheel(e){if(!1===M1&&!1===R1(e)&&!0===function(e){return 0===e.wheelDeltaY||0===e.deltaY?!(A1&&e.shiftKey&&Math.abs(e.wheelDeltaX)>=120)&&(e.wheelDeltaX?e.wheelDeltaX===-3*e.deltaX||e.wheelDeltaX===-3*window.devicePixelRatio*e.deltaX:0===e.deltaMode):e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||e.wheelDeltaY===-3*window.devicePixelRatio*e.deltaY:0===e.deltaMode}(e)){if(!1===this.enablePan)return;this.gesture?(this.panDelta.set(-e.deltaX,-e.deltaY).multiplyScalar(this.panSpeed),this.panDelta.x=Math.min(Math.abs(this.panDelta.x),100)*(this.panDelta.x<0?-1:1),this.panDelta.y=Math.min(Math.abs(this.panDelta.y),100)*(this.panDelta.y<0?-1:1),e.altKey?this.pan(0,this.panDelta.y):e.shiftKey?this.pan(this.panDelta.x,0):this.pan(this.panDelta.x,this.panDelta.y),this.update()):(this.gesture=!0,this.isPointerDown=!0),window.clearTimeout(this.timer),this.timer=window.setTimeout((()=>{this.gesture=!1,this.isPointerDown=!1}),30)}else{if(!1===this.enableZoom)return;0===e.deltaY?e.deltaX<0?this.dollyIn(this.getZoomScale()):e.deltaX>0&&this.dollyOut(this.getZoomScale()):e.deltaY<0?this.dollyIn(this.getZoomScale()):e.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(),this.gesture=!1,this.isPointerDown=!1}}handleTouchStartRotate(){if(2===L1.length){let e=.5*(L1[0].pageX+L1[1].pageX),t=.5*(L1[0].pageY+L1[1].pageY);this.rotateStart.set(e,t)}else this.rotateStart.set(L1[0].pageX,L1[0].pageY)}handleTouchStartPan(){if(2===L1.length){let e=.5*(L1[0].pageX+L1[1].pageX),t=.5*(L1[0].pageY+L1[1].pageY);this.panStart.set(e,t)}else this.panStart.set(L1[0].pageX,L1[0].pageY)}handleTouchStartDolly(){let e=L1[0].pageX-L1[1].pageX,t=L1[0].pageY-L1[1].pageY,n=Math.sqrt(e*e+t*t);this.dollyStart.set(0,n)}handleTouchStartDollyPan(){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchStartDolly(),this.enablePan&&this.handleTouchStartPan()}handleTouchStartDollyRotate(){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchStartDolly(),this.enableRotate&&this.handleTouchStartRotate()}handleTouchMoveRotate(e){if(2===L1.length){let t=V1(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this.rotateEnd.set(n,r)}else{if(e.pointerId!==L1[0].pointerId)return;this.rotateEnd.set(e.pageX,e.pageY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;t&&(this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight)),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(e){if(2===L1.length){let t=V1(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this.panEnd.set(n,r)}else{if(e.pointerId!==L1[0].pointerId)return;this.panEnd.set(e.pageX,e.pageY)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(e){let t=V1(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);this.dollyEnd.set(0,i),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(e){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchMoveDolly(e),this.enablePan&&this.handleTouchMovePan(e)}handleTouchMoveDollyRotate(e){this.enableZoom&&!0===this.isTouchZoom&&this.handleTouchMoveDolly(e),this.enableRotate&&this.handleTouchMoveRotate(e)}checkRaycastLock(){if(this.object.data.raycastLock){if(this.options.isPlayMode)return!1;{let e=this.options?.showCameraLock;return e&&e(),!0}}return!1}};function Nme(e){let t=2*Math.PI;for(;e<=-Math.PI;)e+=t;for(;e>Math.PI;)e-=t;return e}function zme(e){return 1-Math.pow(1-e,4)}var Bme,Fme=class{constructor(e,t,n,r,i,a){this.id=e,this.data=t,this.object=n,this.page=r,this.currentIntersectedObjects=[],this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=nfe(t,t.actions,r,i,a,n),this.target=t.target,this.useToggle="Toggle"===t.runMode,this.triggeringObjects=t.triggeringObjects.map((e=>r.scene.find(e)))}isValidTriggeringObject(e){return"all"===this.target||this.triggeringObjects.some((t=>t===e||t.isAncestorOf(e.uuid)||e.isAncestorOf(t.uuid)))}disconnect(){rfe(this.actions)}dispatch(){this.disabled||this.object.destroyedInAction||(this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this?(e.object.currentTransitionEvent=this,e.init()):"Once"===this.data.runMode&&this.alreadyPlayedNonTogglingActions.add(e)})),this.object.dispatchEvent({type:"beginEvent",eventName:"Trigger"}),this.useToggle?(this.actions.Transition.forEach((e=>{e.toggle()})),this.actions.SwitchCamera.forEach((e=>{e.toggle()}))):(this.actions.Transition.forEach((e=>{!1===this.alreadyPlayedNonTogglingActions.has(e)&&e.play()})),this.actions.SwitchCamera.forEach((e=>{e.play()}))),this.actions.Link.forEach((e=>{e.dispatch()})),this.actions.Reset.forEach((e=>{e.dispatch()})),this.actions.Create.forEach((e=>{e.dispatch()})),this.actions.Destroy.forEach((e=>{e.dispatch(!1)})),this.actions.Audio.forEach((e=>{e.dispatchBasic()})),this.actions.Particles.forEach((e=>{e.dispatchBasic()})),this.actions.Video.forEach((e=>{e.dispatchBasic()})),this.actions.SceneTransition.forEach((e=>{e.dispatch()})),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch())))}};K1.then((e=>Bme=e));var Ume=new tH,jme=new eH,Vme=new tH,Hme=new jH(0,0,0,"YXZ"),Gme=new jH(0,0,0,"XYZ"),Wme=new tH,qme=new tH,Xme=new tH(1,1,1),Yme=new eH,Qme=new kH,Kme=new kH,Zme={type:"updateMatrix"},Jme=new eH,$me=new _H,ege={type:"beginEvent",eventName:"Collision"},tge={type:"beginEvent",eventName:"Trigger"},nge=e=>e.states.some((e=>void 0!==e.data.position||void 0!==e.data.rotation||void 0!==e.data.hiddenMatrix||void 0!==e.data.cloner||void 0!==e.data.pathSnapping));function rge(e){let t=this._clip.duration,n=this._clip.start??0,r=this.loop,i=this.time+e,a=this._loopCount,o=r===qj;if(0===e)return-1===a?i:o&&1==(1&a)?t-(i-n):i;if(2200===r){-1===a&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===a&&(e>=0?(a=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=t||i<n){let r=Math.floor((i-n)/(t-n));i-=(t-n)*r,a+=Math.abs(r);let s=this.repetitions-a;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,o||(i=e>0?t:n,1===this.repetitions&&(i=t)),this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){let t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:r})}}else this.time=i;if(o&&1==(1&a))return t-(i-n)}return i}var ige,age=!1,oge=new WeakMap,sge=class extends GQ{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){let i=new XQ(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(e=>{this.decodeDracoFile(e,t).catch(r)}),n,r)}decodeDracoFile(e,t,n,r){let i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};return this.decodeGeometry(e,i).then(t)}decodeGeometry(e,t){let n=JSON.stringify(t);if(oge.has(e)){let t=oge.get(e);if(t.key===n)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r,i=this.workerNextTaskID++,a=e.byteLength,o=this._getWorker(i,a).then((n=>(r=n,new Promise(((n,a)=>{r._callbacks[i]={resolve:n,reject:a},r.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return o.catch((()=>!0)).then((()=>{r&&i&&this._releaseTask(r,i)})),oge.set(e,{key:n,promise:o}),o}_createGeometry(e){let t=new DG;e.index&&t.setIndex(new wG(e.index.array,1));for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n],i=r.name,a=r.array,o=r.itemSize;t.setAttribute(i,new wG(a,o))}return t}_loadLibrary(e,t){let n=new XQ(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise(((t,r)=>{n.load(e,t,void 0,r)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{let n=t[0];e||(this.decoderConfig.wasmBinary=t[1]);let r=lge.toString(),i=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){let e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){let n=t.data;switch(n.type){case"decode":e._callbacks[n.id].resolve(n);break;case"error":e._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));let n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}};function lge(){let e,t;function n(e,t,n,r,i,a){let o=a.num_components(),s=n.num_points()*o,l=s*i.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),u=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,a,c,l,u);let h=new i(e.HEAPF32.buffer,u,s).slice();return e._free(u),{name:r,array:h,itemSize:o}}onmessage=function(r){let i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":let r=i.buffer,a=i.taskConfig;t.then((e=>{let t=e.draco,o=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(r),r.byteLength);try{let e=function(e,t,r,i){let a,o,s=i.attributeIDs,l=i.attributeTypes,c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)a=new e.Mesh,o=t.DecodeBufferToMesh(r,a);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,a)}if(!o.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());let u={index:null,attributes:[]};for(let r in s){let o,c,h=self[l[r]];if(i.useUniqueIDs)c=s[r],o=t.GetAttributeByUniqueId(a,c);else{if(c=t.GetAttributeId(a,e[s[r]]),-1===c)continue;o=t.GetAttribute(a,c)}u.attributes.push(n(e,t,a,r,h,o))}return c===e.TRIANGULAR_MESH&&(u.index=function(e,t,n){let r=3*n.num_faces(),i=4*r,a=e._malloc(i);t.GetTrianglesUInt32Array(n,i,a);let o=new Uint32Array(e.HEAPF32.buffer,a,r).slice();return e._free(a),{array:o,itemSize:1}}(e,t,a)),e.destroy(a),u}(t,o,s,a),r=e.attributes.map((e=>e.array.buffer));e.index&&r.push(e.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:e},r)}catch(e){console.error(e),self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(s),t.destroy(o)}}))}}}async function cge(e){if(ige){let t,n={attributeIDs:ige.defaultAttributeIDs,attributeTypes:ige.defaultAttributeTypes,useUniqueIDs:!1};try{t=await ige.decodeGeometry(new Int8Array(e).buffer,n)}catch(e){console.error(e)}if(t)return{index:t.index?{array:t.index.array}:void 0,attributes:Object.entries(t.attributes).map((([e,t])=>({name:e,itemSize:t.itemSize,array:t.array})))}}return null}var uge=class{constructor(e,t,n,r,i,a,o){this.id=e,this.data=t,this.dataEvent=n,this.object=r,this.stage=!1,this.actions=nfe(n,t.actions,i,a,o,r)}disconnect(){rfe(this.actions)}dispatchIn(){this.actions.Audio.forEach((e=>e.dispatchBasic())),this.actions.Particles.forEach((e=>e.dispatchBasic())),this.actions.Video.forEach((e=>e.dispatchBasic())),this.actions.Create.forEach((e=>e.dispatch())),this.actions.Destroy.forEach((e=>e.dispatch())),this.actions.Reset.forEach((e=>e.dispatch())),this.actions.Link.forEach((e=>e.dispatch())),this.actions.Transition.forEach((e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())})),this.actions.Transition.forEach((e=>e.toggle())),this.actions.Animation.forEach((e=>e.play())),this.actions.SwitchCamera.forEach((e=>e.play())),this.actions.SceneTransition.forEach((e=>e.dispatch())),this.actions.SetVariable.forEach((e=>e.checkConditions())),this.actions.SetVariable.forEach((e=>e.dispatch())),this.actions.DynamicVariablePlay.forEach((e=>e.dispatch()))}dispatchOut(){this.actions.Transition.forEach((e=>{e.toggle()}))}},hge=class extends epe{constructor(e,t){super(e),this.eventManager=t,this.breakpoints=[],this.resize=(e,t)=>{this.breakpoints.forEach((n=>{let r,i=P4.deviceToSize(n.data.size),a="horizontal"===n.dataEvent.orientation?e:t;switch(n.data.operator){case"<":r=a<i[0];break;case">":r=a>i[0];break;case"<>":r=a>i[0]&&a<i[1]}n.stage!==r&&(n.stage=r,n.stage?n.dispatchIn():n.dispatchOut())}))},this.onResizeObserver=new ResizeObserver((e=>{for(let t of e){let{width:e,height:n}=t.contentRect;this.resize(e,n)}}))}connect(){let{page:e,sharedAssets:t,domElement:n}=this.eventContext;this.onResizeObserver.observe(n);let r=n=>{if(n.visible&&n.data?.events.length)for(let{data:r}of n.data.events)r.disabled||"Resize"===r.type&&r.breakpoints.forEach((({data:i,id:a})=>{try{let o=new uge(a,i,r,n,e,t,this.eventManager);this.breakpoints.push(o)}catch(e){}}))};e.traverseEntity((e=>{(e instanceof kce||e instanceof _ce)&&e.frame?.traverse((e=>{r(e)})),r(e)}))}disconnect(){this.onResizeObserver.disconnect(),this.breakpoints.forEach((e=>{e.disconnect()})),this.breakpoints=[]}};function dge(e){let t;if(e.index)for(let n=0;n<e.index.array.length;n+=3)t=e.index.array[n],e.index.array[n]=e.index.array[n+2],e.index.array[n+2]=t}function fge(e){return e instanceof Tae?"SubdivObject":"NonParametricGeometry"===e.geometry.type?"NonParametric":"Mesh"}var pge=xF(BF(),1),mge=new AV;function gge(e){return gge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gge(e)}function vge(e){var t=function(e,t){if("object"!=gge(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=gge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gge(t)?t:String(t)}function yge(e,t,n){return(t=vge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bge(e,t){if(e){if("string"==typeof e)return wge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wge(e,t):void 0}}function xge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||bge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _ge(e){return function(e){if(Array.isArray(e))return wge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ege(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sge(Object(n),!0).forEach((function(t){yge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cge=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function Age(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var Tge="data-rc-order",Mge="data-rc-priority",Pge="rc-util-key",Dge=new Map;function kge(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):Pge}function Oge(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Ige(e){return Array.from((Dge.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function Rge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Age())return null;var n=t.csp,r=t.prepend,i=t.priority,a=void 0===i?0:i,o=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),s="prependQueue"===o,l=document.createElement("style");l.setAttribute(Tge,o),s&&a&&l.setAttribute(Mge,"".concat(a)),null!=n&&n.nonce&&(l.nonce=null==n?void 0:n.nonce),l.innerHTML=e;var c=Oge(t),u=c.firstChild;if(r){if(s){var h=Ige(c).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(Tge)))return!1;var t=Number(e.getAttribute(Mge)||0);return a>=t}));if(h.length)return c.insertBefore(l,h[h.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function Lge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ige(Oge(t)).find((function(n){return n.getAttribute(kge(t))===e}))}function Nge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Lge(e,t);n&&Oge(t).removeChild(n)}function zge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){var n=Dge.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=Rge("",t),i=r.parentNode;Dge.set(e,i),e.removeChild(r)}}(Oge(n),n);var r,i,a,o=Lge(t,n);if(o)return null!==(r=n.csp)&&void 0!==r&&r.nonce&&o.nonce!==(null===(i=n.csp)||void 0===i?void 0:i.nonce)&&(o.nonce=null===(a=n.csp)||void 0===a?void 0:a.nonce),o.innerHTML!==e&&(o.innerHTML=e),o;var s=Rge(e,n);return s.setAttribute(kge(n),t),s}var Bge={},Fge=[];function Uge(e,t){}function jge(e,t){}function Vge(e,t,n){t||Bge[n]||(e(!1,n),Bge[n]=!0)}function Hge(e,t){Vge(Uge,e,t)}function Gge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vge(r.key),r)}}function qge(e,t,n){return t&&Wge(e.prototype,t),n&&Wge(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Hge.preMessage=function(e){Fge.push(e)},Hge.resetWarned=function(){Bge={}},Hge.noteOnce=function(e,t){Vge(jge,e,t)};var Xge=function(){function e(t){Gge(this,e),yge(this,"instanceId",void 0),yge(this,"cache",new Map),this.instanceId=t}return qge(e,[{key:"get",value:function(e){return this.cache.get(e.join("%"))||null}},{key:"update",value:function(e,t){var n=e.join("%"),r=t(this.cache.get(n));null===r?this.cache.delete(n):this.cache.set(n,r)}}]),e}(),Yge=Xge,Qge="data-token-hash",Kge="data-css-hash",Zge="__cssinjs_instance__";var Jge=e.createContext({hashPriority:"low",cache:function(){var e=Math.random().toString(12).slice(2);if("undefined"!=typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(Kge,"]"))||[],n=document.head.firstChild;Array.from(t).forEach((function(t){t[Zge]=t[Zge]||e,t[Zge]===e&&document.head.insertBefore(t,n)}));var r={};Array.from(document.querySelectorAll("style[".concat(Kge,"]"))).forEach((function(t){var n,i=t.getAttribute(Kge);r[i]?t[Zge]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[i]=!0}))}return new Yge(e)}(),defaultCache:!0}),$ge=Jge,eve=function(){function e(){Gge(this,e),yge(this,"cache",void 0),yge(this,"keys",void 0),yge(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return qge(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={map:this.cache};return e.forEach((function(e){var t;i=i?null===(t=i)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):void 0})),null!==(t=i)&&void 0!==t&&t.value&&r&&(i.value[1]=this.cacheCallTimes++),null===(n=i)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce((function(e,t){var n=xge(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),a=xge(i,1)[0];this.delete(a)}this.keys.push(t)}var o=this.cache;t.forEach((function(e,i){if(i===t.length-1)o.set(e,{value:[n,r.cacheCallTimes++]});else{var a=o.get(e);a?a.map||(a.map=new Map):o.set(e,{map:new Map}),o=o.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var i=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),i}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();yge(eve,"MAX_CACHE_SIZE",20),yge(eve,"MAX_CACHE_OFFSET",5);var tve=0,nve=function(){function e(t){Gge(this,e),yge(this,"derivatives",void 0),yge(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=tve,0===t.length&&t.length,tve+=1}return qge(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),rve=new eve,ive=new WeakMap,ave={},ove=new WeakMap;function sve(e){var t=ove.get(e)||"";return t||(Object.keys(e).forEach((function(n){var r=e[n];t+=n,r instanceof nve?t+=r.id:r&&"object"===gge(r)?t+=sve(r):t+=r})),ove.set(e,t)),t}function lve(e,t){return Cge("".concat(t,"_").concat(sve(e)))}var cve="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),uve="_bAmBoO_";var hve=void 0,dve=Age();function fve(e){return"number"==typeof e?"".concat(e,"px"):e}function pve(e,t,n){var r;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var i=Ege(Ege({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(yge(r={},Qge,t),yge(r,Kge,n),r)),a=Object.keys(i).map((function(e){var t=i[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(a,">").concat(e,"</style>")}var mve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},gve=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!=n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map((function(e){var t=xge(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")})).join(""),"}"):""},vve=function(e,t,n){var r={},i={};return Object.entries(e).forEach((function(e){var t,a,o=xge(e,2),s=o[0],l=o[1];if(null!=n&&null!==(t=n.preserve)&&void 0!==t&&t[s])i[s]=l;else if(!("string"!=typeof l&&"number"!=typeof l||null!=n&&null!==(a=n.ignore)&&void 0!==a&&a[s])){var c,u=mve(s,null==n?void 0:n.prefix);r[u]="number"!=typeof l||null!=n&&null!==(c=n.unitless)&&void 0!==c&&c[s]?String(l):"".concat(l,"px"),i[s]="var(".concat(u,")")}})),[i,gve(r,t,{scope:null==n?void 0:n.scope})]},yve=Age()?e.useLayoutEffect:e.useEffect,wve=function(t,n){var r=e.useRef(!0);yve((function(){return t(r.current)}),n),yve((function(){return r.current=!1,function(){r.current=!0}}),[])},bve=function(e,t){wve((function(t){if(!t)return e()}),t)},xve=wve,_ve=Ege({},t).useInsertionEffect,Sve=_ve?function(e,t,n){return _ve((function(){return e(),t()}),n)}:function(t,n,r){e.useMemo(t,r),xve((function(){return n(!0)}),r)},Eve=void 0!==Ege({},t).useInsertionEffect?function(t){var n=[],r=!1;return e.useEffect((function(){return r=!1,function(){r=!0,n.length&&n.forEach((function(e){return e()}))}}),t),function(e){r||n.push(e)}}:function(){return function(e){e()}},Cve=Eve,Ave=function(){return!1};function Tve(t,n,r,i,a){var o=e.useContext($ge).cache,s=[t].concat(_ge(n)),l=s.join("_"),c=Cve([l]),u=(Ave(),function(e){o.update(s,(function(t){var n=xge(t||[void 0,void 0],2),i=n[0],a=[void 0===i?0:i,n[1]||r()];return e?e(a):a}))});e.useMemo((function(){u()}),[l]);var h=o.get(s)[1];return Sve((function(){null==a||a(h)}),(function(e){return u((function(t){var n=xge(t,2),r=n[0],i=n[1];return e&&0===r&&(null==a||a(h)),[r+1,i]})),function(){o.update(s,(function(t){var n=xge(t||[],2),r=n[0],a=void 0===r?0:r,l=n[1];return 0==a-1?(c((function(){!e&&o.get(s)||null==i||i(l,!1)})),null):[a-1,l]}))}}),[l]),h}var Mve={},Pve="css",Dve=new Map,kve=0;var Ove=function(e,t,n,r){var i=Ege(Ege({},n.getDerivativeToken(e)),t);return r&&(i=r(i)),i},Ive="token";function Rve(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,e.useContext)($ge),a=i.cache.instanceId,o=i.container,s=r.salt,l=void 0===s?"":s,c=r.override,u=void 0===c?Mve:c,h=r.formatToken,d=r.getComputedToken,f=r.cssVar,p=function(e,t){for(var r=ive,i=0;i<t.length;i+=1){var a=t[i];r.has(a)||r.set(a,new WeakMap),r=r.get(a)}return r.has(ave)||r.set(ave,Object.assign.apply(Object,[{}].concat(_ge(n)))),r.get(ave)}(0,n),m=sve(p),g=sve(u),v=f?sve(f):"",y=Tve(Ive,[l,t.id,m,g,v],(function(){var e,n=d?d(p,u,t):Ove(p,u,t,h),r=Ege({},n),i="";if(f){var a=xge(vve(n,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),2);n=a[0],i=a[1]}var o=lve(n,l);n._tokenKey=o,r._tokenKey=lve(r,l);var s=null!==(e=null==f?void 0:f.key)&&void 0!==e?e:o;n._themeKey=s,function(e){Dve.set(e,(Dve.get(e)||0)+1)}(s);var c="".concat(Pve,"-").concat(Cge(o));return n._hashId=c,[n,c,r,i,(null==f?void 0:f.key)||""]}),(function(e){!function(e,t){Dve.set(e,(Dve.get(e)||0)-1);var n=Array.from(Dve.keys()),r=n.filter((function(e){return(Dve.get(e)||0)<=0}));n.length-r.length>kve&&r.forEach((function(e){!function(e,t){"undefined"!=typeof document&&document.querySelectorAll("style[".concat(Qge,'="').concat(e,'"]')).forEach((function(e){var n;e[Zge]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))}(e,t),Dve.delete(e)}))}(e[0]._themeKey,a)}),(function(e){var t=xge(e,4),n=t[0],r=t[3];if(f&&r){var i=zge(r,Cge("css-variables-".concat(n._themeKey)),{mark:Kge,prepend:"queue",attachTo:o,priority:-999});i[Zge]=a,i.setAttribute(Qge,n._themeKey)}}));return y}var Lve="comm",Nve="rule",zve="decl",Bve="@import",Fve="@keyframes",Uve="@layer",jve=Math.abs,Vve=String.fromCharCode;function Hve(e){return e.trim()}function Gve(e,t,n){return e.replace(t,n)}function Wve(e,t,n){return e.indexOf(t,n)}function qve(e,t){return 0|e.charCodeAt(t)}function Xve(e,t,n){return e.slice(t,n)}function Yve(e){return e.length}function Qve(e,t){return t.push(e),e}function Kve(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Zve(e,t,n,r){switch(e.type){case Uve:if(e.children.length)break;case Bve:case zve:return e.return=e.return||e.value;case Lve:return"";case Fve:return e.return=e.value+"{"+Kve(e.children,r)+"}";case Nve:if(!Yve(e.value=e.props.join(",")))return""}return Yve(n=Kve(e.children,r))?e.return=e.value+"{"+n+"}":""}Object.assign;var Jve=1,$ve=1,eye=0,tye=0,nye=0,rye="";function iye(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Jve,column:$ve,length:o,return:"",siblings:s}}function aye(){return nye=tye>0?qve(rye,--tye):0,$ve--,10===nye&&($ve=1,Jve--),nye}function oye(){return nye=tye<eye?qve(rye,tye++):0,$ve++,10===nye&&($ve=1,Jve++),nye}function sye(){return qve(rye,tye)}function lye(){return tye}function cye(e,t){return Xve(rye,e,t)}function uye(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hye(e){return Hve(cye(tye-1,pye(91===e?e+2:40===e?e+1:e)))}function dye(e){for(;(nye=sye())&&nye<33;)oye();return uye(e)>2||uye(nye)>3?"":" "}function fye(e,t){for(;--t&&oye()&&!(nye<48||nye>102||nye>57&&nye<65||nye>70&&nye<97););return cye(e,lye()+(t<6&&32==sye()&&32==oye()))}function pye(e){for(;oye();)switch(nye){case e:return tye;case 34:case 39:34!==e&&39!==e&&pye(nye);break;case 40:41===e&&pye(e);break;case 92:oye()}return tye}function mye(e,t){for(;oye()&&e+nye!==57&&(e+nye!==84||47!==sye()););return"/*"+cye(t,tye-1)+"*"+Vve(47===e?e:oye())}function gye(e){for(;!uye(sye());)oye();return cye(e,tye)}function vye(e){return function(e){return rye="",e}(yye("",null,null,null,[""],e=function(e){return Jve=$ve=1,eye=Yve(rye=e),tye=0,[]}(e),0,[0],e))}function yye(e,t,n,r,i,a,o,s,l){for(var c=0,u=0,h=o,d=0,f=0,p=0,m=1,g=1,v=1,y=0,w="",b=i,x=a,_=r,S=w;g;)switch(p=y,y=oye()){case 40:if(108!=p&&58==qve(S,h-1)){-1!=Wve(S+=Gve(hye(y),"&","&\f"),"&\f",jve(c?s[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=hye(y);break;case 9:case 10:case 13:case 32:S+=dye(p);break;case 92:S+=fye(lye()-1,7);continue;case 47:switch(sye()){case 42:case 47:Qve(bye(mye(oye(),lye()),t,n,l),l);break;default:S+="/"}break;case 123*m:s[c++]=Yve(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=Gve(S,/\f/g,"")),f>0&&Yve(S)-h&&Qve(f>32?xye(S+";",r,n,h-1,l):xye(Gve(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(Qve(_=wye(S,t,n,c,u,i,s,w,b=[],x=[],h,a),a),123===y)if(0===u)yye(S,t,_,_,b,a,h,s,x);else switch(99===d&&110===qve(S,3)?100:d){case 100:case 108:case 109:case 115:yye(e,_,_,r&&Qve(wye(e,_,_,0,0,i,s,w,i,b=[],h,x),x),i,x,h,s,r?b:x);break;default:yye(S,_,_,_,[""],x,0,s,x)}}c=u=f=0,m=v=1,w=S="",h=o;break;case 58:h=1+Yve(S),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==aye())continue;switch(S+=Vve(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(Yve(S)-1)*v,v=1;break;case 64:45===sye()&&(S+=hye(oye())),d=sye(),u=h=Yve(w=S+=gye(lye())),y++;break;case 45:45===p&&2==Yve(S)&&(m=0)}}return a}function wye(e,t,n,r,i,a,o,s,l,c,u,h){for(var d=i-1,f=0===i?a:[""],p=function(e){return e.length}(f),m=0,g=0,v=0;m<r;++m)for(var y=0,w=Xve(e,d+1,d=jve(g=o[m])),b=e;y<p;++y)(b=Hve(g>0?f[y]+" "+w:Gve(w,/&\f/g,f[y])))&&(l[v++]=b);return iye(e,t,n,0===i?Nve:s,l,c,u,h)}function bye(e,t,n,r){return iye(e,t,n,Lve,Vve(nye),Xve(e,2,-2),0,r)}function xye(e,t,n,r,i){return iye(e,t,n,zve,Xve(e,0,r),Xve(e,r+1,-1),r,i)}var _ye,Sye="data-ant-cssinjs-cache-path",Eye="_FILE_STYLE__",Cye=!0;var Aye="_multi_value_";function Tye(e){return Kve(vye(e),Zve).replace(/\{%%%\:[^;];}/g,";")}var Mye=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,a=r.injectHash,o=r.parentSelectors,s=n.hashId,l=n.layer,c=(n.path,n.hashPriority),u=n.transformers,h=void 0===u?[]:u,d=(n.linters,""),f={};function p(t){var r=t.getName(s);if(!f[r]){var i=xge(e(t.style,n,{root:!1,parentSelectors:o}),1)[0];f[r]="@keyframes ".concat(t.getName(s)).concat(i)}}var m=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);if(m.forEach((function(t){var r="string"!=typeof t||i?t:{};if("string"==typeof r)d+="".concat(r,"\n");else if(r._keyframe)p(r);else{var l=h.reduce((function(e,t){var n;return(null==t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),r);Object.keys(l).forEach((function(t){var r=l[t];if("object"!==gge(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===gge(e)&&e&&("_skip_check_"in e||Aye in e)}(r)){var u;function x(e,t){var n=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),r=t;We[e]||"number"!=typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!=t&&t._keyframe&&(p(t),r=t.getName(s)),d+="".concat(n,":").concat(r,";")}var h=null!==(u=null==r?void 0:r.value)&&void 0!==u?u:r;"object"===gge(r)&&null!=r&&r[Aye]&&Array.isArray(h)?h.forEach((function(e){x(t,e)})):x(t,h)}else{var m=!1,g=t.trim(),v=!1;(i||a)&&s?g.startsWith("@")?m=!0:g=function(e,t,n){if(!t)return e;var r=".".concat(t),i="low"===n?":where(".concat(r,")"):r,a=e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",a=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(a).concat(i).concat(r.slice(a.length))].concat(_ge(n.slice(1))).join(" ")}));return a.join(",")}(t,s,c):!i||s||"&"!==g&&""!==g||(g="",v=!0);var y=xge(e(r,n,{root:v,injectHash:m,parentSelectors:[].concat(_ge(o),[g])}),2),w=y[0],b=y[1];f=Ege(Ege({},f),b),d+="".concat(g).concat(w)}}))}})),i){if(l&&(void 0===hve&&(hve=function(e,t,n){if(Age()){var r,i;zge(e,cve);var a=document.createElement("div");a.style.position="fixed",a.style.left="0",a.style.top="0",null==t||t(a),document.body.appendChild(a);var o=n?n(a):null===(r=getComputedStyle(a).content)||void 0===r?void 0:r.includes(uve);return null===(i=a.parentNode)||void 0===i||i.removeChild(a),Nge(cve),o}return!1}("@layer ".concat(cve," { .").concat(cve,' { content: "').concat(uve,'"!important; } }'),(function(e){e.className=cve}))),hve)){var g=l.split(","),v=g[g.length-1].trim();d="@layer ".concat(v," {").concat(d,"}"),g.length>1&&(d="@layer ".concat(l,"{%%%:%}").concat(d))}}else d="{".concat(d,"}");return[d,f]};function Pye(e,t){return Cge("".concat(e.join("%")).concat(t))}function Dye(){return null}var kye="style";function Oye(t,n){var r=t.token,i=t.path,a=t.hashId,o=t.layer,s=t.nonce,l=t.clientOnly,c=t.order,u=void 0===c?0:c,h=e.useContext($ge),d=h.autoClear,f=(h.mock,h.defaultCache),p=h.hashPriority,m=h.container,g=h.ssrInline,v=h.transformers,y=h.linters,w=h.cache,b=r._tokenKey,x=[b].concat(_ge(i)),_=dve,S=Tve(kye,x,(function(){var e=x.join("|");if(function(e){return function(){if(!_ye&&(_ye={},Age())){var e=document.createElement("div");e.className=Sye,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=xge(e.split(":"),2),n=t[0],r=t[1];_ye[n]=r}));var n,r=document.querySelector("style[".concat(Sye,"]"));r&&(Cye=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!_ye[e]}(e)){var t=function(e){var t=_ye[e],n=null;if(t&&Age())if(Cye)n=Eye;else{var r=document.querySelector("style[".concat(Kge,'="').concat(_ye[e],'"]'));r?n=r.innerHTML:delete _ye[e]}return[n,t]}(e),r=xge(t,2),s=r[0],c=r[1];if(s)return[s,b,c,{},l,u]}var h=n(),d=xge(Mye(h,{hashId:a,hashPriority:p,layer:o,path:i.join("-"),transformers:v,linters:y}),2),f=d[0],m=d[1],g=Tye(f),w=Pye(x,g);return[g,b,w,m,l,u]}),(function(e,t){var n=xge(e,3)[2];(t||d)&&dve&&Nge(n,{mark:Kge})}),(function(e){var t=xge(e,4),n=t[0],r=(t[1],t[2]),i=t[3];if(_&&n!==Eye){var a={mark:Kge,prepend:"queue",attachTo:m,priority:u},o="function"==typeof s?s():s;o&&(a.csp={nonce:o});var l=zge(n,r,a);l[Zge]=w.instanceId,l.setAttribute(Qge,b),Object.keys(i).forEach((function(e){zge(Tye(i[e]),"_effect-".concat(e),a)}))}})),E=xge(S,3),C=E[0],A=E[1],T=E[2];return function(t){var n,r;return n=g&&!_&&f?e.createElement("style",ad({},(yge(r={},Qge,A),yge(r,Kge,T),r),{dangerouslySetInnerHTML:{__html:C}})):e.createElement(Dye,null),e.createElement(e.Fragment,null,n,t)}}var Iye,Rye="cssVar";yge(Iye={},kye,(function(e,t,n){var r=xge(e,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=r[5],u=(n||{}).plain;if(l)return null;var h=i,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return h=pve(i,a,o,d,u),s&&Object.keys(s).forEach((function(e){if(!t[e]){t[e]=!0;var n=Tye(s[e]);h+=pve(n,a,"_effect-".concat(e),d,u)}})),[c,o,h]})),yge(Iye,Ive,(function(e,t,n){var r=xge(e,5),i=r[2],a=r[3],o=r[4],s=(n||{}).plain;if(!a)return null;var l=i._tokenKey;return[-999,l,pve(a,o,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]})),yge(Iye,Rye,(function(e,t,n){var r=xge(e,4),i=r[1],a=r[2],o=r[3],s=(n||{}).plain;return i?[-999,a,pve(i,o,a,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]:null}));var Lye=function(){function e(t,n){Gge(this,e),yge(this,"name",void 0),yge(this,"style",void 0),yge(this,"_keyframe",!0),this.name=t,this.style=n}return qge(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}(),Nye=Lye;function zye(e){return e.notSplit=!0,e}zye(["borderTop","borderBottom"]),zye(["borderTop"]),zye(["borderBottom"]),zye(["borderLeft","borderRight"]),zye(["borderLeft"]),zye(["borderRight"]);var Bye="5.12.8";function Fye(e,t){(function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function Uye(e){return Math.min(1,Math.max(0,e))}function jye(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Vye(e){return e<=1?"".concat(100*Number(e),"%"):e}function Hye(e){return 1===e.length?"0"+e:String(e)}function Gye(e,t,n){e=Fye(e,255),t=Fye(t,255),n=Fye(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=0,s=(r+i)/2;if(r===i)o=0,a=0;else{var l=r-i;switch(o=s>.5?l/(2-r-i):l/(r+i),r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:o,l:s}}function Wye(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function qye(e,t,n){e=Fye(e,255),t=Fye(t,255),n=Fye(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,s=r-i,l=0===r?0:s/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4}a/=6}return{h:a,s:l,v:o}}function Xye(e,t,n,r){var i=[Hye(Math.round(e).toString(16)),Hye(Math.round(t).toString(16)),Hye(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Yye(e){return Math.round(255*parseFloat(e)).toString(16)}function Qye(e){return Kye(e)/255}function Kye(e){return parseInt(e,16)}var Zye={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Jye(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return"string"==typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Zye[e])e=Zye[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=nwe.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=nwe.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=nwe.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=nwe.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=nwe.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=nwe.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=nwe.hex8.exec(e))?{r:Kye(n[1]),g:Kye(n[2]),b:Kye(n[3]),a:Qye(n[4]),format:t?"name":"hex8"}:(n=nwe.hex6.exec(e))?{r:Kye(n[1]),g:Kye(n[2]),b:Kye(n[3]),format:t?"name":"hex"}:(n=nwe.hex4.exec(e))?{r:Kye(n[1]+n[1]),g:Kye(n[2]+n[2]),b:Kye(n[3]+n[3]),a:Qye(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=nwe.hex3.exec(e))&&{r:Kye(n[1]+n[1]),g:Kye(n[2]+n[2]),b:Kye(n[3]+n[3]),format:t?"name":"hex"}}(e)),"object"==typeof e&&(rwe(e.r)&&rwe(e.g)&&rwe(e.b)?(t=function(e,t,n){return{r:255*Fye(e,255),g:255*Fye(t,255),b:255*Fye(n,255)}}(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):rwe(e.h)&&rwe(e.s)&&rwe(e.v)?(r=Vye(e.s),i=Vye(e.v),t=function(e,t,n){e=6*Fye(e,360),t=Fye(t,100),n=Fye(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6;return{r:255*[n,o,a,a,s,n][l],g:255*[s,n,n,o,a,a][l],b:255*[a,a,s,n,n,o][l]}}(e.h,r,i),o=!0,s="hsv"):rwe(e.h)&&rwe(e.s)&&rwe(e.l)&&(r=Vye(e.s),a=Vye(e.l),t=function(e,t,n){var r,i,a;if(e=Fye(e,360),t=Fye(t,100),n=Fye(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=Wye(s,o,e+1/3),i=Wye(s,o,e),a=Wye(s,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,a),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=jye(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var $ye="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),ewe="[\\s|\\(]+(".concat($ye,")[,|\\s]+(").concat($ye,")[,|\\s]+(").concat($ye,")\\s*\\)?"),twe="[\\s|\\(]+(".concat($ye,")[,|\\s]+(").concat($ye,")[,|\\s]+(").concat($ye,")[,|\\s]+(").concat($ye,")\\s*\\)?"),nwe={CSS_UNIT:new RegExp($ye),rgb:new RegExp("rgb"+ewe),rgba:new RegExp("rgba"+twe),hsl:new RegExp("hsl"+ewe),hsla:new RegExp("hsla"+twe),hsv:new RegExp("hsv"+ewe),hsva:new RegExp("hsva"+twe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function rwe(e){return Boolean(nwe.CSS_UNIT.exec(String(e)))}var iwe=2,awe=.16,owe=.05,swe=.05,lwe=.15,cwe=5,uwe=4,hwe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function dwe(e){var t=qye(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function fwe(e){var t=e.r,n=e.g,r=e.b;return"#".concat(Xye(t,n,r,!1))}function pwe(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-iwe*t:Math.round(e.h)+iwe*t:n?Math.round(e.h)+iwe*t:Math.round(e.h)-iwe*t)<0?r+=360:r>=360&&(r-=360),r}function mwe(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-awe*t:t===uwe?e.s+awe:e.s+owe*t)>1&&(r=1),n&&t===cwe&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function gwe(e,t,n){var r;return(r=n?e.v+swe*t:e.v-lwe*t)>1&&(r=1),Number(r.toFixed(2))}function vwe(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Jye(e),i=cwe;i>0;i-=1){var a=dwe(r),o=fwe(Jye({h:pwe(a,i,!0),s:mwe(a,i,!0),v:gwe(a,i,!0)}));n.push(o)}n.push(fwe(r));for(var s=1;s<=uwe;s+=1){var l=dwe(r),c=fwe(Jye({h:pwe(l,s),s:mwe(l,s),v:gwe(l,s)}));n.push(c)}return"dark"===t.theme?hwe.map((function(e){var r=e.index,i=e.opacity,a=fwe(function(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}(Jye(t.backgroundColor||"#141414"),Jye(n[r]),100*i));return a})):n}var ywe={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},wwe={},bwe={};Object.keys(ywe).forEach((function(e){wwe[e]=vwe(ywe[e]),wwe[e].primary=wwe[e][5],bwe[e]=vwe(ywe[e],{theme:"dark",backgroundColor:"#141414"}),bwe[e].primary=bwe[e][5]})),wwe.red,wwe.volcano,wwe.gold,wwe.orange,wwe.yellow,wwe.lime,wwe.green,wwe.cyan,wwe.blue,wwe.geekblue,wwe.purple,wwe.magenta,wwe.grey,wwe.grey;const xwe={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"};var _we=Object.assign(Object.assign({},xwe),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Swe=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"==typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=Jye(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=jye(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=qye(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=qye(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=Gye(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=Gye(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Xye(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var a=[Hye(Math.round(e).toString(16)),Hye(Math.round(t).toString(16)),Hye(Math.round(n).toString(16)),Hye(Yye(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*Fye(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*Fye(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Xye(this.r,this.g,this.b,!1),t=0,n=Object.entries(Zye);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!=e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Uye(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Uye(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Uye(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Uye(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100;return new e({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(new e({h:r,s:i,v:a})),a=(a+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(r+o*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();const Ewe=(e,t)=>new Swe(e).setAlpha(t).toRgbString(),Cwe=(e,t)=>new Swe(e).darken(t).toHexString(),Awe=e=>{const t=vwe(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},Twe=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Ewe(r,.88),colorTextSecondary:Ewe(r,.65),colorTextTertiary:Ewe(r,.45),colorTextQuaternary:Ewe(r,.25),colorFill:Ewe(r,.15),colorFillSecondary:Ewe(r,.06),colorFillTertiary:Ewe(r,.04),colorFillQuaternary:Ewe(r,.02),colorBgLayout:Cwe(n,4),colorBgContainer:Cwe(n,0),colorBgElevated:Cwe(n,0),colorBgSpotlight:Ewe(r,.85),colorBgBlur:"transparent",colorBorder:Cwe(n,15),colorBorderSecondary:Cwe(n,6)}};const Mwe=(Pwe=function(e){const t=Object.keys(xwe).map((t=>{const n=vwe(e[t]);return new Array(10).fill(1).reduce(((e,r,i)=>(e[`${t}-${i+1}`]=n[i],e[`${t}${i+1}`]=n[i],e)),{})})).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:i,colorWarning:a,colorError:o,colorInfo:s,colorPrimary:l,colorBgBase:c,colorTextBase:u}=e,h=n(l),d=n(i),f=n(a),p=n(o),m=n(s),g=r(c,u),v=n(e.colorLink||e.colorInfo);return Object.assign(Object.assign({},g),{colorPrimaryBg:h[1],colorPrimaryBgHover:h[2],colorPrimaryBorder:h[3],colorPrimaryBorderHover:h[4],colorPrimaryHover:h[5],colorPrimary:h[6],colorPrimaryActive:h[7],colorPrimaryTextHover:h[8],colorPrimaryText:h[9],colorPrimaryTextActive:h[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new Swe("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:Awe,generateNeutralColorPalettes:Twe})),(e=>{const t=function(e){const t=new Array(10).fill(null).map(((t,n)=>{const r=n-1,i=e*Math.pow(2.71828,r/5),a=n>1?Math.floor(i):Math.ceil(i);return 2*Math.floor(a/2)}));return t[1]=e,t.map((e=>({size:e,lineHeight:(e+8)/e})))}(e),n=t.map((e=>e.size)),r=t.map((e=>e.lineHeight)),i=n[1],a=n[0],o=n[2],s=r[1],l=r[0],c=r[2];return{fontSizeSM:a,fontSize:i,fontSizeLG:o,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(s*i),fontHeightLG:Math.round(c*o),fontHeightSM:Math.round(l*a),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}})(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),(e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}})(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:i}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+2*t).toFixed(1)}s`,motionDurationSlow:`${(n+3*t).toFixed(1)}s`,lineWidthBold:i+1},(e=>{let t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}})(r))}(e))},Dwe=Array.isArray(Pwe)?Pwe:[Pwe],rve.has(Dwe)||rve.set(Dwe,new nve(Dwe)),rve.get(Dwe));var Pwe,Dwe;const kwe={token:_we,override:{override:_we},hashed:!0},Owe=e.createContext(kwe);function Iwe(e){return e>=0&&e<=255}var Rwe=function(e,t){const{r:n,g:r,b:i,a:a}=new Swe(e).toRgb();if(a<1)return e;const{r:o,g:s,b:l}=new Swe(t).toRgb();for(let e=.01;e<=1;e+=.01){const t=Math.round((n-o*(1-e))/e),a=Math.round((r-s*(1-e))/e),c=Math.round((i-l*(1-e))/e);if(Iwe(t)&&Iwe(a)&&Iwe(c))return new Swe({r:t,g:a,b:c,a:Math.round(100*e)/100}).toRgbString()}return new Swe({r:n,g:r,b:i,a:1}).toRgbString()},Lwe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Nwe(e){const{override:t}=e,n=Lwe(e,["override"]),r=Object.assign({},t);Object.keys(_we).forEach((e=>{delete r[e]}));const i=Object.assign(Object.assign({},n),r);if(!1===i.motion){const e="0s";i.motionDurationFast=e,i.motionDurationMid=e,i.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Rwe(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Rwe(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Rwe(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:4*i.lineWidth,lineWidth:i.lineWidth,controlOutlineWidth:2*i.lineWidth,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Rwe(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:1200,screenXLMin:1200,screenXLMax:1599,screenXXL:1600,screenXXLMin:1600,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new Swe("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new Swe("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new Swe("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var zwe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const Bwe={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},Fwe={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Uwe={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},jwe=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:i}=t,a=zwe(t,["override"]);let o=Object.assign(Object.assign({},r),{override:i});return o=Nwe(o),a&&Object.entries(a).forEach((e=>{let[t,n]=e;const{theme:r}=n,i=zwe(n,["theme"]);let a=i;r&&(a=jwe(Object.assign(Object.assign({},o),i),{override:i},r)),o[t]=a})),o};function Vwe(){const{token:t,hashed:n,theme:r,override:i,cssVar:a}=e.useContext(Owe),o=`${Bye}-${n||""}`,s=r||Mwe,[l,c,u]=Rve(s,[_we,t],{salt:o,override:i,getComputedToken:jwe,formatToken:Nwe,cssVar:a&&{prefix:a.prefix,key:a.key,unitless:Bwe,ignore:Fwe,preserve:Uwe}});return[s,u,n?c:"",l,a]}const Hwe=["xxl","xl","lg","md","sm","xs"],Gwe=(e,t)=>{if(t&&"object"==typeof t)for(let n=0;n<Hwe.length;n++){const r=Hwe[n];if(e[r]&&void 0!==t[r])return t[r]}},Wwe=e.createContext({getPrefixCls:(e,t)=>t||(e?`ant-${e}`:"ant"),iconPrefixCls:"anticon"}),{Consumer:qwe}=Wwe;var Xwe=e.createContext(void 0),Ywe=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,e.useRef)({}),r=function(){const[,t]=e.useReducer((e=>e+1),0);return t}(),i=function(){const[,t]=Vwe(),n=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const t=e,n=[].concat(Hwe).reverse();return n.forEach(((e,r)=>{const i=e.toUpperCase(),a=`screen${i}Min`,o=`screen${i}`;if(!(t[a]<=t[o]))throw new Error(`${a}<=${o} fails : !(${t[a]}<=${t[o]})`);if(r<n.length-1){const e=`screen${i}Max`;if(!(t[o]<=t[e]))throw new Error(`${o}<=${e} fails : !(${t[o]}<=${t[e]})`);const a=`screen${n[r+1].toUpperCase()}Min`;if(!(t[e]<=t[a]))throw new Error(`${e}<=${a} fails : !(${t[e]}<=${t[a]})`)}})),e})(t));return e.useMemo((()=>{const e=new Map;let t=-1,r={};return{matchHandlers:{},dispatch(t){return r=t,e.forEach((e=>e(r))),e.size>=1},subscribe(n){return e.size||this.register(),t+=1,e.set(t,n),n(r),t},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(n).forEach((e=>{const t=n[e],r=this.matchHandlers[t];null==r||r.mql.removeListener(null==r?void 0:r.listener)})),e.clear()},register(){Object.keys(n).forEach((e=>{const t=n[e],i=t=>{let{matches:n}=t;this.dispatch(Object.assign(Object.assign({},r),{[e]:n}))},a=window.matchMedia(t);a.addListener(i),this.matchHandlers[t]={mql:a,listener:i},i(a)}))},responsiveMap:n}}),[t])}();return xve((()=>{const e=i.subscribe((e=>{n.current=e,t&&r()}));return()=>i.unsubscribe(e)}),[]),n.current},Qwe={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},Kwe=e.createContext({}),Zwe=o(1805);function Jwe(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return e.Children.forEach(t,(function(e){(null!=e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(Jwe(e)):(0,Zwe.isFragment)(e)&&e.props?r=r.concat(Jwe(e.props.children,n)):r.push(e))})),r}function $we(t,n,r){const i=e.useMemo((()=>n||Jwe(r).map((e=>Object.assign(Object.assign({},null==e?void 0:e.props),{key:e.key})))),[n,r]),a=e.useMemo((()=>i.map((e=>{var{span:n}=e,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["span"]);return Object.assign(Object.assign({},r),{span:"number"==typeof n?n:Gwe(t,n)})}))),[i,t]);return a}function ebe(e,t,n){let r=e,i=!1;return(void 0===n||n>t)&&(r=Object.assign(Object.assign({},e),{span:t}),i=void 0!==n),[r,i]}function tbe(e){return null!=e}var nbe=t=>{const{itemPrefixCls:n,component:r,span:i,className:a,style:o,labelStyle:s,contentStyle:l,bordered:c,label:u,content:h,colon:d}=t,f=r;return c?e.createElement(f,{className:Wb()({[`${n}-item-label`]:tbe(u),[`${n}-item-content`]:tbe(h)},a),style:o,colSpan:i},tbe(u)&&e.createElement("span",{style:s},u),tbe(h)&&e.createElement("span",{style:l},h)):e.createElement(f,{className:Wb()(`${n}-item`,a),style:o,colSpan:i},e.createElement("div",{className:`${n}-item-container`},(u||0===u)&&e.createElement("span",{className:Wb()(`${n}-item-label`,{[`${n}-item-no-colon`]:!d}),style:s},u),(h||0===h)&&e.createElement("span",{className:Wb()(`${n}-item-content`),style:l},h)))};function rbe(t,n,r){let{colon:i,prefixCls:a,bordered:o}=n,{component:s,type:l,showLabel:c,showContent:u,labelStyle:h,contentStyle:d}=r;return t.map(((t,n)=>{let{label:r,children:f,prefixCls:p=a,className:m,style:g,labelStyle:v,contentStyle:y,span:w=1,key:b}=t;return"string"==typeof s?e.createElement(nbe,{key:`${l}-${b||n}`,className:m,style:g,labelStyle:Object.assign(Object.assign({},h),v),contentStyle:Object.assign(Object.assign({},d),y),span:w,colon:i,component:s,itemPrefixCls:p,bordered:o,label:c?r:null,content:u?f:null}):[e.createElement(nbe,{key:`label-${b||n}`,className:m,style:Object.assign(Object.assign(Object.assign({},h),g),v),span:1,colon:i,component:s[0],itemPrefixCls:p,bordered:o,label:r}),e.createElement(nbe,{key:`content-${b||n}`,className:m,style:Object.assign(Object.assign(Object.assign({},d),g),y),span:2*w-1,component:s[1],itemPrefixCls:p,bordered:o,content:f})]}))}var ibe=t=>{const n=e.useContext(Kwe),{prefixCls:r,vertical:i,row:a,index:o,bordered:s}=t;return i?e.createElement(e.Fragment,null,e.createElement("tr",{key:`label-${o}`,className:`${r}-row`},rbe(a,t,Object.assign({component:"th",type:"label",showLabel:!0},n))),e.createElement("tr",{key:`content-${o}`,className:`${r}-row`},rbe(a,t,Object.assign({component:"td",type:"content",showContent:!0},n)))):e.createElement("tr",{key:o,className:`${r}-row`},rbe(a,t,Object.assign({component:s?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},n)))};const abe={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},obe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},sbe=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),lbe=(e,t)=>{const{fontFamily:n,fontSize:r}=e,i=`[class^="${t}"], [class*=" ${t}"]`;return{[i]:{fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}};function cbe(t){var n=e.useRef();n.current=t;var r=e.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}function ube(t){var n=e.useRef(!1),r=xge(e.useState(t),2),i=r[0],a=r[1];return e.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||a(e)}]}function hbe(e){return void 0!==e}function dbe(e,t){"function"==typeof e?e(t):"object"===gge(e)&&e&&"current"in e&&(e.current=t)}function fbe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){dbe(t,e)}))}}function pbe(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i=n,"value"in(a=e.useRef({})).current&&!function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}(a.current.condition,i)||(a.current.value=fbe.apply(void 0,n),a.current.condition=i),a.current.value;var i,a}function mbe(e){var t,n,r=(0,Zwe.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render)}function gbe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nh(e,t)}function vbe(e){return vbe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vbe(e)}function ybe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ybe=function(){return!!e})()}function wbe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bbe(e){var t=ybe();return function(){var n,r=vbe(e);if(t){var i=vbe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===gge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wbe(e)}(this,n)}}"undefined"==typeof Reflect?Object.keys:Reflect.ownKeys;var xbe=qge((function e(){Gge(this,e)}));let _be=function(e){gbe(n,e);var t=bbe(n);function n(e){var r;return Gge(this,n),(r=t.call(this)).result=0,e instanceof n?r.result=e.result:"number"==typeof e&&(r.result=e),r}return qge(n,[{key:"add",value:function(e){return e instanceof n?this.result+=e.result:"number"==typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof n?this.result-=e.result:"number"==typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof n?this.result*=e.result:"number"==typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof n?this.result/=e.result:"number"==typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),n}(xbe);const Sbe="CALC_UNIT";function Ebe(e){return"number"==typeof e?`${e}${Sbe}`:e}let Cbe=function(e){gbe(n,e);var t=bbe(n);function n(e){var r;return Gge(this,n),(r=t.call(this)).result="",e instanceof n?r.result=`(${e.result})`:"number"==typeof e?r.result=Ebe(e):"string"==typeof e&&(r.result=e),r}return qge(n,[{key:"add",value:function(e){return e instanceof n?this.result=`${this.result} + ${e.getResult()}`:"number"!=typeof e&&"string"!=typeof e||(this.result=`${this.result} + ${Ebe(e)}`),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof n?this.result=`${this.result} - ${e.getResult()}`:"number"!=typeof e&&"string"!=typeof e||(this.result=`${this.result} - ${Ebe(e)}`),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result=`(${this.result})`),e instanceof n?this.result=`${this.result} * ${e.getResult(!0)}`:"number"!=typeof e&&"string"!=typeof e||(this.result=`${this.result} * ${e}`),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result=`(${this.result})`),e instanceof n?this.result=`${this.result} / ${e.getResult(!0)}`:"number"!=typeof e&&"string"!=typeof e||(this.result=`${this.result} / ${e}`),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?`(${this.result})`:this.result}},{key:"equal",value:function(e){const{unit:t=!0}=e||{},n=new RegExp(`${Sbe}`,"g");return this.result=this.result.replace(n,t?"px":""),void 0!==this.lowPriority?`calc(${this.result})`:this.result}}]),n}(xbe);const Abe="undefined"!=typeof CSSINJS_STATISTIC;let Tbe=!0;function Mbe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!Abe)return Object.assign.apply(Object,[{}].concat(t));Tbe=!1;const r={};return t.forEach((e=>{Object.keys(e).forEach((t=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:()=>e[t]})}))})),Tbe=!0,r}const Pbe={};function Dbe(){}const kbe=(e,t,n)=>{var r;return"function"==typeof n?n(Mbe(t,null!==(r=t[e])&&void 0!==r?r:{})):null!=n?n:{}},Obe=(e,t,n,r)=>{const i=Object.assign({},t[e]);if(null==r?void 0:r.deprecatedTokens){const{deprecatedTokens:e}=r;e.forEach((e=>{let[t,n]=e;var r;((null==i?void 0:i[t])||(null==i?void 0:i[n]))&&(null!==(r=i[n])&&void 0!==r||(i[n]=null==i?void 0:i[t]))}))}let a=Object.assign(Object.assign({},n),i);return(null==r?void 0:r.format)&&(a=r.format(a)),Object.keys(a).forEach((e=>{a[e]===t[e]&&delete a[e]})),a};function Ibe(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=Array.isArray(t)?t:[t,t],[o]=a,s=a.join("-");return t=>{const[a,l,c,u,h]=Vwe(),{getPrefixCls:d,iconPrefixCls:f,csp:p}=(0,e.useContext)(Wwe),m=d(),g=h?"css":"js",v=(e=>{const t="css"===e?Cbe:_be;return e=>new t(e)})(g),{max:y,min:w}=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return`max(${t.map((e=>fve(e))).join(",")})`},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return`min(${t.map((e=>fve(e))).join(",")})`}}}(g),b={theme:a,token:u,hashId:c,nonce:()=>null==p?void 0:p.nonce,clientOnly:i.clientOnly,order:i.order||-999};Oye(Object.assign(Object.assign({},b),{clientOnly:!1,path:["Shared",m]}),(()=>[{"&":sbe(u)}])),((e,t)=>{const[n,r]=Vwe();Oye({theme:n,token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>null==t?void 0:t.nonce},(()=>[{[`.${e}`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[`.${e} .${e}-icon`]:{display:"block"}})}]))})(f,p);const x=Oye(Object.assign(Object.assign({},b),{path:[s,t,f]}),(()=>{if(!1===i.injectStyle)return[];const{token:e,flush:a}=(e=>{let t,n=e,r=Dbe;return Abe&&"undefined"!=typeof Proxy&&(t=new Set,n=new Proxy(e,{get(e,n){return Tbe&&t.add(n),e[n]}}),r=(e,n)=>{var r;Pbe[e]={global:Array.from(t),component:Object.assign(Object.assign({},null===(r=Pbe[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}})(u),s=kbe(o,l,r),d=`.${t}`,p=Obe(o,l,s,{deprecatedTokens:i.deprecatedTokens,format:i.format});h&&Object.keys(s).forEach((e=>{s[e]=`var(${mve(e,((e,t)=>`${[t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`)(o,h.prefix))})`}));const g=Mbe(e,{componentCls:d,prefixCls:t,iconCls:`.${f}`,antCls:`.${m}`,calc:v,max:y,min:w},h?s:p),b=n(g,{hashId:c,prefixCls:t,rootPrefixCls:m,iconPrefixCls:f});return a(o,p),[!1===i.resetStyle?null:lbe(g,t),b]}));return[x,c]}}const Rbe=(t,n,r,i)=>{const a=Ibe(t,n,r,i),o=((t,n,r)=>{function i(e){return`${t}${e.slice(0,1).toUpperCase()}${e.slice(1)}`}const{unitless:a={},injectStyle:o=!0}=null!=r?r:{},s={[i("zIndexPopup")]:!0};Object.keys(a).forEach((e=>{s[i(e)]=a[e]}));const l=a=>{let{rootCls:o,cssVar:l}=a;const[,c]=Vwe();return function(t,n){var r=t.key,i=t.prefix,a=t.unitless,o=t.ignore,s=t.token,l=t.scope,c=void 0===l?"":l,u=(0,e.useContext)($ge),h=u.cache.instanceId,d=u.container,f=s._tokenKey,p=[].concat(_ge(t.path),[r,c,f]),m=Tve(Rye,p,(function(){var e=n(),t=xge(vve(e,r,{prefix:i,unitless:a,ignore:o,scope:c}),2),s=t[0],l=t[1];return[s,l,Pye(p,l),r]}),(function(e){var t=xge(e,3)[2];dve&&Nge(t,{mark:Kge})}),(function(e){var t=xge(e,3),n=t[1],i=t[2];if(n){var a=zge(n,i,{mark:Kge,prepend:"queue",attachTo:d,priority:-999});a[Zge]=h,a.setAttribute(Qge,r)}}))}({path:[t],prefix:l.prefix,key:null==l?void 0:l.key,unitless:Object.assign(Object.assign({},Bwe),s),ignore:Fwe,token:c,scope:o},(()=>{const e=kbe(t,c,n),a=Obe(t,c,e,{format:null==r?void 0:r.format,deprecatedTokens:null==r?void 0:r.deprecatedTokens});return Object.keys(e).forEach((e=>{a[i(e)]=a[e],delete a[e]})),a})),null};return n=>{const[,,,,r]=Vwe();return[i=>o&&r?e.createElement(e.Fragment,null,e.createElement(l,{rootCls:n,cssVar:r,component:t}),i):i,null==r?void 0:r.key]}})(Array.isArray(t)?t[0]:t,r,i);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const[,n]=a(e),[r,i]=o(t);return[r,n,i]}},Lbe=e=>{const{componentCls:t,labelBg:n}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${fve(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto",borderCollapse:"collapse"},[`${t}-row`]:{borderBottom:`${fve(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${fve(e.padding)} ${fve(e.paddingLG)}`,borderInlineEnd:`${fve(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:n,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${fve(e.paddingSM)} ${fve(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${fve(e.paddingXS)} ${fve(e.padding)}`}}}}}};var Nbe=Rbe("Descriptions",(e=>(e=>{const{componentCls:t,extraColor:n,itemPaddingBottom:r,colonMarginRight:i,colonMarginLeft:a,titleMarginBottom:o}=e;return{[t]:Object.assign(Object.assign(Object.assign({},obe(e)),Lbe(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:o},[`${t}-title`]:Object.assign(Object.assign({},abe),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:n,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}},[`${t}-row`]:{"> th, > td":{paddingBottom:r},"&:last-child":{borderBottom:"none"}},[`${t}-item-label`]:{color:e.colorTextTertiary,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${fve(a)} ${fve(i)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}})(Mbe(e,{}))),(e=>({labelBg:e.colorFillAlter,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText})));const zbe=t=>{const{prefixCls:n,title:r,extra:i,column:a,colon:o=!0,bordered:s,layout:l,children:c,className:u,rootClassName:h,style:d,size:f,labelStyle:p,contentStyle:m,items:g}=t,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","items"]),{getPrefixCls:y,direction:w,descriptions:b}=e.useContext(Wwe),x=y("descriptions",n),_=Ywe(),S=e.useMemo((()=>{var e;return"number"==typeof a?a:null!==(e=Gwe(_,Object.assign(Object.assign({},Qwe),a)))&&void 0!==e?e:3}),[_,a]),E=$we(_,g,c),C=(t=>{const n=e.useContext(Xwe);return e.useMemo((()=>t?"string"==typeof t?null!=t?t:n:t instanceof Function?t(n):n:n),[t,n])})(f),A=((t,n)=>{const[r,i]=(0,e.useMemo)((()=>function(e,t){const n=[];let r=[],i=t,a=!1;return e.filter((e=>e)).forEach(((o,s)=>{const l=null==o?void 0:o.span,c=l||1;if(s===e.length-1){const[e,t]=ebe(o,i,l);return a=a||t,r.push(e),void n.push(r)}if(c<i)i-=c,r.push(o);else{const[e,s]=ebe(o,i,c);a=a||s,r.push(e),n.push(r),i=t,r=[]}})),[n,a]}(n,t)),[n,t]);return r})(S,E),[T,M,P]=Nbe(x),D=e.useMemo((()=>({labelStyle:p,contentStyle:m})),[p,m]);return T(e.createElement(Kwe.Provider,{value:D},e.createElement("div",Object.assign({className:Wb()(x,null==b?void 0:b.className,{[`${x}-${C}`]:C&&"default"!==C,[`${x}-bordered`]:!!s,[`${x}-rtl`]:"rtl"===w},u,h,M,P),style:Object.assign(Object.assign({},null==b?void 0:b.style),d)},v),(r||i)&&e.createElement("div",{className:`${x}-header`},r&&e.createElement("div",{className:`${x}-title`},r),i&&e.createElement("div",{className:`${x}-extra`},i)),e.createElement("div",{className:`${x}-view`},e.createElement("table",null,e.createElement("tbody",null,A.map(((t,n)=>e.createElement(ibe,{key:n,index:n,colon:o,prefixCls:x,vertical:"vertical"===l,bordered:s,row:t})))))))))};zbe.Item=e=>{let{children:t}=e;return t};var Bbe=zbe;const Fbe=e=>e?"function"==typeof e?e():e:null,Ube=(e,t,n)=>void 0!==n?n:`${e}-${t}`;function jbe(t){var n=t.children,r=t.prefixCls,i=t.id,a=t.overlayInnerStyle,o=t.className,s=t.style;return e.createElement("div",{className:Wb()("".concat(r,"-content"),o),style:s},e.createElement("div",{className:"".concat(r,"-inner"),id:i,role:"tooltip",style:a},"function"==typeof n?n():n))}function Vbe(e,t){if(null==e)return{};var n,r,i=Bh(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Hbe,Gbe=e.createContext(null),Wbe=[];function qbe(e){var t=e.match(/^(.*)px$/),n=Number(null==t?void 0:t[1]);return Number.isNaN(n)?function(e){if("undefined"==typeof document)return 0;if(void 0===Hbe){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var a=t.offsetWidth;i===a&&(a=n.clientWidth),document.body.removeChild(n),Hbe=i-a}return Hbe}():n}var Xbe="rc-util-locker-".concat(Date.now()),Ybe=0;var Qbe=!1,Kbe=function(e){return!1!==e&&(Age()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},Zbe=e.forwardRef((function(t,n){var r=t.open,i=t.autoLock,a=t.getContainer,o=(t.debug,t.autoDestroy),s=void 0===o||o,l=t.children,c=xge(e.useState(r),2),u=c[0],h=c[1],d=u||r;e.useEffect((function(){(s||r)&&h(r)}),[r,s]);var f=xge(e.useState((function(){return Kbe(a)})),2),p=f[0],m=f[1];e.useEffect((function(){var e=Kbe(a);m(null!=e?e:null)}));var g=function(t,n){var r=xge(e.useState((function(){return Age()?document.createElement("div"):null})),1)[0],i=e.useRef(!1),a=e.useContext(Gbe),o=xge(e.useState(Wbe),2),s=o[0],l=o[1],c=a||(i.current?void 0:function(e){l((function(t){return[e].concat(_ge(t))}))});function u(){r.parentElement||document.body.appendChild(r),i.current=!0}function h(){var e;null===(e=r.parentElement)||void 0===e||e.removeChild(r),i.current=!1}return xve((function(){return t?a?a(u):u():h(),h}),[t]),xve((function(){s.length&&(s.forEach((function(e){return e()})),l(Wbe))}),[s]),[r,c]}(d&&!p),v=xge(g,2),y=v[0],w=v[1],b=null!=p?p:y;!function(t){var n=!!t,r=xge(e.useState((function(){return Ybe+=1,"".concat(Xbe,"_").concat(Ybe)})),1)[0];xve((function(){if(n){var e=function(e){if(!("undefined"!=typeof document&&e&&e instanceof Element))return{width:0,height:0};var t=getComputedStyle(e,"::-webkit-scrollbar"),n=t.width,r=t.height;return{width:qbe(n),height:qbe(r)}}(document.body).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;zge("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else Nge(r);return function(){Nge(r)}}),[n,r])}(i&&r&&Age()&&(b===y||b===document.body));var x=null;l&&mbe(l)&&n&&(x=l.ref);var _=pbe(x,n);if(!d||!Age()||void 0===p)return null;var S=!1===b||Qbe,E=l;return n&&(E=e.cloneElement(l,{ref:_})),e.createElement(Gbe.Provider,{value:w},S?E:(0,Fh.createPortal)(E,b))})),Jbe=Zbe;function $be(e){return e instanceof HTMLElement||e instanceof SVGElement}function exe(t){return $be(t)?t:t instanceof e.Component?Fh.findDOMNode(t):null}var txe=e.createContext(null),nxe=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),rxe="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ixe=void 0!==o.g&&o.g.Math===Math?o.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),axe="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ixe):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},oxe=["top","right","bottom","left","width","height","size","weight"],sxe="undefined"!=typeof MutationObserver,lxe=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function o(){axe(a)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){rxe&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),sxe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){rxe&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;oxe.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),cxe=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},uxe=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||ixe},hxe=gxe(0,0,0,0);function dxe(e){return parseFloat(e)||0}function fxe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+dxe(e["border-"+n+"-width"])}),0)}var pxe="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof uxe(e).SVGGraphicsElement}:function(e){return e instanceof uxe(e).SVGElement&&"function"==typeof e.getBBox};function mxe(e){return rxe?pxe(e)?function(e){var t=e.getBBox();return gxe(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return hxe;var r=uxe(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=dxe(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=dxe(r.width),l=dxe(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=fxe(r,"left","right")+a),Math.round(l+o)!==n&&(l-=fxe(r,"top","bottom")+o)),!function(e){return e===uxe(e).document.documentElement}(e)){var c=Math.round(s+a)-t,u=Math.round(l+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return gxe(i.left,i.top,s,l)}(e):hxe}function gxe(e,t,n,r){return{x:e,y:t,width:n,height:r}}var vxe=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=gxe(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=mxe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),yxe=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return cxe(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);cxe(this,{target:e,contentRect:n})},wxe=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new nxe,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof uxe(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new vxe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof uxe(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new yxe(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),bxe="undefined"!=typeof WeakMap?new WeakMap:new nxe,xxe=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=lxe.getInstance(),r=new wxe(t,n,this);bxe.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){xxe.prototype[e]=function(){var t;return(t=bxe.get(this))[e].apply(t,arguments)}}));var _xe=void 0!==ixe.ResizeObserver?ixe.ResizeObserver:xxe,Sxe=new Map,Exe=new _xe((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Sxe.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))})),Cxe=function(e){gbe(n,e);var t=bbe(n);function n(){return Gge(this,n),t.apply(this,arguments)}return qge(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component);function Axe(t,n){var r=t.children,i=t.disabled,a=e.useRef(null),o=e.useRef(null),s=e.useContext(txe),l="function"==typeof r,c=l?r(a):r,u=e.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!l&&e.isValidElement(c)&&mbe(c),d=pbe(h?c.ref:null,a),f=function(){var e;return exe(a.current)||(a.current&&"object"===gge(a.current)?exe(null===(e=a.current)||void 0===e?void 0:e.nativeElement):null)||exe(o.current)};e.useImperativeHandle(n,(function(){return f()}));var p=e.useRef(t);p.current=t;var m=e.useCallback((function(e){var t=p.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,o=i.height,l=e.offsetWidth,c=e.offsetHeight,h=Math.floor(a),d=Math.floor(o);if(u.current.width!==h||u.current.height!==d||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var f={width:h,height:d,offsetWidth:l,offsetHeight:c};u.current=f;var m=l===Math.round(a)?a:l,g=c===Math.round(o)?o:c,v=Ege(Ege({},f),{},{offsetWidth:m,offsetHeight:g});null==s||s(v,e,r),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return e.useEffect((function(){var e,t,n=f();return n&&!i&&(e=n,t=m,Sxe.has(e)||(Sxe.set(e,new Set),Exe.observe(e)),Sxe.get(e).add(t)),function(){return function(e,t){Sxe.has(e)&&(Sxe.get(e).delete(t),Sxe.get(e).size||(Exe.unobserve(e),Sxe.delete(e)))}(n,m)}}),[a.current,i]),e.createElement(Cxe,{ref:o},h?e.cloneElement(c,{ref:d}):c)}var Txe=e.forwardRef(Axe);function Mxe(t,n){var r=t.children;return("function"==typeof r?[r]:Jwe(r)).map((function(r,i){var a=(null==r?void 0:r.key)||"".concat("rc-observer-key","-").concat(i);return e.createElement(Txe,ad({},t,{key:a,ref:0===i?n:void 0}),r)}))}var Pxe=e.forwardRef(Mxe);Pxe.Collection=function(t){var n=t.children,r=t.onBatchResize,i=e.useRef(0),a=e.useRef([]),o=e.useContext(txe),s=e.useCallback((function(e,t,n){i.current+=1;var s=i.current;a.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){s===i.current&&(null==r||r(a.current),a.current=[])})),null==o||o(e,t,n)}),[r,o]);return e.createElement(txe.Provider,{value:s},n)};var Dxe=Pxe;function kxe(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function Oxe(e){return function(e){return kxe(e)instanceof ShadowRoot}(e)?kxe(e):null}var Ixe=0,Rxe=Ege({},t).useId,Lxe=Rxe?function(e){var t=Rxe();return e||t}:function(t){var n=xge(e.useState("ssr-id"),2),r=n[0],i=n[1];return e.useEffect((function(){var e=Ixe;Ixe+=1,i("rc_unique_".concat(e))}),[]),t||r},Nxe=e.createContext({}),zxe=function(e){gbe(n,e);var t=bbe(n);function n(){return Gge(this,n),t.apply(this,arguments)}return qge(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component),Bxe=zxe,Fxe="none",Uxe="appear",jxe="enter",Vxe="leave",Hxe="none",Gxe="prepare",Wxe="start",qxe="active",Xxe="end",Yxe="prepared";function Qxe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Kxe=function(e,t){var n={animationend:Qxe("Animation","AnimationEnd"),transitionend:Qxe("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Age(),"undefined"!=typeof window?window:{}),Zxe={};if(Age()){var Jxe=document.createElement("div");Zxe=Jxe.style}var $xe={};function e_e(e){if($xe[e])return $xe[e];var t=Kxe[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in Zxe)return $xe[e]=t[a],$xe[e]}return""}var t_e=e_e("animationend"),n_e=e_e("transitionend"),r_e=!(!t_e||!n_e),i_e=t_e||"animationend",a_e=n_e||"transitionend";function o_e(e,t){return e?"object"===gge(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var s_e=Age()?e.useLayoutEffect:e.useEffect,l_e=function(e){return+setTimeout(e,16)},c_e=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(l_e=function(e){return window.requestAnimationFrame(e)},c_e=function(e){return window.cancelAnimationFrame(e)});var u_e=0,h_e=new Map;function d_e(e){h_e.delete(e)}var f_e=function(e){var t=u_e+=1;return function n(r){if(0===r)d_e(t),e();else{var i=l_e((function(){n(r-1)}));h_e.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};f_e.cancel=function(e){var t=h_e.get(e);return d_e(e),c_e(t)};var p_e=f_e,m_e=[Gxe,Wxe,qxe,Xxe],g_e=[Gxe,Yxe];function v_e(e){return e===qxe||e===Xxe}var y_e=function(t){var n=t;"object"===gge(t)&&(n=t.transitionSupport);var r=e.forwardRef((function(t,r){var i=t.visible,a=void 0===i||i,o=t.removeOnLeave,s=void 0===o||o,l=t.forceRender,c=t.children,u=t.motionName,h=t.leavedClassName,d=t.eventProps,f=function(e,t){return!(!e.motionName||!n||!1===t)}(t,e.useContext(Nxe).motion),p=(0,e.useRef)(),m=(0,e.useRef)(),g=function(t,n,r,i){var a=i.motionEnter,o=void 0===a||a,s=i.motionAppear,l=void 0===s||s,c=i.motionLeave,u=void 0===c||c,h=i.motionDeadline,d=i.motionLeaveImmediately,f=i.onAppearPrepare,p=i.onEnterPrepare,m=i.onLeavePrepare,g=i.onAppearStart,v=i.onEnterStart,y=i.onLeaveStart,w=i.onAppearActive,b=i.onEnterActive,x=i.onLeaveActive,_=i.onAppearEnd,S=i.onEnterEnd,E=i.onLeaveEnd,C=i.onVisibleChanged,A=xge(ube(),2),T=A[0],M=A[1],P=xge(ube(Fxe),2),D=P[0],k=P[1],O=xge(ube(null),2),I=O[0],R=O[1],L=(0,e.useRef)(!1),N=(0,e.useRef)(null);function z(){return r()}var B=(0,e.useRef)(!1);function F(){k(Fxe,!0),R(null,!0)}function U(e){var t=z();if(!e||e.deadline||e.target===t){var n,r=B.current;D===Uxe&&r?n=null==_?void 0:_(t,e):D===jxe&&r?n=null==S?void 0:S(t,e):D===Vxe&&r&&(n=null==E?void 0:E(t,e)),D!==Fxe&&r&&!1!==n&&F()}}var j=xge(function(t){var n=(0,e.useRef)(),r=(0,e.useRef)(t);r.current=t;var i=e.useCallback((function(e){r.current(e)}),[]);function a(e){e&&(e.removeEventListener(a_e,i),e.removeEventListener(i_e,i))}return e.useEffect((function(){return function(){a(n.current)}}),[]),[function(e){n.current&&n.current!==e&&a(n.current),e&&e!==n.current&&(e.addEventListener(a_e,i),e.addEventListener(i_e,i),n.current=e)},a]}(U),1)[0],V=function(e){var t,n,r;switch(e){case Uxe:return yge(t={},Gxe,f),yge(t,Wxe,g),yge(t,qxe,w),t;case jxe:return yge(n={},Gxe,p),yge(n,Wxe,v),yge(n,qxe,b),n;case Vxe:return yge(r={},Gxe,m),yge(r,Wxe,y),yge(r,qxe,x),r;default:return{}}},H=e.useMemo((function(){return V(D)}),[D]),G=xge(function(t,n,r){var i=xge(ube(Hxe),2),a=i[0],o=i[1],s=function(){var t=e.useRef(null);function n(){p_e.cancel(t.current)}return e.useEffect((function(){return function(){n()}}),[]),[function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var a=p_e((function(){i<=1?r({isCanceled:function(){return a!==t.current}}):e(r,i-1)}));t.current=a},n]}(),l=xge(s,2),c=l[0],u=l[1],h=n?g_e:m_e;return s_e((function(){if(a!==Hxe&&a!==Xxe){var e=h.indexOf(a),t=h[e+1],n=r(a);!1===n?o(t,!0):t&&c((function(e){function r(){e.isCanceled()||o(t,!0)}!0===n?r():Promise.resolve(n).then(r)}))}}),[t,a]),e.useEffect((function(){return function(){u()}}),[]),[function(){o(Gxe,!0)},a]}(D,!t,(function(e){if(e===Gxe){var t=H[Gxe];return!!t&&t(z())}var n;return q in H&&R((null===(n=H[q])||void 0===n?void 0:n.call(H,z(),null))||null),q===qxe&&(j(z()),h>0&&(clearTimeout(N.current),N.current=setTimeout((function(){U({deadline:!0})}),h))),q===Yxe&&F(),true})),2),W=G[0],q=G[1],X=v_e(q);B.current=X,s_e((function(){M(n);var e,r=L.current;L.current=!0,!r&&n&&l&&(e=Uxe),r&&n&&o&&(e=jxe),(r&&!n&&u||!r&&d&&!n&&u)&&(e=Vxe);var i=V(e);e&&(t||i[Gxe])?(k(e),W()):k(Fxe)}),[n]),(0,e.useEffect)((function(){(D===Uxe&&!l||D===jxe&&!o||D===Vxe&&!u)&&k(Fxe)}),[l,o,u]),(0,e.useEffect)((function(){return function(){L.current=!1,clearTimeout(N.current)}}),[]);var Y=e.useRef(!1);(0,e.useEffect)((function(){T&&(Y.current=!0),void 0!==T&&D===Fxe&&((Y.current||T)&&(null==C||C(T)),Y.current=!0)}),[T,D]);var Q=I;return H[Gxe]&&q===Wxe&&(Q=Ege({transition:"none"},Q)),[D,q,Q,null!=T?T:n]}(f,a,(function(){try{return p.current instanceof HTMLElement?p.current:exe(m.current)}catch(e){return null}}),t),v=xge(g,4),y=v[0],w=v[1],b=v[2],x=v[3],_=e.useRef(x);x&&(_.current=!0);var S,E=e.useCallback((function(e){p.current=e,dbe(r,e)}),[r]),C=Ege(Ege({},d),{},{visible:a});if(c)if(y===Fxe)S=x?c(Ege({},C),E):!s&&_.current&&h?c(Ege(Ege({},C),{},{className:h}),E):l||!s&&!h?c(Ege(Ege({},C),{},{style:{display:"none"}}),E):null;else{var A,T;w===Gxe?T="prepare":v_e(w)?T="active":w===Wxe&&(T="start");var M=o_e(u,"".concat(y,"-").concat(T));S=c(Ege(Ege({},C),{},{className:Wb()(o_e(u,y),(A={},yge(A,M,M&&T),yge(A,u,"string"==typeof u),A)),style:b}),E)}else S=null;return e.isValidElement(S)&&mbe(S)&&(S.ref||(S=e.cloneElement(S,{ref:E}))),e.createElement(Bxe,{ref:m},S)}));return r.displayName="CSSMotion",r}(r_e),w_e="add",b_e="keep",x_e="remove",__e="removed";function S_e(e){var t;return Ege(Ege({},t=e&&"object"===gge(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function E_e(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(S_e)}var C_e=["component","children","onVisibleChanged","onAllRemoved"],A_e=["status"],T_e=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y_e,r=function(t){gbe(i,t);var r=bbe(i);function i(){var e;Gge(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return yge(wbe(e=r.call.apply(r,[this].concat(n))),"state",{keyEntities:[]}),yge(wbe(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:Ege(Ege({},e),{},{status:__e})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==__e})).length})),e}return qge(i,[{key:"render",value:function(){var t=this,r=this.state.keyEntities,i=this.props,a=i.component,o=i.children,s=i.onVisibleChanged,l=i.onAllRemoved,c=Vbe(i,C_e),u=a||e.Fragment,h={};return T_e.forEach((function(e){h[e]=c[e],delete c[e]})),delete c.keys,e.createElement(u,c,r.map((function(r,i){var a=r.status,c=Vbe(r,A_e),u=a===w_e||a===b_e;return e.createElement(n,ad({},h,{key:c.key,visible:u,eventProps:c,onVisibleChanged:function(e){null==s||s(e,{key:c.key}),e||0===t.removeKey(c.key)&&l&&l()}}),(function(e,t){return o(Ege(Ege({},e),{},{index:i}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=E_e(n),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=E_e(e),o=E_e(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var s=o[a];if(s.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return Ege(Ege({},e),{},{status:w_e})}))),r=a),n.push(Ege(Ege({},s),{},{status:b_e})),r+=1,t=!0;break}}t||n.push(Ege(Ege({},e),{},{status:x_e}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return Ege(Ege({},e),{},{status:w_e})}))));var s={};return n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==x_e}))).forEach((function(t){t.key===e&&(t.status=b_e)}))})),n}(r,i);return{keyEntities:a.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==__e||e.status!==x_e}))}}}]),i}(e.Component);yge(r,"defaultProps",{component:"div"})}(r_e);var M_e=y_e;function P_e(t){var n=t.prefixCls,r=t.align,i=t.arrow,a=t.arrowPos,o=i||{},s=o.className,l=o.content,c=a.x,u=void 0===c?0:c,h=a.y,d=void 0===h?0:h,f=e.useRef();if(!r||!r.points)return null;var p={position:"absolute"};if(!1!==r.autoArrow){var m=r.points[0],g=r.points[1],v=m[0],y=m[1],w=g[0],b=g[1];v!==w&&["t","b"].includes(v)?"t"===v?p.top=0:p.bottom=0:p.top=d,y!==b&&["l","r"].includes(y)?"l"===y?p.left=0:p.right=0:p.left=u}return e.createElement("div",{ref:f,className:Wb()("".concat(n,"-arrow"),s),style:p},l)}function D_e(t){var n=t.prefixCls,r=t.open,i=t.zIndex,a=t.mask,o=t.motion;return a?e.createElement(M_e,ad({},o,{motionAppear:!0,visible:r,removeOnLeave:!0}),(function(t){var r=t.className;return e.createElement("div",{style:{zIndex:i},className:Wb()("".concat(n,"-mask"),r)})})):null}var k_e=e.memo((function(e){return e.children}),(function(e,t){return t.cache})),O_e=k_e,I_e=e.forwardRef((function(t,n){var r=t.popup,i=t.className,a=t.prefixCls,o=t.style,s=t.target,l=t.onVisibleChanged,c=t.open,u=t.keepDom,h=t.fresh,d=t.onClick,f=t.mask,p=t.arrow,m=t.arrowPos,g=t.align,v=t.motion,y=t.maskMotion,w=t.forceRender,b=t.getPopupContainer,x=t.autoDestroy,_=t.portal,S=t.zIndex,E=t.onMouseEnter,C=t.onMouseLeave,A=t.onPointerEnter,T=t.ready,M=t.offsetX,P=t.offsetY,D=t.offsetR,k=t.offsetB,O=t.onAlign,I=t.onPrepare,R=t.stretch,L=t.targetWidth,N=t.targetHeight,z="function"==typeof r?r():r,B=c||u,F=(null==b?void 0:b.length)>0,U=xge(e.useState(!b||!F),2),j=U[0],V=U[1];if(xve((function(){!j&&F&&s&&V(!0)}),[j,F,s]),!j)return null;var H="auto",G={left:"-1000vw",top:"-1000vh",right:H,bottom:H};if(T||!c){var W,q=g.points,X=g.dynamicInset||(null===(W=g._experimental)||void 0===W?void 0:W.dynamicInset),Y=X&&"r"===q[0][1],Q=X&&"b"===q[0][0];Y?(G.right=D,G.left=H):(G.left=M,G.right=H),Q?(G.bottom=k,G.top=H):(G.top=P,G.bottom=H)}var K={};return R&&(R.includes("height")&&N?K.height=N:R.includes("minHeight")&&N&&(K.minHeight=N),R.includes("width")&&L?K.width=L:R.includes("minWidth")&&L&&(K.minWidth=L)),c||(K.pointerEvents="none"),e.createElement(_,{open:w||B,getContainer:b&&function(){return b(s)},autoDestroy:x},e.createElement(D_e,{prefixCls:a,open:c,zIndex:S,mask:f,motion:y}),e.createElement(Dxe,{onResize:O,disabled:!c},(function(t){return e.createElement(M_e,ad({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(a,"-hidden")},v,{onAppearPrepare:I,onEnterPrepare:I,visible:c,onVisibleChanged:function(e){var t;null==v||null===(t=v.onVisibleChanged)||void 0===t||t.call(v,e),l(e)}}),(function(r,s){var l=r.className,u=r.style,f=Wb()(a,l,i);return e.createElement("div",{ref:fbe(t,n,s),className:f,style:Ege(Ege(Ege(Ege({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},G),K),u),{},{boxSizing:"border-box",zIndex:S},o),onMouseEnter:E,onMouseLeave:C,onPointerEnter:A,onClick:d},p&&e.createElement(P_e,{prefixCls:a,arrow:p,arrowPos:m,align:g}),e.createElement(O_e,{cache:!c&&!h},z))}))})))})),R_e=I_e,L_e=e.forwardRef((function(t,n){var r=t.children,i=t.getTriggerDOMNode,a=mbe(r),o=e.useCallback((function(e){dbe(n,i?i(e):e)}),[i]),s=pbe(o,r.ref);return a?e.cloneElement(r,{ref:s}):r})),N_e=L_e,z_e=e.createContext(null);function B_e(e){return e?Array.isArray(e)?e:[e]:[]}function F_e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function U_e(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function j_e(e){return e.ownerDocument.defaultView}function V_e(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=j_e(n).getComputedStyle(n);[i.overflowX,i.overflowY,i.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function H_e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function G_e(e){return H_e(parseFloat(e),0)}function W_e(e,t){var n=Ege({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=j_e(e).getComputedStyle(e),r=t.overflow,i=t.overflowClipMargin,a=t.borderTopWidth,o=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),u=e.offsetHeight,h=e.clientHeight,d=e.offsetWidth,f=e.clientWidth,p=G_e(a),m=G_e(o),g=G_e(s),v=G_e(l),y=H_e(Math.round(c.width/d*1e3)/1e3),w=H_e(Math.round(c.height/u*1e3)/1e3),b=(d-f-g-v)*y,x=(u-h-p-m)*w,_=p*w,S=m*w,E=g*y,C=v*y,A=0,T=0;if("clip"===r){var M=G_e(i);A=M*y,T=M*w}var P=c.x+E-A,D=c.y+_-T,k=P+c.width+2*A-E-C-b,O=D+c.height+2*T-_-S-x;n.left=Math.max(n.left,P),n.top=Math.max(n.top,D),n.right=Math.min(n.right,k),n.bottom=Math.min(n.bottom,O)}})),n}function q_e(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function X_e(e,t){var n=xge(t||[],2),r=n[0],i=n[1];return[q_e(e.width,r),q_e(e.height,i)]}function Y_e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Q_e(e,t){var n,r=t[0],i=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===i?e.x:"r"===i?e.x+e.width:e.x+e.width/2,y:n}}function K_e(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var Z_e=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"],J_e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jbe,n=e.forwardRef((function(n,r){var i=n.prefixCls,a=void 0===i?"rc-trigger-popup":i,o=n.children,s=n.action,l=void 0===s?"hover":s,c=n.showAction,u=n.hideAction,h=n.popupVisible,d=n.defaultPopupVisible,f=n.onPopupVisibleChange,p=n.afterPopupVisibleChange,m=n.mouseEnterDelay,g=n.mouseLeaveDelay,v=void 0===g?.1:g,y=n.focusDelay,w=n.blurDelay,b=n.mask,x=n.maskClosable,_=void 0===x||x,S=n.getPopupContainer,E=n.forceRender,C=n.autoDestroy,A=n.destroyPopupOnHide,T=n.popup,M=n.popupClassName,P=n.popupStyle,D=n.popupPlacement,k=n.builtinPlacements,O=void 0===k?{}:k,I=n.popupAlign,R=n.zIndex,L=n.stretch,N=n.getPopupClassNameFromAlign,z=n.fresh,B=n.alignPoint,F=n.onPopupClick,U=n.onPopupAlign,j=n.arrow,V=n.popupMotion,H=n.maskMotion,G=n.popupTransitionName,W=n.popupAnimation,q=n.maskTransitionName,X=n.maskAnimation,Y=n.className,Q=n.getTriggerDOMNode,K=Vbe(n,Z_e),Z=C||A||!1,J=xge(e.useState(!1),2),$=J[0],ee=J[1];xve((function(){ee(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))}())}),[]);var te=e.useRef({}),ne=e.useContext(z_e),re=e.useMemo((function(){return{registerSubPopup:function(e,t){te.current[e]=t,null==ne||ne.registerSubPopup(e,t)}}}),[ne]),ie=Lxe(),ae=xge(e.useState(null),2),oe=ae[0],se=ae[1],le=cbe((function(e){$be(e)&&oe!==e&&se(e),null==ne||ne.registerSubPopup(ie,e)})),ce=xge(e.useState(null),2),ue=ce[0],he=ce[1],de=e.useRef(null),fe=cbe((function(e){$be(e)&&ue!==e&&(he(e),de.current=e)})),pe=e.Children.only(o),me=(null==pe?void 0:pe.props)||{},ge={},ve=cbe((function(e){var t,n,r=ue;return(null==r?void 0:r.contains(e))||(null===(t=Oxe(r))||void 0===t?void 0:t.host)===e||e===r||(null==oe?void 0:oe.contains(e))||(null===(n=Oxe(oe))||void 0===n?void 0:n.host)===e||e===oe||Object.values(te.current).some((function(t){return(null==t?void 0:t.contains(e))||e===t}))})),ye=U_e(a,V,W,G),we=U_e(a,H,X,q),be=xge(e.useState(d||!1),2),xe=be[0],_e=be[1],Se=null!=h?h:xe,Ee=cbe((function(e){void 0===h&&_e(e)}));xve((function(){_e(h||!1)}),[h]);var Ce=e.useRef(Se);Ce.current=Se;var Ae=e.useRef([]);Ae.current=[];var Te=cbe((function(e){var t;Ee(e),(null!==(t=Ae.current[Ae.current.length-1])&&void 0!==t?t:Se)!==e&&(Ae.current.push(e),null==f||f(e))})),Me=e.useRef(),Pe=function(){clearTimeout(Me.current)},De=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Pe(),0===t?Te(e):Me.current=setTimeout((function(){Te(e)}),1e3*t)};e.useEffect((function(){return Pe}),[]);var ke=xge(e.useState(!1),2),Oe=ke[0],Ie=ke[1];xve((function(e){e&&!Se||Ie(!0)}),[Se]);var Re=xge(e.useState(null),2),Le=Re[0],Ne=Re[1],ze=xge(e.useState([0,0]),2),Be=ze[0],Fe=ze[1],Ue=function(e){Fe([e.clientX,e.clientY])},je=function(t,n,r,i,a,o,s){var l=xge(e.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[i]||{}}),2),c=l[0],u=l[1],h=e.useRef(0),d=e.useMemo((function(){return n?V_e(n):[]}),[n]),f=e.useRef({});t||(f.current={});var p=cbe((function(){if(n&&r&&t){var e,l,c,h=n,p=h.ownerDocument,m=j_e(h).getComputedStyle(h),g=m.width,v=m.height,y=m.position,w=h.style.left,b=h.style.top,x=h.style.right,_=h.style.bottom,S=h.style.overflow,E=Ege(Ege({},a[i]),o),C=p.createElement("div");if(null===(e=h.parentElement)||void 0===e||e.appendChild(C),C.style.left="".concat(h.offsetLeft,"px"),C.style.top="".concat(h.offsetTop,"px"),C.style.position=y,C.style.height="".concat(h.offsetHeight,"px"),C.style.width="".concat(h.offsetWidth,"px"),h.style.left="0",h.style.top="0",h.style.right="auto",h.style.bottom="auto",h.style.overflow="hidden",Array.isArray(r))c={x:r[0],y:r[1],width:0,height:0};else{var A=r.getBoundingClientRect();c={x:A.x,y:A.y,width:A.width,height:A.height}}var T=h.getBoundingClientRect(),M=p.documentElement,P=M.clientWidth,D=M.clientHeight,k=M.scrollWidth,O=M.scrollHeight,I=M.scrollTop,R=M.scrollLeft,L=T.height,N=T.width,z=c.height,B=c.width,F={left:0,top:0,right:P,bottom:D},U={left:-R,top:-I,right:k-R,bottom:O-I},j=E.htmlRegion,V="visible",H="visibleFirst";"scroll"!==j&&j!==H&&(j=V);var G=j===H,W=W_e(U,d),q=W_e(F,d),X=j===V?q:W,Y=G?q:X;h.style.left="auto",h.style.top="auto",h.style.right="0",h.style.bottom="0";var Q=h.getBoundingClientRect();h.style.left=w,h.style.top=b,h.style.right=x,h.style.bottom=_,h.style.overflow=S,null===(l=h.parentElement)||void 0===l||l.removeChild(C);var K=H_e(Math.round(N/parseFloat(g)*1e3)/1e3),Z=H_e(Math.round(L/parseFloat(v)*1e3)/1e3);if(0===K||0===Z||$be(r)&&!function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),a=i.width,o=i.height;if(a||o)return!0}}return!1}(r))return;var J=E.offset,$=E.targetOffset,ee=xge(X_e(T,J),2),te=ee[0],ne=ee[1],re=xge(X_e(c,$),2),ie=re[0],ae=re[1];c.x-=ie,c.y-=ae;var oe=xge(E.points||[],2),se=oe[0],le=Y_e(oe[1]),ce=Y_e(se),ue=Q_e(c,le),he=Q_e(T,ce),de=Ege({},E),fe=ue.x-he.x+te,pe=ue.y-he.y+ne;function st(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,r=T.x+e,i=T.y+t,a=r+N,o=i+L,s=Math.max(r,n.left),l=Math.max(i,n.top),c=Math.min(a,n.right),u=Math.min(o,n.bottom);return Math.max(0,(c-s)*(u-l))}var me,ge,ve,ye,we=st(fe,pe),be=st(fe,pe,q),xe=Q_e(c,["t","l"]),_e=Q_e(T,["t","l"]),Se=Q_e(c,["b","r"]),Ee=Q_e(T,["b","r"]),Ce=E.overflow||{},Ae=Ce.adjustX,Te=Ce.adjustY,Me=Ce.shiftX,Pe=Ce.shiftY,De=function(e){return"boolean"==typeof e?e:e>=0};function lt(){me=T.y+pe,ge=me+L,ve=T.x+fe,ye=ve+N}lt();var ke=De(Te),Oe=ce[0]===le[0];if(ke&&"t"===ce[0]&&(ge>Y.bottom||f.current.bt)){var Ie=pe;Oe?Ie-=L-z:Ie=xe.y-Ee.y-ne;var Re=st(fe,Ie),Le=st(fe,Ie,q);Re>we||Re===we&&(!G||Le>=be)?(f.current.bt=!0,pe=Ie,ne=-ne,de.points=[K_e(ce,0),K_e(le,0)]):f.current.bt=!1}if(ke&&"b"===ce[0]&&(me<Y.top||f.current.tb)){var Ne=pe;Oe?Ne+=L-z:Ne=Se.y-_e.y-ne;var ze=st(fe,Ne),Be=st(fe,Ne,q);ze>we||ze===we&&(!G||Be>=be)?(f.current.tb=!0,pe=Ne,ne=-ne,de.points=[K_e(ce,0),K_e(le,0)]):f.current.tb=!1}var Fe=De(Ae),Ue=ce[1]===le[1];if(Fe&&"l"===ce[1]&&(ye>Y.right||f.current.rl)){var je=fe;Ue?je-=N-B:je=xe.x-Ee.x-te;var Ve=st(je,pe),He=st(je,pe,q);Ve>we||Ve===we&&(!G||He>=be)?(f.current.rl=!0,fe=je,te=-te,de.points=[K_e(ce,1),K_e(le,1)]):f.current.rl=!1}if(Fe&&"r"===ce[1]&&(ve<Y.left||f.current.lr)){var Ge=fe;Ue?Ge+=N-B:Ge=Se.x-_e.x-te;var We=st(Ge,pe),qe=st(Ge,pe,q);We>we||We===we&&(!G||qe>=be)?(f.current.lr=!0,fe=Ge,te=-te,de.points=[K_e(ce,1),K_e(le,1)]):f.current.lr=!1}lt();var Xe=!0===Me?0:Me;"number"==typeof Xe&&(ve<q.left&&(fe-=ve-q.left-te,c.x+B<q.left+Xe&&(fe+=c.x-q.left+B-Xe)),ye>q.right&&(fe-=ye-q.right-te,c.x>q.right-Xe&&(fe+=c.x-q.right+Xe)));var Ye=!0===Pe?0:Pe;"number"==typeof Ye&&(me<q.top&&(pe-=me-q.top-ne,c.y+z<q.top+Ye&&(pe+=c.y-q.top+z-Ye)),ge>q.bottom&&(pe-=ge-q.bottom-ne,c.y>q.bottom-Ye&&(pe+=c.y-q.bottom+Ye)));var Qe=T.x+fe,Ke=Qe+N,Ze=T.y+pe,Je=Ze+L,$e=c.x,et=$e+B,tt=c.y,nt=tt+z,rt=(Math.max(Qe,$e)+Math.min(Ke,et))/2-Qe,it=(Math.max(Ze,tt)+Math.min(Je,nt))/2-Ze;null==s||s(n,de);var at=Q.right-T.x-(fe+T.width),ot=Q.bottom-T.y-(pe+T.height);u({ready:!0,offsetX:fe/K,offsetY:pe/Z,offsetR:at/K,offsetB:ot/Z,arrowX:rt/K,arrowY:it/Z,scaleX:K,scaleY:Z,align:de})}})),m=function(){u((function(e){return Ege(Ege({},e),{},{ready:!1})}))};return xve(m,[i]),xve((function(){t||m()}),[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){h.current+=1;var e=h.current;Promise.resolve().then((function(){h.current===e&&p()}))}]}(Se,oe,B?Be:ue,D,O,I,U),Ve=xge(je,11),He=Ve[0],Ge=Ve[1],We=Ve[2],qe=Ve[3],Xe=Ve[4],Ye=Ve[5],Qe=Ve[6],Ke=Ve[7],Ze=Ve[8],Je=Ve[9],$e=Ve[10],et=function(t,n,r,i){return e.useMemo((function(){var e=B_e(null!=r?r:n),a=B_e(null!=i?i:n),o=new Set(e),s=new Set(a);return t&&(o.has("hover")&&(o.delete("hover"),o.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[o,s]}),[t,n,r,i])}($,l,c,u),tt=xge(et,2),nt=tt[0],rt=tt[1],it=nt.has("click"),at=rt.has("click")||rt.has("contextMenu"),ot=cbe((function(){Oe||$e()}));!function(e,t,n,r,i){xve((function(){if(e&&t&&n){var i=n,a=V_e(t),o=V_e(i),s=j_e(i),l=new Set([s].concat(_ge(a),_ge(o)));function c(){r(),Ce.current&&B&&at&&De(!1)}return l.forEach((function(e){e.addEventListener("scroll",c,{passive:!0})})),s.addEventListener("resize",c,{passive:!0}),r(),function(){l.forEach((function(e){e.removeEventListener("scroll",c),s.removeEventListener("resize",c)}))}}}),[e,t,n])}(Se,ue,oe,ot),xve((function(){ot()}),[Be,D]),xve((function(){!Se||null!=O&&O[D]||ot()}),[JSON.stringify(I)]);var st=e.useMemo((function(){var e=function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var s,l=a[o];if(F_e(null===(s=e[l])||void 0===s?void 0:s.points,i,r))return"".concat(t,"-placement-").concat(l)}return""}(O,a,Je,B);return Wb()(e,null==N?void 0:N(Je))}),[Je,N,O,a,B]);e.useImperativeHandle(r,(function(){return{nativeElement:de.current,forceAlign:ot}}));var lt=xge(e.useState(0),2),ct=lt[0],ut=lt[1],ht=xge(e.useState(0),2),dt=ht[0],ft=ht[1],pt=function(){if(L&&ue){var e=ue.getBoundingClientRect();ut(e.width),ft(e.height)}};function mt(e,t,n,r){ge[e]=function(i){var a;null==r||r(i),De(t,n);for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];null===(a=me[e])||void 0===a||a.call.apply(a,[me,i].concat(s))}}xve((function(){Le&&($e(),Le(),Ne(null))}),[Le]),(it||at)&&(ge.onClick=function(e){var t;Ce.current&&at?De(!1):!Ce.current&&it&&(Ue(e),De(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=me.onClick)||void 0===t||t.call.apply(t,[me,e].concat(r))}),function(t,n,r,i,a,o,s,l){var c=e.useRef(t),u=e.useRef(!1);c.current!==t&&(u.current=!0,c.current=t),e.useEffect((function(){var e=p_e((function(){u.current=!1}));return function(){p_e.cancel(e)}}),[t]),e.useEffect((function(){if(n&&i&&(!a||o)){var e=function(){var e=!1;return[function(t){var n=t.target;e=s(n)},function(t){var n=t.target;u.current||!c.current||e||s(n)||l(!1)}]},t=xge(e(),2),h=t[0],d=t[1],f=xge(e(),2),p=f[0],m=f[1],g=j_e(i);g.addEventListener("mousedown",h,!0),g.addEventListener("click",d,!0),g.addEventListener("contextmenu",d,!0);var v=Oxe(r);return v&&(v.addEventListener("mousedown",p,!0),v.addEventListener("click",m,!0),v.addEventListener("contextmenu",m,!0)),function(){g.removeEventListener("mousedown",h,!0),g.removeEventListener("click",d,!0),g.removeEventListener("contextmenu",d,!0),v&&(v.removeEventListener("mousedown",p,!0),v.removeEventListener("click",m,!0),v.removeEventListener("contextmenu",m,!0))}}}),[n,r,i,a,o])}(Se,at,ue,oe,b,_,ve,De);var gt,vt,yt=nt.has("hover"),wt=rt.has("hover");yt&&(mt("onMouseEnter",!0,m,(function(e){Ue(e)})),mt("onPointerEnter",!0,m,(function(e){Ue(e)})),gt=function(){(Se||Oe)&&De(!0,m)},B&&(ge.onMouseMove=function(e){var t;null===(t=me.onMouseMove)||void 0===t||t.call(me,e)})),wt&&(mt("onMouseLeave",!1,v),mt("onPointerLeave",!1,v),vt=function(){De(!1,v)}),nt.has("focus")&&mt("onFocus",!0,y),rt.has("focus")&&mt("onBlur",!1,w),nt.has("contextMenu")&&(ge.onContextMenu=function(e){var t;Ce.current&&rt.has("contextMenu")?De(!1):(Ue(e),De(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=me.onContextMenu)||void 0===t||t.call.apply(t,[me,e].concat(r))}),Y&&(ge.className=Wb()(me.className,Y));var bt=Ege(Ege({},me),ge),xt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){K[e]&&(xt[e]=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(t=bt[e])||void 0===t||t.call.apply(t,[bt].concat(r)),K[e].apply(K,r)})}));var _t=e.cloneElement(pe,Ege(Ege({},bt),xt)),St={x:Ye,y:Qe},Et=j?Ege({},!0!==j?j:{}):null;return e.createElement(e.Fragment,null,e.createElement(Dxe,{disabled:!Se,ref:fe,onResize:function(){pt(),ot()}},e.createElement(N_e,{getTriggerDOMNode:Q},_t)),e.createElement(z_e.Provider,{value:re},e.createElement(R_e,{portal:t,ref:le,prefixCls:a,popup:T,className:Wb()(M,st),style:P,target:ue,onMouseEnter:gt,onMouseLeave:vt,onPointerEnter:gt,zIndex:R,open:Se,keepDom:Oe,fresh:z,onClick:F,mask:b,motion:ye,maskMotion:we,onVisibleChanged:function(e){Ie(!1),$e(),null==p||p(e)},onPrepare:function(){return new Promise((function(e){pt(),Ne((function(){return e}))}))},forceRender:E,autoDestroy:Z,getPopupContainer:S,align:Je,arrow:Et,arrowPos:St,ready:He,offsetX:Ge,offsetY:We,offsetR:qe,offsetB:Xe,onAlign:ot,stretch:L,targetWidth:ct/Ke,targetHeight:dt/Ze})))}));return n}(Jbe),$_e={shiftX:64,adjustY:1},eSe={adjustX:1,shiftY:!0},tSe=[0,0],nSe={left:{points:["cr","cl"],overflow:eSe,offset:[-4,0],targetOffset:tSe},right:{points:["cl","cr"],overflow:eSe,offset:[4,0],targetOffset:tSe},top:{points:["bc","tc"],overflow:$_e,offset:[0,-4],targetOffset:tSe},bottom:{points:["tc","bc"],overflow:$_e,offset:[0,4],targetOffset:tSe},topLeft:{points:["bl","tl"],overflow:$_e,offset:[0,-4],targetOffset:tSe},leftTop:{points:["tr","tl"],overflow:eSe,offset:[-4,0],targetOffset:tSe},topRight:{points:["br","tr"],overflow:$_e,offset:[0,-4],targetOffset:tSe},rightTop:{points:["tl","tr"],overflow:eSe,offset:[4,0],targetOffset:tSe},bottomRight:{points:["tr","br"],overflow:$_e,offset:[0,4],targetOffset:tSe},rightBottom:{points:["bl","br"],overflow:eSe,offset:[4,0],targetOffset:tSe},bottomLeft:{points:["tl","bl"],overflow:$_e,offset:[0,4],targetOffset:tSe},leftBottom:{points:["br","bl"],overflow:eSe,offset:[-4,0],targetOffset:tSe}},rSe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],iSe=function(t,n){var r=t.overlayClassName,i=t.trigger,a=void 0===i?["hover"]:i,o=t.mouseEnterDelay,s=void 0===o?0:o,l=t.mouseLeaveDelay,c=void 0===l?.1:l,u=t.overlayStyle,h=t.prefixCls,d=void 0===h?"rc-tooltip":h,f=t.children,p=t.onVisibleChange,m=t.afterVisibleChange,g=t.transitionName,v=t.animation,y=t.motion,w=t.placement,b=void 0===w?"right":w,x=t.align,_=void 0===x?{}:x,S=t.destroyTooltipOnHide,E=void 0!==S&&S,C=t.defaultVisible,A=t.getTooltipContainer,T=t.overlayInnerStyle,M=(t.arrowContent,t.overlay),P=t.id,D=t.showArrow,k=void 0===D||D,O=Vbe(t,rSe),I=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return I.current}));var R=Ege({},O);return"visible"in t&&(R.popupVisible=t.visible),e.createElement(J_e,ad({popupClassName:r,prefixCls:d,popup:function(){return e.createElement(jbe,{key:"content",prefixCls:d,id:P,overlayInnerStyle:T},M)},action:a,builtinPlacements:nSe,popupPlacement:b,ref:I,popupAlign:_,getPopupContainer:A,onPopupVisibleChange:p,afterPopupVisibleChange:m,popupTransitionName:g,popupAnimation:v,popupMotion:y,defaultPopupVisible:C,autoDestroy:E,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:s,arrow:k},R),f)},aSe=(0,e.forwardRef)(iSe),oSe=e.createContext(void 0);const sSe=100,lSe={Modal:sSe,Drawer:sSe,Popover:sSe,Popconfirm:sSe,Tooltip:sSe,Tour:sSe},cSe={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function uSe(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,i=t/2,a=i,o=1*r/Math.sqrt(2),s=i-r*(1-1/Math.sqrt(2)),l=i-n*(1/Math.sqrt(2)),c=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),u=2*i-l,h=c,d=2*i-o,f=s,p=2*i-0,m=a,g=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),v=r*(Math.sqrt(2)-1);return{arrowShadowWidth:g,arrowPath:`path('M 0 ${a} A ${r} ${r} 0 0 0 ${o} ${s} L ${l} ${c} A ${n} ${n} 0 0 1 ${u} ${h} L ${d} ${f} A ${r} ${r} 0 0 0 ${p} ${m} Z')`,arrowPolygon:`polygon(${v}px 100%, 50% ${v}px, ${2*i-v}px 100%, ${v}px 100%)`}}const hSe=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:a,arrowShadowWidth:o,borderRadiusXS:s,calc:l}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,a]},content:'""'},"&::after":{content:'""',position:"absolute",width:o,height:o,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${fve(s)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},dSe=8;function fSe(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?dSe:r}}function pSe(e,t){return e?t:{}}function mSe(e,t,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:a,arrowOffsetHorizontal:o}=e,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},hSe(e,t,i)),{"&:before":{background:t}})]},pSe(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${r}-arrow`]:{left:{_skip_check_:!0,value:o}},[`&-placement-topRight > ${r}-arrow`]:{right:{_skip_check_:!0,value:o}}})),pSe(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:s,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft > ${r}-arrow`]:{left:{_skip_check_:!0,value:o}},[`&-placement-bottomRight > ${r}-arrow`]:{right:{_skip_check_:!0,value:o}}})),pSe(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:a},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:a}})),pSe(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:a},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:a}}))}}const gSe={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},vSe={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},ySe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);const{isValidElement:wSe}=t;function bSe(){}const xSe=e.createContext(null),_Se=t=>{let{children:n}=t;return e.createElement(xSe.Provider,{value:null},n)},SSe=e=>({animationDuration:e,animationFillMode:"both"}),ESe=e=>({animationDuration:e,animationFillMode:"both"}),CSe=function(e,t,n,r){const i=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{[`\n      ${i}${e}-enter,\n      ${i}${e}-appear\n    `]:Object.assign(Object.assign({},SSe(r)),{animationPlayState:"paused"}),[`${i}${e}-leave`]:Object.assign(Object.assign({},ESe(r)),{animationPlayState:"paused"}),[`\n      ${i}${e}-enter${e}-enter-active,\n      ${i}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${i}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},ASe=new Nye("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),TSe=new Nye("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),MSe=new Nye("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),PSe=new Nye("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),DSe=new Nye("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),kSe=new Nye("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),OSe={zoom:{inKeyframes:ASe,outKeyframes:TSe},"zoom-big":{inKeyframes:MSe,outKeyframes:PSe},"zoom-big-fast":{inKeyframes:MSe,outKeyframes:PSe},"zoom-left":{inKeyframes:new Nye("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new Nye("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new Nye("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new Nye("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:DSe,outKeyframes:kSe},"zoom-down":{inKeyframes:new Nye("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new Nye("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},ISe=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:a}=OSe[t];return[CSe(r,i,a,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},RSe=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function LSe(e,t){return RSe.reduce(((n,r)=>{const i=e[`${r}1`],a=e[`${r}3`],o=e[`${r}6`],s=e[`${r}7`];return Object.assign(Object.assign({},n),t(r,{lightColor:i,lightBorderColor:a,darkColor:o,textColor:s}))}),{})}const NSe=e=>{const{componentCls:t,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:a,zIndexPopup:o,controlHeight:s,boxShadowSecondary:l,paddingSM:c,paddingXS:u}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},obe(e)),{position:"absolute",zIndex:o,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${t}-inner`]:{minWidth:s,minHeight:s,padding:`${fve(e.calc(c).div(2).equal())} ${fve(u)}`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:a,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(a,dSe)}},[`${t}-content`]:{position:"relative"}}),LSe(e,((e,n)=>{let{darkColor:r}=n;return{[`&${t}-${e}`]:{[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{"--antd-arrow-background-color":r}}}}))),{"&-rtl":{direction:"rtl"}})},mSe(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},zSe=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},fSe({contentRadius:e.borderRadius,limitVerticalRadius:!0})),uSe(Mbe(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)})));var BSe=function(e){const t=Rbe("Tooltip",(e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:r}=e,i=Mbe(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:r});return[NSe(i),ISe(e,"zoom-big-fast")]}),zSe,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)};const FSe=RSe.map((e=>`${e}-inverse`));function USe(e,t){const n=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?RSe.includes(e):[].concat(_ge(FSe),_ge(RSe)).includes(e)}(t),r=Wb()({[`${e}-${t}`]:t&&n}),i={},a={};return t&&!n&&(i.background=t,a["--antd-arrow-background-color"]=t),{className:r,overlayStyle:i,arrowStyle:a}}const jSe=e.forwardRef(((t,n)=>{var r,i;const{prefixCls:a,openClassName:o,getTooltipContainer:s,overlayClassName:l,color:c,overlayInnerStyle:u,children:h,afterOpenChange:d,afterVisibleChange:f,destroyTooltipOnHide:p,arrow:m=!0,title:g,overlay:v,builtinPlacements:y,arrowPointAtCenter:w=!1,autoAdjustOverflow:b=!0}=t,x=!!m,[,_]=Vwe(),{getPopupContainer:S,getPrefixCls:E,direction:C}=e.useContext(Wwe),A=(()=>{const e=()=>{};return e.deprecated=bSe,e})(),T=e.useRef(null),M=()=>{var e;null===(e=T.current)||void 0===e||e.forceAlign()};e.useImperativeHandle(n,(()=>({forceAlign:M,forcePopupAlign:()=>{A.deprecated(!1,"forcePopupAlign","forceAlign"),M()}})));const[P,D]=function(e,t){var n=t||{},r=n.defaultValue,i=n.value,a=n.onChange,o=n.postState,s=xge(ube((function(){return hbe(i)?i:hbe(r)?"function"==typeof r?r():r:e})),2),l=s[0],c=s[1],u=void 0!==i?i:l,h=o?o(u):u,d=cbe(a),f=xge(ube([u]),2),p=f[0],m=f[1];return bve((function(){var e=p[0];l!==e&&d(l,e)}),[p]),bve((function(){hbe(i)||c(i)}),[i]),[h,cbe((function(e,t){c(e,t),m([u],t)}))]}(!1,{value:null!==(r=t.open)&&void 0!==r?r:t.visible,defaultValue:null!==(i=t.defaultOpen)&&void 0!==i?i:t.defaultVisible}),k=!g&&!v&&0!==g,O=e.useMemo((()=>{var e,t;let n=w;return"object"==typeof m&&(n=null!==(t=null!==(e=m.pointAtCenter)&&void 0!==e?e:m.arrowPointAtCenter)&&void 0!==t?t:w),y||function(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:a,visibleFirst:o}=e,s=t/2,l={};return Object.keys(gSe).forEach((e=>{const c=r&&vSe[e]||gSe[e],u=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(l[e]=u,ySe.has(e)&&(u.autoArrow=!1),e){case"top":case"topLeft":case"topRight":u.offset[1]=-s-i;break;case"bottom":case"bottomLeft":case"bottomRight":u.offset[1]=s+i;break;case"left":case"leftTop":case"leftBottom":u.offset[0]=-s-i;break;case"right":case"rightTop":case"rightBottom":u.offset[0]=s+i}const h=fSe({contentRadius:a,limitVerticalRadius:!0});if(r)switch(e){case"topLeft":case"bottomLeft":u.offset[0]=-h.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":u.offset[0]=h.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":u.offset[1]=-h.arrowOffsetHorizontal-s;break;case"leftBottom":case"rightBottom":u.offset[1]=h.arrowOffsetHorizontal+s}u.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const i=r&&"object"==typeof r?r:{},a={};switch(e){case"top":case"bottom":a.shiftX=2*t.arrowOffsetHorizontal+n,a.shiftY=!0,a.adjustY=!0;break;case"left":case"right":a.shiftY=2*t.arrowOffsetVertical+n,a.shiftX=!0,a.adjustX=!0}const o=Object.assign(Object.assign({},a),i);return o.shiftX||(o.adjustX=!0),o.shiftY||(o.adjustY=!0),o}(e,h,t,n),o&&(u.htmlRegion="visibleFirst")})),l}({arrowPointAtCenter:n,autoAdjustOverflow:b,arrowWidth:x?_.sizePopupArrow:0,borderRadius:_.borderRadius,offset:_.marginXXS,visibleFirst:!0})}),[w,m,y,_]),I=e.useMemo((()=>0===g?g:v||g||""),[v,g]),R=e.createElement(_Se,null,"function"==typeof I?I():I),{getPopupContainer:L,placement:N="top",mouseEnterDelay:z=.1,mouseLeaveDelay:B=.1,overlayStyle:F,rootClassName:U}=t,j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),V=E("tooltip",a),H=E(),G=t["data-popover-inject"];let W=P;"open"in t||"visible"in t||!k||(W=!1);const q=wSe(h)&&!function(t){return t&&wSe(t)&&t.type===e.Fragment}(h)?h:e.createElement("span",null,h),X=q.props,Y=X.className&&"string"!=typeof X.className?X.className:Wb()(X.className,o||`${V}-open`),[Q,K,Z]=BSe(V,!G),J=USe(V,c),$=J.arrowStyle,ee=Object.assign(Object.assign({},u),J.overlayStyle),te=Wb()(l,{[`${V}-rtl`]:"rtl"===C},J.className,U,K,Z),[ne,re]=function(t,n){const[,r]=Vwe(),i=e.useContext(oSe);if(void 0!==n)return[n,n];let a=null!=i?i:0;return t in lSe?(a+=(i?0:r.zIndexPopupBase)+lSe[t],a=Math.min(a,r.zIndexPopupBase+1e3)):a+=cSe[t],[void 0===i?n:a,a]}("Tooltip",j.zIndex),ie=e.createElement(aSe,Object.assign({},j,{zIndex:ne,showArrow:x,placement:N,mouseEnterDelay:z,mouseLeaveDelay:B,prefixCls:V,overlayClassName:te,overlayStyle:Object.assign(Object.assign({},$),F),getTooltipContainer:L||s||S,ref:T,builtinPlacements:O,overlay:R,visible:W,onVisibleChange:e=>{var n,r;D(!k&&e),k||(null===(n=t.onOpenChange)||void 0===n||n.call(t,e),null===(r=t.onVisibleChange)||void 0===r||r.call(t,e))},afterVisibleChange:null!=d?d:f,overlayInnerStyle:ee,arrowContent:e.createElement("span",{className:`${V}-arrow-content`}),motion:{motionName:Ube(H,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!p}),W?function(t,n){return function(t,n,r){return wSe(t)?e.cloneElement(t,"function"==typeof r?r(t.props||{}):r):n}(t,t,n)}(q,{className:Y}):q);return Q(e.createElement(oSe.Provider,{value:re},ie))}));jSe._InternalPanelDoNotUseOrYouWillBeFired=t=>{const{prefixCls:n,className:r,placement:i="top",title:a,color:o,overlayInnerStyle:s}=t,{getPrefixCls:l}=e.useContext(Wwe),c=l("tooltip",n),[u,h,d]=BSe(c),f=USe(c,o),p=f.arrowStyle,m=Object.assign(Object.assign({},s),f.overlayStyle),g=Wb()(h,d,c,`${c}-pure`,`${c}-placement-${i}`,r,f.className);return u(e.createElement("div",{className:g,style:p},e.createElement("div",{className:`${c}-arrow`}),e.createElement(jbe,Object.assign({},t,{className:h,prefixCls:c,overlayInnerStyle:m}),a)))};var VSe=jSe;const HSe=e=>{const{componentCls:t,popoverColor:n,titleMinWidth:r,fontWeightStrong:i,innerPadding:a,boxShadowSecondary:o,colorTextHeading:s,borderRadiusLG:l,zIndexPopup:c,titleMarginBottom:u,colorBgElevated:h,popoverBg:d,titleBorderBottom:f,innerContentPadding:p,titlePadding:m}=e;return[{[t]:Object.assign(Object.assign({},obe(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:c,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":h,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:d,backgroundClip:"padding-box",borderRadius:l,boxShadow:o,padding:a},[`${t}-title`]:{minWidth:r,marginBottom:u,color:s,fontWeight:i,borderBottom:f,padding:m},[`${t}-inner-content`]:{color:n,padding:p}})},mSe(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${t}-content`]:{display:"inline-block"}}}]},GSe=e=>{const{componentCls:t}=e;return{[t]:RSe.map((n=>{const r=e[`${n}6`];return{[`&${t}-${n}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}}))}};var WSe=Rbe("Popover",(e=>{const{colorBgElevated:t,colorText:n}=e,r=Mbe(e,{popoverBg:t,popoverColor:n});return[HSe(r),GSe(r),ISe(r,"zoom-big")]}),(e=>{const{lineWidth:t,controlHeight:n,fontHeight:r,padding:i,wireframe:a,zIndexPopupBase:o,borderRadiusLG:s,marginXS:l,lineType:c,colorSplit:u,paddingSM:h}=e,d=n-r,f=d/2,p=d/2-t,m=i;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:o+30},uSe(e)),fSe({contentRadius:s,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:l,titlePadding:a?`${f}px ${m}px ${p}px`:0,titleBorderBottom:a?`${t}px ${c} ${u}`:"none",innerContentPadding:a?`${h}px ${m}px`:0})}),{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});const qSe=t=>{const{hashId:n,prefixCls:r,className:i,style:a,placement:o="top",title:s,content:l,children:c}=t;return e.createElement("div",{className:Wb()(n,r,`${r}-pure`,`${r}-placement-${o}`,i),style:a},e.createElement("div",{className:`${r}-arrow`}),e.createElement(jbe,Object.assign({},t,{className:n,prefixCls:r}),c||((t,n,r)=>n||r?e.createElement(e.Fragment,null,n&&e.createElement("div",{className:`${t}-title`},Fbe(n)),e.createElement("div",{className:`${t}-inner-content`},Fbe(r))):null)(r,s,l)))};const XSe=t=>{let{title:n,content:r,prefixCls:i}=t;return e.createElement(e.Fragment,null,n&&e.createElement("div",{className:`${i}-title`},Fbe(n)),e.createElement("div",{className:`${i}-inner-content`},Fbe(r)))},YSe=e.forwardRef(((t,n)=>{const{prefixCls:r,title:i,content:a,overlayClassName:o,placement:s="top",trigger:l="hover",mouseEnterDelay:c=.1,mouseLeaveDelay:u=.1,overlayStyle:h={}}=t,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:f}=e.useContext(Wwe),p=f("popover",r),[m,g,v]=WSe(p),y=f(),w=Wb()(o,g,v);return m(e.createElement(VSe,Object.assign({placement:s,trigger:l,mouseEnterDelay:c,mouseLeaveDelay:u,overlayStyle:h},d,{prefixCls:p,overlayClassName:w,ref:n,overlay:i||a?e.createElement(XSe,{prefixCls:p,title:i,content:a}):null,transitionName:Ube(y,"zoom-big",d.transitionName),"data-popover-inject":!0})))}));YSe._InternalPanelDoNotUseOrYouWillBeFired=t=>{const{prefixCls:n,className:r}=t,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["prefixCls","className"]),{getPrefixCls:a}=e.useContext(Wwe),o=a("popover",n),[s,l,c]=WSe(o);return s(e.createElement(qSe,Object.assign({},i,{prefixCls:o,hashId:l,className:Wb()(r,c)})))};var QSe=YSe;function KSe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZSe=[{key:"1",label:"模型名称",children:e.createElement("p",null,"Arona")},{key:"2",label:"模型作者",children:e.createElement("p",null,e.createElement("a",{href:"https://space.bilibili.com/227440"},"lovecelebi ",e.createElement(xo,{icon:xS.nN})))},{key:"3",label:"模型出处",children:e.createElement("p",null,e.createElement("a",{href:"https://www.aplaybox.com/details/model/dX8uNqzbNPNJ"},"模之屋 ",e.createElement(xo,{icon:xS.nN})))},{key:"4",label:"版权信息",children:e.createElement("p",null,"本网站展示的3D人物模型版权归原作者lovecelebi所有。该模型在 aPlayBox 上以社区版形式提供，供非商业性质的使用和展示。在任何情况下，均不得用于商业用途。")}],JSe=function(){return e.createElement(Bbe,{title:"模型信息",items:ZSe,column:1})};function $Se(){var t=me(),n=(0,e.useRef)(),r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return KSe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KSe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,e.useState)(!0),2),i=r[0],a=r[1],s=sm(),l=s.width,c=s.height,u=(0,e.useRef)(null);return(0,e.useEffect)((function(){Lo()?a(!1):(u.current=new class{constructor(e,{renderOnDemand:t,renderMode:n="auto"}={}){this._viewportMode=1,this._viewportWidth=window.innerWidth,this._viewportHeight=window.innerHeight,this._proxyObjectCache=new Map,this._variablesCache=new Map,this._isPaused=!1,this._renderRequested=!1,this._skipRender=!1,this.time=performance.now(),this.dt=0,this.currentTAAFrame=0,this.disposed=!1,this._requestRenderAutoMode=()=>{this._skipRender=!1},this.requestRender=()=>{this._renderRequested=!0},this.render=e=>{if(this.time=e,this._lastTime&&(this.dt=this.time-this._lastTime),this._lastTime=this.time,this._perfs?.start(),this._renderer)if(this._isPaused||!("manual"===this.renderMode&&!this._renderRequested||"auto"===this.renderMode&&this._skipRender)){if(this._renderRequested=!1,this._skipRender=!0,this._controls&&(this._skipRender=this._controls.update(this.dt)),this._eventManager&&(this._eventManager.handlers?.Start.hasVideoAction||this._eventManager.handlers?.Basic.hasVideoAction||this._eventManager.handlers?.Conditional.hasVideoAction)&&(this._skipRender=!1),this._animationControls?.update(this.dt),this._skipRender?(this.currentTAAFrame++,this.currentTAAFrame<32?this._skipRender=!1:this.currentTAAFrame=0):this.currentTAAFrame=0,this._scene?.traverseVisibleEntity((e=>{"ParticleSystem"===e.type&&(e.update(this.dt),this._skipRender=!1)})),this._scene&&this._scene.activeCamera!==this._camera&&(this._camera=this._scene.activeCamera),this._eventManager?.isEnabled&&(this._eventManager.handlers?.Follow.onAnimationFrameDamping(),this._eventManager.handlers?.LookAt.onAnimationFrameDamping(),this._eventManager.handlers?.DragDrop.onAnimationFrameDamping()),this._scene&&this._camera){if(this._scene.pathConstraints.applyConstraints(this._scene),this._renderer.sceneTransitionTimeRemaining>0){this._renderer.sceneTransitionTimeRemaining-=this.dt;let e=1-this._renderer.sceneTransitionTimeRemaining/this._renderer.sceneTransitionDuration;this._renderer.pipeline.sceneTransitionPass.uniforms.mixRatio.value=e,this._skipRender=!1}else this._renderer.pipeline.sceneTransitionFromTexture=null;this._renderer.renderSplineScene(this._scene,this._camera)}this.canvas.dispatchEvent(this._renderedEvent),this._perfs?.end()}else this._perfs?.end();else this._perfs?.end()},this._resize=()=>{if(this._renderer){if(1===this._viewportMode&&this._frameView&&(this._frameView.frameSize=mge.set(this._viewportWidth,this._viewportHeight)),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._camera=this._scene?.activeCamera,this._scene?.updateViewPlaneSize(this._frameView?.frameSize?.x??this._viewportWidth,this._frameView?.frameSize?.y??this._viewportHeight,this._frameView?.enableResponsive??!1),this._camera){let e=Object.values(this._data?.frames??{})[0].preset??"fullscreen";this._frameView?.setCamera(this._camera),this._frameView?.updateCamera("fullscreen"!==e),"PerspectiveCamera"===this._camera.cameraType&&(this._camera.aspect=this._viewportWidth/this._viewportHeight),this._camera.updateProjectionMatrix()}this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect()),this._requestRenderAutoMode()}},this._debouncedResize=f1(this._resize,10),this._onScroll=e=>{this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect())},this.canvas=e,this.renderMode=t?"auto":n,this._renderedEvent=new CustomEvent("rendered",{bubbles:!0}),Object.defineProperty(this._renderedEvent,"target",{writable:!1,value:this}),window.location.search.includes("perfs")&&(this._perfs=new class{constructor({x:e=10,y:t=10}){this._startTime=0;let n=document.getElementById("spe-perfs");n?this.element=n:(this.element=document.createElement("div"),document.body.appendChild(this.element),this.element.style.position="absolute",this.element.style.zIndex="10000",this.element.style.fontFamily="monospace",this.element.style.background="black",this.element.style.color="white",this.element.style.padding="10px",this.element.style.opacity="0.5",this.element.style.fontSize="11px",this.element.setAttribute("id","spe-perfs")),this.element.style.left=`${e}px`,this.element.style.top=`${t}px`}dispose(){this.element.parentElement?.removeChild(this.element)}start(){this._startTime=performance.now()}end(){let e=performance.now()-this._startTime;this.element.innerHTML=e.toFixed(3)+" ms"}}({x:10,y:10})),function(e){e.addEventListener("pointerdown",F1,!0),e.addEventListener("pointerdown",j1,!0),e.addEventListener("pointermove",j1,!0),e.addEventListener("pointerup",U1,!0),e.addEventListener("pointercancel",U1,!0),e.addEventListener("pointerleave",U1,!0),window.addEventListener("keydown",H1,!0),window.addEventListener("keyup",G1,!0)}(e)}async load(e,t,n){(function(e){let t="The Spline Runtime only accepts .splinecode files that are generated from Spline export panel.";e.endsWith(".spline")?console.warn(t+" The .spline files are only meant to be used by the Editor."):e.endsWith(".splinecode")||console.warn(t)})(e),this.disposed=!1;let r=await(await fetch(e,n)).arrayBuffer();await this.start(r,{variables:t})}async start(e,{interactive:t=!0,variables:n}={}){if(this.disposed)return;let r=await async function(e,t){let[n,r]=B2(o4.deserialize(new Uint8Array(e)));e8(n);let i=[];n.scene.objects.traverse(((e,t)=>{"Mesh"===t.type&&"NonParametricGeometry"===t.geometry.type&&void 0!==t.geometry.data.draco&&i.push(t)})),i.length&&await(ige||(ige=new sge).setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.2/").preload(),ige.decoderPending);for(let e of i){let t=await cge(U2(e.geometry.data.draco));if(t){t.index&&(e.geometry.data.index={array:t.index.array,itemSize:1,normalized:!1,type:"Uint32Array"});let n={};t.attributes.forEach((({name:e,array:t,itemSize:r})=>{n[e]={array:t,itemSize:r,type:"Float32Array",normalized:!1}})),e.geometry.data.attributes=n,e.geometry.data.draco=void 0}}return t&&t(n),r.result().data}(e);this._data=r,r.version&&(0,pge.default)(r.version,"1.0.19")>0&&console.warn("Your .splinecode file is more recent than the library. Please upgrade @splinetool/runtime to the latest version."),await Promise.all([Roe(r)&&(qte||(qte=async function(){let e=o.e(669).then(o.bind(o,6669)),[t,n]=await Promise.all([e,fetch("https://unpkg.com/@splinetool/boolean-wasm@1.0.19/build/boolean.wasm").then((e=>e.arrayBuffer()))]),r=t.default,i=await r({wasmBinary:n});Wte(i)}(),qte)),Aae(r)&&Ate(),a6.physicsEnabled(r.scene.objects)&&(Q1||(Q1=async function(){let e=await o.e(330).then(o.bind(o,330));await e.init(),Y1(e)}())),Wae(r)&&oae(),Zle(r)&&Kle(),wme(r)&&(q1||(q1=async function(){let e=o.e(275).then(o.bind(o,2275)),[t,n]=await Promise.all([e,fetch("https://unpkg.com/@splinetool/navmesh-wasm@1.0.19/build/navmesh.wasm").then((e=>e.arrayBuffer()))]),r=t.default,i=await r({wasmBinary:n});W1(i)}(),q1))].filter(Boolean)),this._eventManager?.deactivate(),this._controls?.deactivate(),this._scene?.dispose();let i=new class{get sharedAssets(){return this.shared}constructor(e,t={}){this.shared=new pae(e.shared,t),this.scene=new kue(e.scene,this.sharedAssets),this.shared.setEntityOpContext({scene:this.scene,shared:this.shared})}reset(e,t){this.scene.clearScene(),this.sharedAssets.reset(e.shared),this.scene.resetAfterClear(e.scene,this.sharedAssets)}resetPersonalCameraFromDocumentData(){for(let e of this.scene.children)e instanceof _ce&&!e.uiScene&&e.personalCamera.updateState(e.data.camera,{scene:this.scene,shared:this.shared})}dispose(){this.scene.dispose(),this.shared.dispose()}gc(){this.shared.geometryCache.startGc(),this.shared.geometryCache2.startGc(),this.scene.traverseEntity((e=>{e instanceof xae&&e.markGeometryAsReachable(this.shared)})),this.shared.geometryCache.endGc(),this.shared.geometryCache2.endGc()}}(r);if(i.resetPersonalCameraFromDocumentData(),this._scene=i.scene,this._sharedAssetsManager=i.sharedAssets,this._camera=this._scene.activeCamera,window.location.search.includes("merge-geometries")){let e=performance.now();!function(e,t){let n=function(e,t){let n={};return e.traverseEntity((e=>{if(!e.visible||!(e instanceof dne)||"Mesh"!==e.type||Array.isArray(e.material)||e.states&&Object.keys(e.states).length)return;let r=e.parent;for(;r;){if(r instanceof dne&&e.states&&Object.keys(e.states).length)return;r=r.parent}let i=e.material.uuid,a=t.shared.materials[i];if(a){if(!y5.isMergable(a))return}else{let n=t.scene.objects.get(e.uuid)?.data;if(n&&"material"in n&&"string"!=typeof n.material){if(!y5.isMergable(n.material))return;i=y5.getHash(n.material)}}n[i]||(n[i]={});let o=n[i][fge(e)];if(o){if(o.push(e),e.cloner)for(let t of e.cloner.children)o.push(t)}else if(n[i][fge(e)]=[e],e.cloner)for(let t of e.cloner.children)n[i][fge(e)].push(t)})),n}(t,e),r=function(e){let t=0;return Object.values(e).forEach((e=>{Object.values(e).forEach((e=>{let n=e.length;n>t&&(t=n)}))})),t}(n),i=new Array(r),a=0,o=new Array(r),s=0,l=new Array(r),c=0,u=new Array(r),h=0;for(let[e,r]of Object.entries(n))for(let d of Object.values(r)){if(s=0,c=0,d.forEach((e=>{e instanceof dne&&(o[s++]=e.geometry.clone(),l[c++]=e)})),c<2)continue;for(let e=0;e<c;e++)l[e].updateWorldMatrix(!0,!1),o[e].applyMatrix4(l[e].matrixWorld),l[e].matrixWorld.determinant()<0&&dge(o[e]);let r=t8(o.slice(0,s),!1);if(r){let o;"SubdivObject"===e?(console.warn("Turning subdiv object into mesh"),o=new GG(r,l[0].material)):o=new GG(r,l[0].material),o.castShadow=l[0].castShadow,o.receiveShadow=l[0].receiveShadow,t.add(o);let s=e=>{h=0;for(let t of e)t.children&&s(t.children),t instanceof dne&&(Array.isArray(t.material)||n[t.material.uuid]&&n[t.material.uuid][fge(t)]&&n[t.material.uuid][fge(t)].length>1||(u[h++]=t));for(let e=0;e<h;e++)t.attach(u[e])};for(let e=0;e<c;e++){let t=l[e];s(t.children),i[a++]=t}}}for(let e=0;e<a;e++)i[e].removeFromParent()}(r,i.scene);let t=performance.now();console.log("Merged geometries in ",t-e," ms")}Roe(r)&&this._scene.traverse((e=>{Foe(e)&&e.recomputeBoolean()})),this._sharedAssetsManager.setRequestRender((()=>{this._requestRenderAutoMode(),this._scene?.traverse((e=>{e instanceof coe&&e.pendingMediaLoad&&e.update()}))})),this._scene?.traverse((e=>{"ParticleSystem"===e.type&&(e.wakeUp(),e.data.autoPlay?e.start():e.stop())}));let a=Object.keys(r.shared.fonts).map((e=>this._sharedAssetsManager.getFont(e).loadingPromise));if(Promise.all(a).then((()=>{i.scene.markNeedsUpdateRendererDirty(),this._requestRenderAutoMode()})),Wae(r)&&function(e){if(a6.physicsEnabled(e.scene.objects))return!0;let t=!1;return e.scene.objects.traverse(((e,n)=>{if(n.events)if(Array.isArray(n.events)){for(let e of n.events)if(!0!==e.data.disabled&&"GameControl"===e.data.type&&e.data.collisionEnabled){t=!0;break}}else for(let e of Object.values(n.events))if(!0!==e.disabled&&"GameControl"===e.type&&e.collisionEnabled){t=!0;break}})),t}(r)&&await Promise.all(a),Zle(r)){let e=[];this._scene.traverseEntity((t=>{t instanceof kce&&e.push(t)})),await Promise.all(e.map((e=>e.uiCanvas.promise)))}this._scene.rewriteEventsBeforeGoToPlayMode(),zde(this._scene.activePage,this._sharedAssetsManager),this._renderer||(this._renderer=new Cle({canvas:this.canvas,antialias:!1,alpha:!0,stencil:!1,depth:!1,powerPreference:"high-performance"}),this._renderer.hdTransmission=!0===r.scene.publish.hdTransmission,this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.pipeline.enableUIOverlay(),this._renderer.pipeline.addEventListener("smaaloaded",this._requestRenderAutoMode)),this._scene.initializeSplatViewer(this._renderer),void 0!==r.scene.blueNoiseTextureData&&this._renderer.pipeline.updateBlueNoiseTexture(r.scene.blueNoiseTextureData);let s=Object.values(r.frames)[0];if(this._frameView?this._frameView.setCamera(this._camera):("fullscreen"===s.preset?(this._viewportMode=1,this.canvas.style.display="block",this.canvas.parentElement&&(this._viewportWidth=this.canvas.parentElement.clientWidth||300,this.canvas.style.width="100%"),this.canvas.parentElement&&(this._viewportHeight=this.canvas.parentElement.clientHeight||150,this.canvas.style.height="100%")):(this._viewportMode=2,this._viewportWidth=s.size[0],this._viewportHeight=s.size[1],this.canvas.style.width=`${this._viewportWidth}px`,this.canvas.style.height=`${this._viewportHeight}px`),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._frameView=new class{constructor(e,t,n,r,i){this._aspect=1,this.enableResponsive=!1,this._renderer=e,this._camera=t,this._frameSize=(new AV).copy(n),this._editorSize=(new AV).copy(r),this._aspect=t.aspect,this._fov=i??t.fov}set frameSize(e){this._frameSize.copy(e)}updateRenderer(){!this._renderer||this._renderer.setSize(this._frameSize.x,this._frameSize.y)}updateViewport(){if(!this._renderer||!this._camera||"PerspectiveCamera"!==this._camera.cameraType)return;let e=this._frameSize.x,t=this._frameSize.y,n=this._editorSize.y;this._aspect=e/t,t<=n&&(this._camera.zoom*=n/t),this._renderer.setViewport(0,0,e,t)}updateCamera(e=!0){if(this._camera)if("PerspectiveCamera"===this._camera.cameraType){let t=this._frameSize.y,n=this._editorSize.y,r=this._fov;if(e&&t>n){let e=function(e,t,n,r,i){return(e-1080)/1080*14+1}(t)/100;r*=t/n,r*=1-e}this._camera.aspect=this._aspect,this._camera.fov=r,this._camera.updateProjectionMatrix()}else this._camera.setViewplaneSize(this._frameSize.x,this._frameSize.y,this.enableResponsive)}setCamera(e){this._camera=e,this._aspect=e.aspect,this._fov=e.fov}revert(){let e=window.innerWidth,t=window.innerHeight;this._renderer&&(this._renderer.setViewport(0,0,e,t),this._renderer.setSize(e,t)),this._camera&&(this._camera.aspect=e/t,this._camera.fov=this._fov,this._camera.setViewplaneSize(e,t,this.enableResponsive),this._camera.updateProjectionMatrix())}}(this._renderer,this._camera,new AV(this._viewportWidth,this._viewportHeight),new AV(window.innerWidth,window.innerHeight)),this._frameView.enableResponsive=(s.allowResponsive??!1)&&"fullscreen"===s.preset),t){let e=new class{constructor(e,t,n,r,i,a,o,s){this.renderer=e,this.publish=t,this.scene=n,this.getCamera=r,this.sharedAssets=i,this.requestRender=a,this.isExport=o,this.frame=s,this.raycaster=new Wfe,this._useWindowEvents=!1,this.pointerWorld={x:0,y:0},this.pointerScreen={x:0,y:0},this._useWindowEvents="window"===t.mouseEventTarget,this.domElement=e.domElement,this.eventElement=this._useWindowEvents?window:e.domElement,this._domRect=this.domElement.getBoundingClientRect()}get stopRaycast(){return this.publish.stopRaycast}get page(){return this.scene.activePage}set useWindowEvents(e){this._useWindowEvents=e,this.eventElement=e?window:this.renderer.domElement}get useWindowEvents(){return this._useWindowEvents}set domRect(e){this._domRect=e}get domRect(){return this._domRect}updateRaycaster(e){let{pageX:t,pageY:n}=e.touches?.length>0?e.touches[0]:e;this.pointerWorld=function(e,t,n){return{x:(e-(n.left+window.scrollX))/n.width*2-1,y:-(t-(n.top+window.scrollY))/n.height*2+1}}(t,n,this._domRect),this.pointerScreen=function(e,t,n){return{x:(e-(n.left+window.scrollX))/n.width,y:1-(t-(n.top+window.scrollY))/n.height}}(t,n,this._domRect),this.raycaster.setFromCamera(this.pointerWorld,this.getCamera())}}(this._renderer,this.data.scene.publish,this._scene,(()=>this._scene.activeCamera),this._sharedAssetsManager,this._requestRenderAutoMode,!0,s);this._scene.updateMatrixWorld(!0),this._controls=new class{constructor(e){this.eventContext=e,this.isEnabled=!1,this.gameControl=null,this.joysticks=[],this.joystickToGameControls=[],this.sharedGameControlGlobals={entitiesWithTransformAnim:[],entityToCollisionEvents:{},colliderToEntity:new Map,triggers:[],gamePads:[],createdObjects:[],nCreatedPerAction:{}},this.sensorToTriggerEvent={},this.eventManager=void 0,this.needsCollisionDetection=!1,this.initializationCounter=-1,this.rigidBodyToMesh=new Map,this.nActiveRigidBodies=0,this.collisionEvents=[],this.isExport=!1,this.processRigidBody=e=>{if(e.bodyType()!==Bme.RigidBodyType.Dynamic)return;e.isSleeping()||this.nActiveRigidBodies++;let[t,n,r]=this.rigidBodyToMesh.get(e.handle);if(Ume.copy(e.translation()).multiplyScalar(this.pixelsPerMeter),jme.copy(e.rotation()),t.matrixWorld.compose(Ume,jme,n),t.hasNonUniformScale&&t.matrixWorld.multiply(t.shearScale),t.dispatchEvent(Zme),r){let e=t.cloner;if(e&&void 0===e.objectForSample){e.matrixWorld.copy(t.matrixWorld);for(let t of e.children)t.updateMatrixWorld(!0)}for(let e of t.children)e.updateMatrixWorld(!0)}},this.accumulator=0,this.handleCollisionEvents=(e,t,n)=>{if(!1===n)return;let r,i;if(this.sensorToTriggerEvent[e]?(r=this.sensorToTriggerEvent[e],i=this.sharedGameControlGlobals.colliderToEntity.get(t)):this.sensorToTriggerEvent[t]&&(r=this.sensorToTriggerEvent[t],i=this.sharedGameControlGlobals.colliderToEntity.get(e)),r&&i&&r.isValidTriggeringObject(i))r.dispatch();else{for(let n=this.sharedGameControlGlobals.createdObjects.length-1;n>=0;n--){let r=this.sharedGameControlGlobals.createdObjects[n];if(r.userData.hasCollisionDestroy&&(r.rigidBody?.collider(0).handle===e||r.rigidBody?.collider(0).handle===t)){this.sharedGameControlGlobals.createdObjects.splice(n,1),r.removeFromParent(),requestAnimationFrame((()=>this.sharedGameControlGlobals.rapierWorld?.removeRigidBody(r.rigidBody)));break}}if(this.gameControl?.object===this.sharedGameControlGlobals.colliderToEntity.get(e)){let e=this.sharedGameControlGlobals.colliderToEntity.get(t),n=this.sharedGameControlGlobals.entityToCollisionEvents[e.uuid];if(void 0===n)return;for(let r of n)"character"===r.data.target&&this.dispatchCollisionEvent(r,e,t)}else if(this.gameControl?.object===this.sharedGameControlGlobals.colliderToEntity.get(t)){let t=this.sharedGameControlGlobals.colliderToEntity.get(e),n=this.sharedGameControlGlobals.entityToCollisionEvents[t.uuid];if(void 0===n)return;for(let r of n)"character"===r.data.target&&this.dispatchCollisionEvent(r,t,e)}else{let n=this.sharedGameControlGlobals.colliderToEntity.get(e),r=this.sharedGameControlGlobals.entityToCollisionEvents[n.uuid];if(void 0!==r)for(let t of r)"scene"===t.data.target&&this.dispatchCollisionEvent(t,n,e);let i=this.sharedGameControlGlobals.colliderToEntity.get(t),a=this.sharedGameControlGlobals.entityToCollisionEvents[i?.uuid];if(void 0!==a)for(let e of a)"scene"===e.data.target&&this.dispatchCollisionEvent(e,i,t)}}},this.isExport=e.isExport,this.sharedAssets=e.sharedAssets,this.renderer=e.renderer,this.requestRender=e.requestRender,this.domElement=this.renderer.domElement,this.pixelsPerMeter=200,this.gravity=this.page.data.globalPhysics.gravity}get page(){return this.eventContext.page}attachVRControllers(e){e.forEach((e=>{e.addEventListener("connected",(e=>{"gamepad"in e.data&&"axes"in e.data.gamepad&&this.sharedGameControlGlobals.gamePads.push(e.data.gamepad)}))}))}markIsDestroyTarget(){this.page.traverseVisibleEntity((e=>{let t=e.dataPatched;for(let e of t.events){if(!0===e.data.disabled)continue;let t=e.data.actions?.find((e=>"Destroy"===e.data.type))?.data;if(t)for(let e of t.objects){let t=this.page.scene.find(e);t&&(t.userData.hasDestroy=!0)}}}))}markIsDragObject(){this.page.traverseVisibleEntity((e=>{let t=e.dataPatched;for(let e of t.events)if(!0!==e.data.disabled&&"DragDrop"===e.data.type)for(let t of e.data.objects){let e=this.page.scene.find(t);e&&(e.userData.hasDrag=!0)}}))}initBVH(){let e=[];if(this.page.traverseChildren((t=>{let n;if(t instanceof coe||t instanceof Hoe||t instanceof Vce)return;n=t instanceof L7?t.object:t;let r=n.dataPatched;if("visibility"===r.physics?.enabled?!r.visible:!r.physics?.enabled)return!0;let i=t.geometry,a=!0===n.userData.hasDestroy,o=!0===n.userData.hasDrag;if(nge(r)||a||o||n.dataPatched.events.some((e=>!0!==e.data.disabled&&"GameControl"===e.data.type)))return t.updateMatrixWorldSVD(),this.addBoundsTree(t),!0;i&&e.push(Ufe(i,t.matrixWorld))})),e.length>0){let t=t8(e,!1);this.sharedGameControlGlobals.staticMeshBVH=new g7(t)}}addRigidBody(e,t,n){let r=[],i="geometry"in e?e.geometry:void 0,a=t.dataPatched;if(void 0!==i?.getAttribute("position")&&r.push(Ufe(i,e.shearScale)),a.physics.fusedBody){let t=this.gatherChildrenGeom(e,r);e.traverseObject(t),e.children.forEach((e=>e.updateMatrixWorld(!0)));let n=e.cloner;n&&void 0===n.objectForSample&&"dynamic"===a.physics.rigidBody&&(n.traverseObject(t),n.children.forEach((e=>e.updateMatrixWorld(!0))))}if(r.length>0){let o,s=!n.fromCreate&&"dynamic"===a.physics.rigidBody||n.fromCreate&&n.dynamic;s?(o=Bme.RigidBodyDesc.dynamic(),o.setLinearDamping(a.physics.damping).setAngularDamping(a.physics.damping).setAdditionalMass(1e-9).setGravityScale(a.physics.gravityScale).enabledRotations(...a.physics.enabledRotation).enabledTranslations(...a.physics.enabledTranslation)):(n.hasTransformAnim||n.hasFollow||n.hasDrag)&&!n.fromCreate?(o=Bme.RigidBodyDesc.kinematicPositionBased(),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)):o=Bme.RigidBodyDesc.fixed();let l=t8(r);(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(Ume,jme,Vme),e.position0=Ume.clone().divideScalar(this.pixelsPerMeter),e.rotation0=jme.clone(),Ume.divideScalar(this.pixelsPerMeter),o.setTranslation(Ume.x,Ume.y,Ume.z).setRotation(jme),i?l?.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter):l?.scale(Vme.x/this.pixelsPerMeter,Vme.y/this.pixelsPerMeter,Vme.z/this.pixelsPerMeter);let c=this.sharedGameControlGlobals.rapierWorld.createRigidBody(o);s&&this.rigidBodyToMesh.set(c.handle,[e,Vme.clone(),a.physics.fusedBody]);let u=!(void 0===a.geometry||"SubdivGeometry"===a.geometry.type||"NonParametricGeometry"===a.geometry.type||"BooleanGeometry"===a.geometry.type||"VectorGeometry"===a.geometry.type||"StarGeometry"===a.geometry.type||"RectangleGeometry"===a.geometry.type||"EllipseGeometry"===a.geometry.type||"TriangleGeometry"===a.geometry.type||"TorusGeometry"===a.geometry.type||"HelixGeometry"===a.geometry.type);try{this.addCollider(c,a.physics,l,t,u)}catch{try{this.addCollider(c,a.physics,l,t,!1)}catch(e){console.error(e)}}e.rigidBody=c}}addBoundsTree(e){let t=[];if(void 0!==e.geometry?.getAttribute("position")&&e.geometry?.getAttribute("position").count>0&&t.push(Ufe(e.geometry,e.shearScale)),e.traverseObject(this.gatherChildrenGeom(e,t)),e.children.forEach((e=>e.updateMatrixWorld(!0))),t.length>0){let n=t8(t,!1);e.bvhGeometry=n,e.bvhGeometry.boundsTree=new g7(n),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)}}addCollider(e,t,n,r,i=!0){if(0===n?.getAttribute("position").count||0===n?.getIndex()?.count)return;let a;n&&(a="trimesh"===t.colliderType?Bme.ColliderDesc.trimesh(n.getAttribute("position").array,n.getIndex().array):Bme.ColliderDesc.convexMesh(n.getAttribute("position").array,i?n.getIndex().array:void 0)),a.setFrictionCombineRule(Bme.CoefficientCombineRule.Average).setRestitutionCombineRule(Bme.CoefficientCombineRule.Average).setDensity(t.density).setFriction(t.friction).setRestitution(t.restitution);let o=this.sharedGameControlGlobals.rapierWorld.createCollider(a,e);this.sharedGameControlGlobals.colliderToEntity.set(o.handle,r),this.sharedGameControlGlobals.entityToCollisionEvents[r.uuid]?.some((e=>"scene"===e.target))&&o.setActiveEvents(Bme.ActiveEvents.COLLISION_EVENTS)}gatherChildrenGeom(e,t){return(n,r)=>{if(0===r)return;let i;if(n instanceof coe){if(!n.objectForSample)return!0===n.object.dataPatched.physics.fusedBody&&"dynamic"===n.object.dataPatched.physics.rigidBody||void 0;if(n.objectForSample.dataPatched.physics.fusedBody)return;i=n.object}else if(n instanceof L7)i=n.object;else if(i=n,i.dataPatched.cloner?.hideBase)return!0;let a=i.dataPatched;if("visibility"===a.physics.enabled?!a.visible:!a.physics.enabled)return!0;1===r?e.hasNonUniformScale?n.matrixWorld.multiplyMatrices(e.shearScale,n.hiddenMatrix):n.matrixWorld.copy(n.hiddenMatrix):n.matrixWorld.multiplyMatrices(n.parent.matrixWorld,n.hiddenMatrix),n.matrixWorld.multiply(n.matrix);let o=n.geometry;void 0!==o?.getAttribute("position")&&t.push(Ufe(o,n.matrixWorld))}}activate(e){if(this.isEnabled)return;this.isEnabled=!0,this.eventManager=e,this.usePhysics=this.page.data.globalPhysics.usePhysics;let t=this.page.playCamera,n=!1,r=5,i=8,a=9,o="drag",s=this.page.data.publish.gameControlObject,l=null!==s?this.page.find(s):null,c=null;if(l)for(let e of l.data.events){if(e.data.disabled||"GameControl"!==e.data.type)break;let t=l;for(;this.usePhysics&&null!==(t=t.parent)?.parent&&!t.data.physics?.fusedBody;);e.data.collisionEnabled&&(this.needsCollisionDetection=!0),null===c&&(c=e.data)}if(this.page.traverseEntity((e=>{for(let t of e.dataPatched.events)if(!1===t.data.disabled&&"Trigger"===t.data.type)return this.needsCollisionDetection=!0,!0})),l&&c){n=n||c.camera===t.uuid||l.uuid===t.uuid;let e=new Bfe(l,this.renderer.domElement,c,this.eventContext.page.data.globalPhysics,this,l.uuid!==t.uuid&&c.camera===t.uuid,t,this.page,this.sharedAssets);this.gameControl=e,r=c.joystickPosLoc,i=c.joystickRotLoc,a=c.jumpTouchButtonLoc,o=c.rotByTouch,P1&&c.touchControl&&(this.joystickToGameControls[r]="pos","walk"===c.moveMode&&(this.joystickToGameControls[a]="jmp"),"joystick"===o&&(this.joystickToGameControls[i]="rot"))}if(this.gameControl&&this.gameControl.data.navmesh.enabled){let e=this.gameControl.data;if(!this.navigationMeshWrapper){let t;this.navigationMeshWrapper=new class{constructor(e=!1,t=!1){this.usePhysics=e,this.isExport=t,this.onPointerDown=e=>{if(1!==L1.length)return;let{raycaster:t,page:n}=this.eventContext;this.eventContext.updateRaycaster(e);let r=n.raycastWithClones(t);if(0!==r.length){if(this.gameControl){let e=yme.copy(this.gameControl.colliderWorldPosition);e.y-=this.gameControl.colliderHeight/2,this.gameControl.path=this.computePath(e,r[0].point)}this.eventContext.requestRender()}},this.traverseWithPhysics=(e,t)=>n=>{let r;if(n instanceof coe){if(!n.objectForSample)return!0===n.object.dataPatched.physics.fusedBody&&"dynamic"===n.object.dataPatched.physics.rigidBody||void 0;if(n.objectForSample.dataPatched.physics.fusedBody)return;r=n.object}else if(n instanceof L7)r=n.object;else if(r=n,!1===r.dataPatched.cloner?.disabled&&r.dataPatched.cloner?.hideBase&&!0!==r.dataPatched.physics?.fusedBody)return!0;if(t&&!r.userData.navmesh)return;let i=r.dataPatched;if(!i.visible&&!0!==i.physics?.enabled)return!0;n.updateMatrixWorldSVD();let a=nge(i),o=r.userData.hasDestroy,s=r.userData.hasDrag,l=!1,c=!1;for(let e of i.events)!0!==e.data.disabled&&("GameControl"===e.data.type?l=!0:"Follow"===e.data.type&&(c=!0));if(l||a||c||o||s)return!0;if(this.usePhysics&&"dynamic"===i.physics?.rigidBody){if(this.usePhysics&&i.physics?.fusedBody)return!0}else if("geometry"in n&&n.geometry&&e.push(Ufe(n.geometry,n.matrixWorld)),this.usePhysics&&i.physics?.fusedBody)return n.traverseObject(((t,n)=>{if(0===n)return;let r;if(t instanceof coe){if(!t.objectForSample)return!0===t.object.dataPatched.physics.fusedBody&&"dynamic"===t.object.dataPatched.physics.rigidBody||void 0;if(t.objectForSample.dataPatched.physics.fusedBody)return;r=t.object}else if(t instanceof L7)r=t.object;else if(r=t,t.dataPatched.cloner?.hideBase)return!0;let i=r.dataPatched;if(!i.visible&&!0!==i.physics?.enabled)return!0;"geometry"in t&&t.geometry&&e.push(Ufe(t.geometry,t.matrixWorld))})),!0},this.traverseNoPhysics=(e,t)=>n=>{let r;if(n instanceof coe)return;r=n instanceof L7?n.object:n;let i=r.dataPatched;if("visibility"===i.physics.enabled?!i.visible:!i.physics.enabled)return!0;if(t&&!r.userData.navmesh)return;let a=n.geometry,o=!0===r.userData.hasDestroy,s=!0===r.userData.hasDrag;if(nge(i)||o||s||r.dataPatched.events.some((e=>!0!==e.data.disabled&&"GameControl"===e.data.type)))return!0;a&&e.push(Ufe(a,n.matrixWorld))},this.navmeshWasm=pme,this.navMesh=new this.navmeshWasm.NavMesh,this._workerURL=URL.createObjectURL(new Blob([(t?"\n(async function() {\n\tconst [wasmImport, wasmBinary] = await Promise.all([\n\t\timport('https://unpkg.com/@splinetool/runtime@1.0.19/build/' + 'navmesh.js'),\n\t\tfetch('https://unpkg.com/@splinetool/navmesh-wasm@1.0.19/build/' + 'navmesh.wasm').then((res) => res.arrayBuffer()),\n\t]);\n\tconst wasmModule = wasmImport.default;\n\tself.module = await wasmModule({ wasmBinary });\n\tpostMessage('ready');\n})();\n":"\n(async function() {\n\tconst [wasmImport, wasmBinary] = await Promise.all([\n\t\timport(self.location.origin + '/_libraries/navmesh.js'),\n\t\tfetch(self.location.origin + '/_libraries/navmesh.wasm').then((res) => res.arrayBuffer()),\n\t]);\n\tconst wasmModule = wasmImport.default;\n\tself.module = await wasmModule({ wasmBinary });\n\tpostMessage('ready');\n})();\n")+"\n\nonmessage = function(messageEvent) {\n\tconst meshData = messageEvent.data;\n\tconst positions = meshData[0];\n\tconst offset = meshData[1];\n\tconst indices = meshData[2];\n\tconst indicesLength = meshData[3];\n\tconst parameters = meshData[4];\n\n\tconst module = self.module;\n\tconst rc = new module.rcConfig();\n\trc.cs = parameters.cs;\n\trc.ch = parameters.ch;\n\trc.borderSize = parameters.borderSize ? parameters.borderSize : 0;\n\trc.tileSize = parameters.tileSize ? parameters.tileSize : 0;\n\trc.walkableSlopeAngle = parameters.walkableSlopeAngle;\n\trc.walkableHeight = parameters.walkableHeight;\n\trc.walkableClimb = parameters.walkableClimb;\n\trc.walkableRadius = parameters.walkableRadius;\n\trc.maxEdgeLen = parameters.maxEdgeLen;\n\trc.maxSimplificationError = parameters.maxSimplificationError;\n\trc.minRegionArea = parameters.minRegionArea;\n\trc.mergeRegionArea = parameters.mergeRegionArea;\n\trc.maxVertsPerPoly = parameters.maxVertsPerPoly;\n\trc.detailSampleDist = parameters.detailSampleDist;\n\trc.detailSampleMaxError = parameters.detailSampleMaxError;\n\n\tif (!self.navMesh) {\n\t\tself.navMesh = new module.NavMesh();\n\t}\n\tself.navMesh.build(positions, offset, indices, indicesLength, rc);\n\n\tconst navmeshData = navMesh.getNavmeshData();\n\tconst arrView = new Uint8Array(module.HEAPU8.buffer, navmeshData.dataPointer, navmeshData.size);\n\tconst ret = new Uint8Array(navmeshData.size);\n\tret.set(arrView);\n\tnavMesh.freeNavmeshData(navmeshData);\n\n\tpostMessage(ret);\n}\n"])),this._worker=new Worker(this._workerURL)}init(e,t,n){this.gameControl=t,this.eventContext=n,this.resolution=e.ch,this.setDefaultQueryExtent((new tH).setScalar(e.ch*e.walkableRadius*1.2)),this._worker.onmessage=()=>{this.createNavMesh(n.page,e,(e=>{this.buildFromNavmeshData(e.data)}))},this.eventContext.renderer.domElement.addEventListener("pointerdown",this.onPointerDown)}createNavMesh(e,t,n){t.objects.forEach((t=>{let n=e.scene.find(t);n.traverseEntity((e=>{e.userData.navmesh=!0})),n.cloner?.traverseObject((e=>{e.userData.navmesh=!0}))}));let r=[],i=(this.usePhysics?this.traverseWithPhysics:this.traverseNoPhysics)(r,"custom"===t.zones);if(e.traverseChildren(i),t.objects.forEach((t=>{let n=e.scene.find(t);n.traverseEntity((e=>{e.userData.navmesh=void 0})),n.cloner?.traverseObject((e=>{e.userData.navmesh=void 0}))})),0===r.length)return!1;let a=t8(r),{positions:o,triIndices:s}=Fte(a.getAttribute("position"),a.getIndex());return this._worker.postMessage([o,o.length/3,s,s.length,{...vme,...t}]),this._worker.onmessage=n,!0}createDebugNavGeometry(){let e,t,n=this.navMesh.getDebugNavMesh(),r=n.getTriangleCount(),i=new Uint32Array(3*r),a=new Float32Array(3*r*3);for(e=0;e<3*r;e++)i[e]=e;for(e=0;e<r;e++)for(t=0;t<3;t++){let r=n.getTriangle(e).getPoint(t);a[9*e+3*t+0]=r.x,a[9*e+3*t+1]=r.y,a[9*e+3*t+2]=r.z}let o=new DG;return o.setIndex(new wG(i,1)),o.setAttribute("position",new wG(a,3)),o}getClosestPoint(e){return mme.x=e.x,mme.y=e.y,mme.z=e.z,this.navMesh.getClosestPoint(mme)}getClosestPointToRef(e,t){mme.x=e.x,mme.y=e.y,mme.z=e.z;let n=this.navMesh.getClosestPoint(mme);t.set(n.x,n.y,n.z)}getRandomPointAround(e,t){return mme.x=e.x,mme.y=e.y,mme.z=e.z,this.navMesh.getRandomPointAround(mme,t)}getRandomPointAroundToRef(e,t,n){mme.x=e.x,mme.y=e.y,mme.z=e.z;let r=this.navMesh.getRandomPointAround(mme,t);n.set(r.x,r.y,r.z)}moveAlong(e,t){return mme.x=e.x,mme.y=e.y,mme.z=e.z,gme.x=t.x,gme.y=t.y,gme.z=t.z,this.navMesh.moveAlong(mme,gme)}moveAlongToRef(e,t,n){return mme.x=e.x,mme.y=e.y,mme.z=e.z,gme.x=t.x,gme.y=t.y,gme.z=t.z,this.navMesh.moveAlong(mme,gme)}computePath(e,t){let n=this.getClosestPoint(t);gme.x=n.x,gme.y=n.y,gme.z=n.z,this.getClosestPoint(e);let r=this.navMesh.computePath(mme,gme),i=r.getPointCount(),a=[];for(let e=0;e<i;e++){let t=r.getPoint(e);a.push(new tH(t.x,t.y,t.z))}return a}createCrowd(e,t){return new class{constructor(e,t,n){this.navmeshWasmWrapper=e,this.transforms=[],this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this.crowd=new this.navmeshWasmWrapper.navmeshWasm.Crowd(t,n,this.navmeshWasmWrapper.navMesh.getNavMesh())}onReachTarget(e,t){}addAgent(e,t,n){let r=new this.navmeshWasmWrapper.navmeshWasm.dtCrowdAgentParams;r.radius=t.radius,r.height=t.height,r.maxAcceleration=t.maxAcceleration,r.maxSpeed=t.maxSpeed,r.collisionQueryRange=t.collisionQueryRange,r.pathOptimizationRange=t.pathOptimizationRange,r.separationWeight=t.separationWeight,r.updateFlags=7,r.obstacleAvoidanceType=0,r.queryFilterType=0,r.userData=0;let i=this.crowd.addAgent(new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z),r);return this.transforms.push(n),this.agents.push(i),this.reachRadii.push(t.reachRadius?t.reachRadius:t.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new tH(0,0,0)),i}getAgentPosition(e){return this.crowd.getAgentPosition(e)}getAgentPositionToRef(e,t){let n=this.crowd.getAgentPosition(e);t.set(n.x,n.y,n.z)}getAgentVelocity(e){return this.crowd.getAgentVelocity(e)}getAgentVelocityToRef(e,t){let n=this.crowd.getAgentVelocity(e);t.set(n.x,n.y,n.z)}getAgentNextTargetPath(e){return this.crowd.getAgentNextTargetPath(e)}getAgentNextTargetPathToRef(e,t){let n=this.crowd.getAgentNextTargetPath(e);t.set(n.x,n.y,n.z)}getAgentState(e){return this.crowd.getAgentState(e)}overOffmeshConnection(e){return this.crowd.overOffmeshConnection(e)}agentGoto(e,t){this.crowd.agentGoto(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z));let n=this.agents.indexOf(e);n>-1&&(this._agentDestinationArmed[n]=!0,this._agentDestination[n].set(t.x,t.y,t.z))}agentTeleport(e,t){this.crowd.agentTeleport(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z))}updateAgentParameters(e,t){let n=this.crowd.getAgentParameters(e);void 0!==t.radius&&(n.radius=t.radius),void 0!==t.height&&(n.height=t.height),void 0!==t.maxAcceleration&&(n.maxAcceleration=t.maxAcceleration),void 0!==t.maxSpeed&&(n.maxSpeed=t.maxSpeed),void 0!==t.collisionQueryRange&&(n.collisionQueryRange=t.collisionQueryRange),void 0!==t.pathOptimizationRange&&(n.pathOptimizationRange=t.pathOptimizationRange),void 0!==t.separationWeight&&(n.separationWeight=t.separationWeight),this.crowd.setAgentParameters(e,n)}removeAgent(e){this.crowd.removeAgent(e);let t=this.agents.indexOf(e);t>-1&&(this.agents.splice(t,1),this.transforms.splice(t,1),this.reachRadii.splice(t,1),this._agentDestinationArmed.splice(t,1),this._agentDestination.splice(t,1))}getAgents(){return this.agents}update(e){if(this.navmeshWasmWrapper.navMesh.update(),!(e<=.001)){{let t=Math.floor(e/.016666666666666666);t>10&&(t=10),t<1&&(t=1);let n=e/t;for(let e=0;e<t;e++)this.crowd.update(n)}for(let e=0;e<this.agents.length;e++){let t=this.agents[e],n=this.getAgentPosition(t);if(this.transforms[e].copy(n),this._agentDestinationArmed[e]){let r=n.x-this._agentDestination[e].x,i=n.z-this._agentDestination[e].z,a=this.reachRadii[e],o=this._agentDestination[e].y-this.reachRadii[e],s=this._agentDestination[e].y+this.reachRadii[e],l=r*r+i*i;n.y>o&&n.y<s&&l<a*a&&(this.onReachTarget(t,this._agentDestination[e]),this._agentDestinationArmed[e]=!1)}}}}setDefaultQueryExtent(e){let t=new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z);this.crowd.setDefaultQueryExtent(t)}getDefaultQueryExtent(){return this.crowd.getDefaultQueryExtent()}getDefaultQueryExtentToRef(e){let t=this.crowd.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}getCorners(e){let t,n=this.crowd.getCorners(e),r=n.getPointCount(),i=[];for(t=0;t<r;t++){let e=n.getPoint(t);i.push(new tH(e.x,e.y,e.z))}return i}dispose(){this.crowd.destroy()}}(this,e,t)}setDefaultQueryExtent(e){mme.x=e.x,mme.y=e.y,mme.z=e.z,this.navMesh.setDefaultQueryExtent(mme)}getDefaultQueryExtent(){return this.navMesh.getDefaultQueryExtent()}buildFromNavmeshData(e){let t=e.length*e.BYTES_PER_ELEMENT,n=this.navmeshWasm._malloc(t),r=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,n,t);r.set(e);let i=new this.navmeshWasm.NavmeshData;i.dataPointer=r.byteOffset,i.size=e.length,this.navMesh.buildFromNavmeshData(i),this.navmeshWasm._free(r.byteOffset)}getNavmeshData(){let e=this.navMesh.getNavmeshData(),t=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,e.dataPointer,e.size),n=new Uint8Array(e.size);return n.set(t),this.navMesh.freeNavmeshData(e),n}getDefaultQueryExtentToRef(e){let t=this.navMesh.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}dispose(){this.navMesh.destroy(),this._worker.terminate(),URL.revokeObjectURL(this._workerURL),this.eventContext?.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown)}addCylinderObstacle(e,t,n){return mme.x=e.x,mme.y=e.y,mme.z=e.z,this.navMesh.addCylinderObstacle(mme,t,n)}addBoxObstacle(e,t,n){return mme.x=e.x,mme.y=e.y,mme.z=e.z,gme.x=t.x,gme.y=t.y,gme.z=t.z,this.navMesh.addBoxObstacle(mme,gme,n)}removeObstacle(e){this.navMesh.removeObstacle(e)}isSupported(){return void 0!==this.navmeshWasm}}(this.usePhysics,this.isExport),t="sphere"===e.collider.type?2*e.collider.radius:e.collider.height,t=Math.floor(t/e.navmesh.ch-1),this.navigationMeshWrapper.init({...e.navmesh,walkableHeight:t},this.gameControl,this.eventContext)}}if(!1===n){let{enableRotate:e,enablePan:n,enableZoom:r,autoRotate:i,hoverRotatePanMode:a}=this.eventManager.publish.orbitControls;(e||n||r||i||0!==a)&&(this.orbitControls=new Lme(t,this.renderer.domElement,{isExport:this.isExport,isPlayMode:!0}),this.orbitControls.addEventListener("change",this.requestRender),this.orbitControls.addEventListener("end",this.requestRender),this.orbitControls.addEventListener("start",this.requestRender),this.orbitControls.fromJSON(this.eventManager.publish.orbitControls,this.eventManager.publish.mouseEventTarget),this.orbitControls.useKeyEvents=!1,this.orbitControls.addEventListenersToCamera(),this.orbitControls.connect(),this.orbitControls.update())}let u=this.renderer.domElement.width/this.renderer.getPixelRatio(),h=this.renderer.domElement.height/this.renderer.getPixelRatio();this.joystickToGameControls.forEach(((e,t)=>{let n=document.body.appendChild(document.createElement("div")),[r,i,a]=this.eventManager.eventContext.publish.joystickSizeAndXYOffset[t],o=(u-5*r)/4+r,s={},l="jmp"===e,c=l?0:r;t<10?(t<5?s.top=c/2:s.bottom=c/2,s.left=c/2+t%5*o):10===t?(s.left=c/2,s.top=h/2):(s.right=c/2,s.top=h/2),s.top?s.top-=i[1]:s.bottom+=i[1],s.left?s.left+=i[0]:s.right-=i[0];for(let e in s)s[e]+="px";if(l){let e=n.appendChild(document.createElement("div"));Object.assign(e.style,s,{position:"absolute",width:r+"px",height:r+"px",backgroundColor:`rgba(255,255,255,${"show"===a?.4:0})`,zIndex:"9999",borderRadius:r+"px",border:"show"===a?"solid 2px rgba(0, 0, 0, .1)":"none",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none"});let i=r/16*16*.4;return"show"===a&&(e.innerHTML=`\n\t\t\t\t\t\t<svg width="${i}" height="${.4*r}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path d="M2 10L8 4L14 10" stroke="black" stroke-opacity="40%" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t`),e.addEventListener("pointerdown",(()=>{this.gameControl.movementState.jump=1,this.requestRender()})),e.addEventListener("touchend",(e=>e.preventDefault())),void(this.joysticks[t]=[void 0,n])}let d={zone:n,mode:"static",position:s,size:r};"hide"===a&&(d.restOpacity=0);let f=function(e){return ihe.create(e)}(d);f.on("move",((t,n)=>{let r=this.gameControl;"pos"===e?n.force<.2?r.moveForce=0:(r.movementState.movePosZ=Math.sin(-n.angle.radian),r.movementState.movePosX=Math.cos(-n.angle.radian),n.force>1.2?r.movementState.run=1:r.movementState.run=0,n.force<.3?r.moveForce=(n.force-.2)/.1:r.moveForce=1):"rot"===e&&(n.force<.2?r.rotForce=0:(r.movementState.rotPosX=n.vector.y,r.movementState.rotPosY=-n.vector.x,n.force<.3?r.rotForce=(n.force-.2)/.1:r.rotForce=1)),this.requestRender()})),f.on("end",((t,n)=>{let r=this.gameControl;"pos"===e?(r.movementState.movePosZ=0,r.movementState.movePosX=0,r.moveForce=1):"rot"===e&&(r.movementState.rotPosX=0,r.movementState.rotPosY=0,r.rotForce=1)})),this.joysticks[t]=[f,n]})),this.markIsDestroyTarget(),this.markIsDragObject(),this.rebuildBVH(),this.initializationCounter++,window.setTimeout((()=>{this.collisionEvents.forEach((e=>e.disabled=!1))}),80)}initPhysics(){this.sharedGameControlGlobals.rapierWorld?.free(),this.sharedGameControlGlobals.rapierWorld=new Bme.World(new Bme.Vector3(0,this.gravity,0)),this.events=new Bme.EventQueue(!0);let e=[],t=[];if(this.page.traverseChildren((n=>{let r;if(n instanceof coe){if(!n.objectForSample)return!0===n.object.dataPatched.physics.fusedBody&&"dynamic"===n.object.dataPatched.physics.rigidBody||void 0;if(n.objectForSample.dataPatched.physics.fusedBody)return;r=n.object}else if(n instanceof L7)r=n.object;else{if(n instanceof Vce||n instanceof Hoe)return;if(r=n,!1===r.dataPatched.cloner?.disabled&&r.dataPatched.cloner?.hideBase&&!0!==r.dataPatched.physics?.fusedBody)return!0}let i,a=r.dataPatched;for(let e of a.events)!0!==e.data.disabled&&"GameControl"===e.data.type&&(i=e.data);if(!a.physics||("visibility"===a.physics.enabled?!a.visible:!a.physics.enabled))return!0;n.updateMatrixWorldSVD();let o=nge(a),s=!1,l=r.userData.hasDestroy,c=r.userData.hasDrag,u=!1;for(let e of a.events)if(!0!==e.data.disabled)if("Collision"===e.data.type){s=!0;let t=new ume(e.id,e.data,r,this.page,this.sharedAssets,this.eventManager);t.disabled=!0,this.collisionEvents.push(t),this.sharedGameControlGlobals.entityToCollisionEvents[r.uuid]&&this.sharedGameControlGlobals.entityToCollisionEvents[r.uuid].every((t=>t.id!==e.id))?this.sharedGameControlGlobals.entityToCollisionEvents[r.uuid].push(t):this.sharedGameControlGlobals.entityToCollisionEvents[r.uuid]=[t]}else if("Follow"===e.data.type){u=!0;let t=e.data.target;n.traverseVisible((e=>{e.userData.isFollowingObj=t}))}"dynamic"===a.physics.rigidBody&&!1===a.physics.fusedBody&&(n.matrixWorldFusedFalse=n.matrixWorld.clone());let h=n.geometry;if(void 0!==i){let e=Bme.RigidBodyDesc.kinematicPositionBased();(n.hasNonUniformScale?n.matrixWorldRigid:n.matrixWorld).decompose(Ume,jme,Vme),n.position0=Ume.clone().divideScalar(this.pixelsPerMeter),n.rotation0=jme.clone(),Ume.divideScalar(this.pixelsPerMeter),e.setTranslation(Ume.x,Ume.y,Ume.z).setRotation(jme);let t,o=this.sharedGameControlGlobals.rapierWorld.createRigidBody(e);n.rigidBody=o,t="sphere"===i.collider.type?Bme.ColliderDesc.ball(i.collider.radius/this.pixelsPerMeter):"capsule"===i.collider.type?Bme.ColliderDesc.capsule((i.collider.height/2-i.collider.radius)/this.pixelsPerMeter,i.collider.radius/this.pixelsPerMeter):Bme.ColliderDesc.cuboid(i.collider.width/this.pixelsPerMeter/2,i.collider.height/this.pixelsPerMeter/2,i.collider.depth/this.pixelsPerMeter/2),t.setFrictionCombineRule(Bme.CoefficientCombineRule.Average).setRestitutionCombineRule(Bme.CoefficientCombineRule.Average).setDensity(a.physics.density).setFriction(a.physics.friction).setRestitution(a.physics.restitution);let s=this.sharedGameControlGlobals.rapierWorld.createCollider(t,o);this.sharedGameControlGlobals.colliderToEntity.set(s.handle,r),Ume.fromArray(i.collider.position).multiply(Vme.setFromMatrixScale(r.matrixWorld)).divideScalar(this.pixelsPerMeter),s.setTranslationWrtParent(Ume);let l=(new eH).setFromEuler((new jH).setFromVector3((new tH).fromArray(i.collider.rotation)));s.setRotationWrtParent(l),s.setActiveEvents(Bme.ActiveEvents.COLLISION_EVENTS),this.generateSensorColliderDescs(r,!0)}else"dynamic"===a.physics.rigidBody||o||u||l||c||s?(this.addRigidBody(n,r,{hasFollow:u,hasTransformAnim:o,hasDrag:c}),this.generateSensorColliderDescs(r,a.physics.fusedBody)):(h&&e.push(Ufe(h,n.matrixWorld)),a.physics.fusedBody&&n.traverseObject(((t,n)=>{if(0===n)return;let r;if(t instanceof coe){if(!t.objectForSample)return!0===t.object.dataPatched.physics.fusedBody&&"dynamic"===t.object.dataPatched.physics.rigidBody||void 0;if(t.objectForSample.dataPatched.physics.fusedBody)return;r=t.object}else if(t instanceof L7)r=t.object;else if(r=t,r.dataPatched.cloner?.hideBase)return!0;let i=r.dataPatched;if("visibility"===i.physics.enabled?!i.visible:!i.physics.enabled)return!0;let a=t.geometry;void 0!==a?.getAttribute("position")&&e.push(Ufe(a,t.matrixWorld))})),this.generateSensorColliderDescs(r,a.physics.fusedBody,t));return!(!0!==a.physics?.fusedBody&&!i)||void 0})),0===e.length)return;let n=t8(e);n.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter);let r=Bme.RigidBodyDesc.fixed(),i=this.sharedGameControlGlobals.rapierWorld.createRigidBody(r),a=Bme.ColliderDesc.trimesh(n.getAttribute("position").array,n.getIndex().array).setFrictionCombineRule(Bme.CoefficientCombineRule.Multiply).setRestitutionCombineRule(Bme.CoefficientCombineRule.Multiply).setFriction(1).setRestitution(1);this.sharedGameControlGlobals.rapierWorld.createCollider(a,i);for(let[e,n]of t){let t=this.sharedGameControlGlobals.rapierWorld.createCollider(e,i);this.sensorToTriggerEvent[t.handle]=n}}updatePositions(){return this.nActiveRigidBodies=0,this.sharedGameControlGlobals.rapierWorld.forEachRigidBody(this.processRigidBody),this.nActiveRigidBodies>0}rebuildBVH(){this.usePhysics?this.initPhysics():(this.page.traverseEntity((e=>{for(let t of e.dataPatched.events)if("Trigger"===t.data.type&&!0!==t.data.disabled){let n=new Fme(t.id,t.data,e,this.page,this.sharedAssets,this.eventManager),r=(new kH).compose(Wme.fromArray(t.data.position),Yme.setFromEuler(Gme.fromArray(t.data.rotation)),Xme);if("box"===t.data.triggerZone){let i=new iH;i.min.fromArray(t.data.size).multiplyScalar(-.5),i.max.fromArray(t.data.size).multiplyScalar(.5),this.sharedGameControlGlobals.triggers.push([i,r,e,n])}else this.sharedGameControlGlobals.triggers.push([t.data.radius,r,e,n])}})),this.needsCollisionDetection&&this.initBVH())}disconnectEvents(){this.collisionEvents.forEach((e=>e.disconnect())),this.sharedGameControlGlobals.triggers.forEach((e=>e[3].disconnect())),this.sharedGameControlGlobals.triggers.length=0}deactivate(){if(this.isEnabled){this.isEnabled=!1,this.page.traverse((e=>{let t=e;t.matrixWorldFusedFalse&&(t.matrixWorldFusedFalse=void 0),t.rigidBody&&(t.rigidBody=void 0),t.position0&&(t.position0=void 0),t.rotation0&&(t.rotation0=void 0)})),this.sharedGameControlGlobals.rapierWorld?.free(),this.sharedGameControlGlobals.rapierWorld=void 0,this.sharedGameControlGlobals.staticMeshBVH=void 0,this.accumulator=0,this.sharedGameControlGlobals.entitiesWithTransformAnim=[],this.disconnectEvents(),this.gameControl?.reset(),this.gameControl?.dispose(),this.gameControl=null,this.initializationCounter=-1,this.joysticks.forEach((([e,t])=>{e?.destroy(),t.remove()})),this.joystickToGameControls=[],this.joysticks=[],this.orbitControls&&(this.orbitControls.dispose(),this.orbitControls=void 0),this.navigationMeshWrapper?.dispose(),this.navigationMeshWrapper=void 0;for(let e of Object.values(this.sharedGameControlGlobals.entityToCollisionEvents))e.forEach((e=>e.disconnect()));this.sharedGameControlGlobals.entityToCollisionEvents={},this.page.updateMatrixWorld(!0)}}update(e,t,n){if(!this.isEnabled)return!0;let r=!0;if(void 0!==this.orbitControls&&this.orbitControls.needsUpdate&&(r=!this.orbitControls.update()),this.initializationCounter>=0&&this.initializationCounter<2?(this.initializationCounter++,r=!1):2===this.initializationCounter&&this.gameControl&&(r=!this.gameControl.update(e,t,n)&&r),!1===this.usePhysics&&this.checkTrigger(),this.usePhysics){let t=.016666666666666666;if(0===e)r=this.stepPhysics()&&r;else{let n=e/1e3;n<t&&n>.55*t&&(n=t),this.accumulator+=n;let i=performance.now(),a=0,o=6;for(;this.accumulator>=t&&a<o&&(r=this.stepPhysics()&&r,this.accumulator-=t,a++,!(performance.now()-i>1e3*t)););this.accumulator=this.accumulator%t}}return r}stepPhysics(){for(let e of this.sharedGameControlGlobals.entitiesWithTransformAnim){(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(Ume,jme,Vme),Hme.setFromQuaternion(jme);let t=e;void 0===t.prevR?(t.prevR=Hme.clone(),t.prevT=Ume.clone()):(t.prevR.copy(Hme),t.prevT.copy(Ume)),e.rigidBody&&(e.rigidBody.setNextKinematicTranslation(Ume.divideScalar(this.pixelsPerMeter)),e.rigidBody.setNextKinematicRotation(jme))}return this.sharedGameControlGlobals.rapierWorld.step(this.events),this.events?.drainCollisionEvents(this.handleCollisionEvents),!this.updatePositions()}dispatchCollisionEvent(e,t,n){let r,i=this.sharedGameControlGlobals.rapierWorld?.getCollider(n)._parent;if(t.cloner)for(let e of t.cloner.children)if(e.rigidBody===i){r=e;break}e.dispatch(r),t.dispatchEvent(ege)}updateUseWindowEvents(e){this.orbitControls?.updateUseWindowEvents(e)}generateSensorColliderDescs(e,t,n){let r=Kme.copy(e.matrixWorld).invert();e.traverseEntity(((i,a)=>{if(!1===t&&1===a)return!0;for(let t of i.dataPatched.events)if("Trigger"===t.data.type&&!0!==t.data.disabled){let a,o=new Fme(t.id,t.data,i,this.page,this.sharedAssets,this.eventManager);if(a="box"===t.data.triggerZone?Bme.ColliderDesc.cuboid(...t.data.size.map((e=>e/(2*this.pixelsPerMeter)))):Bme.ColliderDesc.ball(t.data.radius/this.pixelsPerMeter),a.setDensity(0).setSensor(!0).setActiveEvents(Bme.ActiveEvents.COLLISION_EVENTS),Wme.fromArray(t.data.position),Yme.setFromEuler(Gme.fromArray(t.data.rotation)),Qme.compose(Wme,Yme,Xme).premultiply(i.matrixWorld),n?(Qme.decompose(Wme,Yme,qme),a.setActiveCollisionTypes(Bme.ActiveCollisionTypes.KINEMATIC_FIXED|Bme.ActiveCollisionTypes.DYNAMIC_FIXED)):(Qme.premultiply(r).decompose(Wme,Yme,qme),e.rigidBody.bodyType()===Bme.RigidBodyType.Dynamic||(e.rigidBody.bodyType()===Bme.RigidBodyType.Fixed?a.setActiveCollisionTypes(Bme.ActiveCollisionTypes.KINEMATIC_FIXED|Bme.ActiveCollisionTypes.DYNAMIC_FIXED):a.setActiveCollisionTypes(Bme.ActiveCollisionTypes.KINEMATIC_KINEMATIC|Bme.ActiveCollisionTypes.DYNAMIC_KINEMATIC))),Wme.divideScalar(this.pixelsPerMeter),a.setTranslation(Wme.x,Wme.y,Wme.z),a.setRotation(Yme),n)n.push([a,o]);else{let t=this.sharedGameControlGlobals.rapierWorld.createCollider(a,e.rigidBody);this.sensorToTriggerEvent[t.handle]=o}}}))}checkTrigger(){let e;for(let t=0;t<this.sharedGameControlGlobals.triggers.length;t++){let[n,r,i,a]=this.sharedGameControlGlobals.triggers[t];for(let t=0;t<this.sharedGameControlGlobals.entitiesWithTransformAnim.length;t++){let o=this.sharedGameControlGlobals.entitiesWithTransformAnim[t];if(i===o||!1===a.isValidTriggeringObject(O7.is(o)?o:o.object))continue;let s=Kme.copy(i.matrixWorld).decompose(Wme,Jme,qme).compose(Wme,Jme,Xme).multiply(r),l=Qme.copy(o.matrixWorld).invert().multiply(s);n instanceof iH?e=o.bvhGeometry.boundsTree.intersectsBox(n,l):($me.radius=n,$me.center.setFromMatrixPosition(l),e=o.bvhGeometry.boundsTree.intersectsSphere($me)),e?-1===a.currentIntersectedObjects.indexOf(o)&&(a.currentIntersectedObjects.push(o),a.dispatch(),i.dispatchEvent(tge)):a.currentIntersectedObjects=a.currentIntersectedObjects.filter((e=>e!==o))}}}}(e),this._animationControls=new class{constructor(e,t,n,r){this.scene=e,this.requestRender=t,this.updateDisplayProgress=n,this.animationInspectorState=r,this.clipIdToAction={},this.activeClip=null,this.needsUpdate=!1,this.addClip=e=>{"Empty"===e.data.type&&e.data.animations&&e.data.animations.forEach(((t,n)=>{let r=t[0]+"/";if(Array.isArray(e.identity)?r+=e.identity[0]:r+=e.uuid,this.clipIdToAction[r])return;let i=FQ.parse(JSON.parse(t[2]));e.animations[n]=i;let a=this.mixer.clipAction(i,e);!1===age&&(Object.getPrototypeOf(a)._updateTime=rge,age=!0),a.clampWhenFinished=!0,this.clipIdToAction[r]=a}))},this.mixer=new TK(e),this.scene.traverseEntity(this.addClip)}deleteClip(e,t){let n=this.scene.find(t);if(!n)return;let r=n.animations.find((t=>t.uuid===e));if(!r)return;let i=this.clipIdToAction[e];!i||(i.stop(),this.mixer.uncacheClip(r),delete this.clipIdToAction[e],n.animations=n.animations.filter((t=>t.uuid!==e)))}get isPlaying(){return Object.values(this.clipIdToAction).some((e=>e.isRunning()))}playFromInspector(e){this.mixer.stopAllAction();let t=this.clipIdToAction[e];!t||(t.play(),this.activeClip=t.getClip(),this.requestRender())}onExitPlayMode(){Object.values(this.clipIdToAction).forEach((e=>{e.repetitions=1/0,e.loop=2201})),this.mixer.stopAllAction(),this.requestRender()}play(e){let t=e.clipId+"/"+e.object,n=this.clipIdToAction[t];if(n)return e&&(e.repeat>=0&&(n.repetitions=e.repeat+1),"pingpong"===e.direction&&0!==e.repeat&&(n.loop=qj)),n.play(),n.paused=!1,this.requestRender(),n}resumeFromInspector(e){let t=this.clipIdToAction[e];!t||(t.play(),t.paused=!1,this.requestRender())}pauseFromInspector(e){let t=this.clipIdToAction[e];!t||(t.paused=!0)}stop(){this.mixer.stopAllAction(),this.requestRender()}update(e){if(this.needsUpdate)this.needsUpdate=!1;else if(!1===this.isPlaying||this.animationInspectorState?.isScrubbing)return;this.mixer.update(e/1e3),this.activeClip&&this.updateDisplayProgress(Math.round(this.mixer.time/this.activeClip.duration*this.maxFrames%this.maxFrames)),this.requestRender()}get maxFrames(){return this.activeClip?.tracks[0]?.times.length??0}setProgressFromInspector(e,t){if(!this.clipIdToAction[t])return;this.activeClip!==this.clipIdToAction[t].getClip()&&this.playFromInspector(t);let n=this.clipIdToAction[t].paused;this.clipIdToAction[t].paused=!1,this.mixer.setTime(Math.min(this.maxFrames?e/this.maxFrames:0,.9999)*this.activeClip.duration),this.requestRender(),n&&(this.clipIdToAction[t].paused=!0)}}(this._scene,this._requestRenderAutoMode),this._eventManager=new class{constructor(e,t,n,r,i){this.publish=e,this.controlsManager=t,this.animationControls=n,this.eventContext=r,this.sharedVariables=i,this.isEnabled=!1,this.activateCount=0,this.needsMouse=!1,this.needsRaycast=!1,this.onTouchMovePreventScroll=e=>{(e.touches.length>1||this.preventTouchScroll)&&e.preventDefault()},this.onMouseWheelPreventScroll=e=>{this.preventScroll&&e.preventDefault()},this.onMouseMove=e=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(e),pressed:e.buttons>0}},this.onMouseDown=e=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(e),pressed:!0}},this.onMouseUp=e=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(e),pressed:!1}},this.getMousePosition=e=>{let{domRect:t}=this.eventContext,{pageX:n,pageY:r}=e.touches?.length>0?e.touches[0]:e;return{x:n-(t.left+window.scrollX),y:r-(t.top+window.scrollY)}},this.stopRaycast=e.stopRaycast,this.preventScroll=e.preventScroll,this.preventTouchScroll=e.preventTouchScroll,this.hideCursor=e.hideCursor,this.requestRender=r.requestRender}activate(){if(this.isEnabled)return;this.isEnabled=!0,this.initializeActionsDependentStates(),this.needsMouse&&(this.eventContext.domElement.addEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.addEventListener("pointerdown",this.onMouseDown)),this.handlers={Spline:new ape(this.eventContext),DynamicVariable:new hme(this.eventContext,this.sharedVariables,this,this.needsMouse,this.needsRaycast),Conditional:new fpe(this.eventContext,this),Start:new cme(this.eventContext,this),Basic:new spe(this.eventContext,this,this.needsRaycast),MouseHover:new ime(this.eventContext,this),Scroll:new sme(this.eventContext,this),Follow:new Fpe(this.eventContext,this),DragDrop:new Dpe(this.eventContext,this),LookAt:new $pe(this.eventContext),Resize:new hge(this.eventContext,this)};let{page:e,domElement:t}=this.eventContext;this.hideCursor&&(t.style.cursor="none"),e.traverseEntity((e=>{e.addEventListener("requestRender",this.requestRender)})),Object.values(this.handlers).forEach((e=>e.connect())),t.addEventListener("wheel",this.onMouseWheelPreventScroll),t.addEventListener("touchmove",this.onTouchMovePreventScroll),this.activateCount++}deactivate(){if(!this.isEnabled)return;this.isEnabled=!1,this.eventContext.domElement.removeEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.removeEventListener("pointerdown",this.onMouseDown),this.eventContext.domElement.removeEventListener("pointerup",this.onMouseUp),this.eventContext.sharedAssets.mouseProperty=null,this.eventContext.sharedAssets.raycastProperty=null;let{page:e,domElement:t}=this.eventContext;t.style.cursor="",Object.values(this.handlers).forEach((e=>e.disconnect())),this.controlsManager.gameControl?.disposeActions(),this.controlsManager.disconnectEvents(),e.traverseEntity((e=>{e.removeEventListener("requestRender",this.requestRender),e.destroyedInAction=!1})),t.removeEventListener("touchmove",this.onTouchMovePreventScroll),t.removeEventListener("wheel",this.onMouseWheelPreventScroll),this.animationControls.onExitPlayMode()}get isPaused(){return this.isEnabled}pause(){this.deactivate()}resume(){this.activate()}reset(){this.deactivate(),this.activate(),this.controlsManager.page.updateMatrixWorld(!0),this.controlsManager.rebuildBVH()}updateUseWindowEvents(e){let t=this.isEnabled;t&&this.deactivate(),this.eventContext.useWindowEvents=e,t&&this.activate()}initializeActionsDependentStates(){let e=this.eventContext.sharedAssets;e.resetDynamicVariablePlayState();let t=n=>{if("Conditional"===n.data.type&&(n.data.ifActions.forEach(t),n.data.elseActions.forEach(t)),"Conditional"===n.data.type||"SetVariable"===n.data.type)for(let e of"Conditional"===n.data.type?n.data.condition:n.data.expression)"id"in e&&Array.isArray(e.id)&&("mouse"===e.id[0]&&(this.needsMouse=!0),"raycast"===e.id[0]&&(this.needsRaycast=!0));"DynamicVariablePlay"===n.data.type&&""!==n.data.variableId&&("Play"===n.data.mode||"PlayPause"===n.data.mode||"Toggle"===n.data.mode)&&e.setDynamicVariablePlayState(n.data.variableId,"Stopped")};this.eventContext.page.traverseEntity((e=>{if(e.data?.events.length)for(let n of e.data.events)if(!n.data.disabled)if("VariableChange"===n.data.type&&("mouseProperty"===n.data.variableId&&(this.needsMouse=!0),"raycastProperty"===n.data.variableId&&(this.needsRaycast=!0)),"Conditional"===n.data.type)for(let e of["inActions","outActions"])n.data[e].forEach(t);else if("DragDrop"===n.data.type)for(let e of["drag","drop"])n.data.dragDropActions[e].forEach(t);else if("GameControl"===n.data.type)for(let e of["idle","move","jump","run"])n.data.gameActions[e].forEach(t);else if("Resize"===n.data.type)for(let e of n.data.breakpoints)e.data.actions.forEach(t);else"LookAt"===n.data.type||n.data.actions.forEach(t)}))}}(r.scene.publish,this._controls,this._animationControls,e,r.shared.variables),this._eventManager.activate(),this._controls.activate(this._eventManager)}this._resize(),void 0!==n&&this.setVariables(n),0===this.dt&&(this.render(performance.now()),setTimeout((()=>{this._renderer?.setAnimationLoop(this.render)}),0)),this._resizeObserverTimeout=setTimeout((()=>{!this._resizeObserver&&this.canvas.parentElement&&(this._resizeObserver=new ResizeObserver((()=>{this._viewportWidth=this.canvas.clientWidth,this._viewportHeight=this.canvas.clientHeight,this._debouncedResize()})),this._resizeObserver.observe(this.canvas.parentElement))}),300),document.addEventListener("scroll",this._onScroll)}setVariables(e){if(void 0!==this._data){let t=Object.entries(e);for(let[e,n]of t)this.setVariable(e,n)}}setVariable(e,t){let n=this._getVariableByName(e);if(n&&!("dynamicVariableType"in n.data)){let e=t;"number"==typeof n.data.value?e="number"==typeof t?t:"boolean"==typeof t?!0===t?1:0:parseFloat(t):"boolean"==typeof n.data.value?e="number"==typeof t?!!t:"boolean"==typeof t?t:"false"!==t.toLocaleLowerCase()&&!!t:"string"!=typeof n.data.value&&void 0!==n.data.value.textValue&&(e=t.toString());let r="string"==typeof e?{textValue:e}:e;this._sharedAssetsManager?.updateVariable(n.id,r),this.requestRender(),this._requestRenderAutoMode()}else void 0===n?console.warn(`No variable named ${e} was found in your Spline file. Make sure to create it from Spline editor.`):"dynamicVariableType"in n.data&&console.warn(`Dynamic variables like ${e} cannot be updated from code.`)}getVariables(){let e={};return this._data&&this._data.shared.variables.forEach((t=>{void 0===e[t.data.name]&&(e[t.data.name]=this._getVariableValue(this._sharedAssetsManager.getVariable(t.id)))})),e}getVariable(e){let t=this._getVariableByName(e);if(t){let e=this._sharedAssetsManager.getVariable(t.id);return this._getVariableValue(e)}}_getVariableValue(e){return"string"!=typeof e&&c6.isTextValue(e)?c6.getDisplayedValue(e):e}_getVariableByName(e){if(this._data){if(this._variablesCache.has(e))return this._variablesCache.get(e);let t=this._data.shared.variables.find((t=>t.data.name===e));return t&&this._variablesCache.set(e,t),t}}findObjectById(e){let t=this._scene?.getObjectByProperty("uuid",e);return this._createProxyObject(t)}findObjectByName(e){let t=this._scene?.getObjectByName(e);return this._createProxyObject(t)}getAllObjects(){let e=[];return this._scene?.traverseEntity((t=>{if(!(t.uuid===K4||this._scene.isInvisibleObjects(t)||t instanceof _ce)){let n=this._createProxyObject(t);n&&e.push(n)}})),e}getSplineEvents(){return this._eventManager?.handlers?.Spline.splineEvents}emitEvent(e,t){(this.findObjectById(t)||this.findObjectByName(t))?.emitEvent(e)}emitEventReverse(e,t){(this.findObjectById(t)||this.findObjectByName(t))?.emitEventReverse(e)}addEventListener(e,t){this.canvas.addEventListener(e,t)}removeEventListener(e,t){this.canvas.removeEventListener(e,t)}setZoom(e){this._controls?.orbitControls instanceof Lme&&this._controls?.orbitControls.zoomOut(e)}get eventManager(){return this._eventManager}get controls(){return this._controls}setSize(e,t){this._viewportWidth=e,this._viewportHeight=t,this._viewportMode=2,this._resize()}setBackgroundColor(e){let{r:t,g:n,b:r,a:i}={r:0,g:0,b:0,a:1},a=new bne(t,n,r,i);try{a.setStyle(e)}catch{console.error("This is not a valid css color",e)}this._scene?.activePage.setBackgroundColor(a),this._requestRenderAutoMode()}dispose(){this.disposed=!0,this._eventManager?.deactivate(),this._scene?.dispose(),this._sharedAssetsManager?.dispose(),this._proxyObjectCache.forEach((e=>{RZ.unsubscribe(e)})),this._variablesCache.clear(),this._renderer?.setAnimationLoop(null),this._renderer?.dispose(),this._renderer=void 0,this._sharedAssetsManager?.dispose(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),void 0!==this._resizeObserverTimeout&&clearTimeout(this._resizeObserverTimeout),this.canvas.style.width="",this.canvas.style.height="",this.canvas.removeAttribute("width"),this.canvas.removeAttribute("height"),this._frameView&&(this._frameView=void 0),this._controls?.deactivate(),function(e){e.removeEventListener("pointerdown",F1,!0),e.removeEventListener("pointerdown",j1,!0),e.removeEventListener("pointermove",j1,!0),e.removeEventListener("pointerup",U1,!0),e.removeEventListener("pointercancel",U1,!0),e.removeEventListener("pointerleave",U1,!0),window.removeEventListener("keydown",H1,!0),window.removeEventListener("keyup",G1,!0)}(this.canvas),document.removeEventListener("scroll",this._onScroll)}get isStopped(){return this._isPaused}stop(){this._isPaused||(this._renderer?.setAnimationLoop(null),this._isPaused=!0,this._eventManager?.pause(),this._controls?.orbitControls&&(this._controls.orbitControls.enabled=!1))}play(){!this._isPaused||(this._isPaused=!1,this._eventManager?.resume(),this._controls?.orbitControls&&(this._controls.orbitControls.enabled=!0),this._renderer?.setAnimationLoop(this.render))}setGlobalEvents(e){this._eventManager?.updateUseWindowEvents(e)}get data(){return this._data}_createProxyObject(e){if(null==e)return;if(this._proxyObjectCache.has(e.uuid))return this._proxyObjectCache.get(e.uuid);let t;e.traverseAncestors((e=>{e instanceof _ce&&(t=e.name)}));let n={name:e.name,uuid:e.uuid,visible:e.visible,intensity:e.intensity,position:e.position,rotation:e.rotation,scale:e.scale,type:e.data.type,page:t,parentUuid:e.parent instanceof _ce||e instanceof kue?void 0:e.parent?.uuid,emitEvent(t){e.dispatchEvent({type:"userEvent",eventName:t})},emitEventReverse(t){e.dispatchEvent({type:"userEvent",eventName:t,reverse:!0})}},r=RZ(n,((t,n)=>{"object"!=typeof e[t]&&Object.getOwnPropertyDescriptor(e,t)?.writable&&(e[t]=n),this._requestRenderAutoMode(),e.updateMatrix()}));return this._proxyObjectCache.set(e.uuid,r),r}setUIWasmUrl(e){Yre.skiaWasmUrl=e}}(n.current),u.current.load("https://prod.spline.design/i7EPtYNeCTZkQP8u/scene.splinecode").then((function(e){a(!1)})))}),[n]),e.createElement(nEe,null,!Lo()&&e.createElement("canvas",{style:{width:l,height:c-60},ref:n}),Lo()&&e.createElement(rEe,{style:{width:l,height:c-60}},e.createElement(iEe,null,e.createElement(xo,{icon:Mb.qf,size:"10x",color:"rgb(255,242,241)"}),e.createElement(Ph,{color:"rgb(255,242,241)"},"No..."),e.createElement(aEe,{color:"rgb(255,242,241)"},"iPhone设备暂不支持查看"))),e.createElement(oEe,{"aria-checked":!i},e.createElement(sEe,null,e.createElement(lEe,{icon:Mh.LM,spin:!0}))),e.createElement(cEe,null,e.createElement(Zp,{scaleIn:!0,onClick:function(){t("/resources"),window.scroll(0,0)}},e.createElement(uEe,{icon:V_.ac}))),e.createElement(hEe,null,e.createElement(QSe,{content:JSe,trigger:"click",placement:"topLeft",overlayStyle:{maxWidth:"300px"}},e.createElement(Jp,{scaleIn:!0},e.createElement(xo,{icon:fF.YH})))))}var eEe,tEe,nEe=bn("div").withConfig({displayName:"ModelDisplay___StyledDiv",componentId:"sc-wfzjyf-0"})({position:"relative",height:"100%",width:"100%",flexGrow:"1"}),rEe=bn("div").withConfig({displayName:"ModelDisplay___StyledDiv2",componentId:"sc-wfzjyf-1"})({display:"flex",flexDirection:"column",justifyContent:"center"}),iEe=bn(Ap).withConfig({displayName:"ModelDisplay___StyledErrorWrapper",componentId:"sc-wfzjyf-2"})({marginLeft:"1.5rem",marginRight:"1.5rem",display:"flex",minHeight:"320px",flexDirection:"column",gap:"1rem",paddingTop:"2rem"}),aEe=bn(Ih).withConfig({displayName:"ModelDisplay___StyledP",componentId:"sc-wfzjyf-3"})({fontSize:"1.125rem",lineHeight:"1.75rem"}),oEe=bn("div").withConfig({displayName:"ModelDisplay___StyledDiv3",componentId:"sc-wfzjyf-4"})({pointerEvents:"none",position:"absolute",left:"0px",top:"0px",display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center","--tw-bg-opacity":"0.5",backgroundColor:"rgb(107 114 128 / var(--tw-bg-opacity))",opacity:"1",transitionDuration:"500ms",'&[aria-checked="true"]':{opacity:"0"}}),sEe=bn("div").withConfig({displayName:"ModelDisplay___StyledDiv4",componentId:"sc-wfzjyf-5"})({height:"4rem",width:"4rem"}),lEe=bn(xo).withConfig({displayName:"ModelDisplay___StyledFontAwesomeIcon",componentId:"sc-wfzjyf-6"})({height:"100%",width:"100%","--tw-text-opacity":"1",color:"rgb(255 255 255 / var(--tw-text-opacity))",opacity:"0.6"}),cEe=bn("div").withConfig({displayName:"ModelDisplay___StyledDiv5",componentId:"sc-wfzjyf-7"})({position:"absolute",bottom:"1rem",left:"1rem"}),uEe=bn(xo).withConfig({displayName:"ModelDisplay___StyledFontAwesomeIcon2",componentId:"sc-wfzjyf-8"})({position:"relative",top:"-1px",verticalAlign:"middle","@media (min-width: 768px)":{paddingRight:"1rem"}}),hEe=bn("div").withConfig({displayName:"ModelDisplay___StyledDiv6",componentId:"sc-wfzjyf-9"})({position:"absolute",bottom:"1rem",right:"1rem"}),dEe=function(){var t=sm(),n=t.width,r=t.height;return e.createElement(e.Fragment,null,e.createElement(Ob,{style:{width:n,minHeight:r},id:"rootWrapper"},e.createElement(Ie,null,e.createElement(vy,null),e.createElement(Ae,null,e.createElement(Ee,{path:"/",element:e.createElement(Wm,null)}),e.createElement(Ee,{path:"/tools",element:e.createElement(iw,null)}),e.createElement(Ee,{path:"/tools/:toolId",element:e.createElement(Ez,null)}),e.createElement(Ee,{path:"/modelDisplay",element:e.createElement($Se,null)}),e.createElement(Ee,{path:"/resources",element:e.createElement(dw,null)}),e.createElement(Ee,{path:"/resources/:resourceId",element:e.createElement(dF,null)}),e.createElement(Ee,{path:"/about",element:e.createElement(yb,null)}),e.createElement(Ee,{path:"/dashboard",element:e.createElement(M_,null)}),e.createElement(Ee,{path:"*",element:e.createElement(Pb,null)})))))},fEe=wn(eEe||(eEe=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['*, ::before, ::after {\n  box-sizing: border-box;\n  border-width: 0;\n  border-style: solid;\n  border-color: #e5e7eb;\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x: var(--tw-empty,/*!*/ /*!*/);\n  --tw-pan-y: var(--tw-empty,/*!*/ /*!*/);\n  --tw-pinch-zoom: var(--tw-empty,/*!*/ /*!*/);\n  --tw-scroll-snap-strictness: proximity;\n  --tw-ordinal: var(--tw-empty,/*!*/ /*!*/);\n  --tw-slashed-zero: var(--tw-empty,/*!*/ /*!*/);\n  --tw-numeric-figure: var(--tw-empty,/*!*/ /*!*/);\n  --tw-numeric-spacing: var(--tw-empty,/*!*/ /*!*/);\n  --tw-numeric-fraction: var(--tw-empty,/*!*/ /*!*/);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-ring-inset: var(--tw-empty,/*!*/ /*!*/);\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-blur: var(--tw-empty,/*!*/ /*!*/);\n  --tw-brightness: var(--tw-empty,/*!*/ /*!*/);\n  --tw-contrast: var(--tw-empty,/*!*/ /*!*/);\n  --tw-grayscale: var(--tw-empty,/*!*/ /*!*/);\n  --tw-hue-rotate: var(--tw-empty,/*!*/ /*!*/);\n  --tw-invert: var(--tw-empty,/*!*/ /*!*/);\n  --tw-saturate: var(--tw-empty,/*!*/ /*!*/);\n  --tw-sepia: var(--tw-empty,/*!*/ /*!*/);\n  --tw-drop-shadow: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-blur: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-brightness: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-contrast: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-grayscale: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-hue-rotate: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-invert: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-opacity: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-saturate: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-sepia: var(--tw-empty,/*!*/ /*!*/);\n}\n::before, ::after {\n  --tw-content: \'\';\n}\nhtml {\n  line-height: 1.5;\n  -webkit-text-size-adjust: 100%;\n  -moz-tab-size: 4;\n  tab-size: 4;\n  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";\n  font-feature-settings:  normal;\n  font-variation-settings:  normal;\n}\nbody {\n  margin: 0;\n  line-height: inherit;\n}\nhr {\n  height: 0;\n  color: inherit;\n  border-top-width: 1px;\n}\nabbr:where([title]) {\n  text-decoration: underline dotted;\n}\nh1, h2, h3, h4, h5, h6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\na {\n  color: inherit;\n  text-decoration: inherit;\n}\nb, strong {\n  font-weight: bolder;\n}\ncode, kbd, samp, pre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n  font-size: 1em;\n}\nsmall {\n  font-size: 80%;\n}\nsub, sup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\nsub {\n  bottom: -0.25em;\n}\nsup {\n  top: -0.5em;\n}\ntable {\n  text-indent: 0;\n  border-color: inherit;\n  border-collapse: collapse;\n}\nbutton, input, optgroup, select, textarea {\n  font-family: inherit;\n  font-size: 100%;\n  font-weight: inherit;\n  line-height: inherit;\n  color: inherit;\n  margin: 0;\n  padding: 0;\n}\nbutton, select {\n  text-transform: none;\n}\nbutton, [type=\'button\'], [type=\'reset\'], [type=\'submit\'] {\n  -webkit-appearance: button;\n  background-color: transparent;\n  background-image: none;\n}\n:-moz-focusring {\n  outline: auto;\n}\n:-moz-ui-invalid {\n  box-shadow: none;\n}\nprogress {\n  vertical-align: baseline;\n}\n::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n  height: auto;\n}\n[type=\'search\'] {\n  -webkit-appearance: textfield;\n  outline-offset: -2px;\n}\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n::-webkit-file-upload-button {\n  -webkit-appearance: button;\n  font: inherit;\n}\nsummary {\n  display: list-item;\n}\nblockquote, dl, dd, h1, h2, h3, h4, h5, h6, hr, figure, p, pre {\n  margin: 0;\n}\nfieldset {\n  margin: 0;\n  padding: 0;\n}\nlegend {\n  padding: 0;\n}\nol, ul, menu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\ntextarea {\n  resize: vertical;\n}\ninput::placeholder, textarea::placeholder {\n  opacity: 1;\n  color: #9ca3af;\n}\nbutton, [role="button"] {\n  cursor: pointer;\n}\n:disabled {\n  cursor: default;\n}\nimg, svg, video, canvas, audio, iframe, embed, object {\n  display: block;\n  vertical-align: middle;\n}\nimg, video {\n  max-width: 100%;\n  height: auto;\n}\n[hidden] {\n  display: none;\n}\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x: var(--tw-empty,/*!*/ /*!*/);\n  --tw-pan-y: var(--tw-empty,/*!*/ /*!*/);\n  --tw-pinch-zoom: var(--tw-empty,/*!*/ /*!*/);\n  --tw-scroll-snap-strictness: proximity;\n  --tw-ordinal: var(--tw-empty,/*!*/ /*!*/);\n  --tw-slashed-zero: var(--tw-empty,/*!*/ /*!*/);\n  --tw-numeric-figure: var(--tw-empty,/*!*/ /*!*/);\n  --tw-numeric-spacing: var(--tw-empty,/*!*/ /*!*/);\n  --tw-numeric-fraction: var(--tw-empty,/*!*/ /*!*/);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-ring-inset: var(--tw-empty,/*!*/ /*!*/);\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-blur: var(--tw-empty,/*!*/ /*!*/);\n  --tw-brightness: var(--tw-empty,/*!*/ /*!*/);\n  --tw-contrast: var(--tw-empty,/*!*/ /*!*/);\n  --tw-grayscale: var(--tw-empty,/*!*/ /*!*/);\n  --tw-hue-rotate: var(--tw-empty,/*!*/ /*!*/);\n  --tw-invert: var(--tw-empty,/*!*/ /*!*/);\n  --tw-saturate: var(--tw-empty,/*!*/ /*!*/);\n  --tw-sepia: var(--tw-empty,/*!*/ /*!*/);\n  --tw-drop-shadow: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-blur: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-brightness: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-contrast: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-grayscale: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-hue-rotate: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-invert: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-opacity: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-saturate: var(--tw-empty,/*!*/ /*!*/);\n  --tw-backdrop-sepia: var(--tw-empty,/*!*/ /*!*/);\n}']))),pEe=wn(["html{transition:filter 0.6s ease;}html.night-mode{filter:brightness(0.5);transition:filter 1.2s ease;}body{-webkit-tap-highlight-color:",";background:linear-gradient(-45deg,rgb(235,243,254),rgb(242,238,255),rgb(251,246,247),rgb(235,243,254));","}"],"#bfdbfe",{overscrollBehavior:"none",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"}),mEe=function(){return e.createElement(e.Fragment,null,e.createElement(fEe,null),e.createElement(pEe,null))};o.p,o.p,o.p,o.p,o.p,o.p,n.createRoot(document.getElementById("root")).render(e.createElement(e.Fragment,null,e.createElement(mEe,null),e.createElement(dEe,null))),tEe&&tEe instanceof Function&&o.e(131).then(o.bind(o,2131)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,a=e.getTTFB;t(tEe),n(tEe),r(tEe),i(tEe),a(tEe)}))}()}();